	var __wxAppData = __wxAppData || {}; 	var __wxRoute = __wxRoute || ""; 	var __wxRouteBegin = __wxRouteBegin || ""; 	var __wxAppCode__ = __wxAppCode__ || {};	var global = global || {};	var __WXML_GLOBAL__=__WXML_GLOBAL__ || {};	var __wxAppCurrentFile__=__wxAppCurrentFile__||""; 	var Component = Component || function(){};	var definePlugin = definePlugin || function(){};	var requirePlugin = requirePlugin || function(){};	var Behavior = Behavior || function(){};
	var __cloudSDK__=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/index.ts")}({"./node_modules/tslib/tslib.es6.js":function(e,t,r){r.r(t),r.d(t,"__extends",function(){return a}),r.d(t,"__assign",function(){return s}),r.d(t,"__rest",function(){return i}),r.d(t,"__decorate",function(){return o}),r.d(t,"__param",function(){return c}),r.d(t,"__metadata",function(){return u}),r.d(t,"__awaiter",function(){return l}),r.d(t,"__generator",function(){return d}),r.d(t,"__exportStar",function(){return f}),r.d(t,"__values",function(){return _}),r.d(t,"__read",function(){return p}),r.d(t,"__spread",function(){return m}),r.d(t,"__await",function(){return E}),r.d(t,"__asyncGenerator",function(){return b}),r.d(t,"__asyncDelegator",function(){return g}),r.d(t,"__asyncValues",function(){return v}),r.d(t,"__makeTemplateObject",function(){return h}),r.d(t,"__importStar",function(){return C}),r.d(t,"__importDefault",function(){return S});var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function a(e,t){function r(){Object.defineProperty(this,"constructor",{value:e})}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function i(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r}function o(e,t,r,n){var a,s=arguments.length,i=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function c(e,t){return function(r,n){t(r,n,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function o(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){e.done?a(e.value):new r(function(t){t(e.value)}).then(i,o)}c((n=n.apply(e,t||[])).next())})}function d(e,t){var r,n,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}function f(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}function _(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function p(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(a)throw a.error}}return i}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function E(e){return this instanceof E?(this.v=e,this):new E(e)}function b(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),s=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(e){a[e]&&(n[e]=function(t){return new Promise(function(r,n){s.push([e,t,r,n])>1||o(e,t)})})}function o(e,t){try{!function(e){e.value instanceof E?Promise.resolve(e.value.v).then(c,u):l(s[0][2],e)}(a[e](t))}catch(e){l(s[0][3],e)}}function c(e){o("next",e)}function u(e){o("throw",e)}function l(e,t){e(t),s.shift(),s.length&&o(s[0][0],s[0][1])}}function g(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,a){t[n]=e[n]?function(t){return(r=!r)?{value:E(e[n](t)),done:"return"===n}:a?a(t):t}:a}}function v(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=_(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,a){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,a,(t=e[r](t)).done,t.value)})}}}function h(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}},"./src/cloud/index.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/services/index.ts"),s=r("./src/utils/error.ts"),i=r("./src/utils/type.ts"),o=r("./src/network/tunnel.ts"),c=r("./src/config/error.config.ts"),u=r("./src/externals/public-lib/appserviceSdk.ts"),l=r("./src/config/app.config.ts");t.getCloudAPI=function(e){void 0===e&&(e={});var r=e.identifiers,n=e.sdk,a=new(t.getCloudClass())(r);return n&&u.setSDK(a,n),a.exportAPI},t.getCloudClass=function(){return function(){function e(e){this.inited=!1,this.services={},this.apiServiceMap={},this.identifiers=e,this.exportAPI={init:this.init.bind(this)},a.registerServices(this),this.meta={session_id:(+new Date).toString()},this.defaultConfig={},this.appConfig=n.__assign({},l.default),this.apiPermissions={}}return e.prototype.getMetaData=function(){return this.meta},e.prototype.getDefaultConfig=function(){return this.defaultConfig},e.prototype.getOverriddenConfig=function(e){var t=n.__assign({},this.defaultConfig);return Object.assign(t,e),t},e.prototype.getEnv=function(e,t){if(e.env)switch(i.getType(e.env)){case"string":return e.env;case"object":return e.env[t];default:return}},e.prototype.checkAPIPermission=function(e){return!this.apiPermissions.hasOwnProperty(e)||1===this.apiPermissions[e]},e.prototype.init=function(e){void 0===e&&(e={}),this.inited||(this.inited=!0,this.defaultConfig=e,this.sendInitRequest())},e.prototype.sendInitRequest=function(){var e=this,t=JSON.stringify({trace_user:!1!==this.defaultConfig.traceUser});o.tunnel(o.constructTunnelReq("tcbapi_init",t,{cloud:this})).then(function(t){var r=t.data;e.appConfig=n.__assign({},e.appConfig,r.config);for(var a=r.tcb_api_list||[],s=0,i=a.length;s<i;s++)e.apiPermissions[a[s].apiname]=a[s].status}).catch(function(e){console.error("cloud init error: ",e)})},e.prototype.registerService=function(e){this.services[e.name]=e;var t=e.getAPIs(this.identifiers);for(var r in t)this.apiServiceMap[r]=e.name,this.registerFunction(r,t[r])},e.prototype.registerFunction=function(e,t){var r=this;this.exportAPI[e]=function(){if(!r.inited)throw new s.CloudSDKError({errMsg:"Cloud API isn't enabled, please call wx.cloud.init first\n请先调用 wx.cloud.init() 完成初始化后再调用其他云 API。init 方法可传入一个对象用于设置默认配置，详见文档。"});if(!r.checkAPIPermission(e))throw new s.CloudSDKError({errCode:c.ERR_CODE.SDK_API_PERMISSION_DENIED,errMsg:c.ERR_CODE[c.ERR_CODE.SDK_API_PERMISSION_DENIED]});return t.apply(r,arguments)}},e}()}},"./src/config/app.config.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={db_doc_size_limit:524288,upload_max_file_size:20971520,get_temp_file_url_max_requests:50,call_function_poll_max_retry:10,call_function_max_req_data_size:5242880}},"./src/config/error.config.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ERR_CODE={"-1":"",UNKNOWN_ERROR:-1,"-401001":"api permission denied",SDK_API_PERMISSION_DENIED:-401001,"-401002":"api parameter error",SDK_API_PARAMETER_ERROR:-401002,"-401003":"api parameter type error",SDK_API_PARAMETER_TYPE_ERROR:-401003,"-402001":"circular reference detected",SDK_DATABASE_CIRCULAR_REFERENCE:-402001,"-403001":"max upload file size exceeded",SDK_STORAGE_EXCEED_MAX_UPLOAD_SIZE:-403001,"-403002":"internal server error: empty upload url",SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_UPLOAD_URL:-403002,"-403003":"internal server error: empty download url",SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_DOWNLOAD_URL:-403003,"-404001":"empty call result",SDK_FUNCTIONS_EMPTY_CALL_RESULT:-404001,"-404002":"empty event id",SDK_FUNCTIONS_EMPTY_EVENT_ID:-404002,"-404003":"empty poll url",SDK_FUNCTIONS_EMPTY_POLL_URL:-404003,"-404004":"empty poll result json",SDK_FUNCTIONS_EMPTY_POLL_RESULT_JSON:-404004,"-404005":"exceed max poll retry",SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY:-404005,"-404006":"empty poll result base resp",SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP:-404006,"-404007":"error while waiting for the result",SDK_FUNCTIONS_POLL_RESULT_BASE_RESP_RET_ABNORMAL:-404007,"-404008":"error while waiting for the result",SDK_FUNCTIONS_POLL_RESULT_STATUS_CODE_ERROR:-404008,"-404009":"error while waiting for the result",SDK_FUNCTIONS_POLL_ERROR:-404009,"-404010":"result expired",SDK_FUNCTIONS_POLL_RESULT_EXPIRED:-404010,"-404011":"cloud function execution error",SDK_FUNCTIONS_CLOUD_FUNCTION_EXECUTION_ERROR:-404011,"-601001":"system error",WX_SYSTEM_ERROR:-601001,"-601002":"system args error",WX_SYSTEM_ARGS_ERROR:-601002,"-601003":"system network error",WX_SYSTEM_NETWORK_ERROR:-601003,"-601004":"api permission denied",WX_API_PERMISSION_DENIED:-601004,"-501001":"resource system error",TCB_RESOURCE_SYSTEM_ERROR:-501001,"-501002":"resource server timeout",TCB_RESOURCE_SERVER_TIMEOUT:-501002,"-501003":"exceed request limit",TCB_EXCEED_REQUEST_LIMIT:-501003,"-501004":"exceed concurrent request limit",TCB_EXCEED_CONCURRENT_REQUEST_LIMIT:-501004,"-501005":"invalid env",TCB_INVALID_ENV:-501005,"-501006":"invalid common parameters",TCB_INVALID_COMMON_PARAM:-501006,"-501007":"invalid parameters",TCB_INVALID_PARAM:-501007,"-501008":"invalid request source",TCB_INVALID_REQUEST_SOURCE:-501008,"-501009":"resource not initialized",TCB_RESOURCE_NOT_INITIALIZED:-501009,"-502001":"database request fail",TCB_DB_REQUEST_FAIL:-502001,"-502002":"database invalid command",TCB_DB_INVALID_COMMAND:-502002,"-502003":"database permission denied",TCB_DB_PERMISSION_DENIED:-502003,"-502004":"database exceed collection limit",TCB_DB_EXCEED_COLLECTION_LIMIT:-502004,"-502005":"database collection not exists",TCB_DB_COLLECTION_NOT_EXISTS:-502005,"-503001":"storage request fail",TCB_STORAGE_REQUEST_FAIL:-503001,"-503002":"storage permission denied",TCB_STORAGE_PERMISSION_DENIED:-503002,"-503003":"storage file not exists",TCB_STORAGE_FILE_NOT_EXISTS:-503003,"-503004":"storage invalid sign parameter",TCB_STORAGE_INVALID_SIGN_PARAM:-503004,"-504001":"functions request fail",TCB_FUNCTIONS_REQUEST_FAIL:-504001,"-504002":"functions execute fail",TCB_FUNCTIONS_EXEC_FAIL:-504002}},"./src/externals/public-lib/appserviceSdk.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=new WeakMap;t.getSDK=function(e){if(!e)return wx;var t=r.get(e);return t&&t||wx},t.setSDK=function(e,t){r.set(e,t)}},"./src/externals/public-lib/reporter.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,a=r("./src/utils/fail-safe.ts");try{Reporter.surroundThirdByTryCatch,n=Reporter}catch(e){n={surroundThirdByTryCatch:function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return a.tryCatch(function(){try{return e.apply(e,r)}catch(e){throw console.error(e.toString()+"; "+t+"\n"+e.stack),e}},t)}}}}t.default=n},"./src/hook/invoke.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/utils/type.ts"),a=r("./src/utils/fail-safe.ts");function s(e,t,r){t.success&&n.isFunction(t.success)&&a.wrapWithTryCatch(t.success,"at api "+e+" success callback function;")(r)}function i(e,t,r){t.fail&&n.isFunction(t.fail)&&a.wrapWithTryCatch(t.fail,"at api "+e+" fail callback function;")(r)}function o(e,t,r){t.complete&&n.isFunction(t.complete)&&a.wrapWithTryCatch(t.complete,"at api "+e+" complete callback function;")(r)}t.invokeSuccessCallback=s,t.invokeFailCallback=i,t.invokeCompleteCallback=o,t.invokeSuccessCompleteCallbacks=function(e,t,r){s(e,t,r),o(e,t,r)},t.invokeFailCompleteCallbacks=function(e,t,r){i(e,t,r),o(e,t,r)},t.hasAPICallback=function(e){return e&&(e.success||e.fail||e.complete)}},"./src/index.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r("./node_modules/tslib/tslib.es6.js").__exportStar(r("./src/cloud/index.ts"),t)},"./src/network/tunnel.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/utils/error.ts"),s=r("./src/externals/public-lib/appserviceSdk.ts");function i(e,t){return void 0===t&&(t={}),new Promise(function(r,i){s.getSDK(e.cloud||t.cloud).operateWXData({apiName:e.apiName||"qbase_commapi",reqData:e.data,success:function(e){var s=n.__assign({},e,{data:e.rawData});if(e.rawData)try{var o=JSON.parse(e.rawData);if(o.baseresponse&&0!==o.baseresponse.errcode){var c=new a.CloudSDKError({errCode:o.baseresponse.errcode,errMsg:o.baseresponse.errmsg});return void i(c)}if(o.hasOwnProperty("status")&&0!==o.status){c=new a.CloudSDKError({errCode:o.status,errMsg:o.errmsg||""});return void i(c)}s=n.__assign({},e,{data:o})}catch(e){c=new a.CloudSDKError({errMsg:e&&e.toString()});return void i(c)}else if(t&&t.requireDataNotEmpty){c=new a.CloudSDKError({errCode:e.errCode,errMsg:"error empty internal server response, "+e.errMsg});return void i(c)}r(s)},fail:function(e){e&&e.errMsg&&/^operateWXData:fail /.test(e.errMsg)&&("operateWXData:fail invalid scope"===e.errMsg?e.errMsg="invalid scope 没有权限，请先开通云服务":e.errMsg=e.errMsg.replace(/^operateWXData:fail /,"")),i(e)},complete:e.complete})})}t.tunnel=i,t.constructTunnelReq=function(e,t,r){var n=r.cloud,a=n.getOverriddenConfig(r||{});return{apiName:"qbase_commapi",data:{qbase_api_name:e,qbase_req:t,qbase_options:{env:n.getEnv(a,r&&r.serviceName||"")},qbase_meta:n.getMetaData(),cli_req_id:+new Date+"_"+Math.random()},cloud:n}},t.default=i},"./src/services/database/api/api.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/database/api/database.ts");t.getAPIs=function(e,t){return void 0===t&&(t={}),{database:n.default.bind(null,e,t)}}},"./src/services/database/api/database.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/database/api/database/command.ts"),a=r("./src/services/database/api/database/collection.ts"),s=r("./src/services/database/api/database/geo.ts"),i=r("./src/services/database/api/database/date.ts"),o=r("./src/services/database/api/database/regexp.ts"),c=r("./src/services/database/internal/grammar/engine.ts"),u=r("./src/utils/assert.ts");function l(e){return e.debug}t.default=function(e,t,r){return new(d(e,t))(r)};var d=function(e,t){return function(){function r(r){var a=this;this.cloud=e,this.identifiers=t,this.config=r||{},r&&r.env&&u.assertType(r.env,"string"),this.command=n.commands,this.Geo=s,this.serverDate=i.serverDate,this.RegExp=o.regExp,this.engine=c.getEngine(),Object.defineProperties(this,{engine:{enumerable:!1,configurable:!1}}),Object.defineProperties(this,{QuerySerializer:{enumerable:!1,configurable:!1,get:function(){return function(e){return l(e)?e.engine.QuerySerializer:void 0}(a)},set:function(){}},UpdateSerializer:{enumerable:!1,configurable:!1,get:function(){return function(e){return l(e)?e.engine.UpdateSerializer:void 0}(a)},set:function(){}},Decoder:{enumerable:!1,configurable:!1,get:function(){return function(e){return l(e)?e.engine.Decoder:void 0}(a)},set:function(){}}})}return r.prototype.collection=function(e){return new a.CollectionReference(e,this)},r}()}},"./src/services/database/api/database/collection.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/services/database/api/database/query.ts"),s=r("./src/services/database/api/database/document.ts"),i=r("./src/hook/invoke.ts"),o=r("./src/services/database/internal/backend-api/backend-api.ts"),c=r("./src/utils/msg.ts"),u=r("./src/utils/error.ts"),l=r("./src/utils/assert.ts"),d=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.collectionName=t,n.database=r,n}return n.__extends(t,e),t.prototype.doc=function(e){return new s.DocumentReference(this,e,this.database)},t.prototype.add=function(e){var t=this,r="collection.add",a=i.hasAPICallback(e),s=new Promise(function(a,s){return n.__awaiter(t,void 0,void 0,function(){var t,i;return n.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),l.assertType(e,{data:"object"}),[4,o.addDocument(this.collectionName,e.data._id,this.database.engine.encodeInternalDataType(e.data),this.database.config,this.database.cloud)];case 1:return t=n.sent(),a({_id:t._id,errMsg:c.apiSuccessMsg(r)}),[3,3];case 2:return i=n.sent(),s(u.returnAsFinalCloudSDKError(i,r)),[3,3];case 3:return[2]}})})});if(!a)return s;s.then(function(t){i.invokeSuccessCompleteCallbacks(r,e,t)}).catch(function(t){i.invokeFailCompleteCallbacks(r,e,t)})},t}(a.Query);t.CollectionReference=d},"./src/services/database/api/database/command.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/database/api/database/commands/query.ts"),a=r("./src/services/database/api/database/commands/logic.ts"),s=r("./src/services/database/api/database/commands/update.ts"),i=r("./src/utils/type.ts");t.commands={eq:function(e){return new n.QueryCommmand(n.QUERY_COMMANDS_LITERAL.EQ,[e])},neq:function(e){return new n.QueryCommmand(n.QUERY_COMMANDS_LITERAL.NEQ,[e])},lt:function(e){return new n.QueryCommmand(n.QUERY_COMMANDS_LITERAL.LT,[e])},lte:function(e){return new n.QueryCommmand(n.QUERY_COMMANDS_LITERAL.LTE,[e])},gt:function(e){return new n.QueryCommmand(n.QUERY_COMMANDS_LITERAL.GT,[e])},gte:function(e){return new n.QueryCommmand(n.QUERY_COMMANDS_LITERAL.GTE,[e])},in:function(e){return new n.QueryCommmand(n.QUERY_COMMANDS_LITERAL.IN,e)},nin:function(e){return new n.QueryCommmand(n.QUERY_COMMANDS_LITERAL.NIN,e)},and:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=i.isArray(arguments[0])?arguments[0]:Array.from(arguments);return new a.LogicCommmand(a.LOGIC_COMMANDS_LITERAL.AND,r)},or:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=i.isArray(arguments[0])?arguments[0]:Array.from(arguments);return new a.LogicCommmand(a.LOGIC_COMMANDS_LITERAL.OR,r)},set:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.SET,[e])},remove:function(){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.REMOVE,[])},inc:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.INC,[e])},mul:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.MUL,[e])},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=i.isArray(arguments[0])?arguments[0]:Array.from(arguments);return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.PUSH,r)},pop:function(){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.POP,[])},shift:function(){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.SHIFT,[])},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=i.isArray(arguments[0])?arguments[0]:Array.from(arguments);return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.UNSHIFT,r)}},t.default=t.commands},"./src/services/database/api/database/commands/logic.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,a=r("./src/services/database/api/database/helper/symbol.ts"),s=r("./src/utils/assert.ts"),i=r("./src/utils/type.ts"),o=r("./src/services/database/api/database/commands/query.ts");t.AND="and",t.OR="or",t.NOT="not",t.NOR="nor",function(e){e.AND="and",e.OR="or",e.NOT="not",e.NOR="nor"}(n=t.LOGIC_COMMANDS_LITERAL||(t.LOGIC_COMMANDS_LITERAL={}));var c=function(){function e(e,t,r){this._internalType=a.SYMBOL_LOGIC_COMMAND,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t;this.fieldName=r||a.SYMBOL_UNSET_FIELD_NAME;if(this.fieldName!==a.SYMBOL_UNSET_FIELD_NAME){t=t.slice(),this.operands=t;for(var n=0,s=t.length;n<s;n++){var i=t[n];(u(i)||o.isQueryCommand(i))&&(t[n]=i._setFieldName(this.fieldName))}}}return e.prototype._setFieldName=function(t){var r=this.operands.map(function(r){return r instanceof e?r._setFieldName(t):r});return new e(this.operator,r,t)},e.prototype.and=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];s.assertRequiredParam(arguments[0],"expressions","and");var a=i.isArray(arguments[0])?arguments[0]:Array.from(arguments);return a.unshift(this),new e(n.AND,a,this.fieldName)},e.prototype.or=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];s.assertRequiredParam(arguments[0],"expressions","or");var a=i.isArray(arguments[0])?arguments[0]:Array.from(arguments);return a.unshift(this),new e(n.OR,a,this.fieldName)},e}();function u(e){return e&&e instanceof c&&e._internalType===a.SYMBOL_LOGIC_COMMAND}t.LogicCommmand=c,t.isLogicCommand=u,t.isKnownLogicCommand=function(e){return u&&e.operator.toUpperCase()in n},t.default=c},"./src/services/database/api/database/commands/query.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,a=r("./node_modules/tslib/tslib.es6.js"),s=r("./src/services/database/api/database/commands/logic.ts"),i=r("./src/services/database/api/database/helper/symbol.ts"),o=r("./src/utils/assert.ts");t.EQ="eq",t.NEQ="neq",t.GT="gt",t.GTE="gte",t.LT="lt",t.LTE="lte",t.IN="in",t.NIN="nin",function(e){e.EQ="eq",e.NEQ="neq",e.GT="gt",e.GTE="gte",e.LT="lt",e.LTE="lte",e.IN="in",e.NIN="nin"}(n=t.QUERY_COMMANDS_LITERAL||(t.QUERY_COMMANDS_LITERAL={}));var c=function(e){function t(t,r,n){var a=e.call(this,t,r,n)||this;return a.operator=t,a._internalType=i.SYMBOL_QUERY_COMMAND,a}return a.__extends(t,e),t.prototype._setFieldName=function(e){return new t(this.operator,this.operands,e)},t.prototype.eq=function(e){var r=new t(n.EQ,[e],this.fieldName);return this.and(r)},t.prototype.neq=function(e){var r=new t(n.NEQ,[e],this.fieldName);return this.and(r)},t.prototype.gt=function(e){var r=new t(n.GT,[e],this.fieldName);return this.and(r)},t.prototype.gte=function(e){var r=new t(n.GTE,[e],this.fieldName);return this.and(r)},t.prototype.lt=function(e){var r=new t(n.LT,[e],this.fieldName);return this.and(r)},t.prototype.lte=function(e){var r=new t(n.LTE,[e],this.fieldName);return this.and(r)},t.prototype.in=function(e){o.assertType(e,"array");var r=new t(n.IN,e,this.fieldName);return this.and(r)},t.prototype.nin=function(e){o.assertType(e,"array");var r=new t(n.NIN,e,this.fieldName);return this.and(r)},t}(s.LogicCommmand);function u(e){return e&&e instanceof c&&e._internalType===i.SYMBOL_QUERY_COMMAND}t.QueryCommmand=c,t.isQueryCommand=u,t.isKnownQueryCommand=function(e){return u(e)&&e.operator.toUpperCase()in n},t.isComparisonCommand=function(e){return u(e)},t.default=c},"./src/services/database/api/database/commands/update.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,a=r("./src/services/database/api/database/helper/symbol.ts");t.SET="set",t.REMOVE="remove",t.INC="inc",t.MUL="mul",t.PUSH="push",t.POP="pop",t.SHIFT="shift",t.UNSHIFT="unshift",function(e){e.SET="set",e.REMOVE="remove",e.INC="inc",e.MUL="mul",e.PUSH="push",e.POP="pop",e.SHIFT="shift",e.UNSHIFT="unshift"}(n=t.UPDATE_COMMANDS_LITERAL||(t.UPDATE_COMMANDS_LITERAL={}));var s=function(){function e(e,t,r){this._internalType=a.SYMBOL_UPDATE_COMMAND,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=r||a.SYMBOL_UNSET_FIELD_NAME}return e.prototype._setFieldName=function(t){return new e(this.operator,this.operands,t)},e}();function i(e){return e&&e instanceof s&&e._internalType===a.SYMBOL_UPDATE_COMMAND}t.UpdateCommand=s,t.isUpdateCommand=i,t.isKnownUpdateCommand=function(e){return i(e)&&e.operator.toUpperCase()in n},t.default=s},"./src/services/database/api/database/date.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r("./node_modules/tslib/tslib.es6.js").__exportStar(r("./src/services/database/api/database/date/serverDate.ts"),t)},"./src/services/database/api/database/date/serverDate.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/database/api/database/helper/symbol.ts"),a=r("./src/utils/assert.ts");t.serverDate=function(e){return new s(e)};var s=function(){function e(e){void 0===e&&(e={offset:0}),a.assertType(e,"object","serverDate.options"),this.options=e}return Object.defineProperty(e.prototype,"_internalType",{get:function(){return n.SYMBOL_SERVER_DATE},enumerable:!0,configurable:!0}),e}();t.ServerDate=s},"./src/services/database/api/database/document.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/hook/invoke.ts"),s=r("./src/services/database/internal/backend-api/backend-api.ts"),i=r("./src/utils/msg.ts"),o=r("./src/utils/error.ts"),c=r("./src/services/database/internal/grammar/default/extractor.ts"),u=r("./src/utils/assert.ts"),l=function(){function e(e,t,r){this.collection=e,this.database=r,this._id=t,Object.defineProperties(this,{_field:{enumerable:!1,configurable:!1,writable:!0}}),this._field={}}return e.prototype.field=function(e){return u.assertRequiredParam(e,"object","field"),u.assertType(e,"object","field"),this._field=e,this},e.prototype.get=function(e){var t=this,r=a.hasAPICallback(e),u=new Promise(function(e,r){return n.__awaiter(t,void 0,void 0,function(){var t,a,u;return n.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this._id,[4,s.queryDocument(this.database,this.collection.collectionName,this.database.engine.QuerySerializer.encode({_id:t}),{projection:c.getProjectionDefinition(this._field)},this.database.config,this.database.cloud)];case 1:if(!(a=n.sent()).list||!a.list.length)throw new Error("cannot find document with _id "+t+", please make sure that the document exists and you have the corresponding access permission");return e({data:a.list[0],errMsg:i.apiSuccessMsg("document.get")}),[3,3];case 2:return u=n.sent(),r(o.returnAsFinalCloudSDKError(u,"document.get")),[3,3];case 3:return[2]}})})});if(!r)return u;u.then(function(t){a.invokeSuccessCompleteCallbacks("document.get",e,t)}).catch(function(t){a.invokeFailCompleteCallbacks("document.get",e,t)})},e.prototype.set=function(e){var t=this,r=a.hasAPICallback(e),c=new Promise(function(r,a){return n.__awaiter(t,void 0,void 0,function(){var t,c,l;return n.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),u.assertType(e,{data:"object"}),u.assertObjectNotEmpty({name:"options.data",target:e.data}),t=this._id,[4,s.setDocument(this.collection.collectionName,t,e.data,{},this.database.config,this.database.cloud)];case 1:return c=n.sent(),r({_id:c._id,errMsg:i.apiSuccessMsg("document.set"),stats:{updated:c.updated,created:c.created}}),[3,3];case 2:return l=n.sent(),a(o.returnAsFinalCloudSDKError(l,"document.set")),[3,3];case 3:return[2]}})})});if(!r)return c;c.then(function(t){a.invokeSuccessCompleteCallbacks("document.set",e,t)}).catch(function(t){a.invokeFailCompleteCallbacks("document.set",e,t)})},e.prototype.update=function(e){var t=this,r=a.hasAPICallback(e),c=new Promise(function(r,a){return n.__awaiter(t,void 0,void 0,function(){var t,c,l;return n.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),u.assertType(e,{data:"object"}),u.assertObjectNotEmpty({name:"options.data",target:e.data}),t=this._id,[4,s.updateDocument(this.collection.collectionName,this.database.engine.QuerySerializer.encode({_id:t}),this.database.engine.UpdateSerializer.encode(e.data),{multi:!1,merge:!1},this.database.config,this.database.cloud)];case 1:return c=n.sent(),r({stats:{updated:c.updated},errMsg:i.apiSuccessMsg("document.update")}),[3,3];case 2:return l=n.sent(),a(o.returnAsFinalCloudSDKError(l,"document.update")),[3,3];case 3:return[2]}})})});if(!r)return c;c.then(function(t){a.invokeSuccessCompleteCallbacks("document.update",e,t)}).catch(function(t){a.invokeFailCompleteCallbacks("document.update",e,t)})},e.prototype.remove=function(e){var t=this,r=a.hasAPICallback(e),c=new Promise(function(e,r){return n.__awaiter(t,void 0,void 0,function(){var t,a,c;return n.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this._id,[4,s.removeDocument(this.collection.collectionName,this.database.engine.QuerySerializer.encode({_id:t}),{},this.database.config,this.database.cloud)];case 1:if(0===(a=n.sent()).removed)throw new Error("cannot remove document with _id "+t+", please make sure that the document exists and you have the corresponding Write permission");return e({stats:{removed:a.removed||0},errMsg:i.apiSuccessMsg("document.remove")}),[3,3];case 2:return c=n.sent(),r(o.returnAsFinalCloudSDKError(c,"document.remove")),[3,3];case 3:return[2]}})})});if(!r)return c;c.then(function(t){a.invokeSuccessCompleteCallbacks("document.remove",e,t)}).catch(function(t){a.invokeFailCompleteCallbacks("document.remove",e,t)})},e}();t.DocumentReference=l},"./src/services/database/api/database/geo.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r("./node_modules/tslib/tslib.es6.js").__exportStar(r("./src/services/database/api/database/geo/point.ts"),t)},"./src/services/database/api/database/geo/point.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/database/api/database/helper/symbol.ts"),a=r("./src/utils/assert.ts"),s=r("./src/utils/error.ts");t.Point=function(e,t){return new i(e,t)};var i=function(){function e(e,t){this._internalType=n.SYMBOL_GEO_POINT,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}});var r=e,i=t;Object.defineProperties(this,{longitude:{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){if(a.assertType(e,"number","longitude"),e>180||e<-180)throw new s.CloudSDKError({errMsg:"longitude should be a number ranges from -180 to 180"})}},latitude:{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){if(a.assertType(e,"number","latitude"),e>90||e<-90)throw new s.CloudSDKError({errMsg:"latitude should be a number ranges from -90 to 90"})}}}),this.longitude=r,this.latitude=i}return e.prototype.toJSON=function(){return{type:"Point",coordinates:[this.longitude,this.latitude]}},e.prototype.toString=function(){return JSON.stringify(this.toJSON())},e}();t.GeoPoint=i},"./src/services/database/api/database/helper/symbol.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/utils/symbol.ts");n.__exportStar(r("./src/utils/symbol.ts"),t),t.SYMBOL_UNSET_FIELD_NAME=a.default.for("UNSET_FIELD_NAME"),t.SYMBOL_UPDATE_COMMAND=a.default.for("UPDATE_COMMAND"),t.SYMBOL_QUERY_COMMAND=a.default.for("QUERY_COMMAND"),t.SYMBOL_LOGIC_COMMAND=a.default.for("LOGIC_COMMAND"),t.SYMBOL_GEO_POINT=a.default.for("GEO_POINT"),t.SYMBOL_SERVER_DATE=a.default.for("SERVER_DATE"),t.SYMBOL_REGEXP=a.default.for("REGEXP")},"./src/services/database/api/database/query.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/utils/msg.ts"),s=r("./src/services/database/internal/grammar/default/extractor.ts"),i=r("./src/utils/assert.ts"),o=r("./src/services/database/internal/backend-api/backend-api.ts"),c=r("./src/hook/invoke.ts"),u=r("./src/utils/error.ts"),l=r("./src/services/database/api/database/command.ts");!function(e){e.ASC="asc",e.DESC="desc"}(t.ORDER_DIRECTION||(t.ORDER_DIRECTION={}));var d=function(){function e(e,t,r){this.collectionName=e,this.database=t,this._query=new f(r),Object.defineProperties(this,{_field:{enumerable:!1,configurable:!1,writable:!0}}),this._field=r&&r.field||{}}return e.prototype.field=function(t){return i.assertRequiredParam(t,"object","field"),new e(this.collectionName,this.database,n.__assign({},this._query.getProperties(),{field:t}))},e.prototype.where=function(t){return i.assertRequiredParam(t,"condition","where"),this._query.where?new e(this.collectionName,this.database,n.__assign({},this._query.getProperties(),{where:l.commands.and(this._query.where,t)})):new e(this.collectionName,this.database,n.__assign({},this._query.getProperties(),{where:t}))},e.prototype.orderBy=function(t,r){return i.assertRequiredParam(t,"fieldPath","orderBy"),i.assertRequiredParam(r,"order","orderBy"),new e(this.collectionName,this.database,n.__assign({},this._query.getProperties(),{order:n.__spread(this._query.order||[],[{fieldPath:t,order:r}])}))},e.prototype.limit=function(t){return i.assertRequiredParam(t,"max","limit"),new e(this.collectionName,this.database,n.__assign({},this._query.getProperties(),{limit:t}))},e.prototype.skip=function(t){return i.assertRequiredParam(t,"offset","skip"),new e(this.collectionName,this.database,n.__assign({},this._query.getProperties(),{offset:t}))},e.prototype.get=function(e){var t=this,r="collection.get",i=c.hasAPICallback(e),l=new Promise(function(e,i){return n.__awaiter(t,void 0,void 0,function(){var t,c;return n.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,o.queryDocument(this.database,this.collectionName,this.database.engine.QuerySerializer.encode(this._query.where||{}),s.extractQueryOptions(this),this.database.config,this.database.cloud)];case 1:return t=n.sent(),e({data:t.list,errMsg:a.apiSuccessMsg(r)}),[3,3];case 2:return c=n.sent(),i(u.returnAsFinalCloudSDKError(c,r)),[3,3];case 3:return[2]}})})});if(!i)return l;l.then(function(t){c.invokeSuccessCompleteCallbacks(r,e,t)}).catch(function(t){c.invokeFailCompleteCallbacks(r,e,t)})},e.prototype.count=function(e){var t=this,r="collection.count",s=c.hasAPICallback(e),i=new Promise(function(e,s){return n.__awaiter(t,void 0,void 0,function(){var t,i;return n.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,o.countDocument(this.collectionName,this.database.engine.QuerySerializer.encode(this._query.where||{}),this.database.config,this.database.cloud)];case 1:return t=n.sent(),e({total:t.total,errMsg:a.apiSuccessMsg(r)}),[3,3];case 2:return i=n.sent(),s(u.returnAsFinalCloudSDKError(i,r)),[3,3];case 3:return[2]}})})});if(!s)return i;i.then(function(t){c.invokeSuccessCompleteCallbacks(r,e,t)}).catch(function(t){c.invokeFailCompleteCallbacks(r,e,t)})},e}();t.Query=d;var f=function(){function e(e){this.where=e&&e.where,this.offset=e&&e.offset,this.limit=e&&e.limit,this.order=e&&e.order}return e.prototype.getProperties=function(){return{where:this.where,offset:this.offset,limit:this.limit,order:this.order}},e}();t.InternalQuery=f},"./src/services/database/api/database/regexp.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/database/api/database/helper/symbol.ts"),a=r("./src/utils/assert.ts");t.regExp=function(e){return new s(e)};var s=function(){function e(e){a.assertType(e,{regexp:"string"},"RegExp options"),e.options&&a.assertType(e.options,"string"),this.regexp=e.regexp,this.options=e.options||""}return Object.defineProperty(e.prototype,"_internalType",{get:function(){return n.SYMBOL_REGEXP},enumerable:!0,configurable:!0}),e}();t.RegExp=s},"./src/services/database/index.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/database/api/api.ts"),a="database";t.registerService=function(e){e.registerService(function(e){return{name:a,getAPIs:n.getAPIs.bind(null,e)}}(e))}},"./src/services/database/internal/backend-api/backend-api.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/network/tunnel.ts"),s=r("./src/utils/assert.ts");!function(e){e[e.ASC=0]="ASC",e[e.DESC=1]="DESC"}(t.ORDER_DIRECTION||(t.ORDER_DIRECTION={})),t.addDocument=function(e,t,r,i,o){return n.__awaiter(this,void 0,void 0,function(){var c,u,l;return n.__generator(this,function(d){switch(d.label){case 0:return c=JSON.stringify(r),s.assertStringLength({input:c,max:o.appConfig.db_doc_size_limit,name:"record",maxWording:(o.appConfig.db_doc_size_limit/1024).toFixed(0)+" KB"}),u={collection_name:e,_id:t,data:c},l=JSON.stringify(u),[4,a.tunnel(a.constructTunnelReq("tcbapi_db_adddocument",l,n.__assign({},i,{serviceName:"database",cloud:o})),{requireDataNotEmpty:!0})];case 1:return[2,{_id:d.sent().data._id}]}})})},t.removeDocument=function(e,t,r,s,i){var o=(void 0===r?{}:r).multi,c=void 0===o||o;return n.__awaiter(this,void 0,void 0,function(){var r;return n.__generator(this,function(o){switch(o.label){case 0:return r=JSON.stringify({collection_name:e,query:JSON.stringify(t),multi:c}),[4,a.tunnel(a.constructTunnelReq("tcbapi_db_deletedocument",r,n.__assign({},s,{serviceName:"database",cloud:i})),{requireDataNotEmpty:!0})];case 1:return[2,{removed:o.sent().data.deleted}]}})})},t.queryDocument=function(e,t,r,s,i,o){return void 0===s&&(s={}),n.__awaiter(this,void 0,void 0,function(){var c,u,l,d,f;return n.__generator(this,function(_){switch(_.label){case 0:return c={collection_name:t,query:JSON.stringify(r)},s.offset&&(c.offset=s.offset),s.limit&&(c.limit=s.limit),s.order&&(c.order=s.order),s.projection&&(c.projection=JSON.stringify(s.projection)),u=JSON.stringify(c),[4,a.tunnel(a.constructTunnelReq("tcbapi_db_querydocument",u,n.__assign({},i,{serviceName:"database",cloud:o})),{requireDataNotEmpty:!0})];case 1:return l=_.sent(),d=l.data,f=d.data_list?JSON.parse(d.data_list):[],[2,{list:f=e.engine.Decoder.decode(f),offset:d.offset,limit:d.limit,total:d.total}]}})})},t.updateDocument=function(e,t,r,i,o,c){return void 0===i&&(i={}),n.__awaiter(this,void 0,void 0,function(){var u,l,d;return n.__generator(this,function(f){switch(f.label){case 0:return u=JSON.stringify(r),s.assertStringLength({input:u,max:c.appConfig.db_doc_size_limit,name:"update expression",maxWording:(c.appConfig.db_doc_size_limit/1024).toFixed(0)+" KB"}),(l={collection_name:e,query:JSON.stringify(t),data:u}).multi=!1!==i.multi,l.merge=!1!==i.merge,i.upsert&&(l.upsert=i.upsert),d=JSON.stringify(l),[4,a.tunnel(a.constructTunnelReq("tcbapi_db_updatedocument",d,n.__assign({},o,{serviceName:"database",cloud:c})),{requireDataNotEmpty:!0})];case 1:return[2,{updated:f.sent().data.updated}]}})})},t.setDocument=function(e,t,r,i,o,c){return void 0===i&&(i={}),n.__awaiter(this,void 0,void 0,function(){var i,u,l,d,f;return n.__generator(this,function(_){switch(_.label){case 0:return i=JSON.stringify(r),s.assertStringLength({input:i,max:c.appConfig.db_doc_size_limit,name:"record",maxWording:(c.appConfig.db_doc_size_limit/1024).toFixed(0)+" KB"}),u={collection_name:e,_id:t,data:i},l=JSON.stringify(u),[4,a.tunnel(a.constructTunnelReq("tcbapi_db_setdocument",l,n.__assign({},o,{serviceName:"database",cloud:c})),{requireDataNotEmpty:!0})];case 1:return d=_.sent(),[2,{_id:(f=d.data)._id||t,updated:f._id?0:1,created:f._id?1:0}]}})})},t.countDocument=function(e,t,r,s){return n.__awaiter(this,void 0,void 0,function(){var i,o;return n.__generator(this,function(c){switch(c.label){case 0:return i={collection_name:e,query:JSON.stringify(t)},o=JSON.stringify(i),[4,a.tunnel(a.constructTunnelReq("tcbapi_db_countdocument",o,n.__assign({},r,{serviceName:"database",cloud:s})),{requireDataNotEmpty:!0})];case 1:return[2,{total:c.sent().data.total}]}})})}},"./src/services/database/internal/grammar/default/extractor.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/database/api/database/query.ts"),a=r("./src/services/database/internal/backend-api/backend-api.ts"),s=r("./src/services/database/internal/grammar/default/serializer/common.ts");function i(e){var t=s.flattenObject(e);for(var r in t)!0===t[r]||1===t[r]?t[r]=1:!1===t[r]||0===t[r]?t[r]=0:delete t[r];return t}t.extractQueryOptions=function(e){return{limit:e._query.limit,offset:e._query.offset,order:(e._query.order||[]).map(function(e){return{field:e.fieldPath,direction:e.order===n.ORDER_DIRECTION.DESC?a.ORDER_DIRECTION.DESC:a.ORDER_DIRECTION.ASC}}),projection:i(e._field)}},t.getProjectionDefinition=i},"./src/services/database/internal/grammar/default/index.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js");n.__exportStar(r("./src/services/database/internal/grammar/default/extractor.ts"),t),n.__exportStar(r("./src/services/database/internal/grammar/default/operator-map.ts"),t),n.__exportStar(r("./src/services/database/internal/grammar/default/serializer.ts"),t)},"./src/services/database/internal/grammar/default/operator-map.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/database/api/database/commands/query.ts"),a=r("./src/services/database/api/database/commands/logic.ts"),s=r("./src/services/database/api/database/commands/update.ts");for(var i in t.OperatorMap={},n.QUERY_COMMANDS_LITERAL)t.OperatorMap[i]="$"+i.toLowerCase();for(var i in a.LOGIC_COMMANDS_LITERAL)t.OperatorMap[i]="$"+i.toLowerCase();for(var i in s.UPDATE_COMMANDS_LITERAL)t.OperatorMap[i]="$"+i.toLowerCase();t.OperatorMap[n.QUERY_COMMANDS_LITERAL.NEQ]="$ne",t.OperatorMap[s.UPDATE_COMMANDS_LITERAL.REMOVE]="$unset",t.OperatorMap[s.UPDATE_COMMANDS_LITERAL.SHIFT]="$pop",t.OperatorMap[s.UPDATE_COMMANDS_LITERAL.UNSHIFT]="$push",t.operatorToString=function(e){return t.OperatorMap[e]||"$"+e.toLowerCase()}},"./src/services/database/internal/grammar/default/serializer.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js");n.__exportStar(r("./src/services/database/internal/grammar/default/serializer/query.ts"),t),n.__exportStar(r("./src/services/database/internal/grammar/default/serializer/update.ts"),t),n.__exportStar(r("./src/services/database/internal/grammar/default/serializer/decoder.ts"),t),n.__exportStar(r("./src/services/database/internal/grammar/default/serializer/common.ts"),t)},"./src/services/database/internal/grammar/default/serializer/common.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/utils/error.ts"),s=r("./src/config/error.config.ts"),i=r("./src/utils/type.ts"),o=r("./src/services/database/internal/grammar/default/serializer/datatype.ts");function c(e,t,r,o){var u=n.__assign({},e);for(var l in e)if(!/^\$/.test(l)){var d=e[l];if(d&&i.isObject(d)&&!t(d)){if(o.indexOf(d)>-1)throw new a.CloudSDKError({errCode:s.ERR_CODE.SDK_DATABASE_CIRCULAR_REFERENCE,errMsg:"Cannot convert circular structure to JSON"});var f=c(d,t,n.__spread(r,[l]),n.__spread(o,[d]));u[l]=f;var _=!1;for(var p in f)/^\$/.test(p)?_=!0:(u[l+"."+p]=f[p],delete u[l][p]);_||delete u[l]}}return u}function u(e){return i.isInternalObject(e)||i.isDate(e)||i.isRegExp(e)}t.flattenQueryObject=function(e){return c(e,u,[],[e])},t.flattenObject=function(e){return c(e,function(e){return!1},[],[e])},t.mergeConditionAfterEncode=function(e,t,r){for(var n in t[r]||delete e[r],t)e[n]?i.isArray(e[n])?e[n].push(t[n]):i.isObject(e[n])?i.isObject(t[n])?Object.assign(e[n],t[n]):(console.warn("unmergable condition, query is object but condition is "+i.getType(t)+", can only overwrite",t,r),e[n]=t[n]):(console.warn("to-merge query is of type "+i.getType(e)+", can only overwrite",e,t,r),e[n]=t[n]):e[n]=t[n]},t.isConversionRequired=u,t.encodeInternalDataType=function(e){return o.serialize(e)},t.decodeInternalDataType=function(e){return o.deserialize(e)}},"./src/services/database/internal/grammar/default/serializer/datatype.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/services/database/api/database/helper/symbol.ts"),s=r("./src/utils/type.ts"),i=r("./src/services/database/api/database/geo.ts"),o=r("./src/services/database/api/database/date.ts"),c=r("./src/utils/error.ts"),u=r("./src/config/error.config.ts");t.serialize=function(e){return function e(t,r){if(!s.isInternalObject(t)){if(s.isDate(t))return{$date:+t};if(s.isRegExp(t))return{$regex:t.source,$options:t.flags};if(s.isArray(t))return t.map(function(t){if(r.indexOf(t)>-1)throw new c.CloudSDKError({errCode:u.ERR_CODE.SDK_DATABASE_CIRCULAR_REFERENCE,errMsg:"Cannot convert circular structure to JSON"});return e(t,n.__spread(r,[t]))});if(s.isObject(t)){var i=n.__assign({},t);for(var o in i){if(r.indexOf(i[o])>-1)throw new c.CloudSDKError({errCode:u.ERR_CODE.SDK_DATABASE_CIRCULAR_REFERENCE,errMsg:"Cannot convert circular structure to JSON"});i[o]=e(i[o],n.__spread(r,[i[o]]))}return i}return t}switch(t._internalType){case a.SYMBOL_GEO_POINT:return t.toJSON();case a.SYMBOL_SERVER_DATE:return{$date:t.options};case a.SYMBOL_REGEXP:return{$regex:t.regexp,$options:t.options};default:return t.toJSON?t.toJSON():t}}(e,[e])},t.deserialize=function(e){var t=n.__assign({},e);for(var r in t)switch(r){case"$date":switch(s.getType(t[r])){case"number":return new Date(t[r]);case"object":return o.serverDate(t[r])}break;case"type":switch(t.type){case"Point":if(s.isArray(t.coordinates)&&s.isNumber(t.coordinates[0])&&s.isNumber(t.coordinates[1]))return new i.Point(t.coordinates[0],t.coordinates[1])}}return e}},"./src/services/database/internal/grammar/default/serializer/decoder.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/utils/type.ts"),s=r("./src/services/database/internal/grammar/default/serializer/common.ts"),i=function(){function e(){}return e.decode=function(t){return(new e).decodeData(t)},e.prototype.decodeData=function(e){var t=this;switch(a.getType(e)){case"object":return this.decodeObject(e);case"array":return e.map(function(e){if(a.isObject(e)){var r=s.decodeInternalDataType(e);return r!==e?r:t.decodeObject(e)}return e});default:return e}},e.prototype.decodeObject=function(e){var t=n.__assign({},e);for(var r in t){var i=t[r];switch(a.getType(i)){case"object":var o=s.decodeInternalDataType(i);t[r]=o!==i?o:this.decodeObject(t[r]);break;case"array":(o=this.decodeData(i))!==i&&(t[r]=o);break;default:continue}}return t},e}();t.Decoder=i},"./src/services/database/internal/grammar/default/serializer/query.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/database/api/database/commands/query.ts"),a=r("./src/services/database/api/database/commands/logic.ts"),s=r("./src/services/database/api/database/helper/symbol.ts"),i=r("./src/utils/type.ts"),o=r("./src/utils/error.ts"),c=r("./src/services/database/internal/grammar/default/operator-map.ts"),u=r("./src/services/database/internal/grammar/default/serializer/common.ts"),l=function(){function e(){}return e.encode=function(e){return(new d).encodeQuery(e)},e}();t.QuerySerializer=l;var d=function(){function e(){}return e.prototype.encodeQuery=function(e){return u.isConversionRequired(e)?a.isLogicCommand(e)?this.encodeLogicCommand(e):n.isQueryCommand(e)?this.encodeQueryCommand(e):this.encodeQueryObject(e):i.isObject(e)?this.encodeQueryObject(e):e},e.prototype.encodeLogicCommand=function(e){var t,r,n;switch(e.operator){case a.LOGIC_COMMANDS_LITERAL.AND:case a.LOGIC_COMMANDS_LITERAL.OR:var s=c.operatorToString(e.operator),i=e.operands.map(this.encodeQuery.bind(this));return(t={})[s]=i,t;default:s=c.operatorToString(e.operator);if(1===e.operands.length){var o=this.encodeQuery(e.operands[0]);return(r={})[s]=o,r}i=e.operands.map(this.encodeQuery.bind(this));return(n={})[s]=i,n}},e.prototype.encodeQueryCommand=function(e){return n.isComparisonCommand(e),this.encodeComparisonCommand(e)},e.prototype.encodeComparisonCommand=function(e){var t,r,a,i,l,d;if(e.fieldName===s.SYMBOL_UNSET_FIELD_NAME)throw new o.CloudSDKError({errMsg:"Cannot encode a comparison command with unset field name"});var f=c.operatorToString(e.operator);switch(e.operator){case n.QUERY_COMMANDS_LITERAL.EQ:case n.QUERY_COMMANDS_LITERAL.NEQ:case n.QUERY_COMMANDS_LITERAL.LT:case n.QUERY_COMMANDS_LITERAL.LTE:case n.QUERY_COMMANDS_LITERAL.GT:case n.QUERY_COMMANDS_LITERAL.GTE:return(t={})[e.fieldName]=((r={})[f]=u.encodeInternalDataType(e.operands[0]),r),t;case n.QUERY_COMMANDS_LITERAL.IN:case n.QUERY_COMMANDS_LITERAL.NIN:return(a={})[e.fieldName]=((i={})[f]=u.encodeInternalDataType(e.operands),i),a;default:return(l={})[e.fieldName]=((d={})[f]=u.encodeInternalDataType(e.operands[0]),d),l}},e.prototype.encodeQueryObject=function(e){var t=u.flattenQueryObject(e);for(var r in t){var s=t[r];if(a.isLogicCommand(s)){t[r]=s._setFieldName(r);var i=this.encodeLogicCommand(t[r]);this.mergeConditionAfterEncode(t,i,r)}else if(n.isComparisonCommand(s)){t[r]=s._setFieldName(r);i=this.encodeComparisonCommand(t[r]);this.mergeConditionAfterEncode(t,i,r)}else u.isConversionRequired(s)&&(t[r]=u.encodeInternalDataType(s))}return t},e.prototype.mergeConditionAfterEncode=function(e,t,r){for(var n in t[r]||delete e[r],t)e[n]?i.isArray(e[n])?e[n].push(t[n]):i.isObject(e[n])?i.isObject(t[n])?Object.assign(e,t):(console.warn("unmergable condition, query is object but condition is "+i.getType(t)+", can only overwrite",t,r),e[n]=t[n]):(console.warn("to-merge query is of type "+i.getType(e)+", can only overwrite",e,t,r),e[n]=t[n]):e[n]=t[n]},e}()},"./src/services/database/internal/grammar/default/serializer/update.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/database/api/database/commands/update.ts"),a=r("./src/services/database/api/database/helper/symbol.ts"),s=r("./src/utils/type.ts"),i=r("./src/utils/error.ts"),o=r("./src/services/database/internal/grammar/default/operator-map.ts"),c=r("./src/services/database/internal/grammar/default/serializer/common.ts"),u=function(){function e(){}return e.encode=function(t){return(new e).encodeUpdate(t)},e.prototype.encodeUpdate=function(e){return n.isUpdateCommand(e)?this.encodeUpdateCommand(e):"object"===s.getType(e)?this.encodeUpdateObject(e):e},e.prototype.encodeUpdateCommand=function(e){if(e.fieldName===a.SYMBOL_UNSET_FIELD_NAME)throw new i.CloudSDKError({errMsg:"Cannot encode a comparison command with unset field name"});switch(e.operator){case n.UPDATE_COMMANDS_LITERAL.SET:case n.UPDATE_COMMANDS_LITERAL.REMOVE:case n.UPDATE_COMMANDS_LITERAL.INC:case n.UPDATE_COMMANDS_LITERAL.MUL:return this.encodeFieldUpdateCommand(e);case n.UPDATE_COMMANDS_LITERAL.PUSH:case n.UPDATE_COMMANDS_LITERAL.POP:case n.UPDATE_COMMANDS_LITERAL.SHIFT:case n.UPDATE_COMMANDS_LITERAL.UNSHIFT:return this.encodeArrayUpdateCommand(e);default:return this.encodeFieldUpdateCommand(e)}},e.prototype.encodeFieldUpdateCommand=function(e){var t,r,a,s,i=o.operatorToString(e.operator);switch(e.operator){case n.UPDATE_COMMANDS_LITERAL.REMOVE:return(t={})[i]=((r={})[e.fieldName]="",r),t;case n.UPDATE_COMMANDS_LITERAL.SET:case n.UPDATE_COMMANDS_LITERAL.INC:case n.UPDATE_COMMANDS_LITERAL.MUL:default:return(a={})[i]=((s={})[e.fieldName]=e.operands[0],s),a}},e.prototype.encodeArrayUpdateCommand=function(e){var t,r,a,s,i,u,l,d,f,_,p=o.operatorToString(e.operator);switch(e.operator){case n.UPDATE_COMMANDS_LITERAL.PUSH:var m={$each:e.operands.map(c.encodeInternalDataType)};return(t={})[p]=((r={})[e.fieldName]=m,r),t;case n.UPDATE_COMMANDS_LITERAL.UNSHIFT:m={$each:e.operands.map(c.encodeInternalDataType),$position:0};return(a={})[p]=((s={})[e.fieldName]=m,s),a;case n.UPDATE_COMMANDS_LITERAL.POP:return(i={})[p]=((u={})[e.fieldName]=1,u),i;case n.UPDATE_COMMANDS_LITERAL.SHIFT:return(l={})[p]=((d={})[e.fieldName]=-1,d),l;default:return(f={})[p]=((_={})[e.fieldName]=c.encodeInternalDataType(e.operands),_),f}},e.prototype.encodeUpdateObject=function(e){var t=c.flattenQueryObject(e);for(var r in t)if(!/^\$/.test(r)){var a=t[r];if(n.isUpdateCommand(a)){t[r]=a._setFieldName(r);var s=this.encodeUpdateCommand(t[r]);c.mergeConditionAfterEncode(t,s,r)}else{t[r]=a=c.encodeInternalDataType(a);var i=new n.UpdateCommand(n.UPDATE_COMMANDS_LITERAL.SET,[a],r);s=this.encodeUpdateCommand(i);c.mergeConditionAfterEncode(t,s,r)}}return t},e}();t.UpdateSerializer=u},"./src/services/database/internal/grammar/engine.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,a=r("./src/services/database/internal/grammar/default/index.ts");!function(e){e[e.DEFAULT=0]="DEFAULT"}(n=t.ENGINES||(t.ENGINES={})),t.getEngine=function(e){return void 0===e&&(e=n.DEFAULT),a}},"./src/services/functions/api/api.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/functions/api/callFunction.ts");t.getAPIs=function(e,t){return void 0===t&&(t={}),{callFunction:n.default(e)}}},"./src/services/functions/api/callFunction.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/network/tunnel.ts"),s=r("./src/utils/assert.ts"),i=r("./src/utils/error.ts"),o=r("./src/utils/fail-safe.ts"),c=r("./src/utils/serializer.ts"),u=r("./src/hook/invoke.ts"),l=r("./src/utils/msg.ts"),d=r("./src/utils/fn/clone.ts"),f=r("./src/config/error.config.ts"),_=r("./src/services/functions/index.ts"),p=r("./src/externals/public-lib/appserviceSdk.ts");t.API_NAME="cloud.callFunction",t.default=function(e){return function(e){return s.assertType(e,"object"),(e=d.shallowClone(e)).data||(e.data={}),u.hasAPICallback(e)?function(e){o.wrapParamCallbacksWithTryCatch({apiName:t.API_NAME,param:e}),r(e).then(function(r){u.invokeSuccessCompleteCallbacks(t.API_NAME,e,r)}).catch(function(r){u.invokeFailCompleteCallbacks(t.API_NAME,e,r)})}(e):r(e)};function r(r){return n.__awaiter(this,void 0,void 0,function(){var o;return n.__generator(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),function(e){s.assertType(e,{name:"string"}),e.data&&s.assertType(e.data,"object"),e.config&&e.config.env&&s.assertType(e.config.env,"string")}(r),[4,function(r){return n.__awaiter(this,void 0,void 0,function(){function o(r){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(a){return[2,new Promise(function(a,s){!function r(a,s,o,u){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(n){return p.getSDK(e).request({url:a,success:function(e){try{if(200!==e.statusCode)return u(i.returnAsFinalCloudSDKError({errCode:f.ERR_CODE.SDK_FUNCTIONS_POLL_RESULT_STATUS_CODE_ERROR,errMsg:"polling status code "+e.statusCode},t.API_NAME));var n=e.data;if(!n)return u(i.returnAsFinalCloudSDKError({errCode:f.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_RESULT_JSON,errMsg:f.ERR_CODE[f.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_RESULT_JSON]},t.API_NAME));if(n.base_resp&&0===n.base_resp.ret){if(0!==n.status){if(1===n.status){if(0!==n.service_errcode){var l=i.returnAsFinalCloudSDKError({errCode:f.ERR_CODE.SDK_FUNCTIONS_CLOUD_FUNCTION_EXECUTION_ERROR,errMsg:"requestID "+n.func_req_id+", cloud function service error code "+(n.service_errcode||"unknown")+", error message "+(n.service_errmsg||"unknown")},t.API_NAME);return l.requestID=n.func_req_id,u(l)}var d=n.content;try{d=c.deserialize(d)}catch(e){try{d=JSON.parse(d)}catch(e){}}return o({result:d,requestID:n.func_req_id})}return u(i.returnAsFinalCloudSDKError({errCode:f.ERR_CODE.SDK_FUNCTIONS_POLL_RESULT_EXPIRED,errMsg:"timeout for result fetching"},t.API_NAME))}if(!(s>=0))return u(i.returnAsFinalCloudSDKError({errCode:f.ERR_CODE.SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY,errMsg:f.ERR_CODE[f.ERR_CODE.SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY]},t.API_NAME));r(a,s-1,o,u)}else{if(!n.base_resp)return u(i.returnAsFinalCloudSDKError({errCode:f.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP,errMsg:f.ERR_CODE[f.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP]},t.API_NAME));if(0!==n.base_resp.ret)return u(i.returnAsFinalCloudSDKError({errCode:f.ERR_CODE.SDK_FUNCTIONS_POLL_RESULT_BASE_RESP_RET_ABNORMAL,errMsg:"polling base_resp.ret "+n.base_resp.ret},t.API_NAME))}}catch(e){u(i.returnAsFinalCloudSDKError({errCode:f.ERR_CODE.SDK_FUNCTIONS_POLL_ERROR,errMsg:"polling catch error: "+e},t.API_NAME))}},fail:function(e){u(i.returnAsFinalCloudSDKError(e,t.API_NAME))}}),[2]})})}(r,e.appConfig.call_function_poll_max_retry||50,a,s)})]})})}var u,d,m,E,b,g,v,h;return n.__generator(this,function(p){switch(p.label){case 0:return u=c.serialize(r.data),s.assertStringLength({input:u,max:e.appConfig.call_function_max_req_data_size,name:"callFunction data",maxWording:e.appConfig.call_function_max_req_data_size/1024+" KB"}),d={function_name:r.name,data:u},m=c.serialize(d),[4,a.tunnel(a.constructTunnelReq("tcbapi_slowcallfunction",m,n.__assign({},r.config,{serviceName:_.FUNCTIONS_SERVICE_NAME,cloud:e})))];case 1:if(E=p.sent(),!(b=E.data))throw i.returnAsFinalCloudSDKError({errCode:f.ERR_CODE.SDK_FUNCTIONS_EMPTY_CALL_RESULT,errMsg:f.ERR_CODE[f.ERR_CODE.SDK_FUNCTIONS_EMPTY_CALL_RESULT]},t.API_NAME);if(b.event_id,!b.poll_url)throw i.returnAsFinalCloudSDKError({errCode:f.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_URL,errMsg:f.ERR_CODE[f.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_URL]},t.API_NAME);return b.poll_url.indexOf("?")>-1?b.poll_url+="&devtools_ignore=true&skip_domain_check=true":b.poll_url+="?devtools_ignore=true&skip_domain_check=true",[4,o(b.poll_url)];case 2:return g=p.sent(),v=g.result,h=g.requestID,[2,{errMsg:l.apiSuccessMsg(t.API_NAME),result:v,requestID:h}]}})})}(r)];case 1:return[2,u.sent()];case 2:return[4,function(r){return n.__awaiter(this,void 0,void 0,function(){var s,i,o,u,d;return n.__generator(this,function(f){switch(f.label){case 0:return s={function_name:r.name,data:c.serialize(r.data)},i=c.serialize(s),[4,a.tunnel(a.constructTunnelReq("tcbapi_callfunction",i,n.__assign({},r.config,{serviceName:_.FUNCTIONS_SERVICE_NAME,cloud:e})))];case 1:if(o=f.sent(),u=o.data,d=u&&u.data)try{d=JSON.parse(d)}catch(e){}return[2,{errMsg:l.apiSuccessMsg(t.API_NAME),result:d}]}})})}(r)];case 3:return[2,u.sent()];case 4:return[3,6];case 5:throw o=u.sent(),i.returnAsFinalCloudSDKError(o,t.API_NAME);case 6:return[2]}})})}}},"./src/services/functions/index.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/functions/api/api.ts");t.FUNCTIONS_SERVICE_NAME="functions",t.registerService=function(e){e.registerService(function(e){return{name:t.FUNCTIONS_SERVICE_NAME,getAPIs:n.getAPIs.bind(null,e)}}(e))}},"./src/services/index.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/functions/index.ts"),a=r("./src/services/storage/index.ts"),s=r("./src/services/database/index.ts");t.registerServices=function(e){n.registerService(e),a.registerService(e),s.registerService(e)}},"./src/services/storage/api/api.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/storage/api/uploadFile.ts"),a=r("./src/services/storage/api/downloadFile.ts"),s=r("./src/services/storage/api/getTempFileURL.ts"),i=r("./src/services/storage/api/deleteFile.ts");t.getAPIs=function(e){return{uploadFile:n.default(e),downloadFile:a.default(e),getTempFileURL:s.default(e),deleteFile:i.default(e)}}},"./src/services/storage/api/deleteFile.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/network/tunnel.ts"),s=r("./src/utils/assert.ts"),i=r("./src/utils/error.ts"),o=r("./src/utils/serializer.ts"),c=r("./src/hook/invoke.ts"),u=r("./src/utils/msg.ts"),l=r("./src/utils/fn/clone.ts"),d=r("./src/config/error.config.ts"),f=r("./src/services/storage/index.ts"),_="cloud.deleteFile";t.default=function(e){return function(e){return e=l.shallowClone(e),c.hasAPICallback(e)?function(e){t(e).then(function(t){c.invokeSuccessCompleteCallbacks(_,e,t)}).catch(function(t){c.invokeFailCompleteCallbacks(_,e,t)})}(e):t(e)};function t(t){return n.__awaiter(this,void 0,void 0,function(){var r;return n.__generator(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),function(t){for(var r in s.assertType(t,{fileList:"array"}),t.config&&t.config.env&&s.assertType(t.config.env,"string"),t.fileList)s.assertType(t.fileList[r],"string","parameter.fileList["+r+"]");if(e.appConfig.get_temp_file_url_max_requests&&t.fileList.length>e.appConfig.get_temp_file_url_max_requests)throw new i.CloudSDKError({errCode:d.ERR_CODE.SDK_API_PARAMETER_ERROR,errMsg:"parameter.fileList exceed max length "+e.appConfig.get_temp_file_url_max_requests})}(t),t.fileList.length?[4,function(t){return n.__awaiter(this,void 0,void 0,function(){var r,s,i,c;return n.__generator(this,function(l){switch(l.label){case 0:return r={fileid_list:t.fileList},s=o.serialize(r),[4,a.tunnel(a.constructTunnelReq("tcbapi_deletefile",s,n.__assign({},t.config,{serviceName:f.STORAGE_SERVICE_NAME,cloud:e})))];case 1:return i=l.sent(),c=i.data,[2,{errMsg:u.apiSuccessMsg(_),fileList:c.delete_list.map(function(e){return{fileID:e.fileid,status:e.status,errMsg:e.errmsg}})}]}})})}(t)]:[2,{errMsg:u.apiSuccessMsg(_),fileList:[]}];case 1:return[2,c.sent()];case 2:throw r=c.sent(),i.returnAsFinalCloudSDKError(r,_);case 3:return[2]}})})}}},"./src/services/storage/api/downloadFile.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/network/tunnel.ts"),s=r("./src/utils/assert.ts"),i=r("./src/utils/type.ts"),o=r("./src/utils/fn/clone.ts"),c=r("./src/utils/error.ts"),u=r("./src/hook/invoke.ts"),l=r("./src/externals/public-lib/appserviceSdk.ts"),d=r("./src/config/error.config.ts"),f=r("./src/services/storage/index.ts"),_="cloud.downloadFile";t.default=function(e){return function(e){return e=o.shallowClone(e),u.hasAPICallback(e)?function(e){var r={aborted:!1},a=function(e){return{onProgressUpdate:function(t){e.onProgressUpdateUserHandler=t},abort:function(){e.abort&&e.abort(),e.aborted=!0}}}(r);return t(n.__assign({},e,{context:r,downloadTaskAgent:a})).then(function(t){u.invokeSuccessCompleteCallbacks(_,e,t)}).catch(function(t){u.invokeFailCompleteCallbacks(_,e,t)}),a}(e):t(e)};function t(t){return n.__awaiter(this,void 0,void 0,function(){var r=this;return n.__generator(this,function(o){return[2,new Promise(function(o,u){return n.__awaiter(r,void 0,void 0,function(){var r,p;return n.__generator(this,function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),function(e){s.assertType(e,{fileID:"string"}),e.config&&e.config.env&&s.assertType(e.config.env,"string")}(t),t.context&&(t.context.abort=function(){u(c.returnAsFinalCloudSDKError({errMsg:"abort"},_))},t.context.aborted)?[2,u(c.returnAsFinalCloudSDKError({errMsg:"abort"},_))]:[4,function(t){return n.__awaiter(this,void 0,void 0,function(){var r,s;return n.__generator(this,function(o){switch(o.label){case 0:return r=l.getSDK(e),[4,function(t){return n.__awaiter(this,void 0,void 0,function(){var r,s,i;return n.__generator(this,function(o){switch(o.label){case 0:return r=JSON.stringify({fileid:t.fileID}),[4,a.tunnel(a.constructTunnelReq("tcbapi_downloadfile",r,n.__assign({},t.config,{serviceName:f.STORAGE_SERVICE_NAME,cloud:e})))];case 1:if(s=o.sent(),!(i=s.data).download_url)throw new c.CloudSDKError({errCode:d.ERR_CODE.SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_DOWNLOAD_URL,errMsg:d.ERR_CODE[d.ERR_CODE.SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_DOWNLOAD_URL]});return i.download_url.indexOf("?")>-1?i.download_url+="&skip_domain_check=true":i.download_url+="?skip_domain_check=true",[2,i.download_url]}})})}(t)];case 1:return s=o.sent(),[2,new Promise(function(e,n){if(t.context&&t.context.aborted)return n(c.returnAsFinalCloudSDKError({errMsg:"abort"},_));var a=r.downloadFile({url:s,success:function(t){e(t)},fail:function(e){n(e)}});a.onProgressUpdate(function(){t.downloadTaskAgent&&t.context&&t.context.onProgressUpdateUserHandler&&i.isFunction(t.context.onProgressUpdateUserHandler)&&t.context.onProgressUpdateUserHandler.apply(r.downloadFile,arguments)}),t.context&&(t.context.abort=a.abort.bind(a))})]}})})}(t)];case 1:return r=m.sent(),o(r),[3,3];case 2:return p=m.sent(),u(c.returnAsFinalCloudSDKError(p,_)),[3,3];case 3:return[2]}})})})]})})}}},"./src/services/storage/api/getTempFileURL.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/network/tunnel.ts"),s=r("./src/utils/assert.ts"),i=r("./src/utils/error.ts"),o=r("./src/utils/serializer.ts"),c=r("./src/hook/invoke.ts"),u=r("./src/utils/msg.ts"),l=r("./src/utils/fn/clone.ts"),d=r("./src/utils/type.ts"),f=r("./src/config/error.config.ts"),_=r("./src/services/storage/index.ts"),p="cloud.getTempFileURL";t.default=function(e){return function(e){return e=l.shallowClone(e),c.hasAPICallback(e)?function(e){t(e).then(function(t){c.invokeSuccessCompleteCallbacks(p,e,t)}).catch(function(t){c.invokeFailCompleteCallbacks(p,e,t)})}(e):t(e)};function t(t){return n.__awaiter(this,void 0,void 0,function(){var r;return n.__generator(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),function(t){if(s.assertType(t,{fileList:"array"}),t.config&&t.config.env&&s.assertType(t.config.env,"string"),e.appConfig.get_temp_file_url_max_requests&&t.fileList.length>e.appConfig.get_temp_file_url_max_requests)throw new i.CloudSDKError({errCode:f.ERR_CODE.SDK_API_PARAMETER_ERROR,errMsg:"parameter.fileList exceed max length "+e.appConfig.get_temp_file_url_max_requests})}(t),t.fileList.length?[4,function(t){return n.__awaiter(this,void 0,void 0,function(){var r,s,i,c;return n.__generator(this,function(l){switch(l.label){case 0:return r={file_list:t.fileList.map(function(e){return d.isString(e)?{fileid:e}:{fileid:e.fileID,max_age:e.maxAge}})},s=o.serialize(r),[4,a.tunnel(a.constructTunnelReq("tcbapi_gettempfileurl",s,n.__assign({},t.config,{serviceName:_.STORAGE_SERVICE_NAME,cloud:e})))];case 1:return i=l.sent(),c=i.data,[2,{errMsg:u.apiSuccessMsg(p),fileList:c.download_list.map(function(e){return{fileID:e.fileid,tempFileURL:e.download_url,maxAge:e.max_age,status:e.status,errMsg:e.errmsg}})}]}})})}(t)]:[2,{errMsg:u.apiSuccessMsg(p),fileList:[]}];case 1:return[2,c.sent()];case 2:throw r=c.sent(),i.returnAsFinalCloudSDKError(r,p);case 3:return[2]}})})}}},"./src/services/storage/api/uploadFile.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/network/tunnel.ts"),s=r("./src/utils/assert.ts"),i=r("./src/utils/error.ts"),o=r("./src/utils/type.ts"),c=r("./src/utils/fn/clone.ts"),u=r("./src/hook/invoke.ts"),l=r("./src/utils/msg.ts"),d=r("./src/externals/public-lib/appserviceSdk.ts"),f=r("./src/services/storage/index.ts"),_=r("./src/config/error.config.ts"),p="cloud.uploadFile";t.default=function(e){return function(e){return e=c.shallowClone(e),u.hasAPICallback(e)?function(e){var r={aborted:!1},a=function(e){return{onProgressUpdate:function(t){e.onProgressUpdateUserHandler=t},abort:function(){e.abort&&e.abort(),e.aborted=!0}}}(r);return t(n.__assign({},e,{context:r,uploadTaskAgent:a})).then(function(t){u.invokeSuccessCompleteCallbacks(p,e,t)}).catch(function(t){u.invokeFailCompleteCallbacks(p,e,t)}),a}(e):t(e)};function t(t){var r=this;return new Promise(function(c,u){return n.__awaiter(r,void 0,void 0,function(){var r,m;return n.__generator(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,3]),function(e){s.assertType(e,{cloudPath:"string",filePath:"string"}),e.config&&e.config.env&&s.assertType(e.config.env,"string")}(t),function(t){n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(r){return[2,new Promise(function(r,n){wx.getFileInfo?wx.getFileInfo({filePath:t,success:function(t){t.size>e.appConfig.upload_max_file_size?n(new i.CloudSDKError({errCode:_.ERR_CODE.SDK_STORAGE_EXCEED_MAX_UPLOAD_SIZE,errMsg:"exceed max upload file size: "+e.appConfig.upload_max_file_size/1024/1024+" MB"})):r()},fail:function(){r()}}):r()})]})})}(t.filePath),t.context&&(t.context.abort=function(){u(i.returnAsFinalCloudSDKError({errMsg:"abort"},p))},t.context.aborted)?[2,u(i.returnAsFinalCloudSDKError({errMsg:"abort"},p))]:[4,function(t){return n.__awaiter(this,void 0,void 0,function(){var r,s;return n.__generator(this,function(c){switch(c.label){case 0:return r=d.getSDK(e),[4,function(t){return n.__awaiter(this,void 0,void 0,function(){var r,s,o;return n.__generator(this,function(c){switch(c.label){case 0:return r=JSON.stringify({path:t.cloudPath}),[4,a.tunnel(a.constructTunnelReq("tcbapi_uploadfile",r,n.__assign({},t.config,{serviceName:f.STORAGE_SERVICE_NAME,cloud:e})))];case 1:if(s=c.sent(),!(o=s.data).upload_url)throw new i.CloudSDKError({errCode:_.ERR_CODE.SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_UPLOAD_URL,errMsg:_.ERR_CODE[_.ERR_CODE.SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_UPLOAD_URL]});return o.upload_url.indexOf("?")>-1?o.upload_url+="&skip_domain_check=true":o.upload_url+="?skip_domain_check=true",[2,o.upload_url]}})})}(t)];case 1:return s=c.sent(),[2,new Promise(function(e,n){if(t.context&&t.context.aborted)return n(i.returnAsFinalCloudSDKError({errMsg:"abort"},p));var a=r.uploadFile({url:s,filePath:t.filePath,header:t.header,name:"file",success:function(t){try{var r=JSON.parse(t.data);if(r.data&&(r=r.data),r.fileid)e({errMsg:l.apiSuccessMsg(p),fileID:r.fileid,statusCode:t.statusCode});else{var a=new i.CloudSDKError({errMsg:"empty fileid; "+r.message+";"});n(a)}}catch(a){var s=new i.CloudSDKError({errMsg:"Error parsing response data "+t.data+";"});n(s)}},fail:function(e){n(e)}});a.onProgressUpdate(function(){t.uploadTaskAgent&&t.context&&t.context.onProgressUpdateUserHandler&&o.isFunction(t.context.onProgressUpdateUserHandler)&&t.context.onProgressUpdateUserHandler.apply(r.uploadFile,arguments)}),t.context&&(t.context.abort=a.abort.bind(a))})]}})})}(t)];case 1:return r=E.sent(),c(r),[3,3];case 2:return m=E.sent(),u(i.returnAsFinalCloudSDKError(m,p)),[3,3];case 3:return[2]}})})})}}},"./src/services/storage/index.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/storage/api/api.ts");t.STORAGE_SERVICE_NAME="storage",t.registerService=function(e){e.registerService(function(e){return{name:t.STORAGE_SERVICE_NAME,getAPIs:n.getAPIs.bind(null,e)}}(e))}},"./src/utils/assert.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/utils/type.ts"),a=r("./src/utils/error.ts"),s=r("./src/config/error.config.ts");function i(e,t,r){void 0===r&&(r="parameter");var a=function e(t,r,a){var s=n.getType(t),i=n.getType(r);if("string"===i)return s!==r?a+" should be "+r+" instead of "+s+";":"";if(s!==i)return a+" should be "+i+" instead of "+s+"; ";var o="";switch(s){case"object":for(var c in r)o+=e(t[c],r[c],a+"."+c);break;case"array":for(var u=0;u<r.length;u++)o+=e(t[u],r[u],a+"["+u+"]")}return o}(e,t,r);return{passed:!a,reason:a}}t.validType=i,t.assertType=function(e,t,r,n){void 0===r&&(r="parameter"),void 0===n&&(n=a.CloudSDKError);var o=i(e,t,r);if(!o.passed)throw new n({errCode:s.ERR_CODE.SDK_API_PARAMETER_TYPE_ERROR,errMsg:o.reason})},t.assertRequiredParam=function(e,t,r,n){if(void 0===n&&(n=a.CloudSDKError),void 0===e||null===e)throw new n({errCode:s.ERR_CODE.SDK_API_PARAMETER_ERROR,errMsg:"parameter "+t+" of function "+r+" must be provided"})},t.assertStringLength=function(e){var t=e.name,r=e.input,n=e.max,i=e.maxWording,o=void 0===i?"":i,c=e.ErrorClass,u=void 0===c?a.CloudSDKError:c;if(r.length>n)throw new u({errCode:s.ERR_CODE.SDK_API_PARAMETER_ERROR,errMsg:t+" size must be less than "+(o||n)})},t.assertObjectNotEmpty=function(e){var t=e.target,r=e.name,n=e.ErrorClass,i=void 0===n?a.CloudSDKError:n;if(0===Object.keys(t).length)throw new i({errCode:s.ERR_CODE.SDK_API_PARAMETER_ERROR,errMsg:r+" must not be empty"})}},"./src/utils/error.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/utils/type.ts"),s=r("./src/utils/msg.ts"),i=r("./src/config/error.config.ts"),o=function(e){function t(t){var r=e.call(this,t.errMsg)||this;return r.errCode=-1,Object.defineProperties(r,{message:{get:function(){return"errCode: "+this.errCode+" "+(i.ERR_CODE[this.errCode]||"")+" | errMsg: "+this.errMsg},set:function(e){this.errMsg=e}}}),r.errCode=t.errCode||-1,r.errMsg=t.errMsg,r}return n.__extends(t,e),Object.defineProperty(t.prototype,"message",{get:function(){return"errCode: "+this.errCode+" | errMsg: "+this.errMsg},set:function(e){this.errMsg=e},enumerable:!0,configurable:!0}),t}(Error);function c(e){return e&&e instanceof Error&&a.isString(e.errMsg)}function u(e,t){if(void 0===t&&(t=""),e){if(c(e))return t&&(e.errMsg+="; "+t),e;var r=e?e.errCode:void 0,n=(e&&e.errMsg||e.toString()||"unknown error")+"; "+t;return new o({errCode:r,errMsg:n})}return new o({errMsg:t})}t.CloudSDKError=o,t.isSDKError=c,t.returnAsCloudSDKError=u,t.returnAsFinalCloudSDKError=function(e,t){if(e&&c(e))return e;var r=u(e,"at "+t+" api; ");return r.errMsg=s.apiFailMsg(t,r.errMsg),r}},"./src/utils/fail-safe.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/utils/error.ts"),a=r("./src/utils/type.ts"),s=r("./src/externals/public-lib/reporter.ts");function i(e,t){void 0===t&&(t="");try{return e()}catch(e){if(n.isSDKError(e))return e.errMsg+=t,e;var r=(e?e.toString():"")+t;return new n.CloudSDKError({errMsg:r})}}t.tryCatch=i,t.wrapWithTryCatch=function(e,t){return void 0===t&&(t=""),function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return i(function(){return e.apply(e,r)},t)}},t.wrapParamCallbacksWithTryCatch=function(e){var t=e.param;t&&(t.success&&a.isFunction(t.success)&&(t.success=s.default.surroundThirdByTryCatch(t.success,"at api "+e.apiName+" success callback function")),t.fail&&a.isFunction(t.fail)&&(t.fail=s.default.surroundThirdByTryCatch(t.fail,"at api "+e.apiName+" fail callback function")),t.complete&&a.isFunction(t.complete)&&(t.complete=s.default.surroundThirdByTryCatch(t.complete,"at api "+e.apiName+" complete callback function")))}},"./src/utils/fn/clone.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/utils/type.ts");t.shallowClone=function(e,t){if(void 0===t&&(t=!1),t)return function(e){switch(a.getType(e)){case"object":return n.__assign({},e);case"array":return e.slice();case"number":return e instanceof Number?new Number(e):e;case"string":return e instanceof String?new String(e):e;case"boolean":return e instanceof Boolean?new Boolean(e):e;case"date":return new e.constructor(+e);case"map":return new Map(e);case"set":return new Set(e);default:return e}}(e);if(a.isPlainObject(e))return n.__assign({},e);switch(a.getType(e)){case"object":return e;case"array":return e.slice();default:return e}}},"./src/utils/msg.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.apiSuccessMsg=function(e){return e+":ok"},t.apiCancelMsg=function(e,t){return e+":cancel "+t},t.apiFailMsg=function(e,t){return e+":fail "+t}},"./src/utils/serializer.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/utils/error.ts"),s=r("./src/config/error.config.ts"),i=r("./src/utils/type.ts");function o(e,t){if(void 0===t&&(t="data"),null!==e&&void 0!==e){if(!0===e||!1===e)return e;switch(i.getType(e)){case"number":if(isFinite(e))return e;break;case"string":return e;case"array":return e.map(function(e,r){return o(e,t+"["+r+"]")});case"object":var r={};for(var c in e)e.hasOwnProperty(c)&&(r[c]=o(e[c],t+"."+c));return r;case"arraybuffer":var u=new Uint8Array(e);return{type:"Buffer",data:n.__spread(u)}}if("function"==typeof e)return e;!function(e){throw new a.CloudSDKError({errCode:s.ERR_CODE.SDK_API_PARAMETER_TYPE_ERROR,errMsg:e+" is not JSON-serializable"})}(t)}}function c(e){switch(i.getType(e)){case"object":return function e(t){var r=t;var n=u(r);if(r!==n)return n;for(var a in r){var s=r[a],o=i.getType(s);switch(o){case"object":var l=u(s);r[a]=l!==s?l:e(r[a]);break;case"array":var l=c(s);l!==s&&(r[a]=l);break;default:continue}}return r}(e);case"array":return e.map(c);default:return e}}function u(e){for(var t in e)switch(t){case"type":switch(e.type){case"Buffer":if(i.isArray(e.data)&&i.isNumber(e.data[0]))try{return new Uint8Array(e.data).buffer}catch(t){return e}}}return e}t.serialize=function(e){var t=o(e);return JSON.stringify(t)},t.toJSONSerializable=o,t.deserialize=function(e){return c(JSON.parse(e))}},"./src/utils/symbol.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=[],s={},i=function(e){function t(t,r){if(r!==s)throw new TypeError("InternalSymbol cannot be constructed with new operator");return e.call(this,t)||this}return n.__extends(t,e),t.for=function(e){for(var r=0,n=a.length;r<n;r++)if(a[r].target===e)return a[r].instance;var i=new t(e,s);return a.push({target:e,instance:i}),i},t}(function(){return function(e){Object.defineProperties(this,{target:{enumerable:!1,writable:!1,configurable:!1,value:e}})}}());t.InternalSymbol=i,t.default=i},"./src/utils/type.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/utils/symbol.ts");t.getType=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},t.isObject=function(e){return"object"===t.getType(e)},t.isString=function(e){return"string"===t.getType(e)},t.isNumber=function(e){return"number"===t.getType(e)},t.isPromise=function(e){return"promise"===t.getType(e)},t.isFunction=function(e){return"function"==typeof e},t.isArray=function(e){return Array.isArray(e)},t.isDate=function(e){return"date"===t.getType(e)},t.isRegExp=function(e){return"regexp"===t.getType(e)},t.isInternalObject=function(e){return e&&e._internalType instanceof n.InternalSymbol},t.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}}});
;try {
  wx.cloud = __cloudSDK__.getCloudAPI()
} catch(err) {
  console.warn('cloud sdk injection failed with error', err)
}
/*v0.5vv_20181221_syb_scopedata*/global.__wcc_version__='v0.5vv_20181221_syb_scopedata';global.__wcc_version_info__={"customComponents":true,"fixZeroRpx":true,"propValueDeepCopy":false};
var $gwxc
var $gaic={}
$gwx=function(path,global){
if(typeof global === 'undefined') global={};if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
function _(a,b){if(typeof(b)!='undefined')a.children.push(b);}
function _v(k){if(typeof(k)!='undefined')return {tag:'virtual','wxKey':k,children:[]};return {tag:'virtual',children:[]};}
function _n(tag){$gwxc++;if($gwxc>=16000){throw 'Dom limit exceeded, please check if there\'s any mistake you\'ve made.'};return {tag:'wx-'+tag,attr:{},children:[],n:[],raw:{},generics:{}}}
function _p(a,b){b&&a.properities.push(b);}
function _s(scope,env,key){return typeof(scope[key])!='undefined'?scope[key]:env[key]}
function _wp(m){console.warn("WXMLRT_$gwx:"+m)}
function _wl(tname,prefix){_wp(prefix+':-1:-1:-1: Template `' + tname + '` is being called recursively, will be stop.')}
$gwn=console.warn;
$gwl=console.log;
function $gwh()
{
function x()
{
}
x.prototype = 
{
hn: function( obj, all )
{
if( typeof(obj) == 'object' )
{
var cnt=0;
var any1=false,any2=false;
for(var x in obj)
{
any1=any1|x==='__value__';
any2=any2|x==='__wxspec__';
cnt++;
if(cnt>2)break;
}
return cnt == 2 && any1 && any2 && ( all || obj.__wxspec__ !== 'm' || this.hn(obj.__value__) === 'h' ) ? "h" : "n";
}
return "n";
},
nh: function( obj, special )
{
return { __value__: obj, __wxspec__: special ? special : true }
},
rv: function( obj )
{
return this.hn(obj,true)==='n'?obj:this.rv(obj.__value__);
},
hm: function( obj )
{
if( typeof(obj) == 'object' )
{
var cnt=0;
var any1=false,any2=false;
for(var x in obj)
{
any1=any1|x==='__value__';
any2=any2|x==='__wxspec__';
cnt++;
if(cnt>2)break;
}
return cnt == 2 && any1 && any2 && (obj.__wxspec__ === 'm' || this.hm(obj.__value__) );
}
return false;
}
}
return new x;
}
wh=$gwh();
function $gstack(s){
var tmp=s.split('\n '+' '+' '+' ');
for(var i=0;i<tmp.length;++i){
if(0==i) continue;
if(")"===tmp[i][tmp[i].length-1])
tmp[i]=tmp[i].replace(/\s\(.*\)$/,"");
else
tmp[i]="at anonymous function";
}
return tmp.join('\n '+' '+' '+' ');
}
function $gwrt( should_pass_type_info )
{
function ArithmeticEv( ops, e, s, g, o )
{
var _f = false;
var rop = ops[0][1];
var _a,_b,_c,_d, _aa, _bb;
switch( rop )
{
case '?:':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && ( wh.hn(_a) === 'h' );
_d = wh.rv( _a ) ? rev( ops[2], e, s, g, o, _f ) : rev( ops[3], e, s, g, o, _f );
_d = _c && wh.hn( _d ) === 'n' ? wh.nh( _d, 'c' ) : _d;
return _d;
break;
case '&&':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && ( wh.hn(_a) === 'h' );
_d = wh.rv( _a ) ? rev( ops[2], e, s, g, o, _f ) : wh.rv( _a );
_d = _c && wh.hn( _d ) === 'n' ? wh.nh( _d, 'c' ) : _d;
return _d;
break;
case '||':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && ( wh.hn(_a) === 'h' );
_d = wh.rv( _a ) ? wh.rv(_a) : rev( ops[2], e, s, g, o, _f );
_d = _c && wh.hn( _d ) === 'n' ? wh.nh( _d, 'c' ) : _d;
return _d;
break;
case '+':
case '*':
case '/':
case '%':
case '|':
case '^':
case '&':
case '===':
case '==':
case '!=':
case '!==':
case '>=':
case '<=':
case '>':
case '<':
case '<<':
case '>>':
_a = rev( ops[1], e, s, g, o, _f );
_b = rev( ops[2], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) === 'h' || wh.hn( _b ) === 'h');
switch( rop )
{
case '+':
_d = wh.rv( _a ) + wh.rv( _b );
break;
case '*':
_d = wh.rv( _a ) * wh.rv( _b );
break;
case '/':
_d = wh.rv( _a ) / wh.rv( _b );
break;
case '%':
_d = wh.rv( _a ) % wh.rv( _b );
break;
case '|':
_d = wh.rv( _a ) | wh.rv( _b );
break;
case '^':
_d = wh.rv( _a ) ^ wh.rv( _b );
break;
case '&':
_d = wh.rv( _a ) & wh.rv( _b );
break;
case '===':
_d = wh.rv( _a ) === wh.rv( _b );
break;
case '==':
_d = wh.rv( _a ) == wh.rv( _b );
break;
case '!=':
_d = wh.rv( _a ) != wh.rv( _b );
break;
case '!==':
_d = wh.rv( _a ) !== wh.rv( _b );
break;
case '>=':
_d = wh.rv( _a ) >= wh.rv( _b );
break;
case '<=':
_d = wh.rv( _a ) <= wh.rv( _b );
break;
case '>':
_d = wh.rv( _a ) > wh.rv( _b );
break;
case '<':
_d = wh.rv( _a ) < wh.rv( _b );
break;
case '<<':
_d = wh.rv( _a ) << wh.rv( _b );
break;
case '>>':
_d = wh.rv( _a ) >> wh.rv( _b );
break;
default:
break;
}
return _c ? wh.nh( _d, "c" ) : _d;
break;
case '-':
_a = ops.length === 3 ? rev( ops[1], e, s, g, o, _f ) : 0;
_b = ops.length === 3 ? rev( ops[2], e, s, g, o, _f ) : rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) === 'h' || wh.hn( _b ) === 'h');
_d = _c ? wh.rv( _a ) - wh.rv( _b ) : _a - _b;
return _c ? wh.nh( _d, "c" ) : _d;
break;
case '!':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) == 'h');
_d = !wh.rv(_a);
return _c ? wh.nh( _d, "c" ) : _d;
case '~':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) == 'h');
_d = ~wh.rv(_a);
return _c ? wh.nh( _d, "c" ) : _d;
default:
$gwn('unrecognized op' + rop );
}
}
function rev( ops, e, s, g, o, newap )
{
var op = ops[0];
var _f = false;
if ( typeof newap !== "undefined" ) o.ap = newap;
if( typeof(op)==='object' )
{
var vop=op[0];
var _a, _aa, _b, _bb, _c, _d, _s, _e, _ta, _tb, _td;
switch(vop)
{
case 2:
return ArithmeticEv(ops,e,s,g,o);
break;
case 4: 
return rev( ops[1], e, s, g, o, _f );
break;
case 5: 
switch( ops.length )
{
case 2: 
_a = rev( ops[1],e,s,g,o,_f );
return should_pass_type_info?[_a]:[wh.rv(_a)];
return [_a];
break;
case 1: 
return [];
break;
default:
_a = rev( ops[1],e,s,g,o,_f );
_b = rev( ops[2],e,s,g,o,_f );
_a.push( 
should_pass_type_info ?
_b :
wh.rv( _b )
);
return _a;
break;
}
break;
case 6:
_a = rev(ops[1],e,s,g,o);
var ap = o.ap;
_ta = wh.hn(_a)==='h';
_aa = _ta ? wh.rv(_a) : _a;
o.is_affected |= _ta;
if( should_pass_type_info )
{
if( _aa===null || typeof(_aa) === 'undefined' )
{
return _ta ? wh.nh(undefined, 'e') : undefined;
}
_b = rev(ops[2],e,s,g,o,_f);
_tb = wh.hn(_b) === 'h';
_bb = _tb ? wh.rv(_b) : _b;
o.ap = ap;
o.is_affected |= _tb;
if( _bb===null || typeof(_bb) === 'undefined' || 
_bb === "__proto__" || _bb === "prototype" || _bb === "caller" ) 
{
return (_ta || _tb) ? wh.nh(undefined, 'e') : undefined;
}
_d = _aa[_bb];
if ( typeof _d === 'function' && !ap ) _d = undefined;
_td = wh.hn(_d)==='h';
o.is_affected |= _td;
return (_ta || _tb) ? (_td ? _d : wh.nh(_d, 'e')) : _d;
}
else
{
if( _aa===null || typeof(_aa) === 'undefined' )
{
return undefined;
}
_b = rev(ops[2],e,s,g,o,_f);
_tb = wh.hn(_b) === 'h';
_bb = _tb ? wh.rv(_b) : _b;
o.ap = ap;
o.is_affected |= _tb;
if( _bb===null || typeof(_bb) === 'undefined' || 
_bb === "__proto__" || _bb === "prototype" || _bb === "caller" ) 
{
return undefined;
}
_d = _aa[_bb];
if ( typeof _d === 'function' && !ap ) _d = undefined;
_td = wh.hn(_d)==='h';
o.is_affected |= _td;
return _td ? wh.rv(_d) : _d;
}
case 7: 
switch(ops[1][0])
{
case 11:
o.is_affected |= wh.hn(g)==='h';
return g;
case 3:
_s = wh.rv( s );
_e = wh.rv( e );
_b = ops[1][1];
if (g && g.f && g.f.hasOwnProperty(_b) )
{
_a = g.f;
o.ap = true;
}
else
{
_a = _s && _s.hasOwnProperty(_b) ? 
s : (_e && _e.hasOwnProperty(_b) ? e : undefined );
}
if( should_pass_type_info )
{
if( _a )
{
_ta = wh.hn(_a) === 'h';
_aa = _ta ? wh.rv( _a ) : _a;
_d = _aa[_b];
_td = wh.hn(_d) === 'h';
o.is_affected |= _ta || _td;
_d = _ta && !_td ? wh.nh(_d,'e') : _d;
return _d;
}
}
else
{
if( _a )
{
_ta = wh.hn(_a) === 'h';
_aa = _ta ? wh.rv( _a ) : _a;
_d = _aa[_b];
_td = wh.hn(_d) === 'h';
o.is_affected |= _ta || _td;
return wh.rv(_d);
}
}
return undefined;
}
break;
case 8: 
_a = {};
_a[ops[1]] = rev(ops[2],e,s,g,o,_f);
return _a;
break;
case 9: 
_a = rev(ops[1],e,s,g,o,_f);
_b = rev(ops[2],e,s,g,o,_f);
function merge( _a, _b, _ow )
{
var ka, _bbk;
_ta = wh.hn(_a)==='h';
_tb = wh.hn(_b)==='h';
_aa = wh.rv(_a);
_bb = wh.rv(_b);
for(var k in _bb)
{
if ( _ow || !_aa.hasOwnProperty(k) )
{
_aa[k] = should_pass_type_info ? (_tb ? wh.nh(_bb[k],'e') : _bb[k]) : wh.rv(_bb[k]);
}
}
return _a;
}
var _c = _a
var _ow = true
if ( typeof(ops[1][0]) === "object" && ops[1][0][0] === 10 ) {
_a = _b
_b = _c
_ow = false
}
if ( typeof(ops[1][0]) === "object" && ops[1][0][0] === 10 ) {
var _r = {}
return merge( merge( _r, _a, _ow ), _b, _ow );
}
else
return merge( _a, _b, _ow );
break;
case 10:
_a = rev(ops[1],e,s,g,o,_f);
_a = should_pass_type_info ? _a : wh.rv( _a );
return _a ;
break;
case 12:
var _r;
_a = rev(ops[1],e,s,g,o);
if ( !o.ap )
{
return should_pass_type_info && wh.hn(_a)==='h' ? wh.nh( _r, 'f' ) : _r;
}
var ap = o.ap;
_b = rev(ops[2],e,s,g,o,_f);
o.ap = ap;
_ta = wh.hn(_a)==='h';
_tb = _ca(_b);
_aa = wh.rv(_a);	
_bb = wh.rv(_b); snap_bb=$gdc(_bb,"nv_");
try{
_r = typeof _aa === "function" ? $gdc(_aa.apply(null, snap_bb)) : undefined;
} catch (e){
e.message = e.message.replace(/nv_/g,"");
e.stack = e.stack.substring(0,e.stack.indexOf("\n", e.stack.lastIndexOf("at nv_")));
e.stack = e.stack.replace(/\snv_/g," "); 
e.stack = $gstack(e.stack);	
if(g.debugInfo)
{
e.stack += "\n "+" "+" "+" at "+g.debugInfo[0]+":"+g.debugInfo[1]+":"+g.debugInfo[2];
console.error(e);
}
_r = undefined;
}
return should_pass_type_info && (_tb || _ta) ? wh.nh( _r, 'f' ) : _r;
}
}
else
{
if( op === 3 || op === 1) return ops[1];
else if( op === 11 ) 
{
var _a='';
for( var i = 1 ; i < ops.length ; i++ )
{
var xp = wh.rv(rev(ops[i],e,s,g,o,_f));
_a += typeof(xp) === 'undefined' ? '' : xp;
}
return _a;
}
}
}
function wrapper( ops, e, s, g, o, newap )
{
if( ops[0] == '11182016' )
{
g.debugInfo = ops[2];
return rev( ops[1], e, s, g, o, newap );
}
else
{
g.debugInfo = null;
return rev( ops, e, s, g, o, newap );
}
}
return wrapper;
}
gra=$gwrt(true); 
grb=$gwrt(false); 
function TestTest( expr, ops, e,s,g, expect_a, expect_b, expect_affected )
{
{
var o = {is_affected:false};
var a = gra( ops, e,s,g, o );
if( JSON.stringify(a) != JSON.stringify( expect_a )
|| o.is_affected != expect_affected )
{
console.warn( "A. " + expr + " get result " + JSON.stringify(a) + ", " + o.is_affected + ", but " + JSON.stringify( expect_a ) + ", " + expect_affected + " is expected" );
}
}
{
var o = {is_affected:false};
var a = grb( ops, e,s,g, o );
if( JSON.stringify(a) != JSON.stringify( expect_b )
|| o.is_affected != expect_affected )
{
console.warn( "B. " + expr + " get result " + JSON.stringify(a) + ", " + o.is_affected + ", but " + JSON.stringify( expect_b ) + ", " + expect_affected + " is expected" );
}
}
}

function wfor( to_iter, func, env, _s, global, father, itemname, indexname, keyname )
{
var _n = wh.hn( to_iter ) === 'n'; 
var scope = wh.rv( _s ); 
var has_old_item = scope.hasOwnProperty(itemname);
var has_old_index = scope.hasOwnProperty(indexname);
var old_item = scope[itemname];
var old_index = scope[indexname];
var full = Object.prototype.toString.call(wh.rv(to_iter));
var type = full[8]; 
if( type === 'N' && full[10] === 'l' ) type = 'X'; 
var _y;
if( _n )
{
if( type === 'A' ) 
{
var r_iter_item;
for( var i = 0 ; i < to_iter.length ; i++ )
{
scope[itemname] = to_iter[i];
scope[indexname] = _n ? i : wh.nh(i, 'h');
r_iter_item = wh.rv(to_iter[i]);
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y = _v(key);
_(father,_y);
func( env, scope, _y, global );
}
}
else if( type === 'O' ) 
{
var i = 0;
var r_iter_item;
for( var k in to_iter )
{
scope[itemname] = to_iter[k];
scope[indexname] = _n ? k : wh.nh(k, 'h');
r_iter_item = wh.rv(to_iter[k]);
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y = _v(key);
_(father,_y);
func( env,scope,_y,global );
i++;
}
}
else if( type === 'S' ) 
{
for( var i = 0 ; i < to_iter.length ; i++ )
{
scope[itemname] = to_iter[i];
scope[indexname] = _n ? i : wh.nh(i, 'h');
_y = _v( to_iter[i] + i );
_(father,_y);
func( env,scope,_y,global );
}
}
else if( type === 'N' ) 
{
for( var i = 0 ; i < to_iter ; i++ )
{
scope[itemname] = i;
scope[indexname] = _n ? i : wh.nh(i, 'h');
_y = _v( i );
_(father,_y);
func(env,scope,_y,global);
}
}
else
{
}
}
else
{
var r_to_iter = wh.rv(to_iter);
var r_iter_item, iter_item;
if( type === 'A' ) 
{
for( var i = 0 ; i < r_to_iter.length ; i++ )
{
iter_item = r_to_iter[i];
iter_item = wh.hn(iter_item)==='n' ? wh.nh(iter_item,'h') : iter_item;
r_iter_item = wh.rv( iter_item );
scope[itemname] = iter_item
scope[indexname] = _n ? i : wh.nh(i, 'h');
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y = _v(key);
_(father,_y);
func( env, scope, _y, global );
}
}
else if( type === 'O' ) 
{
var i=0;
for( var k in r_to_iter )
{
iter_item = r_to_iter[k];
iter_item = wh.hn(iter_item)==='n'? wh.nh(iter_item,'h') : iter_item;
r_iter_item = wh.rv( iter_item );
scope[itemname] = iter_item;
scope[indexname] = _n ? k : wh.nh(k, 'h');
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y=_v(key);
_(father,_y);
func( env, scope, _y, global );
i++
}
}
else if( type === 'S' ) 
{
for( var i = 0 ; i < r_to_iter.length ; i++ )
{
iter_item = wh.nh(r_to_iter[i],'h');
scope[itemname] = iter_item;
scope[indexname] = _n ? i : wh.nh(i, 'h');
_y = _v( to_iter[i] + i );
_(father,_y);
func( env, scope, _y, global );
}
}
else if( type === 'N' ) 
{
for( var i = 0 ; i < r_to_iter ; i++ )
{
iter_item = wh.nh(i,'h');
scope[itemname] = iter_item;
scope[indexname]= _n ? i : wh.nh(i,'h');
_y = _v( i );
_(father,_y);
func(env,scope,_y,global);
}
}
else
{
}
}
if(has_old_item)
{
scope[itemname]=old_item;
}
else
{
delete scope[itemname];
}
if(has_old_index)
{
scope[indexname]=old_index;
}
else
{
delete scope[indexname];
}
}

function _ca(o)
{ 
if ( wh.hn(o) == 'h' ) return true;
if ( typeof o !== "object" ) return false;
for(var i in o){ 
if ( o.hasOwnProperty(i) ){
if (_ca(o[i])) return true;
}
}
return false;
}
function _da( node, attrname, opindex, raw, o )
{
var isaffected = false;
var value = $gdc( raw, "", 2 );
if ( o.ap && value && value.constructor===Function ) 
{
attrname = "$wxs:" + attrname; 
node.attr["$gdc"] = $gdc;
}
if ( o.is_affected || _ca(raw) ) 
{
node.n.push( attrname );
node.raw[attrname] = raw;
}
node.attr[attrname] = value;
}
function _r( node, attrname, opindex, env, scope, global ) 
{
global.opindex=opindex;
var o = {}, _env;
var a = grb( z[opindex], env, scope, global, o );
_da( node, attrname, opindex, a, o );
}
function _rz( z, node, attrname, opindex, env, scope, global ) 
{
global.opindex=opindex;
var o = {}, _env;
var a = grb( z[opindex], env, scope, global, o );
_da( node, attrname, opindex, a, o );
}
function _o( opindex, env, scope, global )
{
global.opindex=opindex;
var nothing = {};
var r = grb( z[opindex], env, scope, global, nothing );
return (r&&r.constructor===Function) ? undefined : r;
}
function _oz( z, opindex, env, scope, global )
{
global.opindex=opindex;
var nothing = {};
var r = grb( z[opindex], env, scope, global, nothing );
return (r&&r.constructor===Function) ? undefined : r;
}
function _1( opindex, env, scope, global, o )
{
var o = o || {};
global.opindex=opindex;
return gra( z[opindex], env, scope, global, o );
}
function _1z( z, opindex, env, scope, global, o )
{
var o = o || {};
global.opindex=opindex;
return gra( z[opindex], env, scope, global, o );
}
function _2( opindex, func, env, scope, global, father, itemname, indexname, keyname )
{
var o = {};
var to_iter = _1( opindex, env, scope, global );
wfor( to_iter, func, env, scope, global, father, itemname, indexname, keyname );
}
function _2z( z, opindex, func, env, scope, global, father, itemname, indexname, keyname )
{
var o = {};
var to_iter = _1z( z, opindex, env, scope, global );
wfor( to_iter, func, env, scope, global, father, itemname, indexname, keyname );
}


function _m(tag,attrs,generics,env,scope,global)
{
var tmp=_n(tag);
var base=0;
for(var i = 0 ; i < attrs.length ; i+=2 )
{
if(base+attrs[i+1]<0)
{
tmp.attr[attrs[i]]=true;
}
else
{
_r(tmp,attrs[i],base+attrs[i+1],env,scope,global);
if(base===0)base=attrs[i+1];
}
}
for(var i=0;i<generics.length;i+=2)
{
if(base+generics[i+1]<0)
{
tmp.generics[generics[i]]="";
}
else
{
var $t=grb(z[base+generics[i+1]],env,scope,global);
if ($t!="") $t="wx-"+$t;
tmp.generics[generics[i]]=$t;
if(base===0)base=generics[i+1];
}
}
return tmp;
}
function _mz(z,tag,attrs,generics,env,scope,global)
{
var tmp=_n(tag);
var base=0;
for(var i = 0 ; i < attrs.length ; i+=2 )
{
if(base+attrs[i+1]<0)
{
tmp.attr[attrs[i]]=true;
}
else
{
_rz(z, tmp,attrs[i],base+attrs[i+1],env,scope,global);
if(base===0)base=attrs[i+1];
}
}
for(var i=0;i<generics.length;i+=2)
{
if(base+generics[i+1]<0)
{
tmp.generics[generics[i]]="";
}
else
{
var $t=grb(z[base+generics[i+1]],env,scope,global);
if ($t!="") $t="wx-"+$t;
tmp.generics[generics[i]]=$t;
if(base===0)base=generics[i+1];
}
}
return tmp;
}

var nf_init=function(){
if(typeof __WXML_GLOBAL__==="undefined"||undefined===__WXML_GLOBAL__.wxs_nf_init){
nf_init_Object();nf_init_Function();nf_init_Array();nf_init_String();nf_init_Boolean();nf_init_Number();nf_init_Math();nf_init_Date();nf_init_RegExp();
}
if(typeof __WXML_GLOBAL__!=="undefined") __WXML_GLOBAL__.wxs_nf_init=true;
};
var nf_init_Object=function(){
Object.defineProperty(Object.prototype,"nv_constructor",{writable:true,value:"Object"})
Object.defineProperty(Object.prototype,"nv_toString",{writable:true,value:function(){return "[object Object]"}})
}
var nf_init_Function=function(){
Object.defineProperty(Function.prototype,"nv_constructor",{writable:true,value:"Function"})
Object.defineProperty(Function.prototype,"nv_length",{get:function(){return this.length;},set:function(){}});
Object.defineProperty(Function.prototype,"nv_toString",{writable:true,value:function(){return "[function Function]"}})
}
var nf_init_Array=function(){
Object.defineProperty(Array.prototype,"nv_toString",{writable:true,value:function(){return this.nv_join();}})
Object.defineProperty(Array.prototype,"nv_join",{writable:true,value:function(s){
s=undefined==s?',':s;
var r="";
for(var i=0;i<this.length;++i){
if(0!=i) r+=s;
if(null==this[i]||undefined==this[i]) r+='';	
else if(typeof this[i]=='function') r+=this[i].nv_toString();
else if(typeof this[i]=='object'&&this[i].nv_constructor==="Array") r+=this[i].nv_join();
else r+=this[i].toString();
}
return r;
}})
Object.defineProperty(Array.prototype,"nv_constructor",{writable:true,value:"Array"})
Object.defineProperty(Array.prototype,"nv_concat",{writable:true,value:Array.prototype.concat})
Object.defineProperty(Array.prototype,"nv_pop",{writable:true,value:Array.prototype.pop})
Object.defineProperty(Array.prototype,"nv_push",{writable:true,value:Array.prototype.push})
Object.defineProperty(Array.prototype,"nv_reverse",{writable:true,value:Array.prototype.reverse})
Object.defineProperty(Array.prototype,"nv_shift",{writable:true,value:Array.prototype.shift})
Object.defineProperty(Array.prototype,"nv_slice",{writable:true,value:Array.prototype.slice})
Object.defineProperty(Array.prototype,"nv_sort",{writable:true,value:Array.prototype.sort})
Object.defineProperty(Array.prototype,"nv_splice",{writable:true,value:Array.prototype.splice})
Object.defineProperty(Array.prototype,"nv_unshift",{writable:true,value:Array.prototype.unshift})
Object.defineProperty(Array.prototype,"nv_indexOf",{writable:true,value:Array.prototype.indexOf})
Object.defineProperty(Array.prototype,"nv_lastIndexOf",{writable:true,value:Array.prototype.lastIndexOf})
Object.defineProperty(Array.prototype,"nv_every",{writable:true,value:Array.prototype.every})
Object.defineProperty(Array.prototype,"nv_some",{writable:true,value:Array.prototype.some})
Object.defineProperty(Array.prototype,"nv_forEach",{writable:true,value:Array.prototype.forEach})
Object.defineProperty(Array.prototype,"nv_map",{writable:true,value:Array.prototype.map})
Object.defineProperty(Array.prototype,"nv_filter",{writable:true,value:Array.prototype.filter})
Object.defineProperty(Array.prototype,"nv_reduce",{writable:true,value:Array.prototype.reduce})
Object.defineProperty(Array.prototype,"nv_reduceRight",{writable:true,value:Array.prototype.reduceRight})
Object.defineProperty(Array.prototype,"nv_length",{get:function(){return this.length;},set:function(value){this.length=value;}});
}
var nf_init_String=function(){
Object.defineProperty(String.prototype,"nv_constructor",{writable:true,value:"String"})
Object.defineProperty(String.prototype,"nv_toString",{writable:true,value:String.prototype.toString})
Object.defineProperty(String.prototype,"nv_valueOf",{writable:true,value:String.prototype.valueOf})
Object.defineProperty(String.prototype,"nv_charAt",{writable:true,value:String.prototype.charAt})
Object.defineProperty(String.prototype,"nv_charCodeAt",{writable:true,value:String.prototype.charCodeAt})
Object.defineProperty(String.prototype,"nv_concat",{writable:true,value:String.prototype.concat})
Object.defineProperty(String.prototype,"nv_indexOf",{writable:true,value:String.prototype.indexOf})
Object.defineProperty(String.prototype,"nv_lastIndexOf",{writable:true,value:String.prototype.lastIndexOf})
Object.defineProperty(String.prototype,"nv_localeCompare",{writable:true,value:String.prototype.localeCompare})
Object.defineProperty(String.prototype,"nv_match",{writable:true,value:String.prototype.match})
Object.defineProperty(String.prototype,"nv_replace",{writable:true,value:String.prototype.replace})
Object.defineProperty(String.prototype,"nv_search",{writable:true,value:String.prototype.search})
Object.defineProperty(String.prototype,"nv_slice",{writable:true,value:String.prototype.slice})
Object.defineProperty(String.prototype,"nv_split",{writable:true,value:String.prototype.split})
Object.defineProperty(String.prototype,"nv_substring",{writable:true,value:String.prototype.substring})
Object.defineProperty(String.prototype,"nv_toLowerCase",{writable:true,value:String.prototype.toLowerCase})
Object.defineProperty(String.prototype,"nv_toLocaleLowerCase",{writable:true,value:String.prototype.toLocaleLowerCase})
Object.defineProperty(String.prototype,"nv_toUpperCase",{writable:true,value:String.prototype.toUpperCase})
Object.defineProperty(String.prototype,"nv_toLocaleUpperCase",{writable:true,value:String.prototype.toLocaleUpperCase})
Object.defineProperty(String.prototype,"nv_trim",{writable:true,value:String.prototype.trim})
Object.defineProperty(String.prototype,"nv_length",{get:function(){return this.length;},set:function(value){this.length=value;}});
}
var nf_init_Boolean=function(){
Object.defineProperty(Boolean.prototype,"nv_constructor",{writable:true,value:"Boolean"})
Object.defineProperty(Boolean.prototype,"nv_toString",{writable:true,value:Boolean.prototype.toString})
Object.defineProperty(Boolean.prototype,"nv_valueOf",{writable:true,value:Boolean.prototype.valueOf})
}
var nf_init_Number=function(){
Object.defineProperty(Number,"nv_MAX_VALUE",{writable:false,value:Number.MAX_VALUE})
Object.defineProperty(Number,"nv_MIN_VALUE",{writable:false,value:Number.MIN_VALUE})
Object.defineProperty(Number,"nv_NEGATIVE_INFINITY",{writable:false,value:Number.NEGATIVE_INFINITY})
Object.defineProperty(Number,"nv_POSITIVE_INFINITY",{writable:false,value:Number.POSITIVE_INFINITY})
Object.defineProperty(Number.prototype,"nv_constructor",{writable:true,value:"Number"})
Object.defineProperty(Number.prototype,"nv_toString",{writable:true,value:Number.prototype.toString})
Object.defineProperty(Number.prototype,"nv_toLocaleString",{writable:true,value:Number.prototype.toLocaleString})
Object.defineProperty(Number.prototype,"nv_valueOf",{writable:true,value:Number.prototype.valueOf})
Object.defineProperty(Number.prototype,"nv_toFixed",{writable:true,value:Number.prototype.toFixed})
Object.defineProperty(Number.prototype,"nv_toExponential",{writable:true,value:Number.prototype.toExponential})
Object.defineProperty(Number.prototype,"nv_toPrecision",{writable:true,value:Number.prototype.toPrecision})
}
var nf_init_Math=function(){
Object.defineProperty(Math,"nv_E",{writable:false,value:Math.E})
Object.defineProperty(Math,"nv_LN10",{writable:false,value:Math.LN10})
Object.defineProperty(Math,"nv_LN2",{writable:false,value:Math.LN2})
Object.defineProperty(Math,"nv_LOG2E",{writable:false,value:Math.LOG2E})
Object.defineProperty(Math,"nv_LOG10E",{writable:false,value:Math.LOG10E})
Object.defineProperty(Math,"nv_PI",{writable:false,value:Math.PI})
Object.defineProperty(Math,"nv_SQRT1_2",{writable:false,value:Math.SQRT1_2})
Object.defineProperty(Math,"nv_SQRT2",{writable:false,value:Math.SQRT2})
Object.defineProperty(Math,"nv_abs",{writable:false,value:Math.abs})
Object.defineProperty(Math,"nv_acos",{writable:false,value:Math.acos})
Object.defineProperty(Math,"nv_asin",{writable:false,value:Math.asin})
Object.defineProperty(Math,"nv_atan",{writable:false,value:Math.atan})
Object.defineProperty(Math,"nv_atan2",{writable:false,value:Math.atan2})
Object.defineProperty(Math,"nv_ceil",{writable:false,value:Math.ceil})
Object.defineProperty(Math,"nv_cos",{writable:false,value:Math.cos})
Object.defineProperty(Math,"nv_exp",{writable:false,value:Math.exp})
Object.defineProperty(Math,"nv_floor",{writable:false,value:Math.floor})
Object.defineProperty(Math,"nv_log",{writable:false,value:Math.log})
Object.defineProperty(Math,"nv_max",{writable:false,value:Math.max})
Object.defineProperty(Math,"nv_min",{writable:false,value:Math.min})
Object.defineProperty(Math,"nv_pow",{writable:false,value:Math.pow})
Object.defineProperty(Math,"nv_random",{writable:false,value:Math.random})
Object.defineProperty(Math,"nv_round",{writable:false,value:Math.round})
Object.defineProperty(Math,"nv_sin",{writable:false,value:Math.sin})
Object.defineProperty(Math,"nv_sqrt",{writable:false,value:Math.sqrt})
Object.defineProperty(Math,"nv_tan",{writable:false,value:Math.tan})
}
var nf_init_Date=function(){
Object.defineProperty(Date.prototype,"nv_constructor",{writable:true,value:"Date"})
Object.defineProperty(Date,"nv_parse",{writable:true,value:Date.parse})
Object.defineProperty(Date,"nv_UTC",{writable:true,value:Date.UTC})
Object.defineProperty(Date,"nv_now",{writable:true,value:Date.now})
Object.defineProperty(Date.prototype,"nv_toString",{writable:true,value:Date.prototype.toString})
Object.defineProperty(Date.prototype,"nv_toDateString",{writable:true,value:Date.prototype.toDateString})
Object.defineProperty(Date.prototype,"nv_toTimeString",{writable:true,value:Date.prototype.toTimeString})
Object.defineProperty(Date.prototype,"nv_toLocaleString",{writable:true,value:Date.prototype.toLocaleString})
Object.defineProperty(Date.prototype,"nv_toLocaleDateString",{writable:true,value:Date.prototype.toLocaleDateString})
Object.defineProperty(Date.prototype,"nv_toLocaleTimeString",{writable:true,value:Date.prototype.toLocaleTimeString})
Object.defineProperty(Date.prototype,"nv_valueOf",{writable:true,value:Date.prototype.valueOf})
Object.defineProperty(Date.prototype,"nv_getTime",{writable:true,value:Date.prototype.getTime})
Object.defineProperty(Date.prototype,"nv_getFullYear",{writable:true,value:Date.prototype.getFullYear})
Object.defineProperty(Date.prototype,"nv_getUTCFullYear",{writable:true,value:Date.prototype.getUTCFullYear})
Object.defineProperty(Date.prototype,"nv_getMonth",{writable:true,value:Date.prototype.getMonth})
Object.defineProperty(Date.prototype,"nv_getUTCMonth",{writable:true,value:Date.prototype.getUTCMonth})
Object.defineProperty(Date.prototype,"nv_getDate",{writable:true,value:Date.prototype.getDate})
Object.defineProperty(Date.prototype,"nv_getUTCDate",{writable:true,value:Date.prototype.getUTCDate})
Object.defineProperty(Date.prototype,"nv_getDay",{writable:true,value:Date.prototype.getDay})
Object.defineProperty(Date.prototype,"nv_getUTCDay",{writable:true,value:Date.prototype.getUTCDay})
Object.defineProperty(Date.prototype,"nv_getHours",{writable:true,value:Date.prototype.getHours})
Object.defineProperty(Date.prototype,"nv_getUTCHours",{writable:true,value:Date.prototype.getUTCHours})
Object.defineProperty(Date.prototype,"nv_getMinutes",{writable:true,value:Date.prototype.getMinutes})
Object.defineProperty(Date.prototype,"nv_getUTCMinutes",{writable:true,value:Date.prototype.getUTCMinutes})
Object.defineProperty(Date.prototype,"nv_getSeconds",{writable:true,value:Date.prototype.getSeconds})
Object.defineProperty(Date.prototype,"nv_getUTCSeconds",{writable:true,value:Date.prototype.getUTCSeconds})
Object.defineProperty(Date.prototype,"nv_getMilliseconds",{writable:true,value:Date.prototype.getMilliseconds})
Object.defineProperty(Date.prototype,"nv_getUTCMilliseconds",{writable:true,value:Date.prototype.getUTCMilliseconds})
Object.defineProperty(Date.prototype,"nv_getTimezoneOffset",{writable:true,value:Date.prototype.getTimezoneOffset})
Object.defineProperty(Date.prototype,"nv_setTime",{writable:true,value:Date.prototype.setTime})
Object.defineProperty(Date.prototype,"nv_setMilliseconds",{writable:true,value:Date.prototype.setMilliseconds})
Object.defineProperty(Date.prototype,"nv_setUTCMilliseconds",{writable:true,value:Date.prototype.setUTCMilliseconds})
Object.defineProperty(Date.prototype,"nv_setSeconds",{writable:true,value:Date.prototype.setSeconds})
Object.defineProperty(Date.prototype,"nv_setUTCSeconds",{writable:true,value:Date.prototype.setUTCSeconds})
Object.defineProperty(Date.prototype,"nv_setMinutes",{writable:true,value:Date.prototype.setMinutes})
Object.defineProperty(Date.prototype,"nv_setUTCMinutes",{writable:true,value:Date.prototype.setUTCMinutes})
Object.defineProperty(Date.prototype,"nv_setHours",{writable:true,value:Date.prototype.setHours})
Object.defineProperty(Date.prototype,"nv_setUTCHours",{writable:true,value:Date.prototype.setUTCHours})
Object.defineProperty(Date.prototype,"nv_setDate",{writable:true,value:Date.prototype.setDate})
Object.defineProperty(Date.prototype,"nv_setUTCDate",{writable:true,value:Date.prototype.setUTCDate})
Object.defineProperty(Date.prototype,"nv_setMonth",{writable:true,value:Date.prototype.setMonth})
Object.defineProperty(Date.prototype,"nv_setUTCMonth",{writable:true,value:Date.prototype.setUTCMonth})
Object.defineProperty(Date.prototype,"nv_setFullYear",{writable:true,value:Date.prototype.setFullYear})
Object.defineProperty(Date.prototype,"nv_setUTCFullYear",{writable:true,value:Date.prototype.setUTCFullYear})
Object.defineProperty(Date.prototype,"nv_toUTCString",{writable:true,value:Date.prototype.toUTCString})
Object.defineProperty(Date.prototype,"nv_toISOString",{writable:true,value:Date.prototype.toISOString})
Object.defineProperty(Date.prototype,"nv_toJSON",{writable:true,value:Date.prototype.toJSON})
}
var nf_init_RegExp=function(){
Object.defineProperty(RegExp.prototype,"nv_constructor",{writable:true,value:"RegExp"})
Object.defineProperty(RegExp.prototype,"nv_exec",{writable:true,value:RegExp.prototype.exec})
Object.defineProperty(RegExp.prototype,"nv_test",{writable:true,value:RegExp.prototype.test})
Object.defineProperty(RegExp.prototype,"nv_toString",{writable:true,value:RegExp.prototype.toString})
Object.defineProperty(RegExp.prototype,"nv_source",{get:function(){return this.source;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_global",{get:function(){return this.global;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_ignoreCase",{get:function(){return this.ignoreCase;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_multiline",{get:function(){return this.multiline;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_lastIndex",{get:function(){return this.lastIndex;},set:function(v){this.lastIndex=v;}});
}
nf_init();
var nv_getDate=function(){var args=Array.prototype.slice.call(arguments);args.unshift(Date);return new(Function.prototype.bind.apply(Date, args));}
var nv_getRegExp=function(){var args=Array.prototype.slice.call(arguments);args.unshift(RegExp);return new(Function.prototype.bind.apply(RegExp, args));}
var nv_console={}
nv_console.nv_log=function(){var res="WXSRT:";for(var i=0;i<arguments.length;++i)res+=arguments[i]+" ";console.log(res);}
var nv_parseInt = parseInt, nv_parseFloat = parseFloat, nv_isNaN = isNaN, nv_isFinite = isFinite, nv_decodeURI = decodeURI, nv_decodeURIComponent = decodeURIComponent, nv_encodeURI = encodeURI, nv_encodeURIComponent = encodeURIComponent;
function $gdc(o,p,r) {
o=wh.rv(o);
if(o===null||o===undefined) return o;
if(o.constructor===String||o.constructor===Boolean||o.constructor===Number) return o;
if(o.constructor===Object){
var copy={};
for(var k in o)
if(o.hasOwnProperty(k))
if(undefined===p) copy[k.substring(3)]=$gdc(o[k],p,r);
else copy[p+k]=$gdc(o[k],p,r);
return copy;
}
if(o.constructor===Array){
var copy=[];
for(var i=0;i<o.length;i++) copy.push($gdc(o[i],p,r));
return copy;
}
if(o.constructor===Date){
var copy=new Date();
copy.setTime(o.getTime());
return copy;
}
if(o.constructor===RegExp){
var f="";
if(o.global) f+="g";
if(o.ignoreCase) f+="i";
if(o.multiline) f+="m";
return (new RegExp(o.source,f));
}
if(r&&o.constructor===Function){
if ( r == 1 ) return $gdc(o(),undefined, 2);
if ( r == 2 ) return o;
}
return null;
}
var nv_JSON={}
nv_JSON.nv_stringify=function(o){
JSON.stringify(o);
return JSON.stringify($gdc(o));
}
nv_JSON.nv_parse=function(o){
if(o===undefined) return undefined;
var t=JSON.parse(o);
return $gdc(t,'nv_');
}

function _af(p, a, c){
p.extraAttr = {"t_action": a, "t_cid": c};
}

function _ai(i,p,e,me,r,c){var x=_grp(p,e,me);if(x)i.push(x);else{i.push('');_wp(me+':import:'+r+':'+c+': Path `'+p+'` not found from `'+me+'`.')}}
function _grp(p,e,me){if(p[0]!='/'){var mepart=me.split('/');mepart.pop();var ppart=p.split('/');for(var i=0;i<ppart.length;i++){if( ppart[i]=='..')mepart.pop();else if(!ppart[i]||ppart[i]=='.')continue;else mepart.push(ppart[i]);}p=mepart.join('/');}if(me[0]=='.'&&p[0]=='/')p='.'+p;if(e[p])return p;if(e[p+'.wxml'])return p+'.wxml';}
function _gd(p,c,e,d){if(!c)return;if(d[p][c])return d[p][c];for(var x=e[p].i.length-1;x>=0;x--){if(e[p].i[x]&&d[e[p].i[x]][c])return d[e[p].i[x]][c]};for(var x=e[p].ti.length-1;x>=0;x--){var q=_grp(e[p].ti[x],e,p);if(q&&d[q][c])return d[q][c]}var ii=_gapi(e,p);for(var x=0;x<ii.length;x++){if(ii[x]&&d[ii[x]][c])return d[ii[x]][c]}for(var k=e[p].j.length-1;k>=0;k--)if(e[p].j[k]){for(var q=e[e[p].j[k]].ti.length-1;q>=0;q--){var pp=_grp(e[e[p].j[k]].ti[q],e,p);if(pp&&d[pp][c]){return d[pp][c]}}}}
function _gapi(e,p){if(!p)return [];if($gaic[p]){return $gaic[p]};var ret=[],q=[],h=0,t=0,put={},visited={};q.push(p);visited[p]=true;t++;while(h<t){var a=q[h++];for(var i=0;i<e[a].ic.length;i++){var nd=e[a].ic[i];var np=_grp(nd,e,a);if(np&&!visited[np]){visited[np]=true;q.push(np);t++;}}for(var i=0;a!=p&&i<e[a].ti.length;i++){var ni=e[a].ti[i];var nm=_grp(ni,e,a);if(nm&&!put[nm]){put[nm]=true;ret.push(nm);}}}$gaic[p]=ret;return ret;}
var $ixc={};function _ic(p,ent,me,e,s,r,gg){var x=_grp(p,ent,me);ent[me].j.push(x);if(x){if($ixc[x]){_wp('-1:include:-1:-1: `'+p+'` is being included in a loop, will be stop.');return;}$ixc[x]=true;try{ent[x].f(e,s,r,gg)}catch(e){}$ixc[x]=false;}else{_wp(me+':include:-1:-1: Included path `'+p+'` not found from `'+me+'`.')}}
function _w(tn,f,line,c){_wp(f+':template:'+line+':'+c+': Template `'+tn+'` not found.');}function _ev(dom){var changed=false;delete dom.properities;delete dom.n;if(dom.children){do{changed=false;var newch = [];for(var i=0;i<dom.children.length;i++){var ch=dom.children[i];if( ch.tag=='virtual'){changed=true;for(var j=0;ch.children&&j<ch.children.length;j++){newch.push(ch.children[j]);}}else { newch.push(ch); } } dom.children = newch; }while(changed);for(var i=0;i<dom.children.length;i++){_ev(dom.children[i]);}} return dom; }
function _tsd( root )
{
if( root.tag == "wx-wx-scope" ) 
{
root.tag = "virtual";
root.wxCkey = "11";
root['wxScopeData'] = root.attr['wx:scope-data'];
delete root.n;
delete root.raw;
delete root.generics;
delete root.attr;
}
for( var i = 0 ; root.children && i < root.children.length ; i++ )
{
_tsd( root.children[i] );
}
return root;
}

var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx || [];
function gz$gwx_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_1)return __WXML_GLOBAL__.ops_cached.$gwx_1
__WXML_GLOBAL__.ops_cached.$gwx_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'show']])
})(__WXML_GLOBAL__.ops_cached.$gwx_1);return __WXML_GLOBAL__.ops_cached.$gwx_1
}
function gz$gwx_2(){
if( __WXML_GLOBAL__.ops_cached.$gwx_2)return __WXML_GLOBAL__.ops_cached.$gwx_2
__WXML_GLOBAL__.ops_cached.$gwx_2=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'isShow']])
Z([3,'cus-modal-body'])
Z([[7],[3,'titleText']])
Z([[7],[3,'isShowCloseBtn']])
Z([3,'body'])
Z([[2,'&&'],[[7],[3,'buttons']],[[2,'>'],[[6],[[7],[3,'buttons']],[3,'length']],[1,0]]])
Z([3,'footer'])
})(__WXML_GLOBAL__.ops_cached.$gwx_2);return __WXML_GLOBAL__.ops_cached.$gwx_2
}
function gz$gwx_3(){
if( __WXML_GLOBAL__.ops_cached.$gwx_3)return __WXML_GLOBAL__.ops_cached.$gwx_3
__WXML_GLOBAL__.ops_cached.$gwx_3=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'show']])
})(__WXML_GLOBAL__.ops_cached.$gwx_3);return __WXML_GLOBAL__.ops_cached.$gwx_3
}
function gz$gwx_4(){
if( __WXML_GLOBAL__.ops_cached.$gwx_4)return __WXML_GLOBAL__.ops_cached.$gwx_4
__WXML_GLOBAL__.ops_cached.$gwx_4=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_4);return __WXML_GLOBAL__.ops_cached.$gwx_4
}
function gz$gwx_5(){
if( __WXML_GLOBAL__.ops_cached.$gwx_5)return __WXML_GLOBAL__.ops_cached.$gwx_5
__WXML_GLOBAL__.ops_cached.$gwx_5=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'isShow']])
Z([[7],[3,'showCloseBtn']])
})(__WXML_GLOBAL__.ops_cached.$gwx_5);return __WXML_GLOBAL__.ops_cached.$gwx_5
}
function gz$gwx_6(){
if( __WXML_GLOBAL__.ops_cached.$gwx_6)return __WXML_GLOBAL__.ops_cached.$gwx_6
__WXML_GLOBAL__.ops_cached.$gwx_6=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'errPage']])
Z([3,'tapRefresh'])
Z([3,'error-page middle-center-page'])
Z([[7],[3,'err_title']])
Z([[7],[3,'err_content']])
Z([3,'licenceModalChange'])
Z([3,'licence-modal'])
Z([[2,'!'],[[7],[3,'licenceModalVisible']]])
Z([[2,'||'],[[7],[3,'licenceContentTpl']],[1,'login-licence']])
})(__WXML_GLOBAL__.ops_cached.$gwx_6);return __WXML_GLOBAL__.ops_cached.$gwx_6
}
function gz$gwx_7(){
if( __WXML_GLOBAL__.ops_cached.$gwx_7)return __WXML_GLOBAL__.ops_cached.$gwx_7
__WXML_GLOBAL__.ops_cached.$gwx_7=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'showDraw']])
Z([[7],[3,'resultDetail']])
Z([3,'draw-content'])
Z([[2,'=='],[[6],[[7],[3,'resultDetail']],[3,'drawStatus']],[1,1]])
Z([3,'draw-success'])
Z([[6],[[7],[3,'resultDetail']],[3,'bonusCouponList']])
Z([3,'index'])
Z([3,'bonus-right'])
Z([[2,'&&'],[[6],[[7],[3,'item']],[3,'limitDesc']],[[2,'=='],[[6],[[6],[[7],[3,'item']],[3,'limitDesc']],[3,'length']],[1,2]]])
Z([[2,'&&'],[[6],[[7],[3,'item']],[3,'limitDesc']],[[6],[[6],[[7],[3,'item']],[3,'limitDesc']],[3,'length']]])
Z([[6],[[6],[[7],[3,'resultDetail']],[3,'cityCouponList']],[3,'length']])
Z([[6],[[7],[3,'resultDetail']],[3,'cityCouponList']])
Z(z[6])
Z(z[7])
Z(z[8])
Z(z[9])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'costTyp']],[1,2]])
Z(z[3])
Z([[2,'&&'],[[6],[[7],[3,'resultDetail']],[3,'bonusDrawList']],[[2,'>'],[[6],[[6],[[7],[3,'resultDetail']],[3,'bonusDrawList']],[3,'length']],[1,0]]])
Z([[6],[[7],[3,'resultDetail']],[3,'bonusDrawList']])
Z([3,'avatarUrl'])
Z([[6],[[7],[3,'item']],[3,'tag']])
Z(z[3])
})(__WXML_GLOBAL__.ops_cached.$gwx_7);return __WXML_GLOBAL__.ops_cached.$gwx_7
}
function gz$gwx_8(){
if( __WXML_GLOBAL__.ops_cached.$gwx_8)return __WXML_GLOBAL__.ops_cached.$gwx_8
__WXML_GLOBAL__.ops_cached.$gwx_8=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'cinema'])
Z([a,[3,'cinema-container '],[[2,'?:'],[[7],[3,'noline']],[1,''],[1,'one-px-border-bottom']]])
Z([[2,'==='],[[7],[3,'mark']],[1,3]])
Z([[2,'==='],[[7],[3,'mark']],[1,2]])
Z([[2,'==='],[[7],[3,'mark']],[1,1]])
Z([[2,'&&'],[[7],[3,'showPrice']],[[2,'!='],[[7],[3,'showPrice']],[1,0]]])
Z([[2,'&&'],[[7],[3,'isRedName']],[[7],[3,'resolvedDistance']]])
Z([[2,'&&'],[[2,'!'],[[7],[3,'isRedName']]],[[7],[3,'resolvedDistance']]])
Z([3,'tag-list'])
Z([[2,'||'],[[6],[[7],[3,'tag']],[3,'deal']],[[7],[3,'deal']]])
Z([[2,'||'],[[6],[[7],[3,'tag']],[3,'allowRefund']],[[7],[3,'allowRefund']]])
Z([[2,'||'],[[6],[[7],[3,'tag']],[3,'endorse']],[[7],[3,'endorse']]])
Z([[2,'||'],[[6],[[7],[3,'tag']],[3,'snack']],[[7],[3,'snack']]])
Z([[2,'||'],[[6],[[7],[3,'tag']],[3,'vipTag']],[[7],[3,'vipTag']]])
Z([[6],[[7],[3,'tag']],[3,'svip']])
Z([[6],[[7],[3,'promotion']],[3,'platformActivityTag']])
Z([[6],[[7],[3,'promotion']],[3,'merchantActivityTag']])
Z([[6],[[7],[3,'promotion']],[3,'cardPromotionTag']])
Z([[6],[[7],[3,'promotion']],[3,'couponPromotionTag']])
})(__WXML_GLOBAL__.ops_cached.$gwx_8);return __WXML_GLOBAL__.ops_cached.$gwx_8
}
function gz$gwx_9(){
if( __WXML_GLOBAL__.ops_cached.$gwx_9)return __WXML_GLOBAL__.ops_cached.$gwx_9
__WXML_GLOBAL__.ops_cached.$gwx_9=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'select-bar'])
Z([3,'select-body'])
Z([[9],[[9],[[9],[[8],'hidden',[[2,'!'],[[6],[[6],[[7],[3,'selectBarItems']],[1,0]],[3,'isActive']]]],[[8],'selectItems',[[7],[3,'selectItems']]]],[[8],'activeAreaFilter',[[7],[3,'activeAreaFilter']]]],[[8],'selectedItems',[[7],[3,'selectedItems']]]])
Z([3,'area-selector'])
Z([[9],[[9],[[8],'hidden',[[2,'!'],[[6],[[6],[[7],[3,'selectBarItems']],[1,1]],[3,'isActive']]]],[[8],'subItems',[[6],[[6],[[7],[3,'selectItems']],[3,'brand']],[3,'subItems']]]],[[8],'selected',[[6],[[7],[3,'selectedItems']],[3,'brandId']]]])
Z([3,'brand-selector'])
Z([[9],[[9],[[9],[[9],[[8],'hidden',[[2,'!'],[[6],[[6],[[7],[3,'selectBarItems']],[1,2]],[3,'isActive']]]],[[8],'serviceItems',[[6],[[6],[[7],[3,'selectItems']],[3,'service']],[3,'subItems']]]],[[8],'hallItems',[[6],[[6],[[7],[3,'selectItems']],[3,'hallType']],[3,'subItems']]]],[[8],'selectedService',[[6],[[7],[3,'selectedItems']],[3,'serviceId']]]],[[8],'selectedHall',[[6],[[7],[3,'selectedItems']],[3,'hallType']]]])
Z([3,'feature-selector'])
Z(z[5])
Z(z[7])
Z(z[3])
})(__WXML_GLOBAL__.ops_cached.$gwx_9);return __WXML_GLOBAL__.ops_cached.$gwx_9
}
function gz$gwx_10(){
if( __WXML_GLOBAL__.ops_cached.$gwx_10)return __WXML_GLOBAL__.ops_cached.$gwx_10
__WXML_GLOBAL__.ops_cached.$gwx_10=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'showPage']])
Z([a,[[2,'?:'],[[7],[3,'isIphoneX']],[1,'iphonex'],[1,'']],[3,' '],[[2,'?:'],[[6],[[6],[[7],[3,'modal']],[3,'current']],[3,'length']],[1,'dontmove'],[1,'']]])
Z([[2,'&&'],[[6],[[7],[3,'cinema']],[3,'callboardInfo']],[[6],[[6],[[7],[3,'cinema']],[3,'callboardInfo']],[3,'desc']]])
Z([[6],[[7],[3,'cinema']],[3,'nm']])
Z([[6],[[7],[3,'cinema']],[3,'saleInfo']])
Z([[6],[[6],[[7],[3,'cinema']],[3,'saleInfo']],[3,'hasProm']])
Z([[2,'&&'],[[7],[3,'movies']],[[6],[[7],[3,'movies']],[3,'length']]])
Z([[7],[3,'movies']])
Z([[6],[[7],[3,'item']],[3,'preferential']])
Z(z[6])
Z([[6],[[7],[3,'movie']],[3,'id']])
Z([[2,'&&'],[[7],[3,'dates']],[[6],[[7],[3,'dates']],[3,'length']]])
Z([[7],[3,'dates']])
Z([3,'dayChangeHandler'])
Z([a,[3,'tab-item '],[[2,'?:'],[[2,'==='],[[6],[[7],[3,'item']],[3,'day']],[[7],[3,'day']]],[1,'current'],[1,'']]])
Z([[6],[[7],[3,'item']],[3,'day']])
Z([[7],[3,'index']])
Z(z[8])
Z([[6],[[7],[3,'preInfo']],[3,'length']])
Z([[6],[[7],[3,'couponList']],[3,'length']])
Z([[7],[3,'vipInfo']])
Z([[2,'&&'],[[7],[3,'vipInfo']],[[6],[[7],[3,'vipInfo']],[3,'length']]])
Z([[7],[3,'cityCardInfo']])
Z([[2,'&&'],[[7],[3,'cityCardInfo']],[[6],[[7],[3,'cityCardInfo']],[3,'length']]])
Z([[6],[[7],[3,'plist']],[3,'length']])
Z([3,'collectFormId'])
Z([[7],[3,'plist']])
Z([3,'seqNo'])
Z([3,'onTapNavigator'])
Z([[6],[[7],[3,'item']],[3,'forbiddenTip']])
Z([[2,'?:'],[[6],[[7],[3,'item']],[3,'enterShowSeat']],[[2,'+'],[[2,'+'],[[2,'+'],[[2,'+'],[1,'./seat?showId\x3d'],[[6],[[7],[3,'item']],[3,'showId']]],[1,'\x26seqNo\x3d']],[[6],[[7],[3,'item']],[3,'seqNo']]],[[2,'?:'],[[7],[3,'sourceOrderId']],[[2,'+'],[[2,'+'],[[2,'+'],[[2,'+'],[[2,'+'],[1,'\x26sourceOrderId\x3d'],[[7],[3,'sourceOrderId']]],[1,'\x26source\x3d']],[[7],[3,'source']]],[1,'\x26seatCount\x3d']],[[7],[3,'seatCount']]],[1,'']]],[1,'']])
Z([a,[3,'show '],[[2,'?:'],[[6],[[7],[3,'item']],[3,'nextDay']],[1,'show-has-tip'],[1,'']],z[1][2],[[2,'?:'],[[6],[[7],[3,'item']],[3,'preShowTag']],[1,'has-pre-show'],[1,'']]])
Z([[6],[[7],[3,'item']],[3,'nextDay']])
Z([[6],[[7],[3,'item']],[3,'preShowTag']])
Z([3,'maoyan-price-wrapper flex flex-column flex-bottom'])
Z([3,'item.sellPrSuffix'])
Z([[2,'&&'],[[6],[[7],[3,'item']],[3,'vipPrice']],[[6],[[7],[3,'item']],[3,'vipPriceName']]])
Z([[6],[[7],[3,'item']],[3,'extraDescNew']])
Z([3,'show-buy'])
Z([[2,'||'],[[2,'<='],[[6],[[7],[3,'item']],[3,'ticketStatus']],[1,3]],[[2,'==='],[[6],[[7],[3,'item']],[3,'ticketStatus']],[1,5]]])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'ticketStatus']],[1,0]])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'ticketStatus']],[1,1]])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'ticketStatus']],[1,2]])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'ticketStatus']],[1,3]])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'ticketStatus']],[1,5]])
Z([[2,'&&'],[[2,'&&'],[[6],[[7],[3,'cinema']],[3,'sell']],[[6],[[7],[3,'movie']],[3,'id']]],[[2,'!'],[[6],[[7],[3,'plist']],[3,'length']]]])
Z([[2,'>'],[[6],[[7],[3,'dates']],[3,'length']],[1,1]])
Z([[2,'&&'],[[6],[[7],[3,'cinema']],[3,'cinemaId']],[[2,'||'],[[2,'!'],[[6],[[7],[3,'cinema']],[3,'sell']]],[[2,'!'],[[6],[[7],[3,'movies']],[3,'length']]]]])
Z([[2,'!'],[[2,'!'],[[6],[[7],[3,'cinemas']],[3,'length']]]])
Z([3,'show-recommendcinema-container one-px-border-bottom'])
Z([[7],[3,'cinemas']])
Z([[10],[[7],[3,'item']]])
Z([3,'cinema'])
Z([[9],[[9],[[9],[[9],[[9],[[9],[[9],[[9],[[8],'dealList',[[7],[3,'dealList']]],[[8],'divideDealList',[[7],[3,'divideDealList']]]],[[8],'showingAllDealList',[[7],[3,'showingAllDealList']]]],[[8],'activity',[[7],[3,'activity']]]],[[8],'cinemaId',[[6],[[7],[3,'cinema']],[3,'cinemaId']]]],[[10],[[7],[3,'bid']]]],[[8],'notDisplayTag',[1,true]]],[[8],'refer_page',[1,'pages/cinema/cinema']]],[[8],'showCinemaBanner',[1,true]]])
Z([3,'deal-list'])
Z([[6],[[7],[3,'modal']],[3,'activityListModal']])
Z([[6],[[7],[3,'modal']],[3,'couponListModal']])
Z([3,'doNothing'])
Z([3,'activity-list-modal flex flex-column flex-between'])
Z(z[56])
Z([3,'getCouponList'])
Z([3,'coupon-list'])
Z([3,'50'])
Z([3,'height:388px'])
Z([[7],[3,'couponListIsLastPage']])
Z([[6],[[7],[3,'modal']],[3,'activityDetailModal']])
Z([[10],[[7],[3,'AccessLimit']]])
Z([3,'access-limit-modal'])
})(__WXML_GLOBAL__.ops_cached.$gwx_10);return __WXML_GLOBAL__.ops_cached.$gwx_10
}
function gz$gwx_11(){
if( __WXML_GLOBAL__.ops_cached.$gwx_11)return __WXML_GLOBAL__.ops_cached.$gwx_11
__WXML_GLOBAL__.ops_cached.$gwx_11=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[6],[[6],[[7],[3,'cinema']],[3,'notice']],[3,'length']])
})(__WXML_GLOBAL__.ops_cached.$gwx_11);return __WXML_GLOBAL__.ops_cached.$gwx_11
}
function gz$gwx_12(){
if( __WXML_GLOBAL__.ops_cached.$gwx_12)return __WXML_GLOBAL__.ops_cached.$gwx_12
__WXML_GLOBAL__.ops_cached.$gwx_12=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'?:'],[[7],[3,'showBgModal']],[1,'overflow:hidden;height:100%'],[1,'']])
Z([[9],[[9],[[9],[[9],[[8],'city',[[7],[3,'city']]],[[8],'isShowCityToast',[[7],[3,'isShowCityToast']]]],[[8],'cbtcAnimationHide',[[7],[3,'cbtcAnimationHide']]]],[[8],'type',[1,2]]],[[8],'placeholder',[1,'找影院']]])
Z([3,'search-bar'])
Z([[2,'?:'],[[2,'||'],[[7],[3,'searchBarFixed']],[[7],[3,'showBgModal']]],[1,'position:relative;top:90rpx;'],[1,'']])
Z([[10],[[7],[3,'AdBanner']]])
Z([3,'ad-banner'])
Z([[9],[[9],[[9],[[9],[[8],'showBgModal',[[7],[3,'showBgModal']]],[[8],'selectBarItems',[[7],[3,'selectBarItems']]]],[[8],'selectItems',[[7],[3,'selectItems']]]],[[8],'selectedItems',[[7],[3,'selectedItems']]]],[[8],'activeAreaFilter',[[7],[3,'activeAreaFilter']]]])
Z([3,'select-bar'])
Z([[6],[[7],[3,'cinemas']],[3,'length']])
Z([a,[3,'padding-bottom:90rpx;position:relative;'],[[2,'?:'],[[7],[3,'selectBarFixed']],[1,'top:80rpx;'],[1,'']]])
Z([[7],[3,'cinemas']])
Z([[7],[3,'index']])
Z([[10],[[7],[3,'item']]])
Z([3,'cinema'])
Z(z[8])
Z([[2,'==='],[[6],[[7],[3,'cinemas']],[3,'length']],[1,0]])
Z([[10],[[7],[3,'LocateBanner']]])
Z([3,'locate-banner'])
Z([[9],[[9],[[9],[[8],'isShowCityErrorPage',[[7],[3,'isShowCityErrorPage']]],[[8],'isShowOpenLocationAlertMoal',[[7],[3,'isShowOpenLocationAlertMoal']]]],[[8],'isShowUseLocationCityConfirmModal',[[7],[3,'isShowUseLocationCityConfirmModal']]]],[[8],'locationCity',[[7],[3,'locationCity']]]])
Z([3,'city-error'])
Z(z[18])
Z([3,'city-error-modal'])
Z([[10],[[7],[3,'AccessLimit']]])
Z([3,'access-limit-modal'])
})(__WXML_GLOBAL__.ops_cached.$gwx_12);return __WXML_GLOBAL__.ops_cached.$gwx_12
}
function gz$gwx_13(){
if( __WXML_GLOBAL__.ops_cached.$gwx_13)return __WXML_GLOBAL__.ops_cached.$gwx_13
__WXML_GLOBAL__.ops_cached.$gwx_13=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'||'],[[6],[[7],[3,'movie']],[3,'img']],[[2,'!'],[[6],[[7],[3,'cinemas']],[3,'length']]]])
Z([[2,'?:'],[[6],[[7],[3,'movie']],[3,'id']],[1,'onTapNavi'],[1,'doNothing']])
Z([3,'movie-content'])
Z([a,[3,'../movie/movie?movieId\x3d'],[[6],[[7],[3,'movie']],[3,'id']]])
Z([3,'movie-info'])
Z([[2,'!'],[[6],[[7],[3,'movie']],[3,'egg']]])
Z([[6],[[7],[3,'movie']],[3,'globalReleased']])
Z([3,'movie-score'])
Z([[6],[[7],[3,'movie']],[3,'sc']])
Z([[6],[[7],[3,'movie']],[3,'scDesc']])
Z(z[7])
Z(z[8])
Z(z[9])
Z([[6],[[7],[3,'movie']],[3,'wish']])
Z(z[5])
Z(z[5])
Z([[2,'&&'],[[6],[[7],[3,'movie']],[3,'src']],[[6],[[7],[3,'movie']],[3,'dur']]])
Z(z[5])
Z([[6],[[7],[3,'movie']],[3,'egg']])
Z([3,'flex flex-column'])
Z([3,'min-height:100%'])
Z([[2,'?:'],[[7],[3,'selectBarFixed']],[1,'fixed'],[1,'']])
Z([3,'date-list'])
Z([[6],[[7],[3,'dates']],[3,'length']])
Z([[7],[3,'dates']])
Z([3,'index'])
Z([3,'dayChangeHandler'])
Z([a,[3,'tab-item '],[[2,'?:'],[[2,'==='],[[6],[[7],[3,'item']],[3,'day']],[[7],[3,'day']]],[1,'current'],[1,'']]])
Z([[6],[[7],[3,'item']],[3,'day']])
Z([[7],[3,'index']])
Z([[6],[[7],[3,'item']],[3,'isPredate']])
Z([[9],[[9],[[9],[[9],[[8],'showBgModal',[[7],[3,'showBgModal']]],[[8],'selectBarItems',[[7],[3,'selectBarItems']]]],[[8],'selectItems',[[7],[3,'selectItems']]]],[[8],'selectedItems',[[7],[3,'selectedItems']]]],[[8],'activeAreaFilter',[[7],[3,'activeAreaFilter']]]])
Z([3,'select-bar'])
Z([[6],[[7],[3,'cinemas']],[3,'length']])
Z([[7],[3,'cinemas']])
Z([3,'onTapNavi'])
Z([3,'cinema-navi'])
Z([a,[3,'./cinema?cinemaId\x3d'],[[6],[[7],[3,'item']],[3,'id']],[3,'\x26movieId\x3d'],z[3][2],[3,'\x26movieName\x3d'],[[6],[[7],[3,'movie']],[3,'nm']],[3,'\x26day\x3d'],[[7],[3,'day']]])
Z([3,'cinema-container one-px-border-bottom'])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'mark']],[1,3]])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'mark']],[1,2]])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'mark']],[1,1]])
Z([[6],[[7],[3,'item']],[3,'showPrice']])
Z([[6],[[7],[3,'item']],[3,'distance']])
Z([3,'tag-list'])
Z([[6],[[6],[[7],[3,'item']],[3,'tag']],[3,'allowRefund']])
Z([[6],[[6],[[7],[3,'item']],[3,'tag']],[3,'endorse']])
Z([[6],[[6],[[7],[3,'item']],[3,'tag']],[3,'snack']])
Z([[6],[[6],[[7],[3,'item']],[3,'tag']],[3,'vipTag']])
Z([[6],[[6],[[7],[3,'item']],[3,'tag']],[3,'svip']])
Z([[6],[[6],[[7],[3,'item']],[3,'promotion']],[3,'platformActivityTag']])
Z([[6],[[6],[[7],[3,'item']],[3,'promotion']],[3,'merchantActivityTag']])
Z([[6],[[6],[[7],[3,'item']],[3,'promotion']],[3,'cardPromotionTag']])
Z([[6],[[6],[[7],[3,'item']],[3,'promotion']],[3,'couponPromotionTag']])
Z([[2,'&&'],[[6],[[7],[3,'item']],[3,'cellShows']],[[6],[[6],[[7],[3,'item']],[3,'cellShows']],[3,'length']]])
Z([3,'p'])
Z([[6],[[7],[3,'item']],[3,'cellShows']])
Z([3,'tapShow'])
Z([3,'show'])
Z([[6],[[7],[3,'p']],[3,'seqNo']])
Z([[6],[[7],[3,'p']],[3,'enterSeat']])
Z([[6],[[7],[3,'p']],[3,'cellTag']])
Z([[2,'||'],[[2,'==='],[[6],[[7],[3,'dates']],[3,'length']],[1,0]],[[2,'==='],[[6],[[7],[3,'cinemas']],[3,'length']],[1,0]]])
Z([[10],[[7],[3,'LocateBanner']]])
Z([3,'locate-banner'])
Z([[2,'&&'],[[6],[[7],[3,'paging']],[3,'hasMore']],[[6],[[7],[3,'cinemas']],[3,'length']]])
Z([[2,'&&'],[[2,'&&'],[[2,'!'],[[7],[3,'cinemas']]],[[6],[[7],[3,'dates']],[3,'length']]],[[2,'!=='],[[7],[3,'day']],[[6],[[6],[[7],[3,'dates']],[1,0]],[3,'day']]]])
Z([[10],[[7],[3,'AccessLimit']]])
Z([3,'access-limit-modal'])
Z([[9],[[9],[[9],[[8],'isShowCityErrorPage',[[7],[3,'isShowCityErrorPage']]],[[8],'isShowOpenLocationAlertMoal',[[7],[3,'isShowOpenLocationAlertMoal']]]],[[8],'isShowUseLocationCityConfirmModal',[[7],[3,'isShowUseLocationCityConfirmModal']]]],[[8],'locationCity',[[7],[3,'locationCity']]]])
Z([3,'city-error'])
Z(z[69])
Z([3,'city-error-modal'])
})(__WXML_GLOBAL__.ops_cached.$gwx_13);return __WXML_GLOBAL__.ops_cached.$gwx_13
}
function gz$gwx_14(){
if( __WXML_GLOBAL__.ops_cached.$gwx_14)return __WXML_GLOBAL__.ops_cached.$gwx_14
__WXML_GLOBAL__.ops_cached.$gwx_14=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'regions']])
Z([a,[3,'seat-block '],[[2,'?:'],[[7],[3,'isIphoneX']],[1,'iphonex'],[1,'']]])
Z([3,'width:100%;'])
Z([[10],[[7],[3,'rain']]])
Z([3,'rain'])
Z([[7],[3,'showRemind']])
Z([3,'info-block'])
Z(z[2])
Z([[2,'&&'],[[6],[[7],[3,'show']],[3,'langWarn']],[[2,'==='],[[6],[[7],[3,'show']],[3,'lang']],[1,'国语']]])
Z([[2,'&&'],[[6],[[7],[3,'seatData']],[3,'notice']],[[2,'>'],[[6],[[6],[[7],[3,'seatData']],[3,'notice']],[3,'length']],[1,0]]])
Z([a,[3,'notice-block '],[[2,'?:'],[[6],[[7],[3,'seatData']],[3,'showNotice']],[1,'showing'],[1,'']]])
Z([3,'index'])
Z([3,'notice'])
Z([[6],[[7],[3,'seatData']],[3,'notice']])
Z([[2,'||'],[[6],[[7],[3,'seatData']],[3,'showNotice']],[[2,'==='],[[7],[3,'index']],[1,0]]])
Z([[2,'&&'],[[6],[[7],[3,'seatData']],[3,'notice']],[[2,'||'],[[2,'>'],[[6],[[6],[[7],[3,'seatData']],[3,'notice']],[3,'length']],[1,1]],[[2,'>'],[[6],[[6],[[6],[[6],[[7],[3,'seatData']],[3,'notice']],[1,0]],[3,'detail']],[3,'length']],[[6],[[7],[3,'seatData']],[3,'noticeMaxLength']]]]])
Z([3,'scroll'])
Z([3,'touchend'])
Z([3,'touchmove'])
Z([3,'touchstart'])
Z([[7],[3,'translateX']])
Z([[7],[3,'translateY']])
Z([[7],[3,'allowScroll']])
Z(z[22])
Z([3,'height: 65vh; position: relative;'])
Z([3,'setOrigin'])
Z([3,'item'])
Z([[6],[[7],[3,'scaleInfo']],[3,'scaleTo']])
Z([3,'1'])
Z([[6],[[6],[[7],[3,'regions']],[1,0]],[3,'regionName']])
Z([a,[3,'-webkit-transform: scale('],z[27],[3,'); -webkit-transform-origin: '],[[7],[3,'originX']],[3,'% '],[[7],[3,'originY']],[3,'%; transition: -webkit-transform .5s; position: absolute; top: '],[[2,'-'],[[6],[[7],[3,'scaleInfo']],[3,'seatTop']]],[3,'px; left: '],[[2,'-'],[[2,'-'],[[6],[[7],[3,'scaleInfo']],[3,'seatLeft']],[1,40]]],[3,'px']])
Z([[6],[[7],[3,'seatData']],[3,'hallName']])
Z([3,'formSubmit'])
Z([3,'form'])
Z([3,'true'])
Z([[2,'==='],[[6],[[7],[3,'selectedData']],[3,'length']],[1,0]])
Z([[2,'&&'],[[2,'==='],[[6],[[7],[3,'selectedData']],[3,'length']],[1,0]],[[2,'>'],[[6],[[6],[[7],[3,'seatData']],[3,'sections']],[3,'length']],[1,1]]])
Z([[6],[[7],[3,'seatData']],[3,'sections']])
Z([3,'seat-section-item'])
Z([[6],[[7],[3,'item']],[3,'sectionPrice']])
Z([[6],[[7],[3,'item']],[3,'sectionActivity']])
Z([a,[3,'buy-seatinfo-wrapper'],[[2,'?:'],[[2,'&&'],[[2,'>'],[[6],[[7],[3,'recommendSeats']],[3,'length']],[1,0]],[[7],[3,'isShowRecommend']]],[1,' buy-seatinfo-wrapper-recommend'],[1,'']],[[2,'?:'],[[2,'>'],[[6],[[7],[3,'selectedData']],[3,'length']],[1,0]],[1,' buy-seatinfo-wrapper-selected'],[1,'']]])
Z([[2,'&&'],[[2,'>'],[[6],[[7],[3,'recommendSeats']],[3,'length']],[1,0]],[[7],[3,'isShowRecommend']]])
Z([[2,'&&'],[[2,'>'],[[6],[[7],[3,'selectedData']],[3,'length']],[1,0]],[[2,'!'],[[7],[3,'isShowRecommend']]]])
Z([[6],[[7],[3,'seatsPriceDetail']],[3,'display']])
Z([3,'showPriceDetail'])
Z([3,'price-detail'])
Z([[7],[3,'showPriceDetail']])
Z([[2,'>'],[[6],[[7],[3,'selectedData']],[3,'length']],[1,0]])
Z([3,'idx'])
Z([3,'selectedItem'])
Z([[7],[3,'selectedData']])
Z([3,'handleCancelSeat'])
Z([a,[3,'selected-seats '],[[2,'?:'],[[2,'=='],[[7],[3,'idx']],[1,3]],[1,'selected-seats-last'],[1,'']]])
Z([[6],[[7],[3,'selectedItem']],[3,'columnId']])
Z([[6],[[7],[3,'selectedItem']],[3,'seatNo']])
Z([[6],[[7],[3,'selectedItem']],[3,'regionId']])
Z([[6],[[7],[3,'selectedItem']],[3,'rowNum']])
Z([[6],[[7],[3,'seat']],[3,'sectionId']])
Z([a,[3,'background-color:'],[[7],[3,'cancelColor']],[3,';']])
Z([[6],[[6],[[7],[3,'desc']],[[7],[3,'idx']]],[3,'price']])
Z([[2,'!'],[[2,'!'],[[6],[[6],[[7],[3,'desc']],[[7],[3,'idx']]],[3,'activity']]]])
Z([3,'submit-block'])
Z([[2,'&&'],[[2,'>'],[[6],[[7],[3,'selectedData']],[3,'length']],[1,0]],[[2,'<='],[[6],[[7],[3,'selectedData']],[3,'length']],[[6],[[7],[3,'seatData']],[3,'buyNumLimit']]]])
Z([3,'onGetPhoneNumber'])
Z([[2,'?:'],[[2,'&&'],[[2,'!'],[[7],[3,'hasMobile']]],[[2,'!'],[[7],[3,'hasShownAuth']]]],[1,''],[1,'submitOrder']])
Z([3,'submit flex'])
Z([[7],[3,'cinemaId']])
Z([[7],[3,'checkedSeats']])
Z([[6],[[7],[3,'seatData']],[3,'seqNo']])
Z([3,'submit'])
Z([[2,'?:'],[[2,'&&'],[[2,'!'],[[7],[3,'hasMobile']]],[[2,'!'],[[7],[3,'hasShownAuth']]]],[1,'getPhoneNumber'],[1,'']])
Z([[7],[3,'totalPrice']])
Z([[10],[[7],[3,'MobileConfirm']]])
Z([3,'mobile-confirm'])
Z([[10],[[7],[3,'pageToastData']]])
Z([3,'toast_seats_limit_alert'])
Z(z[75])
Z([3,'toast_seats_select_alert'])
Z(z[75])
Z([3,'toast_seats_select_alert2'])
Z([[10],[[7],[3,'AccessLimit']]])
Z([3,'access-limit-modal'])
})(__WXML_GLOBAL__.ops_cached.$gwx_14);return __WXML_GLOBAL__.ops_cached.$gwx_14
}
function gz$gwx_15(){
if( __WXML_GLOBAL__.ops_cached.$gwx_15)return __WXML_GLOBAL__.ops_cached.$gwx_15
__WXML_GLOBAL__.ops_cached.$gwx_15=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'isShowCityToast']])
})(__WXML_GLOBAL__.ops_cached.$gwx_15);return __WXML_GLOBAL__.ops_cached.$gwx_15
}
function gz$gwx_16(){
if( __WXML_GLOBAL__.ops_cached.$gwx_16)return __WXML_GLOBAL__.ops_cached.$gwx_16
__WXML_GLOBAL__.ops_cached.$gwx_16=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'cityItem'])
Z([[7],[3,'toView']])
Z([[7],[3,'scrollTop']])
Z([3,'true'])
Z([3,'height: 100%;'])
Z([3,'city-list city-list-inline clearfix'])
Z([[2,'==='],[[7],[3,'locationStatus']],[1,'done']])
Z([[10],[[7],[3,'locationCity']]])
Z(z[0])
Z([[2,'!='],[[7],[3,'locationStatus']],[1,'done']])
Z([[6],[[7],[3,'historyCityList']],[3,'length']])
Z([[7],[3,'historyCityList']])
Z([3,'id'])
Z([[10],[[7],[3,'item']]])
Z(z[0])
Z([[6],[[7],[3,'hotCityList']],[3,'length']])
Z([[7],[3,'hotCityList']])
Z(z[12])
Z(z[13])
Z(z[0])
Z([3,'letterArray.length'])
Z([3,'letterInfo'])
Z([[7],[3,'letterArray']])
Z([3,'letter'])
Z([3,'index'])
Z([[6],[[7],[3,'letterInfo']],[3,'list']])
Z(z[12])
Z([[9],[[10],[[7],[3,'item']]],[[8],'isLast',[[2,'=='],[[2,'+'],[[7],[3,'index']],[1,1]],[[6],[[6],[[7],[3,'letterInfo']],[3,'list']],[3,'length']]]]])
Z(z[0])
})(__WXML_GLOBAL__.ops_cached.$gwx_16);return __WXML_GLOBAL__.ops_cached.$gwx_16
}
function gz$gwx_17(){
if( __WXML_GLOBAL__.ops_cached.$gwx_17)return __WXML_GLOBAL__.ops_cached.$gwx_17
__WXML_GLOBAL__.ops_cached.$gwx_17=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_17);return __WXML_GLOBAL__.ops_cached.$gwx_17
}
function gz$gwx_18(){
if( __WXML_GLOBAL__.ops_cached.$gwx_18)return __WXML_GLOBAL__.ops_cached.$gwx_18
__WXML_GLOBAL__.ops_cached.$gwx_18=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'success'])
Z([3,'error'])
Z([3,'rule'])
Z([3,'pop'])
Z([3,'closePop'])
Z([3,'doNothing'])
Z([a,[3,'pop-mask '],[[2,'?:'],[[7],[3,'isHidden']],[1,'hide'],[1,'']]])
Z([[9],[[8],'msg',[[7],[3,'msg']]],[[8],'jumpUrl',[[7],[3,'jumpUrl']]]])
Z([[7],[3,'type']])
})(__WXML_GLOBAL__.ops_cached.$gwx_18);return __WXML_GLOBAL__.ops_cached.$gwx_18
}
function gz$gwx_19(){
if( __WXML_GLOBAL__.ops_cached.$gwx_19)return __WXML_GLOBAL__.ops_cached.$gwx_19
__WXML_GLOBAL__.ops_cached.$gwx_19=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'container-class container'])
Z([[7],[3,'label']])
Z([[7],[3,'tip']])
Z([3,'main'])
Z([a,[3,'surface-class surface '],[[2,'?:'],[[7],[3,'required']],[1,'required'],[1,'']]])
Z([a,[3,'border-radius: '],[[7],[3,'radius']]])
Z([3,'prefix'])
Z([[7],[3,'showClear']])
Z([3,'input-btn'])
Z([3,'suffix'])
})(__WXML_GLOBAL__.ops_cached.$gwx_19);return __WXML_GLOBAL__.ops_cached.$gwx_19
}
function gz$gwx_20(){
if( __WXML_GLOBAL__.ops_cached.$gwx_20)return __WXML_GLOBAL__.ops_cached.$gwx_20
__WXML_GLOBAL__.ops_cached.$gwx_20=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'showModal']])
Z([3,'modal-body'])
Z([[7],[3,'showCancel']])
})(__WXML_GLOBAL__.ops_cached.$gwx_20);return __WXML_GLOBAL__.ops_cached.$gwx_20
}
function gz$gwx_21(){
if( __WXML_GLOBAL__.ops_cached.$gwx_21)return __WXML_GLOBAL__.ops_cached.$gwx_21
__WXML_GLOBAL__.ops_cached.$gwx_21=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_21);return __WXML_GLOBAL__.ops_cached.$gwx_21
}
function gz$gwx_22(){
if( __WXML_GLOBAL__.ops_cached.$gwx_22)return __WXML_GLOBAL__.ops_cached.$gwx_22
__WXML_GLOBAL__.ops_cached.$gwx_22=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_22);return __WXML_GLOBAL__.ops_cached.$gwx_22
}
function gz$gwx_23(){
if( __WXML_GLOBAL__.ops_cached.$gwx_23)return __WXML_GLOBAL__.ops_cached.$gwx_23
__WXML_GLOBAL__.ops_cached.$gwx_23=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_23);return __WXML_GLOBAL__.ops_cached.$gwx_23
}
function gz$gwx_24(){
if( __WXML_GLOBAL__.ops_cached.$gwx_24)return __WXML_GLOBAL__.ops_cached.$gwx_24
__WXML_GLOBAL__.ops_cached.$gwx_24=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'comment'])
Z([3,'gotoComment'])
Z([a,[3,'main '],[[2,'?:'],[[2,'!'],[[7],[3,'noborder']]],[1,'border'],[1,'']]])
Z([[7],[3,'id']])
Z([[7],[3,'type']])
Z([3,'b_wwu7bzgs'])
Z([a,[3,'{ movieId: \x27'],[[7],[3,'movieId']],[3,'\x27, commentId: \x27'],z[3],[3,'\x27 }']])
Z([[7],[3,'pro']])
Z([3,'top'])
Z([3,'name'])
Z([[2,'!='],[[7],[3,'levelpathBlack']],[1,'']])
Z([[2,'!'],[[7],[3,'pro']]])
Z([[2,'||'],[[2,'==='],[[7],[3,'uId']],[1,'']],[[2,'!='],[[7],[3,'uId']],[[7],[3,'userId']]]])
Z([[2,'!'],[[7],[3,'diy']]])
Z([3,'toggleApprove'])
Z([a,[3,'approve '],[[2,'?:'],[[7],[3,'likedByCurrentUser']],[1,'approved'],[1,'']]])
Z(z[3])
Z(z[3])
Z([[7],[3,'index']])
Z([[7],[3,'likedByCurrentUser']])
Z(z[4])
Z([3,'b_uf4lro36'])
Z([a,z[6][1],z[6][2],z[6][3],z[3],z[6][5]])
Z([[7],[3,'animation']])
})(__WXML_GLOBAL__.ops_cached.$gwx_24);return __WXML_GLOBAL__.ops_cached.$gwx_24
}
function gz$gwx_25(){
if( __WXML_GLOBAL__.ops_cached.$gwx_25)return __WXML_GLOBAL__.ops_cached.$gwx_25
__WXML_GLOBAL__.ops_cached.$gwx_25=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'discuss'])
})(__WXML_GLOBAL__.ops_cached.$gwx_25);return __WXML_GLOBAL__.ops_cached.$gwx_25
}
function gz$gwx_26(){
if( __WXML_GLOBAL__.ops_cached.$gwx_26)return __WXML_GLOBAL__.ops_cached.$gwx_26
__WXML_GLOBAL__.ops_cached.$gwx_26=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'movie'])
Z([[2,'&&'],[[6],[[7],[3,'passAd']],[3,'length']],[[2,'==='],[[7],[3,'index']],[1,8]]])
Z([3,'onTapNavi'])
Z([a,[3,'movie clearfix '],[[2,'?:'],[[2,'&&'],[[6],[[7],[3,'passAd']],[3,'length']],[[2,'=='],[[7],[3,'index']],[1,8]]],[1,'bg-white'],[1,'']],[3,' '],[[2,'&&'],[[2,'&&'],[[7],[3,'vodPlay']],[[2,'!='],[[7],[3,'showst']],[1,3]]],[1,'scroll-view-stats']]])
Z([[2,'||'],[[7],[3,'itemJumpUrl']],[[2,'?:'],[[2,'=='],[[7],[3,'from']],[1,'hotMovies']],[[2,'+'],[1,'/pages/cinema/movie?movieId\x3d'],[[7],[3,'id']]],[[2,'+'],[[2,'+'],[[2,'+'],[1,'/pages/movie/movie?movieId\x3d'],[[7],[3,'id']]],[1,'\x26from\x3d']],[[7],[3,'from']]]]])
Z([[2,'?:'],[[2,'&&'],[[7],[3,'vodPlay']],[[2,'!='],[[7],[3,'showst']],[1,3]]],[1,'b_o9g87yom'],[[7],[3,'bid']]])
Z([a,[3,'{ movieId: '],[[7],[3,'id']],[3,' }']])
Z([[2,'?:'],[[2,'&&'],[[7],[3,'vodPlay']],[[2,'!='],[[7],[3,'showst']],[1,3]]],[1,'b_84b7gmjw'],[1,'']])
Z([[2,'?:'],[[2,'&&'],[[7],[3,'vodPlay']],[[2,'!='],[[7],[3,'showst']],[1,3]]],[[8],'movieId',[[7],[3,'id']]],[1,'']])
Z([[2,'||'],[[7],[3,'openType']],[1,'navigate']])
Z([[7],[3,'haspromotionTag']])
Z([3,'movie-content flex flex-column'])
Z([3,'text-ellipsis flex flex-middle flex-item'])
Z([[7],[3,'ver']])
Z([[7],[3,'preShow']])
Z([[7],[3,'promotionTag']])
Z([3,'flex'])
Z([[7],[3,'comment']])
Z([3,'comment-score flex-middle'])
Z([[2,'&&'],[[6],[[7],[3,'comment']],[3,'id']],[[6],[[7],[3,'comment']],[3,'score']]])
Z(z[19])
Z([3,'movie-button'])
Z([[2,'!'],[[6],[[7],[3,'comment']],[3,'id']]])
Z([[2,'=='],[[7],[3,'showst']],[1,1]])
})(__WXML_GLOBAL__.ops_cached.$gwx_26);return __WXML_GLOBAL__.ops_cached.$gwx_26
}
function gz$gwx_27(){
if( __WXML_GLOBAL__.ops_cached.$gwx_27)return __WXML_GLOBAL__.ops_cached.$gwx_27
__WXML_GLOBAL__.ops_cached.$gwx_27=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'OrderPrompt'])
Z([[2,'&&'],[[7],[3,'isShowOrderPrompt']],[[6],[[7],[3,'list']],[3,'length']]])
Z([a,[3,'order-prompt '],[[2,'?:'],[[2,'>'],[[6],[[7],[3,'list']],[3,'length']],[1,1]],[1,'order-prompt-condensed'],[1,'']]])
Z([[2,'>'],[[6],[[7],[3,'list']],[3,'length']],[1,1]])
Z([[7],[3,'list']])
Z([3,'onTapNavi'])
Z([3,'order-prompt-item'])
Z([a,[3,'/pages/order/order?orderId\x3d'],[[6],[[7],[3,'item']],[3,'id']]])
Z([3,'order-prompt-item-left'])
Z([[6],[[6],[[7],[3,'item']],[3,'exchange']],[3,'originId']])
Z([[6],[[6],[[7],[3,'item']],[3,'exchange']],[3,'exchangeCode']])
Z([[6],[[6],[[7],[3,'item']],[3,'exchange']],[3,'qrcode']])
})(__WXML_GLOBAL__.ops_cached.$gwx_27);return __WXML_GLOBAL__.ops_cached.$gwx_27
}
function gz$gwx_28(){
if( __WXML_GLOBAL__.ops_cached.$gwx_28)return __WXML_GLOBAL__.ops_cached.$gwx_28
__WXML_GLOBAL__.ops_cached.$gwx_28=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[[7],[3,'fixedClass']],[3,' page']])
Z([[2,'>'],[[7],[3,'t1total']],[1,0]])
Z([[2,'&&'],[[6],[[7],[3,'tags']],[3,'length']],[[2,'>'],[[7],[3,'t1total']],[1,0]]])
Z([[2,'||'],[[2,'>'],[[7],[3,'t1total']],[1,0]],[[7],[3,'isHasMyComment']]])
Z([[7],[3,'isHasMyComment']])
Z([[9],[[9],[[9],[[9],[[9],[[10],[[7],[3,'myComment']]],[[8],'theme',[[7],[3,'theme']]]],[[8],'diy',[[7],[3,'diy']]]],[[8],'uId',[[7],[3,'uId']]]],[[8],'type',[1,'myComment']]],[[8],'noborder',[[2,'?:'],[[2,'>'],[[2,'+'],[[6],[[7],[3,'hotComments']],[3,'length']],[[6],[[7],[3,'comments']],[3,'length']]],[1,0]],[1,false],[1,true]]]])
Z([3,'comment'])
Z([[2,'&&'],[[7],[3,'hotComments']],[[2,'>'],[[6],[[7],[3,'hotComments']],[3,'length']],[1,0]]])
Z(z[6])
Z([[7],[3,'hotComments']])
Z([[7],[3,'index']])
Z([[9],[[9],[[9],[[9],[[9],[[9],[[10],[[7],[3,'comment']]],[[8],'index',[[7],[3,'index']]]],[[8],'theme',[[7],[3,'theme']]]],[[8],'diy',[[7],[3,'diy']]]],[[8],'uId',[[7],[3,'uId']]]],[[8],'type',[1,'hotComments']]],[[8],'noborder',[[2,'=='],[[7],[3,'index']],[[2,'-'],[[6],[[7],[3,'hotComments']],[3,'length']],[1,1]]]]])
Z(z[6])
Z([[2,'&&'],[[7],[3,'comments']],[[2,'>'],[[6],[[7],[3,'comments']],[3,'length']],[1,0]]])
Z(z[6])
Z([[7],[3,'comments']])
Z(z[10])
Z([[9],[[9],[[9],[[9],[[9],[[9],[[10],[[7],[3,'comment']]],[[8],'index',[[7],[3,'index']]]],[[8],'theme',[[7],[3,'theme']]]],[[8],'diy',[[7],[3,'diy']]]],[[8],'uId',[[7],[3,'uId']]]],[[8],'type',[1,'comments']]],[[8],'noborder',[[2,'=='],[[7],[3,'index']],[[2,'-'],[[6],[[7],[3,'comments']],[3,'length']],[1,1]]]]])
Z(z[6])
Z([[7],[3,'hasMore']])
Z([[7],[3,'isHasNothingTag']])
Z([[2,'&&'],[[2,'!'],[[7],[3,'hasMore']]],[[2,'>'],[[7],[3,'t2total']],[1,0]]])
Z([[2,'||'],[[7],[3,'topTipShow']],[[7],[3,'firstComing']]])
Z([3,'discuss'])
})(__WXML_GLOBAL__.ops_cached.$gwx_28);return __WXML_GLOBAL__.ops_cached.$gwx_28
}
function gz$gwx_29(){
if( __WXML_GLOBAL__.ops_cached.$gwx_29)return __WXML_GLOBAL__.ops_cached.$gwx_29
__WXML_GLOBAL__.ops_cached.$gwx_29=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[3,'position: '],[[7],[3,'disableScroll']],[3,';']])
Z([[7],[3,'showAddMiniRemind']])
Z([[9],[[9],[[9],[[9],[[9],[[9],[[8],'city',[[7],[3,'city']]],[[8],'isShowCityToast',[[7],[3,'isShowCityToast']]]],[[8],'cbtcAnimationHide',[[7],[3,'cbtcAnimationHide']]]],[[8],'type',[[2,'-'],[1,1]]]],[[8],'placeholder',[1,'找影视剧、影院']]],[[8],'from',[1,'movie']]],[[8],'adsHeaderBg',[[7],[3,'adsHeaderBg']]]])
Z([3,'search-bar'])
Z([[2,'&&'],[[7],[3,'movies']],[[6],[[7],[3,'movies']],[3,'length']]])
Z([[10],[[7],[3,'AdBanner']]])
Z([3,'ad-banner'])
Z([[10],[[7],[3,'AccessLimit']]])
Z([3,'access-limit-modal'])
Z([[6],[[7],[3,'specialTopic']],[3,'showActivity']])
Z([[9],[[10],[[7],[3,'specialTopic']]],[[8],'isLogin',[[7],[3,'isLogin']]]])
Z([3,'special-topic'])
Z([[10],[[7],[3,'MovieRemindCard']]])
Z([3,'movie-remind-card'])
Z([[2,'==='],[[7],[3,'activeTab']],[1,'coming']])
Z([3,'list-view'])
Z([3,'movie'])
Z([[7],[3,'movies']])
Z([[7],[3,'index']])
Z([[9],[[9],[[9],[[9],[[9],[[9],[[9],[[10],[[7],[3,'movie']]],[[8],'from',[1,'hotMovies']]],[[8],'bid',[1,'b_yfrrrhw1']]],[[8],'supportLoginBtn',[[7],[3,'supportLoginBtn']]]],[[8],'isLogin',[[7],[3,'isLogin']]]],[[8],'showPassAd',[[7],[3,'showPassAd']]]],[[8],'passAd',[[7],[3,'passAd']]]],[[8],'index',[[7],[3,'index']]]])
Z(z[16])
Z(z[4])
Z([[9],[[9],[[9],[[8],'isShowCityErrorPage',[[7],[3,'isShowCityErrorPage']]],[[8],'isShowOpenLocationAlertMoal',[[7],[3,'isShowOpenLocationAlertMoal']]]],[[8],'isShowUseLocationCityConfirmModal',[[7],[3,'isShowUseLocationCityConfirmModal']]]],[[8],'locationCity',[[7],[3,'locationCity']]]])
Z([3,'city-error'])
Z([[2,'&&'],[[7],[3,'movies']],[[2,'==='],[[6],[[7],[3,'movies']],[3,'length']],[1,0]]])
Z([[2,'==='],[[7],[3,'activeTab']],[1,'hot']])
Z(z[22])
Z(z[23])
Z([[6],[[7],[3,'mostExpected']],[3,'length']])
Z([[6],[[7],[3,'coming']],[3,'length']])
Z([[7],[3,'coming']])
Z([a,[3,'coming-'],z[18]])
Z([3,'i'])
Z(z[16])
Z([[6],[[7],[3,'item']],[3,'movies']])
Z([a,[3,'movie-'],[[7],[3,'i']]])
Z([[9],[[9],[[9],[[9],[[10],[[7],[3,'movie']]],[[8],'index',[[7],[3,'index']]]],[[8],'subIndex',[[7],[3,'i']]]],[[8],'from',[1,'coming']]],[[8],'bid',[1,'b_rbr9fpy9']]])
Z(z[16])
Z([[6],[[7],[3,'movieIds']],[3,'length']])
Z([[7],[3,'showGameEntry']])
Z([[7],[3,'isShowSigninVideo']])
Z([3,'dialog-signin-video'])
Z([3,'dialogSigninVideo'])
Z(z[22])
Z([3,'city-error-modal'])
Z([[7],[3,'showGuid']])
Z([[7],[3,'showAward']])
Z([[2,'&&'],[[7],[3,'firstLogin']],[[6],[[7],[3,'movies']],[3,'length']]])
Z([[7],[3,'hasShowButton']])
Z([[10],[[7],[3,'MovieRemindModal']]])
Z([3,'movie-remind-modal'])
})(__WXML_GLOBAL__.ops_cached.$gwx_29);return __WXML_GLOBAL__.ops_cached.$gwx_29
}
function gz$gwx_30(){
if( __WXML_GLOBAL__.ops_cached.$gwx_30)return __WXML_GLOBAL__.ops_cached.$gwx_30
__WXML_GLOBAL__.ops_cached.$gwx_30=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[6],[[7],[3,'myModalDialog']],[3,'display']])
Z([3,'onTapModalOverlay'])
Z([3,'overlay'])
Z([3,'myModalDialog'])
Z([[6],[[7],[3,'celebrity']],[3,'avatar']])
Z([[7],[3,'movie']])
Z([[2,'?:'],[[7],[3,'isIphoneX']],[1,'iphonex'],[1,'']])
Z([[10],[[7],[3,'OrderPrompt']]])
Z([3,'OrderPrompt'])
Z([3,'flex'])
Z([3,'onImageLoaded'])
Z([3,'onTapMovieImage'])
Z([3,'img movie-img'])
Z([[6],[[7],[3,'movie']],[3,'img']])
Z([[6],[[7],[3,'movie']],[3,'vd']])
Z([3,'movie-info'])
Z([[6],[[7],[3,'movie']],[3,'dur']])
Z([[6],[[7],[3,'movie']],[3,'pubDesc']])
Z([[2,'>'],[[6],[[7],[3,'tips']],[3,'length']],[1,0]])
Z([3,'tip'])
Z([[7],[3,'tips']])
Z([[7],[3,'index']])
Z([[2,'?:'],[[2,'&&'],[[2,'&&'],[[2,'>'],[[6],[[7],[3,'tips']],[3,'length']],[1,1]],[[2,'=='],[[7],[3,'index']],[1,0]]],[[7],[3,'collapseTip']]],[1,'onTapTip'],[1,'']])
Z([a,[3,'shadow '],[[2,'?:'],[[7],[3,'collapseTip']],[1,'hide-shadow'],[1,'']]])
Z([[2,'&&'],[[2,'&&'],[[2,'>'],[[6],[[7],[3,'tips']],[3,'length']],[1,1]],[[2,'=='],[[7],[3,'index']],[1,0]]],[[7],[3,'collapseTip']]])
Z([[2,'&&'],[[2,'!'],[[7],[3,'collapseTip']]],[[6],[[7],[3,'tip']],[3,'tipJumpURL']]])
Z([[2,'||'],[[6],[[7],[3,'movie']],[3,'vodPlay']],[[2,'==='],[[6],[[7],[3,'reserveEntryData']],[3,'type']],[1,2]]])
Z([[2,'&&'],[[2,'&&'],[[2,'==='],[[6],[[7],[3,'reserveEntryData']],[3,'type']],[1,1]],[[2,'!'],[[6],[[7],[3,'movie']],[3,'vodPlay']]]],[[6],[[6],[[7],[3,'reserveEntryData']],[3,'content']],[1,0]]])
Z([[2,'&&'],[[6],[[7],[3,'movie']],[3,'dra']],[[2,'!='],[[6],[[7],[3,'movie']],[3,'dra']],[1,'暂无剧情简介']]])
Z([[6],[[7],[3,'adsMiddle']],[3,'length']])
Z([[6],[[7],[3,'celebrities']],[3,'length']])
Z([[6],[[7],[3,'mbox']],[3,'length']])
Z([[2,'||'],[[6],[[6],[[7],[3,'movie']],[3,'photos']],[3,'length']],[[6],[[7],[3,'movie']],[3,'vd']]])
Z([3,'onScrollView'])
Z([3,'panel-content'])
Z([3,'true'])
Z(z[14])
Z([3,'panel movie-comments'])
Z([[2,'&&'],[[2,'>'],[[6],[[7],[3,'tags']],[3,'length']],[1,0]],[[2,'>'],[[7],[3,'t1total']],[1,0]]])
Z([[2,'||'],[[2,'>'],[[7],[3,'t1total']],[1,0]],[[7],[3,'isHasMyComment']]])
Z([[7],[3,'isHasMyComment']])
Z([[9],[[9],[[9],[[9],[[9],[[10],[[7],[3,'myComment']]],[[8],'theme',[[7],[3,'theme']]]],[[8],'diy',[[7],[3,'diy']]]],[[8],'uId',[[7],[3,'uId']]]],[[8],'type',[1,'myComment']]],[[8],'noborder',[[2,'?:'],[[2,'>'],[[6],[[7],[3,'comments']],[3,'length']],[1,0]],[1,false],[1,true]]]])
Z([3,'comment'])
Z([[2,'&&'],[[7],[3,'comments']],[[2,'>'],[[6],[[7],[3,'comments']],[3,'length']],[1,0]]])
Z(z[42])
Z([[7],[3,'comments']])
Z(z[21])
Z([[9],[[9],[[9],[[9],[[9],[[9],[[10],[[7],[3,'comment']]],[[8],'index',[[7],[3,'index']]]],[[8],'theme',[[7],[3,'theme']]]],[[8],'diy',[[7],[3,'diy']]]],[[8],'uId',[[7],[3,'uId']]]],[[8],'type',[1,'comments']]],[[8],'noborder',[[2,'=='],[[7],[3,'index']],[[2,'-'],[[6],[[7],[3,'comments']],[3,'length']],[1,1]]]]])
Z(z[42])
Z([[6],[[7],[3,'activityList']],[3,'length']])
Z([[10],[[7],[3,'AdBanner']]])
Z([3,'ad-banner'])
Z([[7],[3,'proTotal']])
Z([3,'panel movie-reviews'])
Z(z[42])
Z([[7],[3,'procomments']])
Z(z[21])
Z([[9],[[9],[[9],[[10],[[7],[3,'comment']]],[[8],'index',[[7],[3,'index']]]],[[8],'theme',[[7],[3,'theme']]]],[[8],'type',[1,'procomments']]])
Z(z[42])
Z([[2,'>'],[[7],[3,'proTotal']],[1,3]])
Z([[2,'||'],[[6],[[7],[3,'movie']],[3,'buy']],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[6],[[7],[3,'movie']],[3,'vodPlay']],[[7],[3,'buyButton']]],[[2,'!'],[[7],[3,'available']]]],[[2,'!'],[[6],[[7],[3,'groupButton']],[3,'status']]]],[[6],[[7],[3,'groupButton']],[3,'deal_id']]]])
Z([3,'onBuyFormSubmit'])
Z([1,true])
Z([a,[3,'/pages/cinema/movie?movieId\x3d'],[[6],[[7],[3,'movie']],[3,'id']]])
Z(z[35])
Z([[6],[[7],[3,'movie']],[3,'buy']])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'!'],[[6],[[7],[3,'movie']],[3,'buy']]],[[6],[[7],[3,'movie']],[3,'vodPlay']]],[[7],[3,'buyButton']]],[[2,'!'],[[7],[3,'available']]]],[[2,'!='],[[6],[[7],[3,'groupButton']],[3,'status']],[1,1]]],[[6],[[7],[3,'groupButton']],[3,'deal_id']]])
Z([[6],[[7],[3,'groupButton']],[3,'deal_id']])
Z([[6],[[7],[3,'adsHang']],[3,'length']])
})(__WXML_GLOBAL__.ops_cached.$gwx_30);return __WXML_GLOBAL__.ops_cached.$gwx_30
}
function gz$gwx_31(){
if( __WXML_GLOBAL__.ops_cached.$gwx_31)return __WXML_GLOBAL__.ops_cached.$gwx_31
__WXML_GLOBAL__.ops_cached.$gwx_31=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'||'],[[2,'!'],[[6],[[7],[3,'photosMap']],[[7],[3,'type']]]],[[2,'!'],[[6],[[6],[[7],[3,'photosMap']],[[7],[3,'type']]],[3,'length']]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_31);return __WXML_GLOBAL__.ops_cached.$gwx_31
}
function gz$gwx_32(){
if( __WXML_GLOBAL__.ops_cached.$gwx_32)return __WXML_GLOBAL__.ops_cached.$gwx_32
__WXML_GLOBAL__.ops_cached.$gwx_32=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'previews']])
Z([3,'height:100%'])
Z([3,'onTapNavi'])
Z([3,'movie clearfix'])
Z([a,[3,'/pages/movie/movie?movieId\x3d'],[[7],[3,'movieId']]])
Z([3,'b_4u3v0ph1'])
Z([a,[3,'{ videoId: '],[[7],[3,'videoId']],[3,' }']])
Z([[6],[[7],[3,'movieVO']],[3,'version']])
Z(z[0])
Z([3,'previews'])
Z([3,'changeVideo'])
Z([a,[3,'preview one-px-border-bottom '],[[2,'?:'],[[2,'=='],[[7],[3,'current']],[[7],[3,'index']]],[1,'active'],[1,'']]])
Z([[7],[3,'index']])
Z([3,'b_bu2lmr0l'])
Z([a,z[6][1],z[6][2],[3,', targetId: '],[[6],[[7],[3,'item']],[3,'id']],[3,', index: '],z[12],z[6][3]])
Z([[2,'!=='],[[7],[3,'current']],[[7],[3,'index']]])
Z([[2,'&&'],[[6],[[7],[3,'item']],[3,'type']],[[2,'!='],[[6],[[7],[3,'item']],[3,'type']],[1,'预告片']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_32);return __WXML_GLOBAL__.ops_cached.$gwx_32
}
function gz$gwx_33(){
if( __WXML_GLOBAL__.ops_cached.$gwx_33)return __WXML_GLOBAL__.ops_cached.$gwx_33
__WXML_GLOBAL__.ops_cached.$gwx_33=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'card-content one-px-border-bottom'])
Z([[2,'!'],[[2,'!'],[[6],[[7],[3,'cards']],[3,'length']]]])
Z([[2,'==='],[[6],[[7],[3,'cards']],[3,'length']],[1,0]])
Z([3,'bonus'])
Z([[2,'=='],[[7],[3,'activeTab']],[1,'point']])
Z([[2,'&&'],[[7],[3,'bonuslist']],[[2,'>'],[[6],[[7],[3,'bonuslist']],[3,'length']],[1,0]]])
Z([[7],[3,'bonuslist']])
Z([3,'index'])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'useStatus']],[1,0]])
Z([[2,'&&'],[[7],[3,'bonuslist']],[[2,'=='],[[6],[[7],[3,'bonuslist']],[3,'length']],[1,0]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_33);return __WXML_GLOBAL__.ops_cached.$gwx_33
}
function gz$gwx_34(){
if( __WXML_GLOBAL__.ops_cached.$gwx_34)return __WXML_GLOBAL__.ops_cached.$gwx_34
__WXML_GLOBAL__.ops_cached.$gwx_34=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_34);return __WXML_GLOBAL__.ops_cached.$gwx_34
}
function gz$gwx_35(){
if( __WXML_GLOBAL__.ops_cached.$gwx_35)return __WXML_GLOBAL__.ops_cached.$gwx_35
__WXML_GLOBAL__.ops_cached.$gwx_35=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'movieItem'])
Z([3,'selectMovie'])
Z([a,[3,'movie clearfix '],[[2,'?:'],[[2,'=='],[[7],[3,'id']],[[7],[3,'selectedMovieId']]],[1,'selected'],[1,'']]])
Z([[7],[3,'id']])
Z([[7],[3,'nm']])
Z(z[2][2])
Z([3,'text-ellipsis flex flex-middle flex-item'])
Z([[7],[3,'ver']])
Z([[7],[3,'preShow']])
})(__WXML_GLOBAL__.ops_cached.$gwx_35);return __WXML_GLOBAL__.ops_cached.$gwx_35
}
function gz$gwx_36(){
if( __WXML_GLOBAL__.ops_cached.$gwx_36)return __WXML_GLOBAL__.ops_cached.$gwx_36
__WXML_GLOBAL__.ops_cached.$gwx_36=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'redpacket'])
Z([a,[3,'redpacket '],[[2,'?:'],[[7],[3,'movie']],[1,'hasmovie'],[1,'']],[3,' '],[[2,'?:'],[[7],[3,'isShow']],[1,''],[1,'redpacket-hide']]])
Z([[7],[3,'movie']])
Z([[7],[3,'getRedpacket']])
Z([[2,'!='],[[6],[[7],[3,'redpacket']],[3,'status']],[1,0]])
Z([[2,'||'],[[2,'=='],[[6],[[7],[3,'redpacket']],[3,'status']],[1,1]],[[2,'=='],[[6],[[7],[3,'redpacket']],[3,'status']],[1,2]]])
Z([[2,'=='],[[6],[[7],[3,'redpacket']],[3,'status']],[1,0]])
Z([[7],[3,'detail']])
})(__WXML_GLOBAL__.ops_cached.$gwx_36);return __WXML_GLOBAL__.ops_cached.$gwx_36
}
function gz$gwx_37(){
if( __WXML_GLOBAL__.ops_cached.$gwx_37)return __WXML_GLOBAL__.ops_cached.$gwx_37
__WXML_GLOBAL__.ops_cached.$gwx_37=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'search-bar'])
Z([[2,'&&'],[[7],[3,'city']],[[6],[[7],[3,'city']],[3,'nm']]])
Z([3,'city-error'])
Z([[7],[3,'isShowCityErrorPage']])
Z([3,'city-error-modal'])
})(__WXML_GLOBAL__.ops_cached.$gwx_37);return __WXML_GLOBAL__.ops_cached.$gwx_37
}
function gz$gwx_38(){
if( __WXML_GLOBAL__.ops_cached.$gwx_38)return __WXML_GLOBAL__.ops_cached.$gwx_38
__WXML_GLOBAL__.ops_cached.$gwx_38=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'cinema'])
Z([[7],[3,'cinemas']])
Z([[7],[3,'index']])
Z([3,'list-view-item'])
Z([3,'tapItem'])
Z([[6],[[7],[3,'cinema']],[3,'id']])
Z(z[2])
Z([[9],[[9],[[10],[[7],[3,'cinema']]],[[8],'isRedName',[1,true]]],[[8],'keyword',[[7],[3,'query']]]])
Z(z[0])
})(__WXML_GLOBAL__.ops_cached.$gwx_38);return __WXML_GLOBAL__.ops_cached.$gwx_38
}
function gz$gwx_39(){
if( __WXML_GLOBAL__.ops_cached.$gwx_39)return __WXML_GLOBAL__.ops_cached.$gwx_39
__WXML_GLOBAL__.ops_cached.$gwx_39=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'onReachBottom'])
Z([3,'main-body'])
Z([[7],[3,'showSuggestion']])
Z([[2,'>'],[[6],[[7],[3,'history']],[3,'length']],[1,0]])
Z([[6],[[7],[3,'hotMovies']],[3,'length']])
Z([[7],[3,'hotMovies']])
Z([[2,'<'],[[7],[3,'index']],[1,6]])
Z([[2,'&&'],[[7],[3,'correctionV2']],[[2,'==='],[[7],[3,'correctionType']],[1,1]]])
Z([[2,'&&'],[[7],[3,'correctionV2']],[[2,'==='],[[7],[3,'correctionType']],[1,2]]])
Z([3,'result'])
Z([[7],[3,'results']])
Z([3,'index'])
Z([[2,'&&'],[[2,'==='],[[6],[[7],[3,'result']],[3,'type']],[1,0]],[[2,'>'],[[6],[[7],[3,'result']],[3,'total']],[1,0]]])
Z([3,'search-result'])
Z([[2,'==='],[[7],[3,'type']],[[2,'-'],[1,1]]])
Z([[6],[[7],[3,'result']],[3,'list']])
Z(z[11])
Z([3,'tapItem'])
Z([[7],[3,'index']])
Z([[7],[3,'item']])
Z([[6],[[7],[3,'result']],[3,'type']])
Z([[9],[[9],[[9],[[10],[[7],[3,'item']]],[[8],'index',[[7],[3,'index']]]],[[8],'isRedName',[1,true]]],[[8],'keyword',[[7],[3,'keyword']]]])
Z([3,'movie'])
Z([[2,'<'],[[7],[3,'index']],[[2,'-'],[[6],[[6],[[7],[3,'result']],[3,'list']],[3,'length']],[1,1]]])
Z([[2,'&&'],[[2,'<'],[[6],[[6],[[7],[3,'result']],[3,'list']],[3,'length']],[[6],[[7],[3,'result']],[3,'total']]],[[2,'!=='],[[6],[[7],[3,'result']],[3,'type']],[[7],[3,'lastType']]]])
Z([[2,'&&'],[[2,'==='],[[6],[[7],[3,'result']],[3,'type']],[1,2]],[[2,'>'],[[6],[[7],[3,'result']],[3,'total']],[1,0]]])
Z(z[13])
Z(z[14])
Z(z[15])
Z(z[11])
Z(z[17])
Z(z[18])
Z(z[19])
Z(z[20])
Z([[9],[[9],[[9],[[10],[[7],[3,'item']]],[[8],'noline',[[2,'==='],[[7],[3,'index']],[[2,'-'],[[6],[[6],[[7],[3,'result']],[3,'list']],[3,'length']],[1,1]]]]],[[8],'isRedName',[1,true]]],[[8],'keyword',[[7],[3,'keyword']]]])
Z([3,'cinema'])
Z(z[24])
Z([[2,'&&'],[[2,'==='],[[6],[[7],[3,'result']],[3,'type']],[1,6]],[[2,'>'],[[6],[[7],[3,'result']],[3,'total']],[1,0]]])
Z(z[13])
Z(z[14])
Z(z[15])
Z(z[11])
Z(z[17])
Z(z[18])
Z(z[19])
Z([1,4])
Z(z[21])
Z([3,'show-search'])
Z(z[23])
Z(z[24])
Z([[2,'&&'],[[2,'!'],[[7],[3,'hasResults']]],[[7],[3,'keyword']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_39);return __WXML_GLOBAL__.ops_cached.$gwx_39
}
function gz$gwx_40(){
if( __WXML_GLOBAL__.ops_cached.$gwx_40)return __WXML_GLOBAL__.ops_cached.$gwx_40
__WXML_GLOBAL__.ops_cached.$gwx_40=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'movie'])
Z([[7],[3,'movies']])
Z([[7],[3,'index']])
Z([3,'tapItem'])
Z([[6],[[7],[3,'movie']],[3,'id']])
Z(z[2])
Z([[9],[[9],[[9],[[10],[[7],[3,'movie']]],[[8],'index',[[7],[3,'index']]]],[[8],'isRedName',[1,true]]],[[8],'keyword',[[7],[3,'query']]]])
Z(z[0])
})(__WXML_GLOBAL__.ops_cached.$gwx_40);return __WXML_GLOBAL__.ops_cached.$gwx_40
}
function gz$gwx_41(){
if( __WXML_GLOBAL__.ops_cached.$gwx_41)return __WXML_GLOBAL__.ops_cached.$gwx_41
__WXML_GLOBAL__.ops_cached.$gwx_41=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'show'])
Z([[7],[3,'shows']])
Z([[7],[3,'index']])
Z([3,'tapItem'])
Z([[6],[[7],[3,'show']],[3,'id']])
Z(z[2])
Z([[9],[[9],[[9],[[10],[[7],[3,'show']]],[[8],'index',[[7],[3,'index']]]],[[8],'isRedName',[1,true]]],[[8],'keyword',[[7],[3,'query']]]])
Z([3,'show-search'])
})(__WXML_GLOBAL__.ops_cached.$gwx_41);return __WXML_GLOBAL__.ops_cached.$gwx_41
}
function gz$gwx_42(){
if( __WXML_GLOBAL__.ops_cached.$gwx_42)return __WXML_GLOBAL__.ops_cached.$gwx_42
__WXML_GLOBAL__.ops_cached.$gwx_42=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_42);return __WXML_GLOBAL__.ops_cached.$gwx_42
}
function gz$gwx_43(){
if( __WXML_GLOBAL__.ops_cached.$gwx_43)return __WXML_GLOBAL__.ops_cached.$gwx_43
__WXML_GLOBAL__.ops_cached.$gwx_43=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'express-card'])
Z([3,'gotoDetail'])
Z([3,'sd-item'])
Z([[6],[[7],[3,'item']],[3,'id']])
Z([3,'_item'])
Z([[6],[[7],[3,'item']],[3,'templateStyle']])
Z([[7],[3,'index']])
Z(z[5])
Z([[2,'=='],[[7],[3,'tabIndex']],[1,0]])
})(__WXML_GLOBAL__.ops_cached.$gwx_43);return __WXML_GLOBAL__.ops_cached.$gwx_43
}
function gz$gwx_44(){
if( __WXML_GLOBAL__.ops_cached.$gwx_44)return __WXML_GLOBAL__.ops_cached.$gwx_44
__WXML_GLOBAL__.ops_cached.$gwx_44=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'seven-day-tab-bar'])
})(__WXML_GLOBAL__.ops_cached.$gwx_44);return __WXML_GLOBAL__.ops_cached.$gwx_44
}
function gz$gwx_45(){
if( __WXML_GLOBAL__.ops_cached.$gwx_45)return __WXML_GLOBAL__.ops_cached.$gwx_45
__WXML_GLOBAL__.ops_cached.$gwx_45=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'isShowRegionPicker']])
})(__WXML_GLOBAL__.ops_cached.$gwx_45);return __WXML_GLOBAL__.ops_cached.$gwx_45
}
function gz$gwx_46(){
if( __WXML_GLOBAL__.ops_cached.$gwx_46)return __WXML_GLOBAL__.ops_cached.$gwx_46
__WXML_GLOBAL__.ops_cached.$gwx_46=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'addressList.length'])
})(__WXML_GLOBAL__.ops_cached.$gwx_46);return __WXML_GLOBAL__.ops_cached.$gwx_46
}
function gz$gwx_47(){
if( __WXML_GLOBAL__.ops_cached.$gwx_47)return __WXML_GLOBAL__.ops_cached.$gwx_47
__WXML_GLOBAL__.ops_cached.$gwx_47=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'onSubmit'])
Z([3,'select'])
Z([3,'addressList.length'])
})(__WXML_GLOBAL__.ops_cached.$gwx_47);return __WXML_GLOBAL__.ops_cached.$gwx_47
}
function gz$gwx_48(){
if( __WXML_GLOBAL__.ops_cached.$gwx_48)return __WXML_GLOBAL__.ops_cached.$gwx_48
__WXML_GLOBAL__.ops_cached.$gwx_48=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'isValid']])
Z([3,'_showSystemAnnouncement'])
Z([[7],[3,'icon']])
})(__WXML_GLOBAL__.ops_cached.$gwx_48);return __WXML_GLOBAL__.ops_cached.$gwx_48
}
function gz$gwx_49(){
if( __WXML_GLOBAL__.ops_cached.$gwx_49)return __WXML_GLOBAL__.ops_cached.$gwx_49
__WXML_GLOBAL__.ops_cached.$gwx_49=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'uiShow']])
})(__WXML_GLOBAL__.ops_cached.$gwx_49);return __WXML_GLOBAL__.ops_cached.$gwx_49
}
function gz$gwx_50(){
if( __WXML_GLOBAL__.ops_cached.$gwx_50)return __WXML_GLOBAL__.ops_cached.$gwx_50
__WXML_GLOBAL__.ops_cached.$gwx_50=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'show']])
})(__WXML_GLOBAL__.ops_cached.$gwx_50);return __WXML_GLOBAL__.ops_cached.$gwx_50
}
function gz$gwx_51(){
if( __WXML_GLOBAL__.ops_cached.$gwx_51)return __WXML_GLOBAL__.ops_cached.$gwx_51
__WXML_GLOBAL__.ops_cached.$gwx_51=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'show']])
})(__WXML_GLOBAL__.ops_cached.$gwx_51);return __WXML_GLOBAL__.ops_cached.$gwx_51
}
function gz$gwx_52(){
if( __WXML_GLOBAL__.ops_cached.$gwx_52)return __WXML_GLOBAL__.ops_cached.$gwx_52
__WXML_GLOBAL__.ops_cached.$gwx_52=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'show']])
})(__WXML_GLOBAL__.ops_cached.$gwx_52);return __WXML_GLOBAL__.ops_cached.$gwx_52
}
function gz$gwx_53(){
if( __WXML_GLOBAL__.ops_cached.$gwx_53)return __WXML_GLOBAL__.ops_cached.$gwx_53
__WXML_GLOBAL__.ops_cached.$gwx_53=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[2,'!'],[[2,'!'],[[7],[3,'pageError']]]],[[2,'!=='],[[7],[3,'hintType']],[1,'toast']]])
Z([3,'error-handler'])
Z([[2,'==='],[[7],[3,'pageError']],[1,'unknown']])
Z([1,true])
Z([[2,'==='],[[7],[3,'pageError']],[1,'network']])
Z([3,'reload'])
Z(z[3])
Z([[2,'==='],[[7],[3,'pageError']],[1,'expired']])
Z(z[3])
})(__WXML_GLOBAL__.ops_cached.$gwx_53);return __WXML_GLOBAL__.ops_cached.$gwx_53
}
function gz$gwx_54(){
if( __WXML_GLOBAL__.ops_cached.$gwx_54)return __WXML_GLOBAL__.ops_cached.$gwx_54
__WXML_GLOBAL__.ops_cached.$gwx_54=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'showPage']])
})(__WXML_GLOBAL__.ops_cached.$gwx_54);return __WXML_GLOBAL__.ops_cached.$gwx_54
}
function gz$gwx_55(){
if( __WXML_GLOBAL__.ops_cached.$gwx_55)return __WXML_GLOBAL__.ops_cached.$gwx_55
__WXML_GLOBAL__.ops_cached.$gwx_55=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'isGetPhoneButton']])
Z([3,'onGetPhoneNumber'])
Z([3,'getPhoneButton'])
Z([3,'getPhoneNumber'])
Z([3,'getPhoneUi'])
Z([3,'onNormalButtonTap'])
Z(z[2])
Z([3,'normalUi'])
})(__WXML_GLOBAL__.ops_cached.$gwx_55);return __WXML_GLOBAL__.ops_cached.$gwx_55
}
function gz$gwx_56(){
if( __WXML_GLOBAL__.ops_cached.$gwx_56)return __WXML_GLOBAL__.ops_cached.$gwx_56
__WXML_GLOBAL__.ops_cached.$gwx_56=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'login-button'])
Z([[2,'!'],[[7],[3,'isLogin']]])
Z([3,'onGetUserInfo'])
Z([3,'show-operation-btn'])
Z([1,true])
Z([[2,'?:'],[[7],[3,'isLogin']],[1,''],[1,'getUserInfo']])
Z([3,'login'])
Z([[7],[3,'isLogin']])
Z([3,'other'])
})(__WXML_GLOBAL__.ops_cached.$gwx_56);return __WXML_GLOBAL__.ops_cached.$gwx_56
}
function gz$gwx_57(){
if( __WXML_GLOBAL__.ops_cached.$gwx_57)return __WXML_GLOBAL__.ops_cached.$gwx_57
__WXML_GLOBAL__.ops_cached.$gwx_57=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'hasMask']])
Z([3,'popup'])
Z([[2,'>'],[[6],[[7],[3,'history']],[3,'length']],[1,1]])
})(__WXML_GLOBAL__.ops_cached.$gwx_57);return __WXML_GLOBAL__.ops_cached.$gwx_57
}
function gz$gwx_58(){
if( __WXML_GLOBAL__.ops_cached.$gwx_58)return __WXML_GLOBAL__.ops_cached.$gwx_58
__WXML_GLOBAL__.ops_cached.$gwx_58=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_58);return __WXML_GLOBAL__.ops_cached.$gwx_58
}
function gz$gwx_59(){
if( __WXML_GLOBAL__.ops_cached.$gwx_59)return __WXML_GLOBAL__.ops_cached.$gwx_59
__WXML_GLOBAL__.ops_cached.$gwx_59=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'realName'])
Z([[7],[3,'realNameList']])
Z([[7],[3,'index']])
Z([[2,'!'],[[2,'!'],[[6],[[7],[3,'realNameList']],[3,'length']]]])
Z([3,'realname-info-container'])
Z([[7],[3,'selected']])
Z([3,'selectRealName'])
Z([3,'name-info-layout'])
Z(z[2])
Z([[6],[[7],[3,'realName']],[3,'default']])
Z([[7],[3,'errorTips']])
})(__WXML_GLOBAL__.ops_cached.$gwx_59);return __WXML_GLOBAL__.ops_cached.$gwx_59
}
function gz$gwx_60(){
if( __WXML_GLOBAL__.ops_cached.$gwx_60)return __WXML_GLOBAL__.ops_cached.$gwx_60
__WXML_GLOBAL__.ops_cached.$gwx_60=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'onSubmit'])
Z([3,'select'])
Z([3,'realnameList.length'])
})(__WXML_GLOBAL__.ops_cached.$gwx_60);return __WXML_GLOBAL__.ops_cached.$gwx_60
}
function gz$gwx_61(){
if( __WXML_GLOBAL__.ops_cached.$gwx_61)return __WXML_GLOBAL__.ops_cached.$gwx_61
__WXML_GLOBAL__.ops_cached.$gwx_61=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'>'],[[6],[[7],[3,'selectedIDList']],[3,'length']],[1,0]])
})(__WXML_GLOBAL__.ops_cached.$gwx_61);return __WXML_GLOBAL__.ops_cached.$gwx_61
}
function gz$gwx_62(){
if( __WXML_GLOBAL__.ops_cached.$gwx_62)return __WXML_GLOBAL__.ops_cached.$gwx_62
__WXML_GLOBAL__.ops_cached.$gwx_62=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_62);return __WXML_GLOBAL__.ops_cached.$gwx_62
}
function gz$gwx_63(){
if( __WXML_GLOBAL__.ops_cached.$gwx_63)return __WXML_GLOBAL__.ops_cached.$gwx_63
__WXML_GLOBAL__.ops_cached.$gwx_63=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'>'],[[7],[3,'showFlag']],[1,0]])
Z([3,'closeShareModal'])
Z([3,'emptyFunc'])
Z([3,'share-modal'])
Z([a,[3,'top: '],[[2,'?:'],[[7],[3,'generatingImg']],[1,'-2000px'],[1,'0']]])
Z([[7],[3,'shareImgUrl']])
Z(z[5])
Z([[2,'==='],[[7],[3,'showFlag']],[1,1]])
Z(z[2])
Z([3,'bottom-logo-wrapper'])
Z([a,[3,'justify-content: '],[[2,'?:'],[[6],[[7],[3,'performance']],[3,'posterUrl']],[1,'space-between'],[1,'center']]])
Z([[6],[[7],[3,'performance']],[3,'posterUrl']])
})(__WXML_GLOBAL__.ops_cached.$gwx_63);return __WXML_GLOBAL__.ops_cached.$gwx_63
}
function gz$gwx_64(){
if( __WXML_GLOBAL__.ops_cached.$gwx_64)return __WXML_GLOBAL__.ops_cached.$gwx_64
__WXML_GLOBAL__.ops_cached.$gwx_64=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'showMask']])
})(__WXML_GLOBAL__.ops_cached.$gwx_64);return __WXML_GLOBAL__.ops_cached.$gwx_64
}
function gz$gwx_65(){
if( __WXML_GLOBAL__.ops_cached.$gwx_65)return __WXML_GLOBAL__.ops_cached.$gwx_65
__WXML_GLOBAL__.ops_cached.$gwx_65=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'my-class'])
Z([3,'slider'])
Z([3,'安全验证'])
})(__WXML_GLOBAL__.ops_cached.$gwx_65);return __WXML_GLOBAL__.ops_cached.$gwx_65
}
function gz$gwx_66(){
if( __WXML_GLOBAL__.ops_cached.$gwx_66)return __WXML_GLOBAL__.ops_cached.$gwx_66
__WXML_GLOBAL__.ops_cached.$gwx_66=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'compose-button'])
Z([3,'left'])
Z([3,'right'])
})(__WXML_GLOBAL__.ops_cached.$gwx_66);return __WXML_GLOBAL__.ops_cached.$gwx_66
}
function gz$gwx_67(){
if( __WXML_GLOBAL__.ops_cached.$gwx_67)return __WXML_GLOBAL__.ops_cached.$gwx_67
__WXML_GLOBAL__.ops_cached.$gwx_67=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_67);return __WXML_GLOBAL__.ops_cached.$gwx_67
}
function gz$gwx_68(){
if( __WXML_GLOBAL__.ops_cached.$gwx_68)return __WXML_GLOBAL__.ops_cached.$gwx_68
__WXML_GLOBAL__.ops_cached.$gwx_68=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'show']])
Z(z[0])
})(__WXML_GLOBAL__.ops_cached.$gwx_68);return __WXML_GLOBAL__.ops_cached.$gwx_68
}
function gz$gwx_69(){
if( __WXML_GLOBAL__.ops_cached.$gwx_69)return __WXML_GLOBAL__.ops_cached.$gwx_69
__WXML_GLOBAL__.ops_cached.$gwx_69=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'onScroll'])
Z([3,'toLower'])
Z([3,'toTop'])
Z([3,'detail-main'])
Z([3,'20'])
Z([[2,'-'],[[7],[3,'trueTop']],[1,20]])
Z([[2,'&&'],[[7],[3,'discountList']],[[2,'>'],[[6],[[7],[3,'discountList']],[3,'length']],[1,0]]])
Z([[2,'&&'],[[7],[3,'setTicketList']],[[2,'>'],[[6],[[7],[3,'setTicketList']],[3,'length']],[1,0]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_69);return __WXML_GLOBAL__.ops_cached.$gwx_69
}
function gz$gwx_70(){
if( __WXML_GLOBAL__.ops_cached.$gwx_70)return __WXML_GLOBAL__.ops_cached.$gwx_70
__WXML_GLOBAL__.ops_cached.$gwx_70=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'isShow']])
Z([3,'lookMore'])
Z([3,'discount-information'])
Z([3,'discount-main'])
Z([[2,'&&'],[[7],[3,'discountList']],[[2,'>'],[[6],[[7],[3,'discountList']],[3,'length']],[1,0]]])
Z([[7],[3,'discountList']])
Z([[7],[3,'index']])
Z([[2,'==='],[[7],[3,'index']],[1,0]])
Z([[2,'&&'],[[7],[3,'setTicketList']],[[2,'>'],[[6],[[7],[3,'setTicketList']],[3,'length']],[1,0]]])
Z([[7],[3,'setTicketList']])
Z(z[6])
Z(z[7])
})(__WXML_GLOBAL__.ops_cached.$gwx_70);return __WXML_GLOBAL__.ops_cached.$gwx_70
}
function gz$gwx_71(){
if( __WXML_GLOBAL__.ops_cached.$gwx_71)return __WXML_GLOBAL__.ops_cached.$gwx_71
__WXML_GLOBAL__.ops_cached.$gwx_71=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'show']])
})(__WXML_GLOBAL__.ops_cached.$gwx_71);return __WXML_GLOBAL__.ops_cached.$gwx_71
}
function gz$gwx_72(){
if( __WXML_GLOBAL__.ops_cached.$gwx_72)return __WXML_GLOBAL__.ops_cached.$gwx_72
__WXML_GLOBAL__.ops_cached.$gwx_72=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'flag']])
})(__WXML_GLOBAL__.ops_cached.$gwx_72);return __WXML_GLOBAL__.ops_cached.$gwx_72
}
function gz$gwx_73(){
if( __WXML_GLOBAL__.ops_cached.$gwx_73)return __WXML_GLOBAL__.ops_cached.$gwx_73
__WXML_GLOBAL__.ops_cached.$gwx_73=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'show-info'])
Z([[2,'&&'],[[6],[[7],[3,'performance']],[3,'self']],[[2,'==='],[[6],[[7],[3,'performance']],[3,'generalAgent']],[1,0]]])
Z([[2,'&&'],[[6],[[7],[3,'performance']],[3,'self']],[[2,'==='],[[6],[[7],[3,'performance']],[3,'generalAgent']],[1,1]]])
Z([[2,'!'],[[6],[[7],[3,'performance']],[3,'priceRangeType']]])
Z([[2,'&&'],[[2,'!'],[[2,'!'],[[6],[[7],[3,'performance']],[3,'priceList']]]],[[2,'>='],[[6],[[6],[[7],[3,'performance']],[3,'priceList']],[3,'length']],[1,2]]])
Z([[2,'==='],[[6],[[7],[3,'performance']],[3,'priceRangeType']],[1,1]])
})(__WXML_GLOBAL__.ops_cached.$gwx_73);return __WXML_GLOBAL__.ops_cached.$gwx_73
}
function gz$gwx_74(){
if( __WXML_GLOBAL__.ops_cached.$gwx_74)return __WXML_GLOBAL__.ops_cached.$gwx_74
__WXML_GLOBAL__.ops_cached.$gwx_74=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_74);return __WXML_GLOBAL__.ops_cached.$gwx_74
}
function gz$gwx_75(){
if( __WXML_GLOBAL__.ops_cached.$gwx_75)return __WXML_GLOBAL__.ops_cached.$gwx_75
__WXML_GLOBAL__.ops_cached.$gwx_75=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'onGetUserInfo'])
Z([3,'login-button-class'])
Z([1,true])
Z([3,'b_diuse2s1'])
Z([[7],[3,'isLogin']])
Z([3,'loginUi'])
Z([3,'login'])
Z([3,'onGetPhoneNumber'])
Z([3,'onNormalButtonTap'])
Z([[7],[3,'isGetPhoneButton']])
Z([3,'other'])
Z([3,'getPhoneUi'])
Z(z[11])
Z([3,'normalUi'])
Z(z[13])
})(__WXML_GLOBAL__.ops_cached.$gwx_75);return __WXML_GLOBAL__.ops_cached.$gwx_75
}
function gz$gwx_76(){
if( __WXML_GLOBAL__.ops_cached.$gwx_76)return __WXML_GLOBAL__.ops_cached.$gwx_76
__WXML_GLOBAL__.ops_cached.$gwx_76=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'show']])
Z([3,'new_detail_middle_bar'])
Z([[7],[3,'hasTag']])
Z([3,'sale-tag'])
Z([[2,'==='],[[7],[3,'tagStatus']],[1,0]])
Z([[2,'==='],[[7],[3,'tagStatus']],[1,1]])
Z([a,[3,'sele-text-container '],[[2,'?:'],[[7],[3,'hasTag']],[1,'sele-text-container-padding-with-tag'],[1,'sele-text-container-padding-with-without-tag']]])
Z([[7],[3,'hasOnSaleTime']])
Z([[2,'&&'],[[2,'!'],[[2,'!'],[[7],[3,'remainInfo']]]],[[2,'<'],[[6],[[7],[3,'remainInfo']],[3,'allHours']],[1,24]]])
Z([3,'remain-time'])
Z([[2,'&&'],[[2,'!'],[[2,'!'],[[7],[3,'remainInfo']]]],[[2,'>='],[[6],[[7],[3,'remainInfo']],[3,'allHours']],[1,24]]])
Z(z[8])
Z([[2,'==='],[[7],[3,'isNeedOnSaleRemind']],[1,1]])
Z([[2,'==='],[[7],[3,'isNeedOnSaleRemind']],[1,0]])
})(__WXML_GLOBAL__.ops_cached.$gwx_76);return __WXML_GLOBAL__.ops_cached.$gwx_76
}
function gz$gwx_77(){
if( __WXML_GLOBAL__.ops_cached.$gwx_77)return __WXML_GLOBAL__.ops_cached.$gwx_77
__WXML_GLOBAL__.ops_cached.$gwx_77=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'show']])
})(__WXML_GLOBAL__.ops_cached.$gwx_77);return __WXML_GLOBAL__.ops_cached.$gwx_77
}
function gz$gwx_78(){
if( __WXML_GLOBAL__.ops_cached.$gwx_78)return __WXML_GLOBAL__.ops_cached.$gwx_78
__WXML_GLOBAL__.ops_cached.$gwx_78=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_78);return __WXML_GLOBAL__.ops_cached.$gwx_78
}
function gz$gwx_79(){
if( __WXML_GLOBAL__.ops_cached.$gwx_79)return __WXML_GLOBAL__.ops_cached.$gwx_79
__WXML_GLOBAL__.ops_cached.$gwx_79=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'show']])
Z([3,'onSubmit'])
Z([1,true])
Z([[2,'&&'],[[2,'==='],[[6],[[7],[3,'phoneNumber']],[3,'length']],[1,11]],[[2,'!'],[[2,'!'],[[7],[3,'focus']]]]])
Z(z[0])
})(__WXML_GLOBAL__.ops_cached.$gwx_79);return __WXML_GLOBAL__.ops_cached.$gwx_79
}
function gz$gwx_80(){
if( __WXML_GLOBAL__.ops_cached.$gwx_80)return __WXML_GLOBAL__.ops_cached.$gwx_80
__WXML_GLOBAL__.ops_cached.$gwx_80=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'show']])
Z(z[0])
})(__WXML_GLOBAL__.ops_cached.$gwx_80);return __WXML_GLOBAL__.ops_cached.$gwx_80
}
function gz$gwx_81(){
if( __WXML_GLOBAL__.ops_cached.$gwx_81)return __WXML_GLOBAL__.ops_cached.$gwx_81
__WXML_GLOBAL__.ops_cached.$gwx_81=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_81);return __WXML_GLOBAL__.ops_cached.$gwx_81
}
function gz$gwx_82(){
if( __WXML_GLOBAL__.ops_cached.$gwx_82)return __WXML_GLOBAL__.ops_cached.$gwx_82
__WXML_GLOBAL__.ops_cached.$gwx_82=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'new_detail_show_detail'])
Z([[2,'!'],[[2,'!'],[[7],[3,'seatUrl']]]])
Z([[7],[3,'showDetail']])
Z([[7],[3,'index']])
Z([[6],[[7],[3,'item']],[3,'style']])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,1]])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,2]])
})(__WXML_GLOBAL__.ops_cached.$gwx_82);return __WXML_GLOBAL__.ops_cached.$gwx_82
}
function gz$gwx_83(){
if( __WXML_GLOBAL__.ops_cached.$gwx_83)return __WXML_GLOBAL__.ops_cached.$gwx_83
__WXML_GLOBAL__.ops_cached.$gwx_83=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[7],[3,'richText']],[[7],[3,'ticketNotes']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_83);return __WXML_GLOBAL__.ops_cached.$gwx_83
}
function gz$gwx_84(){
if( __WXML_GLOBAL__.ops_cached.$gwx_84)return __WXML_GLOBAL__.ops_cached.$gwx_84
__WXML_GLOBAL__.ops_cached.$gwx_84=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'show']])
})(__WXML_GLOBAL__.ops_cached.$gwx_84);return __WXML_GLOBAL__.ops_cached.$gwx_84
}
function gz$gwx_85(){
if( __WXML_GLOBAL__.ops_cached.$gwx_85)return __WXML_GLOBAL__.ops_cached.$gwx_85
__WXML_GLOBAL__.ops_cached.$gwx_85=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'handleTap'])
Z([3,'bar'])
Z([[7],[3,'guide']])
})(__WXML_GLOBAL__.ops_cached.$gwx_85);return __WXML_GLOBAL__.ops_cached.$gwx_85
}
function gz$gwx_86(){
if( __WXML_GLOBAL__.ops_cached.$gwx_86)return __WXML_GLOBAL__.ops_cached.$gwx_86
__WXML_GLOBAL__.ops_cached.$gwx_86=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_86);return __WXML_GLOBAL__.ops_cached.$gwx_86
}
function gz$gwx_87(){
if( __WXML_GLOBAL__.ops_cached.$gwx_87)return __WXML_GLOBAL__.ops_cached.$gwx_87
__WXML_GLOBAL__.ops_cached.$gwx_87=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'==='],[[7],[3,'priorBuyStatus']],[1,1]])
Z([[2,'==='],[[7],[3,'priorBuyStatus']],[1,0]])
})(__WXML_GLOBAL__.ops_cached.$gwx_87);return __WXML_GLOBAL__.ops_cached.$gwx_87
}
function gz$gwx_88(){
if( __WXML_GLOBAL__.ops_cached.$gwx_88)return __WXML_GLOBAL__.ops_cached.$gwx_88
__WXML_GLOBAL__.ops_cached.$gwx_88=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'?:'],[[2,'==='],[[7],[3,'priorBuyStatus']],[1,1]],[1,true],[1,false]])
Z([[2,'==='],[[7],[3,'priorBuyStatus']],[1,0]])
})(__WXML_GLOBAL__.ops_cached.$gwx_88);return __WXML_GLOBAL__.ops_cached.$gwx_88
}
function gz$gwx_89(){
if( __WXML_GLOBAL__.ops_cached.$gwx_89)return __WXML_GLOBAL__.ops_cached.$gwx_89
__WXML_GLOBAL__.ops_cached.$gwx_89=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'==='],[[7],[3,'saleStatus']],[1,1]])
Z([3,'willsell-btn-container'])
Z([[2,'&&'],[[2,'!'],[[2,'!'],[[7],[3,'beforeSaleStatus']]]],[[2,'==='],[[6],[[7],[3,'beforeSaleStatus']],[3,'needRemind']],[1,1]]])
Z([[2,'?:'],[[2,'==='],[[7],[3,'priorBuyStatus']],[1,1]],[1,true],[1,false]])
Z([[2,'==='],[[7],[3,'priorBuyStatus']],[1,0]])
Z([[2,'&&'],[[2,'!'],[[2,'!'],[[7],[3,'beforeSaleStatus']]]],[[2,'!=='],[[6],[[7],[3,'beforeSaleStatus']],[3,'needRemind']],[1,1]]])
Z([[2,'==='],[[7],[3,'priorBuyStatus']],[1,1]])
Z(z[4])
})(__WXML_GLOBAL__.ops_cached.$gwx_89);return __WXML_GLOBAL__.ops_cached.$gwx_89
}
function gz$gwx_90(){
if( __WXML_GLOBAL__.ops_cached.$gwx_90)return __WXML_GLOBAL__.ops_cached.$gwx_90
__WXML_GLOBAL__.ops_cached.$gwx_90=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_90);return __WXML_GLOBAL__.ops_cached.$gwx_90
}
function gz$gwx_91(){
if( __WXML_GLOBAL__.ops_cached.$gwx_91)return __WXML_GLOBAL__.ops_cached.$gwx_91
__WXML_GLOBAL__.ops_cached.$gwx_91=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_91);return __WXML_GLOBAL__.ops_cached.$gwx_91
}
function gz$gwx_92(){
if( __WXML_GLOBAL__.ops_cached.$gwx_92)return __WXML_GLOBAL__.ops_cached.$gwx_92
__WXML_GLOBAL__.ops_cached.$gwx_92=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[2,'!'],[[7],[3,'isPageLoading']]],[[2,'!'],[[7],[3,'isLoadingPageError']]]])
Z([a,[3,'new_detail_page '],[[2,'?:'],[[7],[3,'showDiscountDetail']],[1,'noscroll '],[1,'']],[3,' '],[[2,'?:'],[[7],[3,'isShowBuyButton']],[1,'new_detail_page_button_padding'],[1,'']],[3,' '],[[2,'?:'],[[2,'&&'],[[7],[3,'isIphoneX']],[[7],[3,'isShowBuyButton']]],[1,'ipx-page-padding'],[1,'']]])
Z([3,'closeShareModal'])
Z([3,'drawShareModal'])
Z([3,'saveShareImage'])
Z([[7],[3,'performanceInfo']])
Z([[6],[[7],[3,'performanceInfo']],[3,'performanceId']])
Z([[7],[3,'showFlag']])
Z([3,'show-header clearfix'])
Z(z[5])
Z([[7],[3,'pixelRatio']])
Z([3,'onGetUserInfo'])
Z([3,'login-button-class'])
Z([1,true])
Z([3,'b_diuse2s1'])
Z([[7],[3,'isLogin']])
Z([3,'login-template'])
Z([[7],[3,'isCollect']])
Z([[2,'!'],[[7],[3,'isCollect']]])
Z([3,'show-operation-btn collect'])
Z([3,'login'])
Z([[8],'isCollect',[[7],[3,'isCollect']]])
Z(z[16])
Z([3,'getPhoneNumberCollectOn'])
Z([[2,'?:'],[[2,'||'],[[7],[3,'userPhoneNumber']],[[7],[3,'resetPhoneNumDate']]],[1,'collect'],[1,'']])
Z(z[19])
Z([[2,'?:'],[[2,'&&'],[[2,'!'],[[7],[3,'userPhoneNumber']]],[[2,'!'],[[7],[3,'resetPhoneNumDate']]]],[1,'getPhoneNumber'],[1,'']])
Z([3,'other'])
Z(z[21])
Z(z[16])
Z([[2,'||'],[[2,'||'],[[2,'||'],[[2,'||'],[[2,'==='],[[7],[3,'saleStatus']],[1,2]],[[2,'==='],[[7],[3,'saleStatus']],[1,3]]],[[2,'==='],[[7],[3,'saleStatus']],[1,4]]],[[2,'==='],[[7],[3,'saleStatus']],[1,5]]],[[2,'==='],[[7],[3,'saleStatus']],[1,6]]])
Z([[2,'==='],[[7],[3,'tagStatus']],[1,0]])
Z([[2,'==='],[[7],[3,'tagStatus']],[1,1]])
Z([[7],[3,'beforeSaleStatus']])
Z([[7],[3,'currentTime']])
Z([[7],[3,'isNeedOnSaleRemind']])
Z([[7],[3,'mistiming']])
Z([[7],[3,'saleStatus']])
Z([[7],[3,'tagStatus']])
Z([[2,'&&'],[[7],[3,'promotional']],[[2,'||'],[[2,'||'],[[6],[[7],[3,'promotional']],[3,'discountList']],[[6],[[7],[3,'promotional']],[3,'setTicketList']]],[[6],[[7],[3,'promotional']],[3,'projectGiftVO']]]])
Z([3,'discountInformation'])
Z([3,'popupDiscountDetail'])
Z([[7],[3,'promotional']])
Z([[7],[3,'showDiscountDetail']])
Z([3,'shutDiscountDetail'])
Z(z[42])
Z(z[5])
Z([[6],[[7],[3,'performanceInfo']],[3,'address']])
Z([3,'openGuideStatus'])
Z([3,'openMapStatus'])
Z([[6],[[7],[3,'performanceInfo']],[3,'cityName']])
Z([[6],[[7],[3,'performanceInfo']],[3,'travelGuide']])
Z([[6],[[7],[3,'performanceInfo']],[3,'lat']])
Z([[6],[[7],[3,'performanceInfo']],[3,'lng']])
Z([[6],[[7],[3,'performanceInfo']],[3,'shopName']])
Z(z[11])
Z(z[12])
Z(z[13])
Z(z[14])
Z(z[15])
Z([3,'show-operation-btn'])
Z(z[20])
Z([[2,'&&'],[[6],[[7],[3,'performanceInfo']],[3,'needPreInput']],[[2,'!'],[[7],[3,'countDownEnd']]]])
Z([3,'fillInfon'])
Z(z[62])
Z([3,'preInput'])
Z(z[6])
Z([3,'getPhoneNumberPreInput'])
Z([[2,'?:'],[[2,'||'],[[7],[3,'userPhoneNumber']],[[7],[3,'resetPhoneNumDate']]],[1,'vistPreInputComponent'],[1,'']])
Z(z[60])
Z(z[26])
Z(z[27])
Z(z[62])
Z(z[63])
Z(z[62])
Z(z[65])
Z(z[6])
Z([[2,'&&'],[[2,'!'],[[2,'!'],[[7],[3,'projectVideoInfo']]]],[[7],[3,'isShowVideo']]])
Z([3,'videoViewStats'])
Z([3,'jumpToVideo'])
Z([[7],[3,'projectVideoInfo']])
Z([3,'seatImgStats'])
Z([[2,'&&'],[[7],[3,'performanceInfo']],[[6],[[7],[3,'performanceInfo']],[3,'detail']]])
Z([[2,'&&'],[[7],[3,'performanceInfo']],[[6],[[7],[3,'performanceInfo']],[3,'seatUrl']]])
Z([[2,'&&'],[[7],[3,'performanceInfo']],[[6],[[7],[3,'performanceInfo']],[3,'ticketNotes']]])
Z([[7],[3,'isShowBuyButton']])
Z([[2,'==='],[[7],[3,'saleStatus']],[1,1]])
Z([[2,'&&'],[[2,'!'],[[2,'!'],[[7],[3,'beforeSaleStatus']]]],[[2,'==='],[[6],[[7],[3,'beforeSaleStatus']],[3,'needRemind']],[1,1]]])
Z([[2,'==='],[[7],[3,'priorBuyStatus']],[1,1]])
Z(z[11])
Z(z[12])
Z(z[13])
Z(z[14])
Z(z[15])
Z([3,'left'])
Z([3,'prior-button-container'])
Z(z[20])
Z([3,'getPhoneNumberAndPriorBuy'])
Z([3,'priorBuy'])
Z([[2,'||'],[[2,'&&'],[[6],[[7],[3,'bindButtonInfo']],[3,'priority']],[[2,'!'],[[7],[3,'userPhoneNumber']]]],[[2,'&&'],[[2,'&&'],[[2,'!'],[[6],[[7],[3,'bindButtonInfo']],[3,'priority']]],[[2,'!'],[[7],[3,'userPhoneNumber']]]],[[2,'!'],[[7],[3,'resetPhoneNumDate']]]]])
Z(z[27])
Z(z[95])
Z([3,'getPhoneUi'])
Z(z[95])
Z([3,'normalUi'])
Z([[7],[3,'isNeedRemindWithPriceModal']])
Z([3,'willsell-remind-btn-priorbuy'])
Z([3,'right'])
Z([3,'showOnSaleRemindModalWithPriceTags'])
Z([[7],[3,'btnText']])
Z(z[11])
Z(z[12])
Z(z[13])
Z(z[15])
Z(z[107])
Z(z[109])
Z(z[20])
Z([3,'getPhoneNumberAndButtonReaction'])
Z([3,'normalButtonReaction'])
Z([[2,'||'],[[2,'&&'],[[6],[[7],[3,'bindButtonInfo']],[3,'remind']],[[2,'!'],[[7],[3,'userPhoneNumber']]]],[[2,'&&'],[[2,'&&'],[[2,'!'],[[6],[[7],[3,'bindButtonInfo']],[3,'remind']]],[[2,'!'],[[7],[3,'userPhoneNumber']]]],[[2,'!'],[[7],[3,'resetPhoneNumDate']]]]])
Z(z[27])
Z(z[109])
Z(z[102])
Z(z[109])
Z(z[104])
Z([[2,'==='],[[7],[3,'priorBuyStatus']],[1,0]])
Z([a,[3,'remind-noprior-container '],[[2,'?:'],[[7],[3,'isIphoneX']],[1,'ipx-padding'],[1,'']]])
Z(z[105])
Z(z[108])
Z(z[109])
Z(z[11])
Z(z[12])
Z(z[13])
Z(z[15])
Z(z[107])
Z([3,'willsell-remind-btn'])
Z(z[20])
Z(z[109])
Z(z[117])
Z(z[118])
Z(z[119])
Z(z[27])
Z(z[135])
Z(z[102])
Z(z[109])
Z(z[135])
Z(z[104])
Z(z[109])
Z([[2,'&&'],[[2,'!'],[[2,'!'],[[7],[3,'beforeSaleStatus']]]],[[2,'!=='],[[6],[[7],[3,'beforeSaleStatus']],[3,'needRemind']],[1,1]]])
Z(z[88])
Z(z[11])
Z(z[12])
Z(z[13])
Z(z[14])
Z(z[15])
Z(z[94])
Z(z[95])
Z(z[20])
Z(z[97])
Z(z[98])
Z(z[99])
Z(z[27])
Z(z[95])
Z(z[102])
Z(z[95])
Z(z[104])
Z(z[109])
Z(z[107])
Z(z[125])
Z(z[109])
Z([[2,'||'],[[2,'||'],[[2,'||'],[[2,'==='],[[7],[3,'saleStatus']],[1,2]],[[2,'==='],[[7],[3,'saleStatus']],[1,3]]],[[2,'==='],[[7],[3,'saleStatus']],[1,4]]],[[2,'==='],[[7],[3,'saleStatus']],[1,5]]])
Z([a,[3,'onsale-end-button-container '],z[126][2]])
Z([[2,'==='],[[7],[3,'btnText']],[1,'立即预定']])
Z(z[88])
Z(z[11])
Z(z[12])
Z(z[13])
Z(z[14])
Z(z[15])
Z(z[94])
Z(z[95])
Z(z[20])
Z(z[97])
Z(z[98])
Z(z[99])
Z(z[27])
Z(z[95])
Z(z[102])
Z(z[95])
Z(z[104])
Z(z[11])
Z(z[12])
Z(z[13])
Z(z[14])
Z(z[15])
Z(z[107])
Z(z[117])
Z(z[118])
Z([[2,'||'],[[2,'&&'],[[6],[[7],[3,'bindButtonInfo']],[3,'Reserve']],[[2,'!'],[[7],[3,'userPhoneNumber']]]],[[2,'&&'],[[2,'&&'],[[2,'!'],[[6],[[7],[3,'bindButtonInfo']],[3,'Reserve']]],[[2,'!'],[[7],[3,'userPhoneNumber']]]],[[2,'!'],[[7],[3,'resetPhoneNumDate']]]]])
Z(z[27])
Z(z[125])
Z(z[11])
Z(z[12])
Z(z[13])
Z(z[14])
Z(z[15])
Z(z[117])
Z(z[118])
Z(z[198])
Z(z[27])
Z([[2,'==='],[[7],[3,'btnText']],[1,'立即购票']])
Z(z[88])
Z(z[11])
Z(z[12])
Z(z[13])
Z(z[14])
Z(z[15])
Z(z[94])
Z(z[95])
Z(z[20])
Z(z[97])
Z(z[98])
Z(z[99])
Z(z[27])
Z(z[95])
Z(z[102])
Z(z[95])
Z(z[104])
Z(z[11])
Z(z[12])
Z(z[13])
Z(z[14])
Z(z[15])
Z(z[107])
Z(z[117])
Z(z[118])
Z([[2,'||'],[[2,'&&'],[[6],[[7],[3,'bindButtonInfo']],[3,'order']],[[2,'!'],[[7],[3,'userPhoneNumber']]]],[[2,'&&'],[[2,'&&'],[[2,'!'],[[6],[[7],[3,'bindButtonInfo']],[3,'order']]],[[2,'!'],[[7],[3,'userPhoneNumber']]]],[[2,'!'],[[7],[3,'resetPhoneNumDate']]]]])
Z(z[27])
Z(z[125])
Z(z[11])
Z(z[12])
Z(z[13])
Z(z[14])
Z(z[15])
Z(z[117])
Z(z[118])
Z(z[236])
Z(z[27])
Z([[2,'==='],[[7],[3,'btnText']],[1,'选座购票']])
Z(z[88])
Z(z[11])
Z(z[12])
Z(z[13])
Z(z[14])
Z(z[15])
Z(z[94])
Z(z[95])
Z(z[20])
Z(z[97])
Z(z[98])
Z(z[99])
Z(z[27])
Z(z[95])
Z(z[102])
Z(z[95])
Z(z[104])
Z(z[11])
Z(z[12])
Z(z[13])
Z(z[14])
Z(z[15])
Z(z[107])
Z(z[117])
Z(z[118])
Z([[2,'||'],[[2,'&&'],[[6],[[7],[3,'bindButtonInfo']],[3,'seatOrder']],[[2,'!'],[[7],[3,'userPhoneNumber']]]],[[2,'&&'],[[2,'&&'],[[2,'!'],[[6],[[7],[3,'bindButtonInfo']],[3,'seatOrder']]],[[2,'!'],[[7],[3,'userPhoneNumber']]]],[[2,'!'],[[7],[3,'resetPhoneNumDate']]]]])
Z(z[27])
Z(z[125])
Z(z[11])
Z(z[12])
Z(z[13])
Z(z[14])
Z(z[15])
Z(z[117])
Z(z[118])
Z(z[274])
Z(z[27])
Z([[2,'==='],[[7],[3,'saleStatus']],[1,6]])
Z([[2,'&&'],[[2,'!'],[[7],[3,'isPageLoading']]],[[2,'!'],[[2,'!'],[[7],[3,'isLoadingPageError']]]]])
Z([[2,'==='],[[7],[3,'pageErrorType']],[1,'unknown']])
Z(z[13])
Z([[2,'==='],[[7],[3,'pageErrorType']],[1,'network']])
Z([3,'reload'])
Z(z[13])
Z([[2,'==='],[[7],[3,'pageErrorType']],[1,'expired']])
Z(z[13])
Z([[2,'==='],[[7],[3,'pageErrorType']],[1,'crowded']])
Z([3,'navibackToIndex'])
Z(z[13])
Z([3,'返回首页'])
Z([[2,'==='],[[7],[3,'pageErrorType']],[1,'limit']])
Z(z[291])
Z(z[13])
Z([3,'点击刷新'])
Z([[7],[3,'displayShowList']])
Z([3,'closeShowModal'])
Z([3,'onShowItemClick'])
Z([[7],[3,'isIphone']])
Z([[7],[3,'selectedShowId']])
Z([[7],[3,'showInfo']])
Z([[7],[3,'isNeedSoldOutRegister']])
Z([3,'closeOnSaleRemindModal'])
Z([3,'remindModalInputChange'])
Z([3,'onRegisterRemindPhone'])
Z([[7],[3,'numberToBeRemind']])
Z([[7],[3,'showSalRemindModal']])
Z([3,'closeOnSaleRemindModalWithPriceTags'])
Z([3,'onSaleRemindModalWithPriceTagsInputChange'])
Z([3,'onPriceTagsSelected'])
Z([3,'onSaleRemindModalWithPriceTagsSubmit'])
Z(z[306])
Z([[7],[3,'isIphoneX']])
Z(z[313])
Z([[7],[3,'showSaleRemindModalWithTags']])
Z([[7],[3,'remindTicketPriceList']])
Z([[7],[3,'isShowCrowdedToast']])
Z([3,'closeCrowdedToast'])
Z(z[324])
})(__WXML_GLOBAL__.ops_cached.$gwx_92);return __WXML_GLOBAL__.ops_cached.$gwx_92
}
function gz$gwx_93(){
if( __WXML_GLOBAL__.ops_cached.$gwx_93)return __WXML_GLOBAL__.ops_cached.$gwx_93
__WXML_GLOBAL__.ops_cached.$gwx_93=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'page'])
Z([[10],[[7],[3,'AdBanner']]])
Z([3,'ad-banner'])
Z([[2,'!'],[[2,'!'],[[2,'&&'],[[7],[3,'canIUseWebView']],[[6],[[7],[3,'banners']],[3,'length']]]]])
Z([[2,'!'],[[2,'!'],[[6],[[7],[3,'categories']],[3,'length']]]])
Z([[2,'!'],[[2,'!'],[[2,'&&'],[[7],[3,'canIUseWebView']],[[6],[[7],[3,'my_homepage_zhongtong']],[3,'length']]]]])
Z([[2,'!'],[[2,'!'],[[2,'&&'],[[7],[3,'canIUseWebView']],[[2,'||'],[[2,'>='],[[6],[[7],[3,'my_homepage_rb1']],[3,'length']],[1,2]],[[2,'>='],[[6],[[7],[3,'my_homepage_rb2']],[3,'length']],[1,3]]]]]])
Z([3,'discovery-content'])
Z([[2,'>='],[[6],[[7],[3,'my_homepage_rb1']],[3,'length']],[1,2]])
Z([[2,'>='],[[6],[[7],[3,'my_homepage_rb2']],[3,'length']],[1,3]])
Z([[2,'!'],[[2,'!'],[[7],[3,'hasHot']]]])
Z([[2,'||'],[[2,'!'],[[2,'!'],[[6],[[7],[3,'performances']],[3,'length']]]],[[2,'!'],[[2,'!'],[[6],[[7],[3,'recommendPerformances']],[3,'length']]]]])
Z([3,'recommend'])
Z([[2,'!'],[[2,'!'],[[7],[3,'showSortPanel']]]])
Z([3,'recommend-list'])
Z([3,'performance'])
Z([[7],[3,'performances']])
Z([[6],[[7],[3,'performance']],[3,'performanceId']])
Z([[9],[[10],[[7],[3,'performance']]],[[8],'index',[[7],[3,'index']]]])
Z([3,'show'])
Z([[2,'&&'],[[2,'!'],[[2,'!'],[[6],[[7],[3,'performances']],[3,'length']]]],[[2,'!'],[[2,'!'],[[6],[[7],[3,'recommendPerformances']],[3,'length']]]]])
Z([3,'recommendPerformance'])
Z([[7],[3,'recommendPerformances']])
Z([[6],[[7],[3,'recommendPerformance']],[3,'performanceId']])
Z([[9],[[10],[[7],[3,'recommendPerformance']]],[[8],'index',[[7],[3,'index']]]])
Z(z[19])
})(__WXML_GLOBAL__.ops_cached.$gwx_93);return __WXML_GLOBAL__.ops_cached.$gwx_93
}
function gz$gwx_94(){
if( __WXML_GLOBAL__.ops_cached.$gwx_94)return __WXML_GLOBAL__.ops_cached.$gwx_94
__WXML_GLOBAL__.ops_cached.$gwx_94=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'categories']])
Z([[7],[3,'showSortPanel']])
Z([3,'banners.length'])
Z([[9],[[8],'swiperOptions',[[7],[3,'swiperOptions']]],[[8],'banners',[[7],[3,'banners']]]])
Z([3,'banner'])
Z([[2,'!'],[[7],[3,'emptyList']]])
Z([3,'performance'])
Z([[7],[3,'performances']])
Z([[7],[3,'index']])
Z([[9],[[10],[[7],[3,'performance']]],[[8],'index',[[7],[3,'index']]]])
Z([3,'show'])
Z([[2,'&&'],[[2,'!'],[[6],[[7],[3,'performances']],[3,'length']]],[[2,'!'],[[2,'!'],[[6],[[7],[3,'recommendPerformances']],[3,'length']]]]])
Z([[2,'!'],[[2,'!'],[[6],[[7],[3,'recommendPerformances']],[3,'length']]]])
Z([3,'recommendPerformance'])
Z([[7],[3,'recommendPerformances']])
Z([[6],[[7],[3,'recommendPerformance']],[3,'performanceId']])
Z([[9],[[10],[[7],[3,'recommendPerformance']]],[[8],'index',[[7],[3,'index']]]])
Z(z[10])
Z([[2,'&&'],[[7],[3,'fetchIndex']],[[7],[3,'fetchMore']]])
Z([[2,'&&'],[[2,'>='],[[2,'+'],[[6],[[7],[3,'performances']],[3,'length']],[[6],[[7],[3,'recommendPerformances']],[3,'length']]],[1,5]],[[2,'!'],[[7],[3,'fetchMore']]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_94);return __WXML_GLOBAL__.ops_cached.$gwx_94
}
function gz$gwx_95(){
if( __WXML_GLOBAL__.ops_cached.$gwx_95)return __WXML_GLOBAL__.ops_cached.$gwx_95
__WXML_GLOBAL__.ops_cached.$gwx_95=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'show']])
Z([3,'page show'])
Z([3,'panel'])
Z([3,'show-info'])
Z([[6],[[7],[3,'performance']],[3,'priceRange']])
Z([[2,'&&'],[[2,'>'],[[6],[[7],[3,'performance']],[3,'inventoryCount']],[1,0]],[[2,'<='],[[6],[[7],[3,'performance']],[3,'inventoryCount']],[1,10]]])
Z([3,'list-view'])
Z([[2,'!='],[[6],[[7],[3,'performance']],[3,'showTimeRange']],[1,null]])
Z([3,'onTapAddress'])
Z([3,'list-view-item'])
Z([[2,'&&'],[[6],[[7],[3,'performance']],[3,'seatUrl']],[[2,'!=='],[1,''],[[6],[[7],[3,'performance']],[3,'seatUrl']]]])
Z([[6],[[7],[3,'performance']],[3,'detail']])
Z([[7],[3,'index']])
Z([[6],[[7],[3,'item']],[3,'style']])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,1]])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,2]])
Z([[2,'&&'],[[6],[[7],[3,'performance']],[3,'performanceLabelVO']],[[7],[3,'showBuyBtn']]])
Z([3,'fixed fixed-bottom'])
Z([[2,'||'],[[2,'=='],[[6],[[6],[[7],[3,'performance']],[3,'performanceLabelVO']],[3,'saleLabel']],[1,2]],[[2,'=='],[[6],[[6],[[7],[3,'performance']],[3,'performanceLabelVO']],[3,'saleLabel']],[1,3]]])
Z([[2,'=='],[[6],[[6],[[7],[3,'performance']],[3,'performanceLabelVO']],[3,'saleLabel']],[1,1]])
Z([[2,'=='],[[6],[[6],[[7],[3,'performance']],[3,'performanceLabelVO']],[3,'saleLabel']],[1,4]])
Z([[2,'=='],[[6],[[6],[[7],[3,'performance']],[3,'performanceLabelVO']],[3,'saleLabel']],[1,5]])
})(__WXML_GLOBAL__.ops_cached.$gwx_95);return __WXML_GLOBAL__.ops_cached.$gwx_95
}
function gz$gwx_96(){
if( __WXML_GLOBAL__.ops_cached.$gwx_96)return __WXML_GLOBAL__.ops_cached.$gwx_96
__WXML_GLOBAL__.ops_cached.$gwx_96=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'loading-text'])
})(__WXML_GLOBAL__.ops_cached.$gwx_96);return __WXML_GLOBAL__.ops_cached.$gwx_96
}
function gz$gwx_97(){
if( __WXML_GLOBAL__.ops_cached.$gwx_97)return __WXML_GLOBAL__.ops_cached.$gwx_97
__WXML_GLOBAL__.ops_cached.$gwx_97=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'show-search'])
Z([3,'onTapNavi'])
Z([3,'show clearfix'])
Z([[7],[3,'pageUrl']])
Z([[2,'||'],[[7],[3,'val_bid']],[1,'list_item_click']])
Z([a,[3,'{ index: '],[[2,'+'],[[7],[3,'index']],[1,1]],[3,', id: '],[[7],[3,'id']],[3,' }']])
Z([3,'none'])
Z([[2,'?:'],[[7],[3,'redir']],[1,'redirect'],[1,'navigate']])
Z([[7],[3,'tagPromotion']])
Z([[7],[3,'priceDesc']])
Z([3,'show-bottom flex flex-row flex-middle'])
Z([[7],[3,'salesChannelTag']])
Z([[2,'&&'],[[7],[3,'seatType']],[[2,'!=='],[[7],[3,'seatType']],[1,0]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_97);return __WXML_GLOBAL__.ops_cached.$gwx_97
}
function gz$gwx_98(){
if( __WXML_GLOBAL__.ops_cached.$gwx_98)return __WXML_GLOBAL__.ops_cached.$gwx_98
__WXML_GLOBAL__.ops_cached.$gwx_98=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'show'])
Z([3,'onTapNavi'])
Z([3,'show clearfix'])
Z([a,[3,'/pages/show/detail/index?id\x3d'],[[7],[3,'performanceId']]])
Z([[2,'||'],[[7],[3,'val_bid']],[1,'list_item_click']])
Z([a,[3,'{ index: '],[[2,'+'],[[7],[3,'index']],[1,1]],[3,', id: '],z[3][2],[3,' }']])
Z([3,'none'])
Z([[2,'?:'],[[7],[3,'redir']],[1,'redirect'],[1,'navigate']])
Z([3,'show-info flex flex-column flex-between'])
Z([[7],[3,'priceRange']])
Z([3,'show-bottom flex flex-row flex-middle'])
Z([[2,'!=='],[[7],[3,'priceRange']],[1,'价格待定']])
Z([[7],[3,'self']])
Z([[2,'&&'],[[2,'!'],[[7],[3,'self']]],[[7],[3,'thirdPartyDesc']]])
Z([[2,'&&'],[[7],[3,'seatType']],[[2,'!=='],[[7],[3,'seatType']],[1,0]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_98);return __WXML_GLOBAL__.ops_cached.$gwx_98
}
function gz$gwx_99(){
if( __WXML_GLOBAL__.ops_cached.$gwx_99)return __WXML_GLOBAL__.ops_cached.$gwx_99
__WXML_GLOBAL__.ops_cached.$gwx_99=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'_publicClassForm'])
Z([3,'pub-cls-form'])
Z([[2,'=='],[[7],[3,'userType']],[1,2]])
Z(z[2])
Z([3,'onPubClsInputBlur'])
Z([3,'picker'])
Z([3,'city'])
Z([3,'region'])
Z([[4],[[5],[[5],[[5],[1,18]],[1,0]],[1,0]]])
Z([[2,'!'],[[7],[3,'city']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_99);return __WXML_GLOBAL__.ops_cached.$gwx_99
}
function gz$gwx_100(){
if( __WXML_GLOBAL__.ops_cached.$gwx_100)return __WXML_GLOBAL__.ops_cached.$gwx_100
__WXML_GLOBAL__.ops_cached.$gwx_100=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[7],[3,'key']],[[2,'!='],[1,''],[[7],[3,'key']]]])
Z([[7],[3,'showHistory']])
Z([[6],[[7],[3,'result']],[3,'length']])
Z([3,'onLoadList'])
Z([3,'result-list'])
Z([3,'true'])
Z([3,'item'])
Z([[7],[3,'result']])
Z([[7],[3,'index']])
Z([[9],[[10],[[7],[3,'item']]],[[8],'index',[[7],[3,'index']]]])
Z([3,'show'])
Z([[2,'&&'],[[7],[3,'padding']],[[7],[3,'hasMore']]])
Z([[2,'&&'],[[2,'>='],[[6],[[7],[3,'result']],[3,'length']],[1,5]],[[2,'!'],[[7],[3,'hasMore']]]])
Z([[2,'&&'],[[7],[3,'hasRequested']],[[2,'!'],[[6],[[7],[3,'result']],[3,'length']]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_100);return __WXML_GLOBAL__.ops_cached.$gwx_100
}
function gz$gwx_101(){
if( __WXML_GLOBAL__.ops_cached.$gwx_101)return __WXML_GLOBAL__.ops_cached.$gwx_101
__WXML_GLOBAL__.ops_cached.$gwx_101=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'banner'])
Z([[6],[[7],[3,'banners']],[3,'length']])
})(__WXML_GLOBAL__.ops_cached.$gwx_101);return __WXML_GLOBAL__.ops_cached.$gwx_101
}
function gz$gwx_102(){
if( __WXML_GLOBAL__.ops_cached.$gwx_102)return __WXML_GLOBAL__.ops_cached.$gwx_102
__WXML_GLOBAL__.ops_cached.$gwx_102=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_102);return __WXML_GLOBAL__.ops_cached.$gwx_102
}
function gz$gwx_103(){
if( __WXML_GLOBAL__.ops_cached.$gwx_103)return __WXML_GLOBAL__.ops_cached.$gwx_103
__WXML_GLOBAL__.ops_cached.$gwx_103=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'bubbleList'])
})(__WXML_GLOBAL__.ops_cached.$gwx_103);return __WXML_GLOBAL__.ops_cached.$gwx_103
}
function gz$gwx_104(){
if( __WXML_GLOBAL__.ops_cached.$gwx_104)return __WXML_GLOBAL__.ops_cached.$gwx_104
__WXML_GLOBAL__.ops_cached.$gwx_104=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'captcha'])
Z([[7],[3,'showCaptcha']])
Z([3,'doNothing'])
Z([3,'login-modal-layer'])
Z([[2,'&&'],[[7],[3,'errorMsg']],[[7],[3,'showCaptcha']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_104);return __WXML_GLOBAL__.ops_cached.$gwx_104
}
function gz$gwx_105(){
if( __WXML_GLOBAL__.ops_cached.$gwx_105)return __WXML_GLOBAL__.ops_cached.$gwx_105
__WXML_GLOBAL__.ops_cached.$gwx_105=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_105);return __WXML_GLOBAL__.ops_cached.$gwx_105
}
function gz$gwx_106(){
if( __WXML_GLOBAL__.ops_cached.$gwx_106)return __WXML_GLOBAL__.ops_cached.$gwx_106
__WXML_GLOBAL__.ops_cached.$gwx_106=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'login-licence'])
})(__WXML_GLOBAL__.ops_cached.$gwx_106);return __WXML_GLOBAL__.ops_cached.$gwx_106
}
function gz$gwx_107(){
if( __WXML_GLOBAL__.ops_cached.$gwx_107)return __WXML_GLOBAL__.ops_cached.$gwx_107
__WXML_GLOBAL__.ops_cached.$gwx_107=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'mobile-login'])
Z([3,'onSubmitMobileLogin'])
Z([[7],[3,'showMobileDel']])
})(__WXML_GLOBAL__.ops_cached.$gwx_107);return __WXML_GLOBAL__.ops_cached.$gwx_107
}
function gz$gwx_108(){
if( __WXML_GLOBAL__.ops_cached.$gwx_108)return __WXML_GLOBAL__.ops_cached.$gwx_108
__WXML_GLOBAL__.ops_cached.$gwx_108=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'container'])
Z([[7],[3,'isSysshow']])
Z([3,'onTapNavi'])
Z([3,'top'])
Z([3,'/pages/usersys/levels/index'])
Z([3,'b_lqohvp8p'])
Z([3,'none'])
Z([a,[3,'width: '],[[7],[3,'nickWidth']],[3,'rpx;']])
Z([[2,'=='],[[6],[[7],[3,'userCardStatus']],[3,'ememberStatus']],[1,10]])
Z([3,'onPrivilegeTap'])
Z([3,'privilege'])
Z([3,'/pages/usersys/privilege/index'])
Z([3,'b_ruwe5kdc'])
Z(z[6])
Z([[2,'=='],[[7],[3,'isPrivilegeView']],[1,0]])
Z([[2,'&&'],[[7],[3,'userCardStatus']],[[2,'!'],[[6],[[7],[3,'userCardStatus']],[3,'cityNotSupportCard']]]])
Z([[6],[[7],[3,'activity']],[3,'length']])
Z([3,'onScrollView'])
Z([3,'activeContainer'])
Z([[7],[3,'hasMore']])
Z([3,'list'])
Z([[7],[3,'display']])
Z([[6],[[7],[3,'sudoku']],[3,'sudokuItem']])
Z([3,'activityId'])
Z([[2,'!'],[[7],[3,'display']]])
Z([3,'order-item sudokuItem'])
Z([3,'display: flex;flex-direction:column;justify-content:center;align-items:center;'])
Z([[6],[[7],[3,'item']],[3,'jumpUrl']])
Z([[6],[[7],[3,'item']],[3,'val_bid']])
Z([[6],[[7],[3,'item']],[3,'val_lab']])
Z([[2,'!'],[[2,'!'],[[6],[[7],[3,'item']],[3,'backgroundImgUrl']]]])
Z([[2,'!'],[[2,'!'],[[6],[[7],[3,'item']],[3,'mainText']]]])
Z([[2,'!'],[[2,'!'],[[6],[[7],[3,'item']],[3,'subtitle']]]])
Z([[2,'&&'],[[2,'!'],[[2,'!'],[[6],[[7],[3,'item']],[3,'mainText']]]],[[2,'!'],[[2,'!'],[[6],[[7],[3,'item']],[3,'superscriptTitle']]]]])
Z(z[33])
Z([[6],[[7],[3,'sudoku']],[3,'showActivity']])
Z([[10],[[7],[3,'sudoku']]])
Z([3,'sudoku'])
Z([[6],[[7],[3,'advert']],[3,'length']])
Z([[7],[3,'showGuid']])
Z([[7],[3,'isfirstLogin']])
})(__WXML_GLOBAL__.ops_cached.$gwx_108);return __WXML_GLOBAL__.ops_cached.$gwx_108
}
function gz$gwx_109(){
if( __WXML_GLOBAL__.ops_cached.$gwx_109)return __WXML_GLOBAL__.ops_cached.$gwx_109
__WXML_GLOBAL__.ops_cached.$gwx_109=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_109);return __WXML_GLOBAL__.ops_cached.$gwx_109
}
function gz$gwx_110(){
if( __WXML_GLOBAL__.ops_cached.$gwx_110)return __WXML_GLOBAL__.ops_cached.$gwx_110
__WXML_GLOBAL__.ops_cached.$gwx_110=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'listItem'])
})(__WXML_GLOBAL__.ops_cached.$gwx_110);return __WXML_GLOBAL__.ops_cached.$gwx_110
}
function gz$gwx_111(){
if( __WXML_GLOBAL__.ops_cached.$gwx_111)return __WXML_GLOBAL__.ops_cached.$gwx_111
__WXML_GLOBAL__.ops_cached.$gwx_111=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'infoItem'])
Z([a,[3,'infoItem '],[[2,'?:'],[[7],[3,'isFirst']],[1,''],[1,'one-px-border-top']]])
Z([[2,'&&'],[[7],[3,'isList']],[[7],[3,'value']]])
Z([[7],[3,'value']])
Z([[7],[3,'remarks']])
Z([3,'processItem'])
Z([[7],[3,'totalMoney']])
Z([[2,'!=='],[[7],[3,'refundComplete']],[1,false]])
Z([3,'panel'])
Z([3,'money'])
Z([[10],[[7],[3,'totalMoney']]])
Z(z[0])
Z([[6],[[7],[3,'promoDetail']],[3,'value']])
Z([[10],[[7],[3,'promoDetail']]])
Z(z[0])
Z([[6],[[7],[3,'accounts']],[3,'value']])
Z([[10],[[7],[3,'accounts']]])
Z(z[0])
Z([[6],[[7],[3,'time']],[3,'value']])
Z([[10],[[7],[3,'time']]])
Z(z[0])
Z([[6],[[6],[[7],[3,'process']],[3,'mySteps']],[3,'length']])
Z(z[8])
Z([[6],[[7],[3,'process']],[3,'mySteps']])
Z([[9],[[8],'theme',[[7],[3,'theme']]],[[10],[[7],[3,'item']]]])
Z(z[5])
Z([3,'p'])
Z([3,'parent'])
Z([[6],[[7],[3,'process']],[3,'mtSteps']])
Z([[2,'>'],[[6],[[6],[[7],[3,'process']],[3,'mtSteps']],[3,'length']],[1,1]])
Z([3,'leftPadding'])
Z([[2,'=='],[[7],[3,'p']],[1,0]])
Z([3,'c'])
Z([3,'child'])
Z([[6],[[7],[3,'parent']],[3,'nodes']])
Z([[9],[[8],'theme',[[7],[3,'theme']]],[[10],[[7],[3,'child']]]])
Z(z[5])
})(__WXML_GLOBAL__.ops_cached.$gwx_111);return __WXML_GLOBAL__.ops_cached.$gwx_111
}
function gz$gwx_112(){
if( __WXML_GLOBAL__.ops_cached.$gwx_112)return __WXML_GLOBAL__.ops_cached.$gwx_112
__WXML_GLOBAL__.ops_cached.$gwx_112=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'access-limit-modal'])
Z([[7],[3,'showAccessLimitModal']])
})(__WXML_GLOBAL__.ops_cached.$gwx_112);return __WXML_GLOBAL__.ops_cached.$gwx_112
}
function gz$gwx_113(){
if( __WXML_GLOBAL__.ops_cached.$gwx_113)return __WXML_GLOBAL__.ops_cached.$gwx_113
__WXML_GLOBAL__.ops_cached.$gwx_113=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'ad-banner'])
Z([[2,'&&'],[[7],[3,'banner']],[[6],[[7],[3,'banner']],[3,'length']]])
Z([3,'onBannerChagne'])
Z(z[0])
Z([[7],[3,'current']])
Z([3,'500'])
Z([3,'rgba(255,255,255,0.9)'])
Z([3,'rgba(255,255,255,0.4)'])
Z([[7],[3,'isDisplayDots']])
Z([3,'4000'])
Z([3,'bannerItem'])
Z([[7],[3,'banner']])
Z([3,'index'])
Z([[2,'=='],[[6],[[7],[3,'bannerItem']],[3,'url']],[1,'/maoyan/redpocket2016']])
Z([[7],[3,'popIconShow']])
})(__WXML_GLOBAL__.ops_cached.$gwx_113);return __WXML_GLOBAL__.ops_cached.$gwx_113
}
function gz$gwx_114(){
if( __WXML_GLOBAL__.ops_cached.$gwx_114)return __WXML_GLOBAL__.ops_cached.$gwx_114
__WXML_GLOBAL__.ops_cached.$gwx_114=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'count-down'])
Z(z[0])
Z([[2,'&&'],[[6],[[7],[3,'countDownData']],[3,'isShowDay']],[[6],[[6],[[7],[3,'countDownData']],[3,'time']],[3,'day']]])
Z([[6],[[7],[3,'countDownData']],[3,'isShowMillSecond']])
})(__WXML_GLOBAL__.ops_cached.$gwx_114);return __WXML_GLOBAL__.ops_cached.$gwx_114
}
function gz$gwx_115(){
if( __WXML_GLOBAL__.ops_cached.$gwx_115)return __WXML_GLOBAL__.ops_cached.$gwx_115
__WXML_GLOBAL__.ops_cached.$gwx_115=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'coupon-input'])
Z([[7],[3,'isShow']])
Z([3,'doNothing'])
Z([3,'coupon-input-modal-layer'])
Z([[7],[3,'errorMsg']])
})(__WXML_GLOBAL__.ops_cached.$gwx_115);return __WXML_GLOBAL__.ops_cached.$gwx_115
}
function gz$gwx_116(){
if( __WXML_GLOBAL__.ops_cached.$gwx_116)return __WXML_GLOBAL__.ops_cached.$gwx_116
__WXML_GLOBAL__.ops_cached.$gwx_116=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'deal-item'])
Z([a,[3,'words flex flex-column flex-between '],[[2,'?:'],[[7],[3,'isRec']],[1,'words-rec'],[1,'']]])
Z([[7],[3,'extraTag']])
Z([[7],[3,'descList']])
Z([[2,'!'],[[7],[3,'notDisplaySoldNumber']]])
Z([3,'deal-list-item'])
Z([a,[3,'deal clearfix deal'],[[7],[3,'index']]])
Z([a,[3,'words-list flex flex-column flex-between '],z[1][2]])
Z(z[2])
Z(z[3])
Z(z[4])
Z([[7],[3,'specialTop']])
Z([3,'deal-list'])
Z([[2,'&&'],[[7],[3,'dealList']],[[6],[[7],[3,'dealList']],[3,'length']]])
Z(z[12])
Z(z[12])
Z([[7],[3,'activity']])
Z([[6],[[7],[3,'activity']],[3,'defaultValue']])
Z([3,'onGotoUrl'])
Z([3,'snack-package'])
Z([[7],[3,'copyWrittingClickBid']])
Z([[6],[[7],[3,'activity']],[3,'jumpUrl']])
Z([3,'snack-activity'])
Z([[6],[[7],[3,'activity']],[3,'tag']])
Z(z[21])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'showCinemaBanner']],[[6],[[7],[3,'activity']],[3,'cinemaChannelBanner']]],[[6],[[6],[[7],[3,'activity']],[3,'cinemaChannelBanner']],[3,'imageUrl']]])
Z([[6],[[7],[3,'divideDealList']],[3,'length']])
Z([3,'dealType'])
Z([[7],[3,'divideDealList']])
Z([[2,'=='],[[6],[[7],[3,'dealType']],[3,'titleId']],[1,0]])
Z([[6],[[6],[[7],[3,'dealType']],[3,'dealList']],[3,'length']])
Z([[6],[[7],[3,'dealType']],[3,'dealList']])
Z([3,'onTapDeal'])
Z([3,'deal-container'])
Z(z[6][2])
Z([a,[3,'/pages/goods/buy?dealId\x3d'],[[6],[[7],[3,'item']],[3,'dealId']],[3,'\x26cinemaId\x3d'],[[7],[3,'cinemaId']],[3,'\x26index\x3d'],z[6][2],[3,'\x26refer_page\x3d'],[[7],[3,'refer_page']]])
Z([[7],[3,'dealListTopingClickBid']])
Z([[7],[3,'dealClickLab']])
Z([[9],[[9],[[9],[[9],[[9],[[9],[[10],[[7],[3,'item']]],[[8],'index',[[7],[3,'index']]]],[[8],'notDisplayTag',[[7],[3,'notDisplayTag']]]],[[8],'notDisplaySoldNumber',[[7],[3,'notDisplaySoldNumber']]]],[[8],'buyBtnClickBid',[[7],[3,'buyBtnClickBid']]]],[[8],'pictureClickBid',[[7],[3,'pictureClickBid']]]],[[8],'specialTop',[1,true]]])
Z(z[5])
Z([a,[3,'snack-area '],[[2,'?:'],[[2,'&&'],[[2,'=='],[[6],[[6],[[7],[3,'divideDealList']],[1,0]],[3,'titleId']],[1,0]],[[2,'=='],[[7],[3,'index']],[1,1]]],[1,'special-snack-area'],[1,'']]])
Z([[6],[[6],[[7],[3,'dealType']],[3,'sliceList']],[3,'length']])
Z([[6],[[7],[3,'dealType']],[3,'sliceList']])
Z(z[32])
Z(z[33])
Z(z[6][2])
Z([a,z[35][1],z[35][2],z[35][3],z[35][4],z[35][5],z[6][2],z[35][7],z[35][8]])
Z([[7],[3,'dealClickBid']])
Z(z[37])
Z([[9],[[9],[[9],[[9],[[9],[[10],[[7],[3,'item']]],[[8],'index',[[7],[3,'index']]]],[[8],'notDisplayTag',[[7],[3,'notDisplayTag']]]],[[8],'notDisplaySoldNumber',[[7],[3,'notDisplaySoldNumber']]]],[[8],'buyBtnClickBid',[[7],[3,'buyBtnClickBid']]]],[[8],'pictureClickBid',[[7],[3,'pictureClickBid']]]])
Z(z[5])
Z([[2,'!'],[[2,'=='],[[6],[[6],[[7],[3,'dealType']],[3,'sliceList']],[3,'length']],[[6],[[7],[3,'dealType']],[3,'total']]]])
Z(z[30])
Z(z[31])
Z(z[32])
Z(z[33])
Z(z[6][2])
Z([a,z[35][1],z[35][2],z[35][3],z[35][4],z[35][5],z[6][2],z[35][7],z[35][8]])
Z(z[47])
Z(z[37])
Z(z[49])
Z(z[5])
Z([[6],[[7],[3,'dealList']],[3,'length']])
Z([[7],[3,'dealList']])
Z(z[32])
Z(z[33])
Z(z[6][2])
Z([a,z[35][1],z[35][2],z[35][3],z[35][4],z[35][5],z[6][2],z[35][7],z[35][8]])
Z(z[47])
Z(z[37])
Z(z[49])
Z(z[5])
Z([[2,'!'],[[7],[3,'showingAllDealList']]])
Z([3,'group-item'])
Z([[6],[[7],[3,'availableGroupItem']],[3,'chosen']])
})(__WXML_GLOBAL__.ops_cached.$gwx_116);return __WXML_GLOBAL__.ops_cached.$gwx_116
}
function gz$gwx_117(){
if( __WXML_GLOBAL__.ops_cached.$gwx_117)return __WXML_GLOBAL__.ops_cached.$gwx_117
__WXML_GLOBAL__.ops_cached.$gwx_117=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[7],[3,'needLogin']],[[2,'!'],[[7],[3,'isLogin']]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_117);return __WXML_GLOBAL__.ops_cached.$gwx_117
}
function gz$gwx_118(){
if( __WXML_GLOBAL__.ops_cached.$gwx_118)return __WXML_GLOBAL__.ops_cached.$gwx_118
__WXML_GLOBAL__.ops_cached.$gwx_118=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'attentionDialog'])
Z([[7],[3,'showAttentionModal']])
})(__WXML_GLOBAL__.ops_cached.$gwx_118);return __WXML_GLOBAL__.ops_cached.$gwx_118
}
function gz$gwx_119(){
if( __WXML_GLOBAL__.ops_cached.$gwx_119)return __WXML_GLOBAL__.ops_cached.$gwx_119
__WXML_GLOBAL__.ops_cached.$gwx_119=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'attentionDialog'])
Z([[7],[3,'showAttentionModal']])
})(__WXML_GLOBAL__.ops_cached.$gwx_119);return __WXML_GLOBAL__.ops_cached.$gwx_119
}
function gz$gwx_120(){
if( __WXML_GLOBAL__.ops_cached.$gwx_120)return __WXML_GLOBAL__.ops_cached.$gwx_120
__WXML_GLOBAL__.ops_cached.$gwx_120=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'floatMsg'])
})(__WXML_GLOBAL__.ops_cached.$gwx_120);return __WXML_GLOBAL__.ops_cached.$gwx_120
}
function gz$gwx_121(){
if( __WXML_GLOBAL__.ops_cached.$gwx_121)return __WXML_GLOBAL__.ops_cached.$gwx_121
__WXML_GLOBAL__.ops_cached.$gwx_121=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'!'],[[2,'!'],[[7],[3,'_showMakeImageCanvas']]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_121);return __WXML_GLOBAL__.ops_cached.$gwx_121
}
function gz$gwx_122(){
if( __WXML_GLOBAL__.ops_cached.$gwx_122)return __WXML_GLOBAL__.ops_cached.$gwx_122
__WXML_GLOBAL__.ops_cached.$gwx_122=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'locate-banner'])
Z([[2,'&&'],[[7],[3,'isShow']],[[7],[3,'content']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_122);return __WXML_GLOBAL__.ops_cached.$gwx_122
}
function gz$gwx_123(){
if( __WXML_GLOBAL__.ops_cached.$gwx_123)return __WXML_GLOBAL__.ops_cached.$gwx_123
__WXML_GLOBAL__.ops_cached.$gwx_123=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'memberRight'])
Z([3,'cinema'])
Z([3,'tapCinema'])
Z([a,[3,'cinema '],[[2,'?:'],[[2,'=='],[[7],[3,'index']],[1,0]],[1,''],[1,'one-px-border-top']]])
Z([[7],[3,'cinemaId']])
Z([[7],[3,'sellTicket']])
Z([[7],[3,'distance']])
})(__WXML_GLOBAL__.ops_cached.$gwx_123);return __WXML_GLOBAL__.ops_cached.$gwx_123
}
function gz$gwx_124(){
if( __WXML_GLOBAL__.ops_cached.$gwx_124)return __WXML_GLOBAL__.ops_cached.$gwx_124
__WXML_GLOBAL__.ops_cached.$gwx_124=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'mobile-confirm'])
Z([[7],[3,'showPhone']])
Z([[7],[3,'showImage']])
Z([3,'hideImageVerify'])
Z([3,'verifyImage'])
Z([[7],[3,'showImageAlert']])
Z([[2,'||'],[[7],[3,'showImage']],[[7],[3,'showPhone']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_124);return __WXML_GLOBAL__.ops_cached.$gwx_124
}
function gz$gwx_125(){
if( __WXML_GLOBAL__.ops_cached.$gwx_125)return __WXML_GLOBAL__.ops_cached.$gwx_125
__WXML_GLOBAL__.ops_cached.$gwx_125=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'mobile-input'])
Z([[7],[3,'isShow']])
Z([3,'doNothing'])
Z([3,'mobile-input-modal-layer'])
Z([[7],[3,'errorMsg']])
})(__WXML_GLOBAL__.ops_cached.$gwx_125);return __WXML_GLOBAL__.ops_cached.$gwx_125
}
function gz$gwx_126(){
if( __WXML_GLOBAL__.ops_cached.$gwx_126)return __WXML_GLOBAL__.ops_cached.$gwx_126
__WXML_GLOBAL__.ops_cached.$gwx_126=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'movie-remind-card'])
Z([[7],[3,'isShow']])
Z([[2,'&&'],[[2,'==='],[[7],[3,'hasSale']],[1,0]],[[7],[3,'minSalePrice']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_126);return __WXML_GLOBAL__.ops_cached.$gwx_126
}
function gz$gwx_127(){
if( __WXML_GLOBAL__.ops_cached.$gwx_127)return __WXML_GLOBAL__.ops_cached.$gwx_127
__WXML_GLOBAL__.ops_cached.$gwx_127=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'movie-remind-modal'])
Z([[2,'&&'],[[7],[3,'isShow']],[[2,'>'],[[6],[[7],[3,'ticketOrders']],[3,'length']],[1,0]]])
Z([3,'preventScroll'])
Z([a,[3,'movie-remind-modal '],[[7],[3,'isAddCart']]])
Z([[7],[3,'ticketOrders']])
Z([[2,'>'],[[6],[[7],[3,'ticketOrders']],[3,'length']],[1,1]])
Z(z[5])
Z([3,'remindModalDotsChange'])
Z([3,'movie-remind-wrapper'])
Z(z[4])
Z([3,'movie-remind-item'])
Z([3,'item-top'])
Z([[2,'!'],[[6],[[7],[3,'item']],[3,'saleName']]])
Z([[6],[[7],[3,'item']],[3,'saleName']])
Z([[2,'&&'],[[2,'&&'],[[2,'==='],[[6],[[7],[3,'item']],[3,'exchangeStatus']],[1,1]],[[2,'>'],[[6],[[6],[[7],[3,'item']],[3,'saleList']],[3,'length']],[1,0]]],[[2,'==='],[[6],[[6],[[7],[3,'item']],[3,'orderSales']],[3,'length']],[1,0]]])
Z([[6],[[7],[3,'item']],[3,'qrFloatCode']])
Z([[2,'&&'],[[2,'!'],[[6],[[7],[3,'item']],[3,'saleName']]],[[2,'!'],[[6],[[7],[3,'item']],[3,'isCollapse']]]])
Z([3,'item-mid'])
Z(z[15])
Z([[2,'>'],[[6],[[6],[[7],[3,'item']],[3,'codeInfo']],[3,'length']],[1,0]])
Z(z[13])
Z([[2,'&&'],[[2,'>'],[[6],[[6],[[7],[3,'item']],[3,'saleList']],[3,'length']],[1,0]],[[2,'==='],[[6],[[6],[[7],[3,'item']],[3,'orderSales']],[3,'length']],[1,0]]])
Z([3,'goodIndex'])
Z([3,'goodItem'])
Z([[6],[[7],[3,'item']],[3,'saleList']])
Z([[6],[[7],[3,'goodItem']],[3,'titleTag']])
Z(z[12])
Z([[2,'==='],[[6],[[7],[3,'ticketOrders']],[3,'length']],[1,1]])
Z(z[4])
Z(z[10])
Z(z[11])
Z(z[12])
Z(z[13])
Z(z[14])
Z(z[15])
Z(z[16])
Z(z[17])
Z(z[15])
Z(z[19])
Z(z[13])
Z(z[21])
Z(z[22])
Z(z[23])
Z(z[24])
Z(z[25])
Z(z[12])
})(__WXML_GLOBAL__.ops_cached.$gwx_127);return __WXML_GLOBAL__.ops_cached.$gwx_127
}
function gz$gwx_128(){
if( __WXML_GLOBAL__.ops_cached.$gwx_128)return __WXML_GLOBAL__.ops_cached.$gwx_128
__WXML_GLOBAL__.ops_cached.$gwx_128=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[7],[3,'appId']],[[2,'!'],[[7],[3,'navToMiniProgramByAPI']]]])
Z([[7],[3,'appId']])
Z([3,'onTapNavigator'])
Z([3,'none'])
Z([3,'navigate'])
Z([[7],[3,'path']])
Z([[7],[3,'externalStyle']])
Z([3,'miniProgram'])
Z([[7],[3,'version']])
Z(z[1])
Z([3,'navToMiniProgram'])
Z(z[6])
Z([[7],[3,'needLogin']])
Z([[2,'?:'],[[7],[3,'isLogin']],[1,''],[1,'getuserinfo']])
Z([[2,'?:'],[[7],[3,'isLogin']],[1,'normalNav'],[1,'']])
Z([1,true])
Z([[7],[3,'url']])
Z([[2,'?:'],[[7],[3,'isLogin']],[1,''],[1,'getUserInfo']])
Z(z[6])
Z([3,'normalNav'])
Z(z[6])
})(__WXML_GLOBAL__.ops_cached.$gwx_128);return __WXML_GLOBAL__.ops_cached.$gwx_128
}
function gz$gwx_129(){
if( __WXML_GLOBAL__.ops_cached.$gwx_129)return __WXML_GLOBAL__.ops_cached.$gwx_129
__WXML_GLOBAL__.ops_cached.$gwx_129=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'special-topic'])
Z([3,'special-wrapper'])
Z([[2,'!'],[[2,'!'],[[6],[[7],[3,'templateId4']],[3,'length']]]])
Z([3,'line'])
Z([[7],[3,'multiPosition']])
Z([3,'index'])
Z([3,'topic'])
Z([[7],[3,'line']])
Z([3,'activityId'])
Z([1,'onGetUserInfo'])
Z([3,'position:relative;width:130rpx;height:141rpx;font-size:0;'])
Z([[7],[3,'isLogin']])
Z([[6],[[7],[3,'topic']],[3,'needLogin']])
Z([3,'pages/movie/index'])
Z([[6],[[7],[3,'topic']],[3,'jumpUrl']])
Z([[6],[[7],[3,'topic']],[3,'val_bid']])
Z([[6],[[7],[3,'topic']],[3,'val_lab']])
Z([3,'release'])
Z([[6],[[7],[3,'topic']],[3,'superscript']])
Z([[2,'!'],[[2,'!'],[[6],[[7],[3,'templateId3']],[3,'length']]]])
Z([3,'special-container'])
Z([3,'position:relative;box-sizing:border-box;height:110rpx;width:334rpx;border-radius:10rpx;background:linear-gradient(to bottom right, #F57573 , #E04892);'])
Z(z[13])
Z([[6],[[7],[3,'leftPosition']],[3,'jumpUrl']])
Z([[6],[[7],[3,'leftPosition']],[3,'val_bid']])
Z([[6],[[7],[3,'leftPosition']],[3,'val_lab']])
Z(z[17])
Z([3,'position:relative;box-sizing:border-box;height:110rpx;width:334rpx;border-radius:10rpx;background:linear-gradient(to bottom right, #F0B154 , #E67E43);'])
Z(z[13])
Z([[6],[[7],[3,'rightPosition']],[3,'jumpUrl']])
Z([[6],[[7],[3,'rightPosition']],[3,'val_bid']])
Z([[6],[[7],[3,'rightPosition']],[3,'val_lab']])
Z(z[17])
Z([[2,'!'],[[2,'!'],[[6],[[7],[3,'templateId2']],[3,'length']]]])
Z([3,'padding-top:30rpx;display:flex;width:750rpx;height:130rpx;justify-content:center;align-items:center;background: #fff;'])
Z(z[13])
Z([[6],[[7],[3,'singlePosition']],[3,'jumpUrl']])
Z([[6],[[7],[3,'singlePosition']],[3,'val_bid']])
Z([[6],[[7],[3,'singlePosition']],[3,'val_lab']])
Z(z[17])
})(__WXML_GLOBAL__.ops_cached.$gwx_129);return __WXML_GLOBAL__.ops_cached.$gwx_129
}
function gz$gwx_130(){
if( __WXML_GLOBAL__.ops_cached.$gwx_130)return __WXML_GLOBAL__.ops_cached.$gwx_130
__WXML_GLOBAL__.ops_cached.$gwx_130=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'sudoku'])
Z([[7],[3,'sudokuItems']])
Z([3,'activityId'])
Z([3,'order-item'])
Z([3,'display: flex;flex-direction:column;justify-content:center;align-items:center;'])
Z([[6],[[7],[3,'item']],[3,'jumpUrl']])
Z([[6],[[7],[3,'item']],[3,'val_bid']])
Z([[6],[[7],[3,'item']],[3,'val_lab']])
Z([[2,'!'],[[2,'!'],[[6],[[7],[3,'item']],[3,'backgroundImgUrl']]]])
Z([[2,'!'],[[2,'!'],[[6],[[7],[3,'item']],[3,'mainText']]]])
Z([[2,'!'],[[2,'!'],[[6],[[7],[3,'item']],[3,'subtitle']]]])
Z([[2,'&&'],[[2,'!'],[[2,'!'],[[6],[[7],[3,'item']],[3,'mainText']]]],[[2,'!'],[[2,'!'],[[6],[[7],[3,'item']],[3,'superscriptTitle']]]]])
Z(z[11])
})(__WXML_GLOBAL__.ops_cached.$gwx_130);return __WXML_GLOBAL__.ops_cached.$gwx_130
}
function gz$gwx_131(){
if( __WXML_GLOBAL__.ops_cached.$gwx_131)return __WXML_GLOBAL__.ops_cached.$gwx_131
__WXML_GLOBAL__.ops_cached.$gwx_131=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[10],[[7],[3,'activityModal']]])
Z([3,'activity-modal'])
Z([[10],[[7],[3,'operationSidebar']]])
Z([3,'operation-sidebar'])
})(__WXML_GLOBAL__.ops_cached.$gwx_131);return __WXML_GLOBAL__.ops_cached.$gwx_131
}
function gz$gwx_132(){
if( __WXML_GLOBAL__.ops_cached.$gwx_132)return __WXML_GLOBAL__.ops_cached.$gwx_132
__WXML_GLOBAL__.ops_cached.$gwx_132=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'activity-modal'])
Z([[7],[3,'showModal']])
Z([3,'hideModal'])
Z([3,'activity-modal-blacker'])
Z([[2,'==='],[[7],[3,'type']],[1,'redpacket']])
Z([[10],[[7],[3,'modalData']]])
Z([3,'redpacket-modal'])
Z([[2,'==='],[[7],[3,'type']],[1,'normal']])
Z(z[5])
Z([3,'normal-modal'])
Z(z[9])
Z([3,'onTapNavi'])
Z(z[0])
Z([[7],[3,'jumpUrl']])
Z([[7],[3,'val_bid']])
Z([[7],[3,'valLab']])
Z([[2,'?:'],[[2,'!=='],[[7],[3,'scale']],[1,1]],[[2,'+'],[[2,'+'],[1,'transform: scale('],[[7],[3,'scale']]],[1,');']],[1,'']])
Z([[7],[3,'backgroundImageUrl']])
Z([[7],[3,'mainText']])
})(__WXML_GLOBAL__.ops_cached.$gwx_132);return __WXML_GLOBAL__.ops_cached.$gwx_132
}
function gz$gwx_133(){
if( __WXML_GLOBAL__.ops_cached.$gwx_133)return __WXML_GLOBAL__.ops_cached.$gwx_133
__WXML_GLOBAL__.ops_cached.$gwx_133=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'redpacket-modal'])
Z([3,'redpacket-container'])
Z([[2,'?:'],[[2,'!=='],[[7],[3,'scale']],[1,1]],[[2,'+'],[[2,'+'],[1,'transform: scale('],[[7],[3,'scale']]],[1,');']],[1,'']])
Z([[2,'&&'],[[7],[3,'data']],[[2,'>'],[[6],[[7],[3,'data']],[3,'length']],[1,0]]])
Z([[7],[3,'text']])
})(__WXML_GLOBAL__.ops_cached.$gwx_133);return __WXML_GLOBAL__.ops_cached.$gwx_133
}
function gz$gwx_134(){
if( __WXML_GLOBAL__.ops_cached.$gwx_134)return __WXML_GLOBAL__.ops_cached.$gwx_134
__WXML_GLOBAL__.ops_cached.$gwx_134=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'operation-sidebar'])
Z([[7],[3,'showSideBar']])
})(__WXML_GLOBAL__.ops_cached.$gwx_134);return __WXML_GLOBAL__.ops_cached.$gwx_134
}
function gz$gwx_135(){
if( __WXML_GLOBAL__.ops_cached.$gwx_135)return __WXML_GLOBAL__.ops_cached.$gwx_135
__WXML_GLOBAL__.ops_cached.$gwx_135=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'orderItem'])
Z([3,'onTapDetail'])
Z([3,'order-item'])
Z([[7],[3,'bid_data']])
Z([[7],[3,'gotoDetail']])
Z([[7],[3,'orderId']])
Z([[7],[3,'vorderId']])
Z([[2,'!'],[[7],[3,'hideOrderHeader']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_135);return __WXML_GLOBAL__.ops_cached.$gwx_135
}
function gz$gwx_136(){
if( __WXML_GLOBAL__.ops_cached.$gwx_136)return __WXML_GLOBAL__.ops_cached.$gwx_136
__WXML_GLOBAL__.ops_cached.$gwx_136=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'papay-modal'])
Z([[7],[3,'showPapayModal']])
})(__WXML_GLOBAL__.ops_cached.$gwx_136);return __WXML_GLOBAL__.ops_cached.$gwx_136
}
function gz$gwx_137(){
if( __WXML_GLOBAL__.ops_cached.$gwx_137)return __WXML_GLOBAL__.ops_cached.$gwx_137
__WXML_GLOBAL__.ops_cached.$gwx_137=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'rain'])
Z([[7],[3,'show']])
})(__WXML_GLOBAL__.ops_cached.$gwx_137);return __WXML_GLOBAL__.ops_cached.$gwx_137
}
function gz$gwx_138(){
if( __WXML_GLOBAL__.ops_cached.$gwx_138)return __WXML_GLOBAL__.ops_cached.$gwx_138
__WXML_GLOBAL__.ops_cached.$gwx_138=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'toast_seats_limit_alert'])
Z([3,'toast_migrate_limit_alert'])
Z([3,'toast_seats_select_alert'])
Z([3,'toast_seats_select_alert2'])
})(__WXML_GLOBAL__.ops_cached.$gwx_138);return __WXML_GLOBAL__.ops_cached.$gwx_138
}
function gz$gwx_139(){
if( __WXML_GLOBAL__.ops_cached.$gwx_139)return __WXML_GLOBAL__.ops_cached.$gwx_139
__WXML_GLOBAL__.ops_cached.$gwx_139=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'toast']])
})(__WXML_GLOBAL__.ops_cached.$gwx_139);return __WXML_GLOBAL__.ops_cached.$gwx_139
}
function gz$gwx_140(){
if( __WXML_GLOBAL__.ops_cached.$gwx_140)return __WXML_GLOBAL__.ops_cached.$gwx_140
__WXML_GLOBAL__.ops_cached.$gwx_140=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'$Comp$Layer$showLayer']])
Z([3,'layer-wrapper'])
Z([[7],[3,'$Comp$Layer$showTitle']])
Z([[7],[3,'$Comp$Layer$showBtns']])
Z([[2,'!'],[[7],[3,'$CityPanel$isHide']]])
Z([3,'Mo_c flex flex-columns'])
Z([[2,'!'],[[7],[3,'$CityPanel$useInput']]])
Z([3,'Chooser bg-f'])
Z([[7],[3,'$CityPanel$showList']])
Z([[2,'!'],[[7],[3,'$CityPanel$showList']]])
Z([3,'city-search-result'])
Z([[2,'>'],[[6],[[7],[3,'$CityPanel$searchResult']],[3,'length']],[1,0]])
Z([[7],[3,'$CityPanel$searchResultNoData']])
Z([3,'list-page flex flex-columns'])
Z([[2,'!'],[[7],[3,'showPage']]])
Z([[2,'>'],[[6],[[7],[3,'topAheadAdvertisingList']],[3,'length']],[1,0]])
Z([3,'ad-component'])
Z([[7],[3,'$AD$autoplay']])
Z([3,'$AD$bindSwiperChange'])
Z([3,'true'])
Z([3,'ad-swiper-container'])
Z([[7],[3,'$AD$duration']])
Z([[6],[[7],[3,'$AD$config']],[3,'indicatorActiveColor']])
Z([[6],[[7],[3,'$AD$config']],[3,'indicatorColor']])
Z([[6],[[7],[3,'$AD$config']],[3,'indicatorDots']])
Z([[7],[3,'$AD$interval']])
Z([3,'index'])
Z([3,'item'])
Z([[7],[3,'$AD$advertisingList']])
Z([3,''])
Z([[2,'&&'],[[7],[3,'item']],[[6],[[7],[3,'item']],[3,'img']]])
Z([[6],[[7],[3,'$AD$config']],[3,'customIndicatorDots']])
Z([[2,'&&'],[[7],[3,'categoryItems']],[[2,'>'],[[6],[[7],[3,'categoryItems']],[3,'length']],[1,0]]])
Z([[6],[[7],[3,'secondAdvertisingInfo']],[3,'img']])
Z([3,'ad3'])
Z([[7],[3,'thirdAdvertisingInfo']])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'fourthAdvertisingInfo']],[[7],[3,'fifthAdvertisingInfo']]],[[7],[3,'sixthAdvertisingInfo']]])
Z([[2,'&&'],[[7],[3,'scheduleList']],[[2,'||'],[[2,'||'],[[6],[[7],[3,'scheduleList']],[3,'weekend']],[[6],[[7],[3,'scheduleList']],[3,'thisweek']]],[[6],[[7],[3,'scheduleList']],[3,'thismonth']]]])
Z([3,'ul'])
Z([[6],[[7],[3,'scheduleList']],[3,'weekend']])
Z([[6],[[7],[3,'scheduleList']],[3,'thisweek']])
Z([[6],[[7],[3,'scheduleList']],[3,'thismonth']])
Z([[2,'>'],[[6],[[7],[3,'sevenAdvertisingList']],[3,'length']],[1,0]])
Z(z[16])
Z([[7],[3,'$ADSeven$autoplay']])
Z([3,'$ADSeven$bindSwiperChange'])
Z(z[19])
Z(z[20])
Z([[7],[3,'$ADSeven$duration']])
Z([[6],[[7],[3,'$ADSeven$config']],[3,'indicatorActiveColor']])
Z([[6],[[7],[3,'$ADSeven$config']],[3,'indicatorColor']])
Z([[6],[[7],[3,'$ADSeven$config']],[3,'indicatorDots']])
Z([[7],[3,'$ADSeven$interval']])
Z(z[26])
Z(z[27])
Z([[7],[3,'$ADSeven$advertisingList']])
Z(z[29])
Z(z[30])
Z([[6],[[7],[3,'$ADSeven$config']],[3,'customIndicatorDots']])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'venueData']],[[6],[[7],[3,'venueData']],[3,'items']]],[[2,'>'],[[6],[[6],[[7],[3,'venueData']],[3,'items']],[3,'length']],[1,0]]])
Z([3,'gotoVenue'])
Z([3,'info_box'])
Z([[7],[3,'venueData']])
Z([[2,'||'],[[2,'&&'],[[6],[[6],[[7],[3,'venueData']],[3,'items']],[1,0]],[[6],[[6],[[6],[[7],[3,'venueData']],[3,'items']],[1,0]],[3,'banner_img']]],[1,'']])
Z([3,'distance_box'])
Z([[2,'&&'],[[6],[[6],[[7],[3,'venueData']],[3,'items']],[1,0]],[[6],[[6],[[6],[[7],[3,'venueData']],[3,'items']],[1,0]],[3,'images']]])
Z([[6],[[7],[3,'venueData']],[3,'distance']])
Z([[2,'>'],[[7],[3,'projectListTotalNum']],[1,0]])
Z([3,'show-list'])
Z([[7],[3,'$ProjectList$showTipBar']])
Z([[2,'>'],[[6],[[7],[3,'$ProjectList$list']],[3,'length']],[1,0]])
Z([3,'ul list-wrapper hot-list'])
Z([3,'idx'])
Z(z[27])
Z([[7],[3,'$ProjectList$list']])
Z([3,'unique'])
Z([3,'li'])
Z([[6],[[7],[3,'item']],[3,'isADInfo']])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'$ProjectList$showRecommendList']],[[2,'=='],[[6],[[7],[3,'item']],[3,'idx']],[1,0]]],[[2,'!'],[[7],[3,'$ProjectList$useSearchFlag']]]])
Z([3,'$ProjectList$detailUrl'])
Z([3,'a movie-item'])
Z([[6],[[7],[3,'item']],[3,'onlineId']])
Z([[2,'||'],[[6],[[7],[3,'item']],[3,'onlineId']],[1,'']])
Z([[7],[3,'idx']])
Z([[7],[3,'item']])
Z([3,'项目'])
Z([3,'item-info'])
Z([3,'span item-buy-info'])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'hasRealNameTag']],[1,'true']])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'voteType']],[1,1]])
Z([[6],[[7],[3,'item']],[3,'isYouhuiTag']])
Z([[2,'&&'],[[6],[[7],[3,'item']],[3,'bonusId']],[[6],[[7],[3,'item']],[3,'bonusAmount']]])
Z([[7],[3,'$ProjectList$useSearch']])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'$ProjectList$defaultNoData']],[[2,'!'],[[2,'&&'],[[7],[3,'$ProjectList$showRecommendList']],[[2,'>'],[[6],[[7],[3,'$ProjectList$recommendList']],[3,'length']],[1,0]]]]],[[2,'!'],[[7],[3,'$ProjectList$isLoading']]]])
Z([3,'no-data t-c'])
Z([[7],[3,'$ProjectList$netError']])
Z([[2,'!'],[[7],[3,'$ProjectList$useSearchFlag']]])
Z([[2,'!'],[[7],[3,'$ProjectList$useSearch']]])
Z([[7],[3,'ADModalShow']])
})(__WXML_GLOBAL__.ops_cached.$gwx_140);return __WXML_GLOBAL__.ops_cached.$gwx_140
}
__WXML_GLOBAL__.ops_set.$gwx=z;
__WXML_GLOBAL__.ops_init.$gwx=true;
var nv_require=function(){var nnm={};var nom={};return function(n){return function(){if(!nnm[n]) return undefined;try{if(!nom[n])nom[n]=nnm[n]();return nom[n];}catch(e){e.message=e.message.replace(/nv_/g,'');var tmp = e.stack.substring(0,e.stack.lastIndexOf(n));e.stack = tmp.substring(0,tmp.lastIndexOf('\n'));e.stack = e.stack.replace(/\snv_/g,' ');e.stack = $gstack(e.stack);e.stack += '\n    at ' + n.substring(2);console.error(e);}
}}}()
var x=['./components/bannerAd/index.wxml','./components/dialog/_index.wxml','./components/singleImageAd/index.wxml','./components/switch/index.wxml','./components/yoda-sdk/component/slider/slider.wxml','./footer.wxml','/pages/user/_login-licence.wxml','./tpl/toast.wxml','./tpl/footer-login.wxml','./tpl/operation/global-component/main.wxml','./pages/bonus/result.wxml','/footer.wxml','./pages/cinema/_cinema-item.wxml','./pages/cinema/_select-bar.wxml','./pages/cinema/cinema.wxml','../../tpl/deal.wxml','../../tpl/access-limit.wxml','_cinema-item.wxml','./pages/cinema/detail.wxml','./pages/cinema/index.wxml','/pages/search/_search-bar.wxml','../../tpl/ad-banner.wxml','./_select-bar.wxml','../../tpl/locate-banner.wxml','./pages/cinema/movie.wxml','./pages/cinema/seat.wxml','/tpl/seat-toast.wxml','../../tpl/mobile-confirm.wxml','/tpl/rain.wxml','./pages/citys/_city-button-toast.wxml','./pages/citys/citys.wxml','./pages/crash/index.wxml','./pages/event/turntable/_popBox.wxml','./pages/fansClub/tpl/input/index.wxml','./pages/fansClub/tpl/modal/index.wxml','./pages/fansClub/tpl/select-group/index.wxml','./pages/fansClub/tpl/stepper/index.wxml','./pages/fansClub/tpl/tabbar/index.wxml','./pages/movie/_comment.wxml','./pages/movie/_discuss.wxml','./pages/movie/_movie.wxml','./pages/movie/_order-prompt.wxml','./pages/movie/comment.wxml','_comment.wxml','_discuss.wxml','./pages/movie/index.wxml','_movie.wxml','/tpl/ad-banner.wxml','/tpl/access-limit.wxml','/tpl/operation/embedded-component/special-topic.wxml','/tpl/movie-remind-modal.wxml','/tpl/movie-remind-card.wxml','./pages/movie/movie.wxml','_order-prompt.wxml','./pages/movie/photo.wxml','./pages/movie/preview.wxml','./pages/pointcard/index.wxml','./pages/qrshare/index.wxml','./pages/redpacket/_movie2.wxml','./pages/redpacket/_redpacket.wxml','./pages/search/_search-bar.wxml','../citys/_city-button-toast.wxml','./pages/search/cinema.wxml','/pages/cinema/_cinema-item.wxml','./pages/search/index.wxml','/pages/movie/_movie.wxml','/pages/show/list/tpl/_show-search.wxml','./pages/search/movie.wxml','./pages/search/show.wxml','./pages/search/wechat.wxml','./pages/sevenday/tpl/sevenDay/_expressCard.wxml','./pages/sevenday/tpl/sevenDay/seven-day-tab-bar.wxml','./pages/show/components/address/address-edit.wxml','./pages/show/components/address/address-list.wxml','./pages/show/components/address/address-select.wxml','./pages/show/components/announcement/_index.wxml','./pages/show/components/count-down/index.wxml','./pages/show/components/error-handler/components/expired-err-page/index.wxml','./pages/show/components/error-handler/components/network-err-page/index.wxml','./pages/show/components/error-handler/components/unknown-err-page/index.wxml','./pages/show/components/error-handler/index.wxml','./pages/show/components/error-page/index.wxml','./pages/show/components/getphone-button/index.wxml','./pages/show/components/login-button/index.wxml','./pages/show/components/popup/index.wxml','./pages/show/components/realname/add.wxml','./pages/show/components/realname/index.wxml','./pages/show/components/realname/realname-select.wxml','./pages/show/components/realname/realname-wrapper.wxml','./pages/show/components/session-list/index.wxml','./pages/show/components/share-modal/index.wxml','./pages/show/components/v-mask/index.wxml','./pages/show/components/yoda/index.wxml','./pages/show/detail/components/compose-button/index.wxml','./pages/show/detail/components/crowded-err-page/index.wxml','./pages/show/detail/components/crowded-toast/index.wxml','./pages/show/detail/components/discount-detail/index.wxml','./pages/show/detail/components/discount-information/index.wxml','./pages/show/detail/components/expired-err-page/index.wxml','./pages/show/detail/components/fill-info/index.wxml','./pages/show/detail/components/header-info/index.wxml','./pages/show/detail/components/loading-page/index.wxml','./pages/show/detail/components/login-getphone-button/index.wxml','./pages/show/detail/components/middle-bar/index.wxml','./pages/show/detail/components/network-err-page/index.wxml','./pages/show/detail/components/prior-button/index.wxml','./pages/show/detail/components/remind-modal-with-price/index.wxml','./pages/show/detail/components/remind-modal/index.wxml','./pages/show/detail/components/session-list/index.wxml','./pages/show/detail/components/show-detail/index.wxml','./pages/show/detail/components/ticketing-information/index.wxml','./pages/show/detail/components/unknown-err-page/index.wxml','./pages/show/detail/components/venue-address/index.wxml','./pages/show/detail/components/video-modal/index.wxml','./pages/show/detail/components/willsell-btn-noremind/index.wxml','./pages/show/detail/components/willsell-btn-remind/index.wxml','./pages/show/detail/components/willsell-btn/index.wxml','./pages/show/detail/components/willsell-noremind-btn/index.wxml','./pages/show/detail/components/willsell-remind-btn/index.wxml','./pages/show/detail/index.wxml','./pages/show/index/index.wxml','/pages/show/list/tpl/_show.wxml','./pages/show/list/index.wxml','/pages/show/tpl/_banner.wxml','./pages/show/list/show.wxml','./pages/show/list/tpl/_loading-text.wxml','./pages/show/list/tpl/_show-search.wxml','./pages/show/list/tpl/_show.wxml','./pages/show/public-class/_info.wxml','./pages/show/search/index.wxml','./pages/show/tpl/_banner.wxml','./pages/show/tpl/_search.wxml','./pages/themeg/tpl/bubble.wxml','./pages/user/_captcha.wxml','./pages/user/_common.wxml','./pages/user/_login-licence.wxml','./pages/user/_mobile-login.wxml','./pages/user/index.wxml','/tpl/operation/embedded-component/sudoku.wxml','./pages/webview/webview.wxml','./tpl/_apply.wxml','./tpl/_detail.wxml','./tpl/access-limit.wxml','./tpl/ad-banner.wxml','./tpl/count-down.wxml','./tpl/coupon-input.wxml','./tpl/deal.wxml','./tpl/group-activity/attention-dialog/_coverIndex.wxml','./tpl/group-activity/attention-dialog/_index.wxml','./tpl/group-activity/float-message/_index.wxml','./tpl/image-maker/index.wxml','./tpl/locate-banner.wxml','./tpl/membercard.wxml','./tpl/mobile-confirm.wxml','./tpl/mobile-input.wxml','./tpl/movie-remind-card.wxml','./tpl/movie-remind-modal.wxml','./tpl/navigator.wxml','./tpl/operation/embedded-component/special-topic.wxml','./tpl/operation/embedded-component/sudoku.wxml','./modal.wxml','./sidebar.wxml','./tpl/operation/global-component/modal.wxml','./redpacket.wxml','./tpl/operation/global-component/redpacket.wxml','./tpl/operation/global-component/sidebar.wxml','./tpl/order-item.wxml','./tpl/papay-modal.wxml','./tpl/rain.wxml','./tpl/seat-toast.wxml','./wesai/indexpage/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_1()
var oB=_v()
_(r,oB)
if(_oz(z,0,e,s,gg)){oB.wxVkey=1
}
oB.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
d_[x[1]]={}
var m1=function(e,s,r,gg){
var z=gz$gwx_2()
var oD=_v()
_(r,oD)
if(_oz(z,0,e,s,gg)){oD.wxVkey=1
var fE=_n('view')
_rz(z,fE,'class',1,e,s,gg)
var cF=_v()
_(fE,cF)
if(_oz(z,2,e,s,gg)){cF.wxVkey=1
}
var hG=_v()
_(fE,hG)
if(_oz(z,3,e,s,gg)){hG.wxVkey=1
}
var cI=_n('slot')
_rz(z,cI,'name',4,e,s,gg)
_(fE,cI)
var oH=_v()
_(fE,oH)
if(_oz(z,5,e,s,gg)){oH.wxVkey=1
}
var oJ=_n('slot')
_rz(z,oJ,'name',6,e,s,gg)
_(fE,oJ)
cF.wxXCkey=1
hG.wxXCkey=1
oH.wxXCkey=1
_(oD,fE)
}
oD.wxXCkey=1
return r
}
e_[x[1]]={f:m1,j:[],i:[],ti:[],ic:[]}
d_[x[2]]={}
var m2=function(e,s,r,gg){
var z=gz$gwx_3()
var aL=_v()
_(r,aL)
if(_oz(z,0,e,s,gg)){aL.wxVkey=1
}
aL.wxXCkey=1
return r
}
e_[x[2]]={f:m2,j:[],i:[],ti:[],ic:[]}
d_[x[3]]={}
var m3=function(e,s,r,gg){
var z=gz$gwx_4()
return r
}
e_[x[3]]={f:m3,j:[],i:[],ti:[],ic:[]}
d_[x[4]]={}
var m4=function(e,s,r,gg){
var z=gz$gwx_5()
var bO=_v()
_(r,bO)
if(_oz(z,0,e,s,gg)){bO.wxVkey=1
var oP=_v()
_(bO,oP)
if(_oz(z,1,e,s,gg)){oP.wxVkey=1
}
oP.wxXCkey=1
}
bO.wxXCkey=1
return r
}
e_[x[4]]={f:m4,j:[],i:[],ti:[],ic:[]}
d_[x[5]]={}
var m5=function(e,s,r,gg){
var z=gz$gwx_6()
var oR=e_[x[5]].i
var fS=e_[x[5]].j
_ai(oR,x[6],e_,x[5],1,1)
_ic(x[7],e_,x[5],e,s,r,gg);
_ic(x[8],e_,x[5],e,s,r,gg);
_ic(x[9],e_,x[5],e,s,r,gg);
var cT=_v()
_(r,cT)
if(_oz(z,0,e,s,gg)){cT.wxVkey=1
var hU=_mz(z,'view',['bindtap',1,'class',1],[],e,s,gg)
var oV=_v()
_(hU,oV)
if(_oz(z,3,e,s,gg)){oV.wxVkey=1
}
var cW=_v()
_(hU,cW)
if(_oz(z,4,e,s,gg)){cW.wxVkey=1
}
oV.wxXCkey=1
cW.wxXCkey=1
_(cT,hU)
}
var oX=_mz(z,'modal',['noCancel',-1,'bindconfirm',5,'class',1,'hidden',2],[],e,s,gg)
var lY=_v()
_(oX,lY)
var aZ=_oz(z,8,e,s,gg)
var t1=_gd(x[5],aZ,e_,d_)
if(t1){
var e2={}
var cur_globalf=gg.f
lY.wxXCkey=3
t1(e2,e2,lY,gg)
gg.f=cur_globalf
}
else _w(aZ,x[5],1,698)
_(r,oX)
cT.wxXCkey=1
oR.pop()
fS.pop()
fS.pop()
fS.pop()
return r
}
e_[x[5]]={f:m5,j:[],i:[],ti:[x[6]],ic:[x[7],x[8],x[9]]}
d_[x[10]]={}
var m6=function(e,s,r,gg){
var z=gz$gwx_7()
var o4=e_[x[10]].j
var x5=_v()
_(r,x5)
if(_oz(z,0,e,s,gg)){x5.wxVkey=1
}
else{x5.wxVkey=2
var o6=_v()
_(x5,o6)
if(_oz(z,1,e,s,gg)){o6.wxVkey=1
var f7=_n('view')
_rz(z,f7,'class',2,e,s,gg)
var c8=_v()
_(f7,c8)
if(_oz(z,3,e,s,gg)){c8.wxVkey=1
var oBB=_n('view')
_rz(z,oBB,'class',4,e,s,gg)
var aDB=_v()
_(oBB,aDB)
var tEB=function(bGB,eFB,oHB,gg){
var oJB=_n('view')
_rz(z,oJB,'class',7,bGB,eFB,gg)
var fKB=_v()
_(oJB,fKB)
if(_oz(z,8,bGB,eFB,gg)){fKB.wxVkey=1
}
var cLB=_v()
_(oJB,cLB)
if(_oz(z,9,bGB,eFB,gg)){cLB.wxVkey=1
}
fKB.wxXCkey=1
cLB.wxXCkey=1
_(oHB,oJB)
return oHB
}
aDB.wxXCkey=2
_2z(z,5,tEB,e,s,gg,aDB,'item','index','index')
var lCB=_v()
_(oBB,lCB)
if(_oz(z,10,e,s,gg)){lCB.wxVkey=1
var hMB=_v()
_(lCB,hMB)
var oNB=function(oPB,cOB,lQB,gg){
var tSB=_n('view')
_rz(z,tSB,'class',13,oPB,cOB,gg)
var eTB=_v()
_(tSB,eTB)
if(_oz(z,14,oPB,cOB,gg)){eTB.wxVkey=1
}
var bUB=_v()
_(tSB,bUB)
if(_oz(z,15,oPB,cOB,gg)){bUB.wxVkey=1
}
var oVB=_v()
_(tSB,oVB)
if(_oz(z,16,oPB,cOB,gg)){oVB.wxVkey=1
}
eTB.wxXCkey=1
bUB.wxXCkey=1
oVB.wxXCkey=1
_(lQB,tSB)
return lQB
}
hMB.wxXCkey=2
_2z(z,11,oNB,e,s,gg,hMB,'item','index','index')
}
lCB.wxXCkey=1
_(c8,oBB)
}
else{c8.wxVkey=2
}
var h9=_v()
_(f7,h9)
if(_oz(z,17,e,s,gg)){h9.wxVkey=1
}
var o0=_v()
_(f7,o0)
if(_oz(z,18,e,s,gg)){o0.wxVkey=1
var xWB=_v()
_(o0,xWB)
var oXB=function(cZB,fYB,h1B,gg){
var c3B=_v()
_(h1B,c3B)
if(_oz(z,21,cZB,fYB,gg)){c3B.wxVkey=1
}
c3B.wxXCkey=1
return h1B
}
xWB.wxXCkey=2
_2z(z,19,oXB,e,s,gg,xWB,'item','index','avatarUrl')
}
var cAB=_v()
_(f7,cAB)
if(_oz(z,22,e,s,gg)){cAB.wxVkey=1
}
c8.wxXCkey=1
h9.wxXCkey=1
o0.wxXCkey=1
cAB.wxXCkey=1
_(o6,f7)
}
o6.wxXCkey=1
}
_ic(x[11],e_,x[10],e,s,r,gg);
x5.wxXCkey=1
o4.pop()
return r
}
e_[x[10]]={f:m6,j:[],i:[],ti:[],ic:[x[11]]}
d_[x[12]]={}
d_[x[12]]["cinema"]=function(e,s,r,gg){
var z=gz$gwx_8()
var b=x[12]+':cinema'
r.wxVkey=b
gg.f=$gdc(f_["./pages/cinema/_cinema-item.wxml"],"",1)
if(p_[b]){_wl(b,x[12]);return}
p_[b]=true
try{
var oB=_n('view')
_rz(z,oB,'class',1,e,s,gg)
var xC=_v()
_(oB,xC)
if(_oz(z,2,e,s,gg)){xC.wxVkey=1
}
var oD=_v()
_(oB,oD)
if(_oz(z,3,e,s,gg)){oD.wxVkey=1
}
var fE=_v()
_(oB,fE)
if(_oz(z,4,e,s,gg)){fE.wxVkey=1
}
var cF=_v()
_(oB,cF)
if(_oz(z,5,e,s,gg)){cF.wxVkey=1
}
var hG=_v()
_(oB,hG)
if(_oz(z,6,e,s,gg)){hG.wxVkey=1
}
var oH=_v()
_(oB,oH)
if(_oz(z,7,e,s,gg)){oH.wxVkey=1
}
var tM=_n('view')
_rz(z,tM,'class',8,e,s,gg)
var eN=_v()
_(tM,eN)
if(_oz(z,9,e,s,gg)){eN.wxVkey=1
}
var bO=_v()
_(tM,bO)
if(_oz(z,10,e,s,gg)){bO.wxVkey=1
}
var oP=_v()
_(tM,oP)
if(_oz(z,11,e,s,gg)){oP.wxVkey=1
}
var xQ=_v()
_(tM,xQ)
if(_oz(z,12,e,s,gg)){xQ.wxVkey=1
}
var oR=_v()
_(tM,oR)
if(_oz(z,13,e,s,gg)){oR.wxVkey=1
}
var fS=_v()
_(tM,fS)
if(_oz(z,14,e,s,gg)){fS.wxVkey=1
}
eN.wxXCkey=1
bO.wxXCkey=1
oP.wxXCkey=1
xQ.wxXCkey=1
oR.wxXCkey=1
fS.wxXCkey=1
_(oB,tM)
var cI=_v()
_(oB,cI)
if(_oz(z,15,e,s,gg)){cI.wxVkey=1
}
var oJ=_v()
_(oB,oJ)
if(_oz(z,16,e,s,gg)){oJ.wxVkey=1
}
var lK=_v()
_(oB,lK)
if(_oz(z,17,e,s,gg)){lK.wxVkey=1
}
var aL=_v()
_(oB,aL)
if(_oz(z,18,e,s,gg)){aL.wxVkey=1
}
xC.wxXCkey=1
oD.wxXCkey=1
fE.wxXCkey=1
cF.wxXCkey=1
hG.wxXCkey=1
oH.wxXCkey=1
cI.wxXCkey=1
oJ.wxXCkey=1
lK.wxXCkey=1
aL.wxXCkey=1
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m7=function(e,s,r,gg){
var z=gz$gwx_8()
return r
}
e_[x[12]]={f:m7,j:[],i:[],ti:[],ic:[]}
d_[x[13]]={}
d_[x[13]]["select-bar"]=function(e,s,r,gg){
var z=gz$gwx_9()
var b=x[13]+':select-bar'
r.wxVkey=b
gg.f=$gdc(f_["./pages/cinema/_select-bar.wxml"],"",1)
if(p_[b]){_wl(b,x[13]);return}
p_[b]=true
try{
var oB=_n('view')
_rz(z,oB,'class',1,e,s,gg)
var xC=_v()
_(oB,xC)
var oD=_oz(z,3,e,s,gg)
var fE=_gd(x[13],oD,e_,d_)
if(fE){
var cF=_1z(z,2,e,s,gg) || {}
var cur_globalf=gg.f
xC.wxXCkey=3
fE(cF,cF,xC,gg)
gg.f=cur_globalf
}
else _w(oD,x[13],1,583)
var hG=_v()
_(oB,hG)
var oH=_oz(z,5,e,s,gg)
var cI=_gd(x[13],oH,e_,d_)
if(cI){
var oJ=_1z(z,4,e,s,gg) || {}
var cur_globalf=gg.f
hG.wxXCkey=3
cI(oJ,oJ,hG,gg)
gg.f=cur_globalf
}
else _w(oH,x[13],1,718)
var lK=_v()
_(oB,lK)
var aL=_oz(z,7,e,s,gg)
var tM=_gd(x[13],aL,e_,d_)
if(tM){
var eN=_1z(z,6,e,s,gg) || {}
var cur_globalf=gg.f
lK.wxXCkey=3
tM(eN,eN,lK,gg)
gg.f=cur_globalf
}
else _w(aL,x[13],1,879)
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[13]]["brand-selector"]=function(e,s,r,gg){
var z=gz$gwx_9()
var b=x[13]+':brand-selector'
r.wxVkey=b
gg.f=$gdc(f_["./pages/cinema/_select-bar.wxml"],"",1)
if(p_[b]){_wl(b,x[13]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[13]]["feature-selector"]=function(e,s,r,gg){
var z=gz$gwx_9()
var b=x[13]+':feature-selector'
r.wxVkey=b
gg.f=$gdc(f_["./pages/cinema/_select-bar.wxml"],"",1)
if(p_[b]){_wl(b,x[13]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[13]]["area-selector"]=function(e,s,r,gg){
var z=gz$gwx_9()
var b=x[13]+':area-selector'
r.wxVkey=b
gg.f=$gdc(f_["./pages/cinema/_select-bar.wxml"],"",1)
if(p_[b]){_wl(b,x[13]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m8=function(e,s,r,gg){
var z=gz$gwx_9()
return r
}
e_[x[13]]={f:m8,j:[],i:[],ti:[],ic:[]}
d_[x[14]]={}
var m9=function(e,s,r,gg){
var z=gz$gwx_10()
var t7B=e_[x[14]].i
var e8B=e_[x[14]].j
_ai(t7B,x[15],e_,x[14],1,1)
_ai(t7B,x[16],e_,x[14],1,36)
var b9B=_v()
_(r,b9B)
if(_oz(z,0,e,s,gg)){b9B.wxVkey=1
var o0B=_n('view')
_rz(z,o0B,'class',1,e,s,gg)
var xAC=_v()
_(o0B,xAC)
if(_oz(z,2,e,s,gg)){xAC.wxVkey=1
}
var oBC=_v()
_(o0B,oBC)
if(_oz(z,3,e,s,gg)){oBC.wxVkey=1
}
var fCC=_v()
_(o0B,fCC)
if(_oz(z,4,e,s,gg)){fCC.wxVkey=1
var oPC=_v()
_(fCC,oPC)
if(_oz(z,5,e,s,gg)){oPC.wxVkey=1
}
oPC.wxXCkey=1
}
var cDC=_v()
_(o0B,cDC)
if(_oz(z,6,e,s,gg)){cDC.wxVkey=1
var fQC=_v()
_(cDC,fQC)
var cRC=function(oTC,hSC,cUC,gg){
var lWC=_v()
_(cUC,lWC)
if(_oz(z,8,oTC,hSC,gg)){lWC.wxVkey=1
}
lWC.wxXCkey=1
return cUC
}
fQC.wxXCkey=2
_2z(z,7,cRC,e,s,gg,fQC,'item','index','')
}
var hEC=_v()
_(o0B,hEC)
if(_oz(z,9,e,s,gg)){hEC.wxVkey=1
}
var oFC=_v()
_(o0B,oFC)
if(_oz(z,10,e,s,gg)){oFC.wxVkey=1
}
var cGC=_v()
_(o0B,cGC)
if(_oz(z,11,e,s,gg)){cGC.wxVkey=1
var aXC=_v()
_(cGC,aXC)
var tYC=function(b1C,eZC,o2C,gg){
var o4C=_mz(z,'view',['bindtap',13,'class',1,'data-date',2,'data-index',3],[],b1C,eZC,gg)
var f5C=_v()
_(o4C,f5C)
if(_oz(z,17,b1C,eZC,gg)){f5C.wxVkey=1
}
f5C.wxXCkey=1
_(o2C,o4C)
return o2C
}
aXC.wxXCkey=2
_2z(z,12,tYC,e,s,gg,aXC,'item','index','')
}
var oHC=_v()
_(o0B,oHC)
if(_oz(z,18,e,s,gg)){oHC.wxVkey=1
}
var lIC=_v()
_(o0B,lIC)
if(_oz(z,19,e,s,gg)){lIC.wxVkey=1
}
var c6C=_v()
_(o0B,c6C)
var h7C=function(c9C,o8C,o0C,gg){
var aBD=_v()
_(o0C,aBD)
if(_oz(z,21,c9C,o8C,gg)){aBD.wxVkey=1
}
aBD.wxXCkey=1
return o0C
}
c6C.wxXCkey=2
_2z(z,20,h7C,e,s,gg,c6C,'item','index','')
var tCD=_v()
_(o0B,tCD)
var eDD=function(oFD,bED,xGD,gg){
var fID=_v()
_(xGD,fID)
if(_oz(z,23,oFD,bED,gg)){fID.wxVkey=1
}
fID.wxXCkey=1
return xGD
}
tCD.wxXCkey=2
_2z(z,22,eDD,e,s,gg,tCD,'item','index','')
var aJC=_v()
_(o0B,aJC)
if(_oz(z,24,e,s,gg)){aJC.wxVkey=1
var cJD=_mz(z,'form',['reportSubmit',-1,'bindsubmit',25],[],e,s,gg)
var hKD=_v()
_(cJD,hKD)
var oLD=function(oND,cMD,lOD,gg){
var tQD=_mz(z,'navigator',['catchtap',28,'data-tip',1,'data-url',2],[],oND,cMD,gg)
var eRD=_n('view')
_rz(z,eRD,'class',31,oND,cMD,gg)
var bSD=_v()
_(eRD,bSD)
if(_oz(z,32,oND,cMD,gg)){bSD.wxVkey=1
}
var oTD=_v()
_(eRD,oTD)
if(_oz(z,33,oND,cMD,gg)){oTD.wxVkey=1
}
var xUD=_n('view')
_rz(z,xUD,'class',34,oND,cMD,gg)
var oVD=_v()
_(xUD,oVD)
if(_oz(z,35,oND,cMD,gg)){oVD.wxVkey=1
}
var fWD=_v()
_(xUD,fWD)
if(_oz(z,36,oND,cMD,gg)){fWD.wxVkey=1
}
var cXD=_v()
_(xUD,cXD)
if(_oz(z,37,oND,cMD,gg)){cXD.wxVkey=1
}
oVD.wxXCkey=1
fWD.wxXCkey=1
cXD.wxXCkey=1
_(eRD,xUD)
var hYD=_n('view')
_rz(z,hYD,'class',38,oND,cMD,gg)
var oZD=_v()
_(hYD,oZD)
if(_oz(z,39,oND,cMD,gg)){oZD.wxVkey=1
var c1D=_v()
_(oZD,c1D)
if(_oz(z,40,oND,cMD,gg)){c1D.wxVkey=1
}
var o2D=_v()
_(oZD,o2D)
if(_oz(z,41,oND,cMD,gg)){o2D.wxVkey=1
}
var l3D=_v()
_(oZD,l3D)
if(_oz(z,42,oND,cMD,gg)){l3D.wxVkey=1
}
var a4D=_v()
_(oZD,a4D)
if(_oz(z,43,oND,cMD,gg)){a4D.wxVkey=1
}
var t5D=_v()
_(oZD,t5D)
if(_oz(z,44,oND,cMD,gg)){t5D.wxVkey=1
}
c1D.wxXCkey=1
o2D.wxXCkey=1
l3D.wxXCkey=1
a4D.wxXCkey=1
t5D.wxXCkey=1
}
else{oZD.wxVkey=2
}
oZD.wxXCkey=1
_(eRD,hYD)
bSD.wxXCkey=1
oTD.wxXCkey=1
_(tQD,eRD)
_(lOD,tQD)
return lOD
}
hKD.wxXCkey=2
_2z(z,26,oLD,e,s,gg,hKD,'item','index','seqNo')
_(aJC,cJD)
}
var tKC=_v()
_(o0B,tKC)
if(_oz(z,45,e,s,gg)){tKC.wxVkey=1
var e6D=_v()
_(tKC,e6D)
if(_oz(z,46,e,s,gg)){e6D.wxVkey=1
}
e6D.wxXCkey=1
}
var eLC=_v()
_(o0B,eLC)
if(_oz(z,47,e,s,gg)){eLC.wxVkey=1
var b7D=_v()
_(eLC,b7D)
if(_oz(z,48,e,s,gg)){b7D.wxVkey=1
var o8D=_n('view')
_rz(z,o8D,'class',49,e,s,gg)
var x9D=e_[x[14]].i
_ai(x9D,x[17],e_,x[14],1,8766)
var o0D=_v()
_(o8D,o0D)
var fAE=function(hCE,cBE,oDE,gg){
var oFE=_v()
_(oDE,oFE)
var lGE=_oz(z,52,hCE,cBE,gg)
var aHE=_gd(x[14],lGE,e_,d_)
if(aHE){
var tIE=_1z(z,51,hCE,cBE,gg) || {}
var cur_globalf=gg.f
oFE.wxXCkey=3
aHE(tIE,tIE,oFE,gg)
gg.f=cur_globalf
}
else _w(lGE,x[14],1,8839)
return oDE
}
o0D.wxXCkey=2
_2z(z,50,fAE,e,s,gg,o0D,'item','index','')
x9D.pop()
_(b7D,o8D)
}
b7D.wxXCkey=1
}
var eJE=_v()
_(o0B,eJE)
var bKE=_oz(z,54,e,s,gg)
var oLE=_gd(x[14],bKE,e_,d_)
if(oLE){
var xME=_1z(z,53,e,s,gg) || {}
var cur_globalf=gg.f
eJE.wxXCkey=3
oLE(xME,xME,eJE,gg)
gg.f=cur_globalf
}
else _w(bKE,x[14],1,8903)
var bMC=_v()
_(o0B,bMC)
if(_oz(z,55,e,s,gg)){bMC.wxVkey=1
}
var oNC=_v()
_(o0B,oNC)
if(_oz(z,56,e,s,gg)){oNC.wxVkey=1
var oNE=_mz(z,'view',['catchtouchmove',57,'class',1,'style',2],[],e,s,gg)
var fOE=_mz(z,'scroll-view',['scrollY',-1,'bindscrolltolower',60,'class',1,'lowerThreshold',2,'style',3],[],e,s,gg)
var cPE=_v()
_(fOE,cPE)
if(_oz(z,64,e,s,gg)){cPE.wxVkey=1
}
cPE.wxXCkey=1
_(oNE,fOE)
_(oNC,oNE)
}
var xOC=_v()
_(o0B,xOC)
if(_oz(z,65,e,s,gg)){xOC.wxVkey=1
}
xAC.wxXCkey=1
oBC.wxXCkey=1
fCC.wxXCkey=1
cDC.wxXCkey=1
hEC.wxXCkey=1
oFC.wxXCkey=1
cGC.wxXCkey=1
oHC.wxXCkey=1
lIC.wxXCkey=1
aJC.wxXCkey=1
tKC.wxXCkey=1
eLC.wxXCkey=1
bMC.wxXCkey=1
oNC.wxXCkey=1
xOC.wxXCkey=1
_(b9B,o0B)
}
var hQE=_v()
_(r,hQE)
var oRE=_oz(z,67,e,s,gg)
var cSE=_gd(x[14],oRE,e_,d_)
if(cSE){
var oTE=_1z(z,66,e,s,gg) || {}
var cur_globalf=gg.f
hQE.wxXCkey=3
cSE(oTE,oTE,hQE,gg)
gg.f=cur_globalf
}
else _w(oRE,x[14],1,12686)
_ic(x[11],e_,x[14],e,s,r,gg);
b9B.wxXCkey=1
t7B.pop()
t7B.pop()
e8B.pop()
return r
}
e_[x[14]]={f:m9,j:[],i:[],ti:[x[15],x[16]],ic:[x[11]]}
d_[x[18]]={}
var m10=function(e,s,r,gg){
var z=gz$gwx_11()
var aVE=e_[x[18]].j
var tWE=_v()
_(r,tWE)
if(_oz(z,0,e,s,gg)){tWE.wxVkey=1
}
_ic(x[11],e_,x[18],e,s,r,gg);
tWE.wxXCkey=1
aVE.pop()
return r
}
e_[x[18]]={f:m10,j:[],i:[],ti:[],ic:[x[11]]}
d_[x[19]]={}
var m11=function(e,s,r,gg){
var z=gz$gwx_12()
var bYE=e_[x[19]].i
var oZE=e_[x[19]].j
_ai(bYE,x[17],e_,x[19],1,1)
_ai(bYE,x[20],e_,x[19],1,34)
_ai(bYE,x[21],e_,x[19],1,80)
_ai(bYE,x[22],e_,x[19],1,120)
_ai(bYE,x[23],e_,x[19],1,154)
_ai(bYE,x[16],e_,x[19],1,198)
var x1E=_n('view')
_rz(z,x1E,'style',0,e,s,gg)
var o2E=_v()
_(x1E,o2E)
var f3E=_oz(z,2,e,s,gg)
var c4E=_gd(x[19],f3E,e_,d_)
if(c4E){
var h5E=_1z(z,1,e,s,gg) || {}
var cur_globalf=gg.f
o2E.wxXCkey=3
c4E(h5E,h5E,o2E,gg)
gg.f=cur_globalf
}
else _w(f3E,x[19],1,394)
var o6E=_n('view')
_rz(z,o6E,'style',3,e,s,gg)
var l9E=_v()
_(o6E,l9E)
var a0E=_oz(z,5,e,s,gg)
var tAF=_gd(x[19],a0E,e_,d_)
if(tAF){
var eBF=_1z(z,4,e,s,gg) || {}
var cur_globalf=gg.f
l9E.wxXCkey=3
tAF(eBF,eBF,l9E,gg)
gg.f=cur_globalf
}
else _w(a0E,x[19],1,605)
var bCF=_v()
_(o6E,bCF)
var oDF=_oz(z,7,e,s,gg)
var xEF=_gd(x[19],oDF,e_,d_)
if(xEF){
var oFF=_1z(z,6,e,s,gg) || {}
var cur_globalf=gg.f
bCF.wxXCkey=3
xEF(oFF,oFF,bCF,gg)
gg.f=cur_globalf
}
else _w(oDF,x[19],1,721)
var c7E=_v()
_(o6E,c7E)
if(_oz(z,8,e,s,gg)){c7E.wxVkey=1
var fGF=_n('view')
_rz(z,fGF,'style',9,e,s,gg)
var hIF=_v()
_(fGF,hIF)
var oJF=function(oLF,cKF,lMF,gg){
var tOF=_v()
_(lMF,tOF)
var ePF=_oz(z,13,oLF,cKF,gg)
var bQF=_gd(x[19],ePF,e_,d_)
if(bQF){
var oRF=_1z(z,12,oLF,cKF,gg) || {}
var cur_globalf=gg.f
tOF.wxXCkey=3
bQF(oRF,oRF,tOF,gg)
gg.f=cur_globalf
}
else _w(ePF,x[19],1,1048)
return lMF
}
hIF.wxXCkey=2
_2z(z,10,oJF,e,s,gg,hIF,'item','index','{{ index }}')
var cHF=_v()
_(fGF,cHF)
if(_oz(z,14,e,s,gg)){cHF.wxVkey=1
}
cHF.wxXCkey=1
_(c7E,fGF)
}
var o8E=_v()
_(o6E,o8E)
if(_oz(z,15,e,s,gg)){o8E.wxVkey=1
}
c7E.wxXCkey=1
o8E.wxXCkey=1
_(x1E,o6E)
var xSF=_v()
_(x1E,xSF)
var oTF=_oz(z,17,e,s,gg)
var fUF=_gd(x[19],oTF,e_,d_)
if(fUF){
var cVF=_1z(z,16,e,s,gg) || {}
var cur_globalf=gg.f
xSF.wxXCkey=3
fUF(cVF,cVF,xSF,gg)
gg.f=cur_globalf
}
else _w(oTF,x[19],1,1564)
var hWF=_v()
_(x1E,hWF)
var oXF=_oz(z,19,e,s,gg)
var cYF=_gd(x[19],oXF,e_,d_)
if(cYF){
var oZF=_1z(z,18,e,s,gg) || {}
var cur_globalf=gg.f
hWF.wxXCkey=3
cYF(oZF,oZF,hWF,gg)
gg.f=cur_globalf
}
else _w(oXF,x[19],1,1623)
var l1F=_v()
_(x1E,l1F)
var a2F=_oz(z,21,e,s,gg)
var t3F=_gd(x[19],a2F,e_,d_)
if(t3F){
var e4F=_1z(z,20,e,s,gg) || {}
var cur_globalf=gg.f
l1F.wxXCkey=3
t3F(e4F,e4F,l1F,gg)
gg.f=cur_globalf
}
else _w(a2F,x[19],1,1759)
_(r,x1E)
var b5F=_v()
_(r,b5F)
var o6F=_oz(z,23,e,s,gg)
var x7F=_gd(x[19],o6F,e_,d_)
if(x7F){
var o8F=_1z(z,22,e,s,gg) || {}
var cur_globalf=gg.f
b5F.wxXCkey=3
x7F(o8F,o8F,b5F,gg)
gg.f=cur_globalf
}
else _w(o6F,x[19],1,1908)
_ic(x[11],e_,x[19],e,s,r,gg);
bYE.pop()
bYE.pop()
bYE.pop()
bYE.pop()
bYE.pop()
bYE.pop()
oZE.pop()
return r
}
e_[x[19]]={f:m11,j:[],i:[],ti:[x[17],x[20],x[21],x[22],x[23],x[16]],ic:[x[11]]}
d_[x[24]]={}
var m12=function(e,s,r,gg){
var z=gz$gwx_13()
var c0F=e_[x[24]].i
var hAG=e_[x[24]].j
_ai(c0F,x[20],e_,x[24],1,1)
_ai(c0F,x[22],e_,x[24],1,47)
_ai(c0F,x[23],e_,x[24],1,81)
_ai(c0F,x[16],e_,x[24],1,125)
var oBG=_v()
_(r,oBG)
if(_oz(z,0,e,s,gg)){oBG.wxVkey=1
var lEG=_mz(z,'view',['catchtap',1,'class',1,'data-url',2],[],e,s,gg)
var aFG=_n('view')
_rz(z,aFG,'class',4,e,s,gg)
var tGG=_v()
_(aFG,tGG)
if(_oz(z,5,e,s,gg)){tGG.wxVkey=1
}
var eHG=_v()
_(aFG,eHG)
if(_oz(z,6,e,s,gg)){eHG.wxVkey=1
var cNG=_n('view')
_rz(z,cNG,'class',7,e,s,gg)
var hOG=_v()
_(cNG,hOG)
if(_oz(z,8,e,s,gg)){hOG.wxVkey=1
var oPG=_v()
_(hOG,oPG)
if(_oz(z,9,e,s,gg)){oPG.wxVkey=1
}
oPG.wxXCkey=1
}
else{hOG.wxVkey=2
}
hOG.wxXCkey=1
_(eHG,cNG)
}
else{eHG.wxVkey=2
var cQG=_n('view')
_rz(z,cQG,'class',10,e,s,gg)
var oRG=_v()
_(cQG,oRG)
if(_oz(z,11,e,s,gg)){oRG.wxVkey=1
var lSG=_v()
_(oRG,lSG)
if(_oz(z,12,e,s,gg)){lSG.wxVkey=1
}
lSG.wxXCkey=1
}
else if(_oz(z,13,e,s,gg)){oRG.wxVkey=2
}
oRG.wxXCkey=1
_(eHG,cQG)
}
var bIG=_v()
_(aFG,bIG)
if(_oz(z,14,e,s,gg)){bIG.wxVkey=1
}
var oJG=_v()
_(aFG,oJG)
if(_oz(z,15,e,s,gg)){oJG.wxVkey=1
}
var xKG=_v()
_(aFG,xKG)
if(_oz(z,16,e,s,gg)){xKG.wxVkey=1
}
var oLG=_v()
_(aFG,oLG)
if(_oz(z,17,e,s,gg)){oLG.wxVkey=1
}
var fMG=_v()
_(aFG,fMG)
if(_oz(z,18,e,s,gg)){fMG.wxVkey=1
}
tGG.wxXCkey=1
eHG.wxXCkey=1
bIG.wxXCkey=1
oJG.wxXCkey=1
xKG.wxXCkey=1
oLG.wxXCkey=1
fMG.wxXCkey=1
_(lEG,aFG)
_(oBG,lEG)
}
var aTG=_mz(z,'view',['class',19,'style',1],[],e,s,gg)
var bWG=_mz(z,'view',['class',21,'id',1],[],e,s,gg)
var oXG=_v()
_(bWG,oXG)
if(_oz(z,23,e,s,gg)){oXG.wxVkey=1
var xYG=_v()
_(oXG,xYG)
var oZG=function(c2G,f1G,h3G,gg){
var c5G=_mz(z,'view',['bindtap',26,'class',1,'data-date',2,'data-index',3],[],c2G,f1G,gg)
var o6G=_v()
_(c5G,o6G)
if(_oz(z,30,c2G,f1G,gg)){o6G.wxVkey=1
}
o6G.wxXCkey=1
_(h3G,c5G)
return h3G
}
xYG.wxXCkey=2
_2z(z,24,oZG,e,s,gg,xYG,'item','index','index')
}
var l7G=_v()
_(bWG,l7G)
var a8G=_oz(z,32,e,s,gg)
var t9G=_gd(x[24],a8G,e_,d_)
if(t9G){
var e0G=_1z(z,31,e,s,gg) || {}
var cur_globalf=gg.f
l7G.wxXCkey=3
t9G(e0G,e0G,l7G,gg)
gg.f=cur_globalf
}
else _w(a8G,x[24],1,4248)
oXG.wxXCkey=1
_(aTG,bWG)
var tUG=_v()
_(aTG,tUG)
if(_oz(z,33,e,s,gg)){tUG.wxVkey=1
var bAH=_v()
_(tUG,bAH)
var oBH=function(oDH,xCH,fEH,gg){
var hGH=_mz(z,'navigator',['catchtap',35,'class',1,'data-url',2],[],oDH,xCH,gg)
var oHH=_n('view')
_rz(z,oHH,'class',38,oDH,xCH,gg)
var cIH=_v()
_(oHH,cIH)
if(_oz(z,39,oDH,xCH,gg)){cIH.wxVkey=1
}
var oJH=_v()
_(oHH,oJH)
if(_oz(z,40,oDH,xCH,gg)){oJH.wxVkey=1
}
var lKH=_v()
_(oHH,lKH)
if(_oz(z,41,oDH,xCH,gg)){lKH.wxVkey=1
}
var aLH=_v()
_(oHH,aLH)
if(_oz(z,42,oDH,xCH,gg)){aLH.wxVkey=1
}
var tMH=_v()
_(oHH,tMH)
if(_oz(z,43,oDH,xCH,gg)){tMH.wxVkey=1
}
var fSH=_n('view')
_rz(z,fSH,'class',44,oDH,xCH,gg)
var cTH=_v()
_(fSH,cTH)
if(_oz(z,45,oDH,xCH,gg)){cTH.wxVkey=1
}
var hUH=_v()
_(fSH,hUH)
if(_oz(z,46,oDH,xCH,gg)){hUH.wxVkey=1
}
var oVH=_v()
_(fSH,oVH)
if(_oz(z,47,oDH,xCH,gg)){oVH.wxVkey=1
}
var cWH=_v()
_(fSH,cWH)
if(_oz(z,48,oDH,xCH,gg)){cWH.wxVkey=1
}
var oXH=_v()
_(fSH,oXH)
if(_oz(z,49,oDH,xCH,gg)){oXH.wxVkey=1
}
cTH.wxXCkey=1
hUH.wxXCkey=1
oVH.wxXCkey=1
cWH.wxXCkey=1
oXH.wxXCkey=1
_(oHH,fSH)
var eNH=_v()
_(oHH,eNH)
if(_oz(z,50,oDH,xCH,gg)){eNH.wxVkey=1
}
var bOH=_v()
_(oHH,bOH)
if(_oz(z,51,oDH,xCH,gg)){bOH.wxVkey=1
}
var oPH=_v()
_(oHH,oPH)
if(_oz(z,52,oDH,xCH,gg)){oPH.wxVkey=1
}
var xQH=_v()
_(oHH,xQH)
if(_oz(z,53,oDH,xCH,gg)){xQH.wxVkey=1
}
var oRH=_v()
_(oHH,oRH)
if(_oz(z,54,oDH,xCH,gg)){oRH.wxVkey=1
var lYH=_v()
_(oRH,lYH)
var aZH=function(e2H,t1H,b3H,gg){
var x5H=_mz(z,'navigator',['catchtap',57,'class',1,'data-seqno',2,'data-status',3],[],e2H,t1H,gg)
var o6H=_v()
_(x5H,o6H)
if(_oz(z,61,e2H,t1H,gg)){o6H.wxVkey=1
}
o6H.wxXCkey=1
_(b3H,x5H)
return b3H
}
lYH.wxXCkey=2
_2z(z,56,aZH,oDH,xCH,gg,lYH,'p','index','')
}
else{oRH.wxVkey=2
}
cIH.wxXCkey=1
oJH.wxXCkey=1
lKH.wxXCkey=1
aLH.wxXCkey=1
tMH.wxXCkey=1
eNH.wxXCkey=1
bOH.wxXCkey=1
oPH.wxXCkey=1
xQH.wxXCkey=1
oRH.wxXCkey=1
_(hGH,oHH)
_(fEH,hGH)
return fEH
}
bAH.wxXCkey=2
_2z(z,34,oBH,e,s,gg,bAH,'item','index','')
}
var eVG=_v()
_(aTG,eVG)
if(_oz(z,62,e,s,gg)){eVG.wxVkey=1
}
tUG.wxXCkey=1
eVG.wxXCkey=1
_(r,aTG)
var f7H=_v()
_(r,f7H)
var c8H=_oz(z,64,e,s,gg)
var h9H=_gd(x[24],c8H,e_,d_)
if(h9H){
var o0H=_1z(z,63,e,s,gg) || {}
var cur_globalf=gg.f
f7H.wxXCkey=3
h9H(o0H,o0H,f7H,gg)
gg.f=cur_globalf
}
else _w(c8H,x[24],1,7273)
var cCG=_v()
_(r,cCG)
if(_oz(z,65,e,s,gg)){cCG.wxVkey=1
}
var oDG=_v()
_(r,oDG)
if(_oz(z,66,e,s,gg)){oDG.wxVkey=1
}
var cAI=_v()
_(r,cAI)
var oBI=_oz(z,68,e,s,gg)
var lCI=_gd(x[24],oBI,e_,d_)
if(lCI){
var aDI=_1z(z,67,e,s,gg) || {}
var cur_globalf=gg.f
cAI.wxXCkey=3
lCI(aDI,aDI,cAI,gg)
gg.f=cur_globalf
}
else _w(oBI,x[24],1,7638)
var tEI=_v()
_(r,tEI)
var eFI=_oz(z,70,e,s,gg)
var bGI=_gd(x[24],eFI,e_,d_)
if(bGI){
var oHI=_1z(z,69,e,s,gg) || {}
var cur_globalf=gg.f
tEI.wxXCkey=3
bGI(oHI,oHI,tEI,gg)
gg.f=cur_globalf
}
else _w(eFI,x[24],1,7701)
var xII=_v()
_(r,xII)
var oJI=_oz(z,72,e,s,gg)
var fKI=_gd(x[24],oJI,e_,d_)
if(fKI){
var cLI=_1z(z,71,e,s,gg) || {}
var cur_globalf=gg.f
xII.wxXCkey=3
fKI(cLI,cLI,xII,gg)
gg.f=cur_globalf
}
else _w(oJI,x[24],1,7837)
_ic(x[11],e_,x[24],e,s,r,gg);
oBG.wxXCkey=1
cCG.wxXCkey=1
oDG.wxXCkey=1
c0F.pop()
c0F.pop()
c0F.pop()
c0F.pop()
hAG.pop()
return r
}
e_[x[24]]={f:m12,j:[],i:[],ti:[x[20],x[22],x[23],x[16]],ic:[x[11]]}
d_[x[25]]={}
var m13=function(e,s,r,gg){
var z=gz$gwx_14()
var oNI=e_[x[25]].i
var cOI=e_[x[25]].j
_ai(oNI,x[26],e_,x[25],1,1)
_ai(oNI,x[27],e_,x[25],1,37)
_ai(oNI,x[16],e_,x[25],1,82)
_ai(oNI,x[28],e_,x[25],1,125)
var oPI=_v()
_(r,oPI)
if(_oz(z,0,e,s,gg)){oPI.wxVkey=1
var lQI=_mz(z,'view',['class',1,'style',1],[],e,s,gg)
var tSI=_v()
_(lQI,tSI)
var eTI=_oz(z,4,e,s,gg)
var bUI=_gd(x[25],eTI,e_,d_)
if(bUI){
var oVI=_1z(z,3,e,s,gg) || {}
var cur_globalf=gg.f
tSI.wxXCkey=3
bUI(oVI,oVI,tSI,gg)
gg.f=cur_globalf
}
else _w(eTI,x[25],1,267)
var aRI=_v()
_(lQI,aRI)
if(_oz(z,5,e,s,gg)){aRI.wxVkey=1
}
var xWI=_mz(z,'view',['class',6,'style',1],[],e,s,gg)
var oXI=_v()
_(xWI,oXI)
if(_oz(z,8,e,s,gg)){oXI.wxVkey=1
}
var fYI=_v()
_(xWI,fYI)
if(_oz(z,9,e,s,gg)){fYI.wxVkey=1
var cZI=_n('view')
_rz(z,cZI,'class',10,e,s,gg)
var o2I=_v()
_(cZI,o2I)
var c3I=function(l5I,o4I,a6I,gg){
var e8I=_v()
_(a6I,e8I)
if(_oz(z,14,l5I,o4I,gg)){e8I.wxVkey=1
}
e8I.wxXCkey=1
return a6I
}
o2I.wxXCkey=2
_2z(z,13,c3I,e,s,gg,o2I,'notice','index','')
var h1I=_v()
_(cZI,h1I)
if(_oz(z,15,e,s,gg)){h1I.wxVkey=1
}
h1I.wxXCkey=1
_(fYI,cZI)
}
oXI.wxXCkey=1
fYI.wxXCkey=1
_(lQI,xWI)
var b9I=_mz(z,'scroll-view',['bindscroll',16,'bindtouchend',1,'bindtouchmove',2,'bindtouchstart',3,'scrollLeft',4,'scrollTop',5,'scrollX',6,'scrollY',7,'style',8],[],e,s,gg)
var o0I=_mz(z,'view',['bindtransitionend',25,'class',1,'data-scaleto',2,'data-sectionid',3,'data-sectionname',4,'style',5],[],e,s,gg)
var xAJ=_v()
_(o0I,xAJ)
if(_oz(z,31,e,s,gg)){xAJ.wxVkey=1
}
xAJ.wxXCkey=1
_(b9I,o0I)
_(lQI,b9I)
var oBJ=_mz(z,'form',['bindsubmit',32,'class',1,'reportSubmit',2],[],e,s,gg)
var fCJ=_v()
_(oBJ,fCJ)
if(_oz(z,35,e,s,gg)){fCJ.wxVkey=1
}
var cDJ=_v()
_(oBJ,cDJ)
if(_oz(z,36,e,s,gg)){cDJ.wxVkey=1
var hEJ=_v()
_(cDJ,hEJ)
var oFJ=function(oHJ,cGJ,lIJ,gg){
var tKJ=_n('view')
_rz(z,tKJ,'class',38,oHJ,cGJ,gg)
var eLJ=_v()
_(tKJ,eLJ)
if(_oz(z,39,oHJ,cGJ,gg)){eLJ.wxVkey=1
}
var bMJ=_v()
_(tKJ,bMJ)
if(_oz(z,40,oHJ,cGJ,gg)){bMJ.wxVkey=1
}
eLJ.wxXCkey=1
bMJ.wxXCkey=1
_(lIJ,tKJ)
return lIJ
}
hEJ.wxXCkey=2
_2z(z,37,oFJ,e,s,gg,hEJ,'item','index','')
}
var oNJ=_n('view')
_rz(z,oNJ,'class',41,e,s,gg)
var xOJ=_v()
_(oNJ,xOJ)
if(_oz(z,42,e,s,gg)){xOJ.wxVkey=1
}
var oPJ=_v()
_(oNJ,oPJ)
if(_oz(z,43,e,s,gg)){oPJ.wxVkey=1
var fQJ=_v()
_(oPJ,fQJ)
if(_oz(z,44,e,s,gg)){fQJ.wxVkey=1
var hSJ=_mz(z,'view',['bindtap',45,'class',1],[],e,s,gg)
var oTJ=_v()
_(hSJ,oTJ)
if(_oz(z,47,e,s,gg)){oTJ.wxVkey=1
}
oTJ.wxXCkey=1
_(fQJ,hSJ)
}
var cRJ=_v()
_(oPJ,cRJ)
if(_oz(z,48,e,s,gg)){cRJ.wxVkey=1
var cUJ=_v()
_(cRJ,cUJ)
var oVJ=function(aXJ,lWJ,tYJ,gg){
var b1J=_mz(z,'view',['catchtap',52,'class',1,'data-column',2,'data-no',3,'data-region',4,'data-row',5,'data-section',6,'style',7],[],aXJ,lWJ,gg)
var o2J=_v()
_(b1J,o2J)
if(_oz(z,60,aXJ,lWJ,gg)){o2J.wxVkey=1
var x3J=_v()
_(o2J,x3J)
if(_oz(z,61,aXJ,lWJ,gg)){x3J.wxVkey=1
}
x3J.wxXCkey=1
}
o2J.wxXCkey=1
_(tYJ,b1J)
return tYJ
}
cUJ.wxXCkey=2
_2z(z,51,oVJ,e,s,gg,cUJ,'selectedItem','idx','')
}
fQJ.wxXCkey=1
cRJ.wxXCkey=1
}
xOJ.wxXCkey=1
oPJ.wxXCkey=1
_(oBJ,oNJ)
var o4J=_n('view')
_rz(z,o4J,'class',62,e,s,gg)
var f5J=_v()
_(o4J,f5J)
if(_oz(z,63,e,s,gg)){f5J.wxVkey=1
var c6J=_mz(z,'button',['bindgetphonenumber',64,'bindtap',1,'class',2,'data-cinemaid',3,'data-seats',4,'data-seqNo',5,'formType',6,'openType',7],[],e,s,gg)
var h7J=_v()
_(c6J,h7J)
if(_oz(z,72,e,s,gg)){h7J.wxVkey=1
}
h7J.wxXCkey=1
_(f5J,c6J)
}
else{f5J.wxVkey=2
}
f5J.wxXCkey=1
_(oBJ,o4J)
fCJ.wxXCkey=1
cDJ.wxXCkey=1
_(lQI,oBJ)
aRI.wxXCkey=1
_(oPI,lQI)
}
var o8J=_v()
_(r,o8J)
var c9J=_oz(z,74,e,s,gg)
var o0J=_gd(x[25],c9J,e_,d_)
if(o0J){
var lAK=_1z(z,73,e,s,gg) || {}
var cur_globalf=gg.f
o8J.wxXCkey=3
o0J(lAK,lAK,o8J,gg)
gg.f=cur_globalf
}
else _w(c9J,x[25],1,11357)
var aBK=_v()
_(r,aBK)
var tCK=_oz(z,76,e,s,gg)
var eDK=_gd(x[25],tCK,e_,d_)
if(eDK){
var bEK=_1z(z,75,e,s,gg) || {}
var cur_globalf=gg.f
aBK.wxXCkey=3
eDK(bEK,bEK,aBK,gg)
gg.f=cur_globalf
}
else _w(tCK,x[25],1,11416)
var oFK=_v()
_(r,oFK)
var xGK=_oz(z,78,e,s,gg)
var oHK=_gd(x[25],xGK,e_,d_)
if(oHK){
var fIK=_1z(z,77,e,s,gg) || {}
var cur_globalf=gg.f
oFK.wxXCkey=3
oHK(fIK,fIK,oFK,gg)
gg.f=cur_globalf
}
else _w(xGK,x[25],1,11484)
var cJK=_v()
_(r,cJK)
var hKK=_oz(z,80,e,s,gg)
var oLK=_gd(x[25],hKK,e_,d_)
if(oLK){
var cMK=_1z(z,79,e,s,gg) || {}
var cur_globalf=gg.f
cJK.wxXCkey=3
oLK(cMK,cMK,cJK,gg)
gg.f=cur_globalf
}
else _w(hKK,x[25],1,11553)
var oNK=_v()
_(r,oNK)
var lOK=_oz(z,82,e,s,gg)
var aPK=_gd(x[25],lOK,e_,d_)
if(aPK){
var tQK=_1z(z,81,e,s,gg) || {}
var cur_globalf=gg.f
oNK.wxXCkey=3
aPK(tQK,tQK,oNK,gg)
gg.f=cur_globalf
}
else _w(lOK,x[25],1,12060)
_ic(x[11],e_,x[25],e,s,r,gg);
oPI.wxXCkey=1
oNI.pop()
oNI.pop()
oNI.pop()
oNI.pop()
cOI.pop()
return r
}
e_[x[25]]={f:m13,j:[],i:[],ti:[x[26],x[27],x[16],x[28]],ic:[x[11]]}
d_[x[29]]={}
var m14=function(e,s,r,gg){
var z=gz$gwx_15()
var bSK=_v()
_(r,bSK)
if(_oz(z,0,e,s,gg)){bSK.wxVkey=1
}
bSK.wxXCkey=1
return r
}
e_[x[29]]={f:m14,j:[],i:[],ti:[],ic:[]}
d_[x[30]]={}
d_[x[30]]["cityItem"]=function(e,s,r,gg){
var z=gz$gwx_16()
var b=x[30]+':cityItem'
r.wxVkey=b
gg.f=$gdc(f_["./pages/citys/citys.wxml"],"",1)
if(p_[b]){_wl(b,x[30]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m15=function(e,s,r,gg){
var z=gz$gwx_16()
var xUK=e_[x[30]].j
var oVK=_mz(z,'scroll-view',['scrollIntoView',1,'scrollTop',1,'scrollY',2,'style',3],[],e,s,gg)
var oZK=_n('view')
_rz(z,oZK,'class',5,e,s,gg)
var c1K=_v()
_(oZK,c1K)
if(_oz(z,6,e,s,gg)){c1K.wxVkey=1
var l3K=_v()
_(c1K,l3K)
var a4K=_oz(z,8,e,s,gg)
var t5K=_gd(x[30],a4K,e_,d_)
if(t5K){
var e6K=_1z(z,7,e,s,gg) || {}
var cur_globalf=gg.f
l3K.wxXCkey=3
t5K(e6K,e6K,l3K,gg)
gg.f=cur_globalf
}
else _w(a4K,x[30],1,750)
}
var o2K=_v()
_(oZK,o2K)
if(_oz(z,9,e,s,gg)){o2K.wxVkey=1
}
c1K.wxXCkey=1
o2K.wxXCkey=1
_(oVK,oZK)
var fWK=_v()
_(oVK,fWK)
if(_oz(z,10,e,s,gg)){fWK.wxVkey=1
var b7K=_v()
_(fWK,b7K)
var o8K=function(o0K,x9K,fAL,gg){
var hCL=_v()
_(fAL,hCL)
var oDL=_oz(z,14,o0K,x9K,gg)
var cEL=_gd(x[30],oDL,e_,d_)
if(cEL){
var oFL=_1z(z,13,o0K,x9K,gg) || {}
var cur_globalf=gg.f
hCL.wxXCkey=3
cEL(oFL,oFL,hCL,gg)
gg.f=cur_globalf
}
else _w(oDL,x[30],1,1176)
return fAL
}
b7K.wxXCkey=2
_2z(z,11,o8K,e,s,gg,b7K,'item','index','id')
}
var cXK=_v()
_(oVK,cXK)
if(_oz(z,15,e,s,gg)){cXK.wxVkey=1
var lGL=_v()
_(cXK,lGL)
var aHL=function(eJL,tIL,bKL,gg){
var xML=_v()
_(bKL,xML)
var oNL=_oz(z,19,eJL,tIL,gg)
var fOL=_gd(x[30],oNL,e_,d_)
if(fOL){
var cPL=_1z(z,18,eJL,tIL,gg) || {}
var cur_globalf=gg.f
xML.wxXCkey=3
fOL(cPL,cPL,xML,gg)
gg.f=cur_globalf
}
else _w(oNL,x[30],1,1426)
return bKL
}
lGL.wxXCkey=2
_2z(z,16,aHL,e,s,gg,lGL,'item','index','id')
}
var hYK=_v()
_(oVK,hYK)
if(_oz(z,20,e,s,gg)){hYK.wxVkey=1
var hQL=_v()
_(hYK,hQL)
var oRL=function(oTL,cSL,lUL,gg){
var tWL=_v()
_(lUL,tWL)
var eXL=function(oZL,bYL,x1L,gg){
var f3L=_v()
_(x1L,f3L)
var c4L=_oz(z,28,oZL,bYL,gg)
var h5L=_gd(x[30],c4L,e_,d_)
if(h5L){
var o6L=_1z(z,27,oZL,bYL,gg) || {}
var cur_globalf=gg.f
f3L.wxXCkey=3
h5L(o6L,o6L,f3L,gg)
gg.f=cur_globalf
}
else _w(c4L,x[30],1,1855)
return x1L
}
tWL.wxXCkey=2
_2z(z,25,eXL,oTL,cSL,gg,tWL,'item','index','id')
return lUL
}
hQL.wxXCkey=2
_2z(z,22,oRL,e,s,gg,hQL,'letterInfo','index','letter')
}
fWK.wxXCkey=1
cXK.wxXCkey=1
hYK.wxXCkey=1
_(r,oVK)
_ic(x[11],e_,x[30],e,s,r,gg);
xUK.pop()
return r
}
e_[x[30]]={f:m15,j:[],i:[],ti:[],ic:[x[11]]}
d_[x[31]]={}
var m16=function(e,s,r,gg){
var z=gz$gwx_17()
var o8L=e_[x[31]].j
_ic(x[11],e_,x[31],e,s,r,gg);
o8L.pop()
return r
}
e_[x[31]]={f:m16,j:[],i:[],ti:[],ic:[x[11]]}
d_[x[32]]={}
d_[x[32]]["success"]=function(e,s,r,gg){
var z=gz$gwx_18()
var b=x[32]+':success'
r.wxVkey=b
gg.f=$gdc(f_["./pages/event/turntable/_popBox.wxml"],"",1)
if(p_[b]){_wl(b,x[32]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[32]]["error"]=function(e,s,r,gg){
var z=gz$gwx_18()
var b=x[32]+':error'
r.wxVkey=b
gg.f=$gdc(f_["./pages/event/turntable/_popBox.wxml"],"",1)
if(p_[b]){_wl(b,x[32]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[32]]["rule"]=function(e,s,r,gg){
var z=gz$gwx_18()
var b=x[32]+':rule'
r.wxVkey=b
gg.f=$gdc(f_["./pages/event/turntable/_popBox.wxml"],"",1)
if(p_[b]){_wl(b,x[32]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[32]]["pop"]=function(e,s,r,gg){
var z=gz$gwx_18()
var b=x[32]+':pop'
r.wxVkey=b
gg.f=$gdc(f_["./pages/event/turntable/_popBox.wxml"],"",1)
if(p_[b]){_wl(b,x[32]);return}
p_[b]=true
try{
var oB=_mz(z,'view',['bindtap',4,'catchtouchmove',1,'class',2],[],e,s,gg)
var xC=_v()
_(oB,xC)
var oD=_oz(z,8,e,s,gg)
var fE=_gd(x[32],oD,e_,d_)
if(fE){
var cF=_1z(z,7,e,s,gg) || {}
var cur_globalf=gg.f
xC.wxXCkey=3
fE(cF,cF,xC,gg)
gg.f=cur_globalf
}
else _w(oD,x[32],1,1916)
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m17=function(e,s,r,gg){
var z=gz$gwx_18()
return r
}
e_[x[32]]={f:m17,j:[],i:[],ti:[],ic:[]}
d_[x[33]]={}
var m18=function(e,s,r,gg){
var z=gz$gwx_19()
var tAM=_n('view')
_rz(z,tAM,'class',0,e,s,gg)
var eBM=_v()
_(tAM,eBM)
if(_oz(z,1,e,s,gg)){eBM.wxVkey=1
var bCM=_v()
_(eBM,bCM)
if(_oz(z,2,e,s,gg)){bCM.wxVkey=1
}
bCM.wxXCkey=1
}
var oDM=_n('view')
_rz(z,oDM,'class',3,e,s,gg)
var xEM=_mz(z,'view',['class',4,'style',1],[],e,s,gg)
var fGM=_n('slot')
_rz(z,fGM,'name',6,e,s,gg)
_(xEM,fGM)
var oFM=_v()
_(xEM,oFM)
if(_oz(z,7,e,s,gg)){oFM.wxVkey=1
}
else{oFM.wxVkey=2
var cHM=_n('slot')
_rz(z,cHM,'name',8,e,s,gg)
_(oFM,cHM)
}
oFM.wxXCkey=1
_(oDM,xEM)
var hIM=_n('slot')
_rz(z,hIM,'name',9,e,s,gg)
_(oDM,hIM)
_(tAM,oDM)
eBM.wxXCkey=1
_(r,tAM)
return r
}
e_[x[33]]={f:m18,j:[],i:[],ti:[],ic:[]}
d_[x[34]]={}
var m19=function(e,s,r,gg){
var z=gz$gwx_20()
var cKM=_v()
_(r,cKM)
if(_oz(z,0,e,s,gg)){cKM.wxVkey=1
var oLM=_n('view')
_rz(z,oLM,'class',1,e,s,gg)
var aNM=_n('slot')
_(oLM,aNM)
var lMM=_v()
_(oLM,lMM)
if(_oz(z,2,e,s,gg)){lMM.wxVkey=1
}
lMM.wxXCkey=1
_(cKM,oLM)
}
cKM.wxXCkey=1
return r
}
e_[x[34]]={f:m19,j:[],i:[],ti:[],ic:[]}
d_[x[35]]={}
var m20=function(e,s,r,gg){
var z=gz$gwx_21()
return r
}
e_[x[35]]={f:m20,j:[],i:[],ti:[],ic:[]}
d_[x[36]]={}
var m21=function(e,s,r,gg){
var z=gz$gwx_22()
return r
}
e_[x[36]]={f:m21,j:[],i:[],ti:[],ic:[]}
d_[x[37]]={}
var m22=function(e,s,r,gg){
var z=gz$gwx_23()
return r
}
e_[x[37]]={f:m22,j:[],i:[],ti:[],ic:[]}
d_[x[38]]={}
d_[x[38]]["comment"]=function(e,s,r,gg){
var z=gz$gwx_24()
var b=x[38]+':comment'
r.wxVkey=b
gg.f=$gdc(f_["./pages/movie/_comment.wxml"],"",1)
if(p_[b]){_wl(b,x[38]);return}
p_[b]=true
try{
var oB=_mz(z,'view',['catchtap',1,'class',1,'data-cid',2,'data-type',3,'data-val_bid',4,'data-val_lab',5],[],e,s,gg)
var xC=_v()
_(oB,xC)
if(_oz(z,7,e,s,gg)){xC.wxVkey=1
}
var fE=_n('view')
_rz(z,fE,'class',8,e,s,gg)
var hG=_n('view')
_rz(z,hG,'class',9,e,s,gg)
var oH=_v()
_(hG,oH)
if(_oz(z,10,e,s,gg)){oH.wxVkey=1
}
var cI=_v()
_(hG,cI)
if(_oz(z,11,e,s,gg)){cI.wxVkey=1
}
oH.wxXCkey=1
cI.wxXCkey=1
_(fE,hG)
var cF=_v()
_(fE,cF)
if(_oz(z,12,e,s,gg)){cF.wxVkey=1
}
cF.wxXCkey=1
_(oB,fE)
var oD=_v()
_(oB,oD)
if(_oz(z,13,e,s,gg)){oD.wxVkey=1
var oJ=_mz(z,'view',['catchtap',14,'class',1,'data-cid',2,'data-id',3,'data-index',4,'data-likedbycurrentuser',5,'data-type',6,'data-val_bid',7,'data-val_lab',8],[],e,s,gg)
var lK=_v()
_(oJ,lK)
if(_oz(z,23,e,s,gg)){lK.wxVkey=1
}
lK.wxXCkey=1
_(oD,oJ)
}
xC.wxXCkey=1
oD.wxXCkey=1
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m23=function(e,s,r,gg){
var z=gz$gwx_24()
return r
}
e_[x[38]]={f:m23,j:[],i:[],ti:[],ic:[]}
d_[x[39]]={}
d_[x[39]]["discuss"]=function(e,s,r,gg){
var z=gz$gwx_25()
var b=x[39]+':discuss'
r.wxVkey=b
gg.f=$gdc(f_["./pages/movie/_discuss.wxml"],"",1)
if(p_[b]){_wl(b,x[39]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m24=function(e,s,r,gg){
var z=gz$gwx_25()
return r
}
e_[x[39]]={f:m24,j:[],i:[],ti:[],ic:[]}
d_[x[40]]={}
d_[x[40]]["movie"]=function(e,s,r,gg){
var z=gz$gwx_26()
var b=x[40]+':movie'
r.wxVkey=b
gg.f=$gdc(f_["./pages/movie/_movie.wxml"],"",1)
if(p_[b]){_wl(b,x[40]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
}
var xC=_mz(z,'view',['catchtap',2,'class',1,'data-url',2,'data-val_bid',3,'data-val_lab',4,'data-view_bid',5,'data-view_lab',6,'openType',7],[],e,s,gg)
var oD=_v()
_(xC,oD)
if(_oz(z,10,e,s,gg)){oD.wxVkey=1
}
var fE=_n('view')
_rz(z,fE,'class',11,e,s,gg)
var cF=_n('view')
_rz(z,cF,'class',12,e,s,gg)
var hG=_v()
_(cF,hG)
if(_oz(z,13,e,s,gg)){hG.wxVkey=1
}
var oH=_v()
_(cF,oH)
if(_oz(z,14,e,s,gg)){oH.wxVkey=1
}
var cI=_v()
_(cF,cI)
if(_oz(z,15,e,s,gg)){cI.wxVkey=1
}
hG.wxXCkey=1
oH.wxXCkey=1
cI.wxXCkey=1
_(fE,cF)
var oJ=_n('view')
_rz(z,oJ,'class',16,e,s,gg)
var lK=_v()
_(oJ,lK)
if(_oz(z,17,e,s,gg)){lK.wxVkey=1
var aL=_n('view')
_rz(z,aL,'class',18,e,s,gg)
var tM=_v()
_(aL,tM)
if(_oz(z,19,e,s,gg)){tM.wxVkey=1
}
var eN=_v()
_(aL,eN)
if(_oz(z,20,e,s,gg)){eN.wxVkey=1
}
tM.wxXCkey=1
eN.wxXCkey=1
_(lK,aL)
}
var bO=_n('view')
_rz(z,bO,'class',21,e,s,gg)
var oP=_v()
_(bO,oP)
if(_oz(z,22,e,s,gg)){oP.wxVkey=1
}
var xQ=_v()
_(bO,xQ)
if(_oz(z,23,e,s,gg)){xQ.wxVkey=1
}
oP.wxXCkey=1
xQ.wxXCkey=1
_(oJ,bO)
lK.wxXCkey=1
_(fE,oJ)
_(xC,fE)
oD.wxXCkey=1
_(r,xC)
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m25=function(e,s,r,gg){
var z=gz$gwx_26()
return r
}
e_[x[40]]={f:m25,j:[],i:[],ti:[],ic:[]}
d_[x[41]]={}
d_[x[41]]["OrderPrompt"]=function(e,s,r,gg){
var z=gz$gwx_27()
var b=x[41]+':OrderPrompt'
r.wxVkey=b
gg.f=$gdc(f_["./pages/movie/_order-prompt.wxml"],"",1)
if(p_[b]){_wl(b,x[41]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
var xC=_n('view')
_rz(z,xC,'class',2,e,s,gg)
var oD=_v()
_(xC,oD)
if(_oz(z,3,e,s,gg)){oD.wxVkey=1
}
var fE=_v()
_(xC,fE)
var cF=function(oH,hG,cI,gg){
var lK=_mz(z,'view',['bindtap',5,'class',1,'data-url',2],[],oH,hG,gg)
var tM=_n('view')
_rz(z,tM,'class',8,oH,hG,gg)
var eN=_v()
_(tM,eN)
if(_oz(z,9,oH,hG,gg)){eN.wxVkey=1
}
var bO=_v()
_(tM,bO)
if(_oz(z,10,oH,hG,gg)){bO.wxVkey=1
}
eN.wxXCkey=1
bO.wxXCkey=1
_(lK,tM)
var aL=_v()
_(lK,aL)
if(_oz(z,11,oH,hG,gg)){aL.wxVkey=1
}
aL.wxXCkey=1
_(cI,lK)
return cI
}
fE.wxXCkey=2
_2z(z,4,cF,e,s,gg,fE,'item','index','')
oD.wxXCkey=1
_(oB,xC)
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m26=function(e,s,r,gg){
var z=gz$gwx_27()
return r
}
e_[x[41]]={f:m26,j:[],i:[],ti:[],ic:[]}
d_[x[42]]={}
var m27=function(e,s,r,gg){
var z=gz$gwx_28()
var hWM=e_[x[42]].i
var oXM=e_[x[42]].j
_ai(hWM,x[43],e_,x[42],1,1)
_ai(hWM,x[44],e_,x[42],1,30)
var oZM=_n('view')
_rz(z,oZM,'class',0,e,s,gg)
var l1M=_v()
_(oZM,l1M)
if(_oz(z,1,e,s,gg)){l1M.wxVkey=1
}
var a2M=_v()
_(oZM,a2M)
if(_oz(z,2,e,s,gg)){a2M.wxVkey=1
}
var t3M=_v()
_(oZM,t3M)
if(_oz(z,3,e,s,gg)){t3M.wxVkey=1
}
var e4M=_v()
_(oZM,e4M)
if(_oz(z,4,e,s,gg)){e4M.wxVkey=1
var c0M=_v()
_(e4M,c0M)
var hAN=_oz(z,6,e,s,gg)
var oBN=_gd(x[42],hAN,e_,d_)
if(oBN){
var cCN=_1z(z,5,e,s,gg) || {}
var cur_globalf=gg.f
c0M.wxXCkey=3
oBN(cCN,cCN,c0M,gg)
gg.f=cur_globalf
}
else _w(hAN,x[42],1,1198)
}
var b5M=_v()
_(oZM,b5M)
if(_oz(z,7,e,s,gg)){b5M.wxVkey=1
var oDN=_v()
_(b5M,oDN)
var lEN=function(tGN,aFN,eHN,gg){
var oJN=_v()
_(eHN,oJN)
var xKN=_oz(z,12,tGN,aFN,gg)
var oLN=_gd(x[42],xKN,e_,d_)
if(oLN){
var fMN=_1z(z,11,tGN,aFN,gg) || {}
var cur_globalf=gg.f
oJN.wxXCkey=3
oLN(fMN,fMN,oJN,gg)
gg.f=cur_globalf
}
else _w(xKN,x[42],1,1633)
return eHN
}
oDN.wxXCkey=2
_2z(z,9,lEN,e,s,gg,oDN,'comment','index','{{ index }}')
}
var o6M=_v()
_(oZM,o6M)
if(_oz(z,13,e,s,gg)){o6M.wxVkey=1
var cNN=_v()
_(o6M,cNN)
var hON=function(cQN,oPN,oRN,gg){
var aTN=_v()
_(oRN,aTN)
var tUN=_oz(z,18,cQN,oPN,gg)
var eVN=_gd(x[42],tUN,e_,d_)
if(eVN){
var bWN=_1z(z,17,cQN,oPN,gg) || {}
var cur_globalf=gg.f
aTN.wxXCkey=3
eVN(bWN,bWN,aTN,gg)
gg.f=cur_globalf
}
else _w(tUN,x[42],1,2040)
return oRN
}
cNN.wxXCkey=2
_2z(z,15,hON,e,s,gg,cNN,'comment','index','{{ index }}')
}
var x7M=_v()
_(oZM,x7M)
if(_oz(z,19,e,s,gg)){x7M.wxVkey=1
}
var o8M=_v()
_(oZM,o8M)
if(_oz(z,20,e,s,gg)){o8M.wxVkey=1
}
var f9M=_v()
_(oZM,f9M)
if(_oz(z,21,e,s,gg)){f9M.wxVkey=1
}
l1M.wxXCkey=1
a2M.wxXCkey=1
t3M.wxXCkey=1
e4M.wxXCkey=1
b5M.wxXCkey=1
o6M.wxXCkey=1
x7M.wxXCkey=1
o8M.wxXCkey=1
f9M.wxXCkey=1
_(r,oZM)
var cYM=_v()
_(r,cYM)
if(_oz(z,22,e,s,gg)){cYM.wxVkey=1
var oXN=_v()
_(cYM,oXN)
var xYN=_oz(z,23,e,s,gg)
var oZN=_gd(x[42],xYN,e_,d_)
if(oZN){
var f1N={}
var cur_globalf=gg.f
oXN.wxXCkey=3
oZN(f1N,f1N,oXN,gg)
gg.f=cur_globalf
}
else _w(xYN,x[42],1,2817)
}
_ic(x[11],e_,x[42],e,s,r,gg);
cYM.wxXCkey=1
hWM.pop()
hWM.pop()
oXM.pop()
return r
}
e_[x[42]]={f:m27,j:[],i:[],ti:[x[43],x[44]],ic:[x[11]]}
d_[x[45]]={}
var m28=function(e,s,r,gg){
var z=gz$gwx_29()
var h3N=e_[x[45]].i
var o4N=e_[x[45]].j
_ai(h3N,x[46],e_,x[45],1,1)
_ai(h3N,x[20],e_,x[45],1,28)
_ai(h3N,x[47],e_,x[45],1,74)
_ai(h3N,x[48],e_,x[45],1,109)
_ai(h3N,x[49],e_,x[45],1,147)
_ai(h3N,x[50],e_,x[45],1,215)
_ai(h3N,x[51],e_,x[45],1,259)
var bAO=_n('view')
_rz(z,bAO,'style',0,e,s,gg)
var oBO=_v()
_(bAO,oBO)
if(_oz(z,1,e,s,gg)){oBO.wxVkey=1
}
var fEO=_v()
_(bAO,fEO)
var cFO=_oz(z,3,e,s,gg)
var hGO=_gd(x[45],cFO,e_,d_)
if(hGO){
var oHO=_1z(z,2,e,s,gg) || {}
var cur_globalf=gg.f
fEO.wxXCkey=3
hGO(oHO,oHO,fEO,gg)
gg.f=cur_globalf
}
else _w(cFO,x[45],1,863)
var xCO=_v()
_(bAO,xCO)
if(_oz(z,4,e,s,gg)){xCO.wxVkey=1
var cIO=_v()
_(xCO,cIO)
var oJO=_oz(z,6,e,s,gg)
var lKO=_gd(x[45],oJO,e_,d_)
if(lKO){
var aLO=_1z(z,5,e,s,gg) || {}
var cur_globalf=gg.f
cIO.wxXCkey=3
lKO(aLO,aLO,cIO,gg)
gg.f=cur_globalf
}
else _w(oJO,x[45],1,1058)
}
var tMO=_v()
_(bAO,tMO)
var eNO=_oz(z,8,e,s,gg)
var bOO=_gd(x[45],eNO,e_,d_)
if(bOO){
var oPO=_1z(z,7,e,s,gg) || {}
var cur_globalf=gg.f
tMO.wxXCkey=3
bOO(oPO,oPO,tMO,gg)
gg.f=cur_globalf
}
else _w(eNO,x[45],1,1109)
var oDO=_v()
_(bAO,oDO)
if(_oz(z,9,e,s,gg)){oDO.wxVkey=1
var xQO=_v()
_(oDO,xQO)
var oRO=_oz(z,11,e,s,gg)
var fSO=_gd(x[45],oRO,e_,d_)
if(fSO){
var cTO=_1z(z,10,e,s,gg) || {}
var cur_globalf=gg.f
xQO.wxXCkey=3
fSO(cTO,cTO,xQO,gg)
gg.f=cur_globalf
}
else _w(oRO,x[45],1,1643)
}
var hUO=_v()
_(bAO,hUO)
var oVO=_oz(z,13,e,s,gg)
var cWO=_gd(x[45],oVO,e_,d_)
if(cWO){
var oXO=_1z(z,12,e,s,gg) || {}
var cur_globalf=gg.f
hUO.wxXCkey=3
cWO(oXO,oXO,hUO,gg)
gg.f=cur_globalf
}
else _w(oVO,x[45],1,1759)
var lYO=_n('view')
_rz(z,lYO,'hidden',14,e,s,gg)
var t1O=_n('view')
_rz(z,t1O,'class',15,e,s,gg)
var b3O=_v()
_(t1O,b3O)
var o4O=function(o6O,x5O,f7O,gg){
var h9O=_v()
_(f7O,h9O)
var o0O=_oz(z,20,o6O,x5O,gg)
var cAP=_gd(x[45],o0O,e_,d_)
if(cAP){
var oBP=_1z(z,19,o6O,x5O,gg) || {}
var cur_globalf=gg.f
h9O.wxXCkey=3
cAP(oBP,oBP,h9O,gg)
gg.f=cur_globalf
}
else _w(o0O,x[45],1,2038)
return f7O
}
b3O.wxXCkey=2
_2z(z,17,o4O,e,s,gg,b3O,'movie','index','{{index}}')
var e2O=_v()
_(t1O,e2O)
if(_oz(z,21,e,s,gg)){e2O.wxVkey=1
}
e2O.wxXCkey=1
_(lYO,t1O)
var lCP=_v()
_(lYO,lCP)
var aDP=_oz(z,23,e,s,gg)
var tEP=_gd(x[45],aDP,e_,d_)
if(tEP){
var eFP=_1z(z,22,e,s,gg) || {}
var cur_globalf=gg.f
lCP.wxXCkey=3
tEP(eFP,eFP,lCP,gg)
gg.f=cur_globalf
}
else _w(aDP,x[45],1,2389)
var aZO=_v()
_(lYO,aZO)
if(_oz(z,24,e,s,gg)){aZO.wxVkey=1
}
aZO.wxXCkey=1
_(bAO,lYO)
var bGP=_n('view')
_rz(z,bGP,'hidden',25,e,s,gg)
var fKP=_v()
_(bGP,fKP)
var cLP=_oz(z,27,e,s,gg)
var hMP=_gd(x[45],cLP,e_,d_)
if(hMP){
var oNP=_1z(z,26,e,s,gg) || {}
var cur_globalf=gg.f
fKP.wxXCkey=3
hMP(oNP,oNP,fKP,gg)
gg.f=cur_globalf
}
else _w(cLP,x[45],1,2820)
var oHP=_v()
_(bGP,oHP)
if(_oz(z,28,e,s,gg)){oHP.wxVkey=1
}
var xIP=_v()
_(bGP,xIP)
if(_oz(z,29,e,s,gg)){xIP.wxVkey=1
var cOP=_v()
_(xIP,cOP)
var oPP=function(aRP,lQP,tSP,gg){
var bUP=_v()
_(tSP,bUP)
var oVP=function(oXP,xWP,fYP,gg){
var h1P=_v()
_(fYP,h1P)
var o2P=_oz(z,37,oXP,xWP,gg)
var c3P=_gd(x[45],o2P,e_,d_)
if(c3P){
var o4P=_1z(z,36,oXP,xWP,gg) || {}
var cur_globalf=gg.f
h1P.wxXCkey=3
c3P(o4P,o4P,h1P,gg)
gg.f=cur_globalf
}
else _w(o2P,x[45],1,4133)
return fYP
}
bUP.wxXCkey=2
_2z(z,34,oVP,aRP,lQP,gg,bUP,'movie','i','movie-{{i}}')
return tSP
}
cOP.wxXCkey=2
_2z(z,30,oPP,e,s,gg,cOP,'item','index','coming-{{ index }}')
}
var oJP=_v()
_(bGP,oJP)
if(_oz(z,38,e,s,gg)){oJP.wxVkey=1
}
oHP.wxXCkey=1
xIP.wxXCkey=1
oJP.wxXCkey=1
_(bAO,bGP)
oBO.wxXCkey=1
xCO.wxXCkey=1
oDO.wxXCkey=1
_(r,bAO)
var c5N=_v()
_(r,c5N)
if(_oz(z,39,e,s,gg)){c5N.wxVkey=1
}
var o6N=_v()
_(r,o6N)
if(_oz(z,40,e,s,gg)){o6N.wxVkey=1
var l5P=_mz(z,'dialog',['customClass',41,'id',1],[],e,s,gg)
_(o6N,l5P)
}
var a6P=_v()
_(r,a6P)
var t7P=_oz(z,44,e,s,gg)
var e8P=_gd(x[45],t7P,e_,d_)
if(e8P){
var b9P=_1z(z,43,e,s,gg) || {}
var cur_globalf=gg.f
a6P.wxXCkey=3
e8P(b9P,b9P,a6P,gg)
gg.f=cur_globalf
}
else _w(t7P,x[45],1,5161)
var l7N=_v()
_(r,l7N)
if(_oz(z,45,e,s,gg)){l7N.wxVkey=1
}
var a8N=_v()
_(r,a8N)
if(_oz(z,46,e,s,gg)){a8N.wxVkey=1
}
var t9N=_v()
_(r,t9N)
if(_oz(z,47,e,s,gg)){t9N.wxVkey=1
}
var e0N=_v()
_(r,e0N)
if(_oz(z,48,e,s,gg)){e0N.wxVkey=1
}
var o0P=_v()
_(r,o0P)
var xAQ=_oz(z,50,e,s,gg)
var oBQ=_gd(x[45],xAQ,e_,d_)
if(oBQ){
var fCQ=_1z(z,49,e,s,gg) || {}
var cur_globalf=gg.f
o0P.wxXCkey=3
oBQ(fCQ,fCQ,o0P,gg)
gg.f=cur_globalf
}
else _w(xAQ,x[45],1,7007)
_ic(x[11],e_,x[45],e,s,r,gg);
c5N.wxXCkey=1
o6N.wxXCkey=1
o6N.wxXCkey=3
l7N.wxXCkey=1
a8N.wxXCkey=1
t9N.wxXCkey=1
e0N.wxXCkey=1
h3N.pop()
h3N.pop()
h3N.pop()
h3N.pop()
h3N.pop()
h3N.pop()
h3N.pop()
o4N.pop()
return r
}
e_[x[45]]={f:m28,j:[],i:[],ti:[x[46],x[20],x[47],x[48],x[49],x[50],x[51]],ic:[x[11]]}
d_[x[52]]={}
var m29=function(e,s,r,gg){
var z=gz$gwx_30()
var hEQ=e_[x[52]].i
var oFQ=e_[x[52]].j
_ai(hEQ,x[43],e_,x[52],1,1)
_ai(hEQ,x[53],e_,x[52],1,30)
_ai(hEQ,x[47],e_,x[52],1,64)
var cGQ=_v()
_(r,cGQ)
if(_oz(z,0,e,s,gg)){cGQ.wxVkey=1
var lIQ=_mz(z,'view',['bindtap',1,'class',1,'id',2],[],e,s,gg)
var aJQ=_v()
_(lIQ,aJQ)
if(_oz(z,4,e,s,gg)){aJQ.wxVkey=1
}
aJQ.wxXCkey=1
_(cGQ,lIQ)
}
var oHQ=_v()
_(r,oHQ)
if(_oz(z,5,e,s,gg)){oHQ.wxVkey=1
var tKQ=_n('view')
_rz(z,tKQ,'class',6,e,s,gg)
var tYQ=_v()
_(tKQ,tYQ)
var eZQ=_oz(z,8,e,s,gg)
var b1Q=_gd(x[52],eZQ,e_,d_)
if(b1Q){
var o2Q=_1z(z,7,e,s,gg) || {}
var cur_globalf=gg.f
tYQ.wxXCkey=3
b1Q(o2Q,o2Q,tYQ,gg)
gg.f=cur_globalf
}
else _w(eZQ,x[52],1,693)
var x3Q=_n('view')
_rz(z,x3Q,'class',9,e,s,gg)
var o4Q=_mz(z,'image',['bindload',10,'bindtap',1,'class',2,'src',3],[],e,s,gg)
var f5Q=_v()
_(o4Q,f5Q)
if(_oz(z,14,e,s,gg)){f5Q.wxVkey=1
}
f5Q.wxXCkey=1
_(x3Q,o4Q)
var c6Q=_n('view')
_rz(z,c6Q,'class',15,e,s,gg)
var h7Q=_v()
_(c6Q,h7Q)
if(_oz(z,16,e,s,gg)){h7Q.wxVkey=1
}
var o8Q=_v()
_(c6Q,o8Q)
if(_oz(z,17,e,s,gg)){o8Q.wxVkey=1
}
h7Q.wxXCkey=1
o8Q.wxXCkey=1
_(x3Q,c6Q)
_(tKQ,x3Q)
var eLQ=_v()
_(tKQ,eLQ)
if(_oz(z,18,e,s,gg)){eLQ.wxVkey=1
var c9Q=_v()
_(eLQ,c9Q)
var o0Q=function(aBR,lAR,tCR,gg){
var bER=_mz(z,'view',['bindtap',22,'class',1],[],aBR,lAR,gg)
var oFR=_v()
_(bER,oFR)
if(_oz(z,24,aBR,lAR,gg)){oFR.wxVkey=1
}
var xGR=_v()
_(bER,xGR)
if(_oz(z,25,aBR,lAR,gg)){xGR.wxVkey=1
}
oFR.wxXCkey=1
xGR.wxXCkey=1
_(tCR,bER)
return tCR
}
c9Q.wxXCkey=2
_2z(z,20,o0Q,e,s,gg,c9Q,'tip','index','{{ index }}')
}
var bMQ=_v()
_(tKQ,bMQ)
if(_oz(z,26,e,s,gg)){bMQ.wxVkey=1
}
var oNQ=_v()
_(tKQ,oNQ)
if(_oz(z,27,e,s,gg)){oNQ.wxVkey=1
}
var xOQ=_v()
_(tKQ,xOQ)
if(_oz(z,28,e,s,gg)){xOQ.wxVkey=1
}
var oPQ=_v()
_(tKQ,oPQ)
if(_oz(z,29,e,s,gg)){oPQ.wxVkey=1
}
var fQQ=_v()
_(tKQ,fQQ)
if(_oz(z,30,e,s,gg)){fQQ.wxVkey=1
}
var cRQ=_v()
_(tKQ,cRQ)
if(_oz(z,31,e,s,gg)){cRQ.wxVkey=1
}
var hSQ=_v()
_(tKQ,hSQ)
if(_oz(z,32,e,s,gg)){hSQ.wxVkey=1
var oHR=_mz(z,'scroll-view',['bindscroll',33,'class',1,'scrollX',2],[],e,s,gg)
var fIR=_v()
_(oHR,fIR)
if(_oz(z,36,e,s,gg)){fIR.wxVkey=1
}
fIR.wxXCkey=1
_(hSQ,oHR)
}
var cJR=_n('view')
_rz(z,cJR,'class',37,e,s,gg)
var hKR=_v()
_(cJR,hKR)
if(_oz(z,38,e,s,gg)){hKR.wxVkey=1
}
var oLR=_v()
_(cJR,oLR)
if(_oz(z,39,e,s,gg)){oLR.wxVkey=1
}
var cMR=_v()
_(cJR,cMR)
if(_oz(z,40,e,s,gg)){cMR.wxVkey=1
var lOR=_v()
_(cMR,lOR)
var aPR=_oz(z,42,e,s,gg)
var tQR=_gd(x[52],aPR,e_,d_)
if(tQR){
var eRR=_1z(z,41,e,s,gg) || {}
var cur_globalf=gg.f
lOR.wxXCkey=3
tQR(eRR,eRR,lOR,gg)
gg.f=cur_globalf
}
else _w(aPR,x[52],1,9774)
}
var oNR=_v()
_(cJR,oNR)
if(_oz(z,43,e,s,gg)){oNR.wxVkey=1
var bSR=_v()
_(oNR,bSR)
var oTR=function(oVR,xUR,fWR,gg){
var hYR=_v()
_(fWR,hYR)
var oZR=_oz(z,48,oVR,xUR,gg)
var c1R=_gd(x[52],oZR,e_,d_)
if(c1R){
var o2R=_1z(z,47,oVR,xUR,gg) || {}
var cur_globalf=gg.f
hYR.wxXCkey=3
c1R(o2R,o2R,hYR,gg)
gg.f=cur_globalf
}
else _w(oZR,x[52],1,10174)
return fWR
}
bSR.wxXCkey=2
_2z(z,45,oTR,e,s,gg,bSR,'comment','index','{{ index }}')
}
hKR.wxXCkey=1
oLR.wxXCkey=1
cMR.wxXCkey=1
oNR.wxXCkey=1
_(tKQ,cJR)
var oTQ=_v()
_(tKQ,oTQ)
if(_oz(z,49,e,s,gg)){oTQ.wxVkey=1
}
var l3R=_v()
_(tKQ,l3R)
var a4R=_oz(z,51,e,s,gg)
var t5R=_gd(x[52],a4R,e_,d_)
if(t5R){
var e6R=_1z(z,50,e,s,gg) || {}
var cur_globalf=gg.f
l3R.wxXCkey=3
t5R(e6R,e6R,l3R,gg)
gg.f=cur_globalf
}
else _w(a4R,x[52],1,12004)
var cUQ=_v()
_(tKQ,cUQ)
if(_oz(z,52,e,s,gg)){cUQ.wxVkey=1
var b7R=_n('view')
_rz(z,b7R,'class',53,e,s,gg)
var x9R=_v()
_(b7R,x9R)
var o0R=function(cBS,fAS,hCS,gg){
var cES=_v()
_(hCS,cES)
var oFS=_oz(z,58,cBS,fAS,gg)
var lGS=_gd(x[52],oFS,e_,d_)
if(lGS){
var aHS=_1z(z,57,cBS,fAS,gg) || {}
var cur_globalf=gg.f
cES.wxXCkey=3
lGS(aHS,aHS,cES,gg)
gg.f=cur_globalf
}
else _w(oFS,x[52],1,12298)
return hCS
}
x9R.wxXCkey=2
_2z(z,55,o0R,e,s,gg,x9R,'comment','index','{{ index }}')
var o8R=_v()
_(b7R,o8R)
if(_oz(z,59,e,s,gg)){o8R.wxVkey=1
}
o8R.wxXCkey=1
_(cUQ,b7R)
}
var oVQ=_v()
_(tKQ,oVQ)
if(_oz(z,60,e,s,gg)){oVQ.wxVkey=1
}
var tIS=_mz(z,'form',['bindsubmit',61,'data-btn_login',1,'data-url',2,'reportSubmit',3],[],e,s,gg)
var eJS=_v()
_(tIS,eJS)
if(_oz(z,65,e,s,gg)){eJS.wxVkey=1
}
eJS.wxXCkey=1
_(tKQ,tIS)
var lWQ=_v()
_(tKQ,lWQ)
if(_oz(z,66,e,s,gg)){lWQ.wxVkey=1
var bKS=_v()
_(lWQ,bKS)
if(_oz(z,67,e,s,gg)){bKS.wxVkey=1
}
bKS.wxXCkey=1
}
var aXQ=_v()
_(tKQ,aXQ)
if(_oz(z,68,e,s,gg)){aXQ.wxVkey=1
}
eLQ.wxXCkey=1
bMQ.wxXCkey=1
oNQ.wxXCkey=1
xOQ.wxXCkey=1
oPQ.wxXCkey=1
fQQ.wxXCkey=1
cRQ.wxXCkey=1
hSQ.wxXCkey=1
oTQ.wxXCkey=1
cUQ.wxXCkey=1
oVQ.wxXCkey=1
lWQ.wxXCkey=1
aXQ.wxXCkey=1
_(oHQ,tKQ)
}
_ic(x[11],e_,x[52],e,s,r,gg);
cGQ.wxXCkey=1
oHQ.wxXCkey=1
hEQ.pop()
hEQ.pop()
hEQ.pop()
oFQ.pop()
return r
}
e_[x[52]]={f:m29,j:[],i:[],ti:[x[43],x[53],x[47]],ic:[x[11]]}
d_[x[54]]={}
var m30=function(e,s,r,gg){
var z=gz$gwx_31()
var xMS=e_[x[54]].j
var oNS=_v()
_(r,oNS)
if(_oz(z,0,e,s,gg)){oNS.wxVkey=1
}
_ic(x[11],e_,x[54],e,s,r,gg);
oNS.wxXCkey=1
xMS.pop()
return r
}
e_[x[54]]={f:m30,j:[],i:[],ti:[],ic:[x[11]]}
d_[x[55]]={}
var m31=function(e,s,r,gg){
var z=gz$gwx_32()
var cPS=e_[x[55]].j
var hQS=_v()
_(r,hQS)
if(_oz(z,0,e,s,gg)){hQS.wxVkey=1
var oRS=_mz(z,'scroll-view',['scrollY',-1,'style',1],[],e,s,gg)
var cSS=_mz(z,'view',['catchtap',2,'class',1,'data-url',2,'data-val_bid',3,'data-val_lab',4],[],e,s,gg)
var oTS=_v()
_(cSS,oTS)
if(_oz(z,7,e,s,gg)){oTS.wxVkey=1
}
oTS.wxXCkey=1
_(oRS,cSS)
var lUS=_v()
_(oRS,lUS)
var aVS=function(eXS,tWS,bYS,gg){
var x1S=_mz(z,'view',['bindtap',10,'class',1,'data-index',2,'data-val_bid',3,'data-val_lab',4],[],eXS,tWS,gg)
var o2S=_v()
_(x1S,o2S)
if(_oz(z,15,eXS,tWS,gg)){o2S.wxVkey=1
}
var f3S=_v()
_(x1S,f3S)
if(_oz(z,16,eXS,tWS,gg)){f3S.wxVkey=1
}
o2S.wxXCkey=1
f3S.wxXCkey=1
_(bYS,x1S)
return bYS
}
lUS.wxXCkey=2
_2z(z,8,aVS,e,s,gg,lUS,'item','index','previews')
_(hQS,oRS)
}
_ic(x[11],e_,x[55],e,s,r,gg);
hQS.wxXCkey=1
cPS.pop()
return r
}
e_[x[55]]={f:m31,j:[],i:[],ti:[],ic:[x[11]]}
d_[x[56]]={}
var m32=function(e,s,r,gg){
var z=gz$gwx_33()
var h5S=e_[x[56]].j
var o6S=_n('view')
_rz(z,o6S,'class',0,e,s,gg)
var c7S=_v()
_(o6S,c7S)
if(_oz(z,1,e,s,gg)){c7S.wxVkey=1
}
var o8S=_v()
_(o6S,o8S)
if(_oz(z,2,e,s,gg)){o8S.wxVkey=1
}
c7S.wxXCkey=1
o8S.wxXCkey=1
_(r,o6S)
var l9S=_mz(z,'view',['class',3,'hidden',1],[],e,s,gg)
var a0S=_v()
_(l9S,a0S)
if(_oz(z,5,e,s,gg)){a0S.wxVkey=1
var tAT=_v()
_(a0S,tAT)
var eBT=function(oDT,bCT,xET,gg){
var fGT=_v()
_(xET,fGT)
if(_oz(z,8,oDT,bCT,gg)){fGT.wxVkey=1
}
fGT.wxXCkey=1
return xET
}
tAT.wxXCkey=2
_2z(z,6,eBT,e,s,gg,tAT,'item','index','index')
}
else if(_oz(z,9,e,s,gg)){a0S.wxVkey=2
}
a0S.wxXCkey=1
_(r,l9S)
_ic(x[11],e_,x[56],e,s,r,gg);
h5S.pop()
return r
}
e_[x[56]]={f:m32,j:[],i:[],ti:[],ic:[x[11]]}
d_[x[57]]={}
var m33=function(e,s,r,gg){
var z=gz$gwx_34()
var hIT=e_[x[57]].j
_ic(x[11],e_,x[57],e,s,r,gg);
hIT.pop()
return r
}
e_[x[57]]={f:m33,j:[],i:[],ti:[],ic:[x[11]]}
d_[x[58]]={}
d_[x[58]]["movieItem"]=function(e,s,r,gg){
var z=gz$gwx_35()
var b=x[58]+':movieItem'
r.wxVkey=b
gg.f=$gdc(f_["./pages/redpacket/_movie2.wxml"],"",1)
if(p_[b]){_wl(b,x[58]);return}
p_[b]=true
try{
var oB=_mz(z,'view',['bindtap',1,'class',1,'data-movieid',2,'data-movienm',3,'data-selected',4],[],e,s,gg)
var xC=_n('view')
_rz(z,xC,'class',6,e,s,gg)
var oD=_v()
_(xC,oD)
if(_oz(z,7,e,s,gg)){oD.wxVkey=1
}
var fE=_v()
_(xC,fE)
if(_oz(z,8,e,s,gg)){fE.wxVkey=1
}
oD.wxXCkey=1
fE.wxXCkey=1
_(oB,xC)
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m34=function(e,s,r,gg){
var z=gz$gwx_35()
return r
}
e_[x[58]]={f:m34,j:[],i:[],ti:[],ic:[]}
d_[x[59]]={}
d_[x[59]]["redpacket"]=function(e,s,r,gg){
var z=gz$gwx_36()
var b=x[59]+':redpacket'
r.wxVkey=b
gg.f=$gdc(f_["./pages/redpacket/_redpacket.wxml"],"",1)
if(p_[b]){_wl(b,x[59]);return}
p_[b]=true
try{
var oB=_n('view')
_rz(z,oB,'class',1,e,s,gg)
var xC=_v()
_(oB,xC)
if(_oz(z,2,e,s,gg)){xC.wxVkey=1
}
var oD=_v()
_(oB,oD)
if(_oz(z,3,e,s,gg)){oD.wxVkey=1
var cF=_n('view')
var hG=_v()
_(cF,hG)
if(_oz(z,4,e,s,gg)){hG.wxVkey=1
}
var oH=_v()
_(cF,oH)
if(_oz(z,5,e,s,gg)){oH.wxVkey=1
}
var cI=_v()
_(cF,cI)
if(_oz(z,6,e,s,gg)){cI.wxVkey=1
}
hG.wxXCkey=1
oH.wxXCkey=1
cI.wxXCkey=1
_(oD,cF)
}
var fE=_v()
_(oB,fE)
if(_oz(z,7,e,s,gg)){fE.wxVkey=1
}
xC.wxXCkey=1
oD.wxXCkey=1
fE.wxXCkey=1
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m35=function(e,s,r,gg){
var z=gz$gwx_36()
return r
}
e_[x[59]]={f:m35,j:[],i:[],ti:[],ic:[]}
d_[x[60]]={}
d_[x[60]]["search-bar"]=function(e,s,r,gg){
var z=gz$gwx_37()
var b=x[60]+':search-bar'
r.wxVkey=b
gg.f=$gdc(f_["./pages/search/_search-bar.wxml"],"",1)
if(p_[b]){_wl(b,x[60]);return}
p_[b]=true
try{
var oB=e_[x[60]].j
var xC=_v()
_(r,xC)
if(_oz(z,1,e,s,gg)){xC.wxVkey=1
}
_ic(x[61],e_,x[60],e,s,r,gg);
xC.wxXCkey=1
oB.pop()
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[60]]["city-error"]=function(e,s,r,gg){
var z=gz$gwx_37()
var b=x[60]+':city-error'
r.wxVkey=b
gg.f=$gdc(f_["./pages/search/_search-bar.wxml"],"",1)
if(p_[b]){_wl(b,x[60]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,3,e,s,gg)){oB.wxVkey=1
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[60]]["city-error-modal"]=function(e,s,r,gg){
var z=gz$gwx_37()
var b=x[60]+':city-error-modal'
r.wxVkey=b
gg.f=$gdc(f_["./pages/search/_search-bar.wxml"],"",1)
if(p_[b]){_wl(b,x[60]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m36=function(e,s,r,gg){
var z=gz$gwx_37()
return r
}
e_[x[60]]={f:m36,j:[],i:[],ti:[],ic:[]}
d_[x[62]]={}
var m37=function(e,s,r,gg){
var z=gz$gwx_38()
var aNT=e_[x[62]].i
_ai(aNT,x[63],e_,x[62],1,1)
var tOT=_v()
_(r,tOT)
var ePT=function(oRT,bQT,xST,gg){
var fUT=_n('view')
_rz(z,fUT,'class',3,oRT,bQT,gg)
var cVT=e_[x[62]].j
var hWT=_mz(z,'view',['capture-bind:tap',4,'data-id',1,'data-index',2],[],oRT,bQT,gg)
var oXT=_v()
_(hWT,oXT)
var cYT=_oz(z,8,oRT,bQT,gg)
var oZT=_gd(x[62],cYT,e_,d_)
if(oZT){
var l1T=_1z(z,7,oRT,bQT,gg) || {}
var cur_globalf=gg.f
oXT.wxXCkey=3
oZT(l1T,l1T,oXT,gg)
gg.f=cur_globalf
}
else _w(cYT,x[62],1,293)
_(fUT,hWT)
_ic(x[11],e_,x[62],oRT,bQT,fUT,gg);
cVT.pop()
_(xST,fUT)
return xST
}
tOT.wxXCkey=2
_2z(z,1,ePT,e,s,gg,tOT,'cinema','index','{{index}}')
aNT.pop()
return r
}
e_[x[62]]={f:m37,j:[],i:[],ti:[x[63]],ic:[]}
d_[x[64]]={}
var m38=function(e,s,r,gg){
var z=gz$gwx_39()
var t3T=e_[x[64]].i
var e4T=e_[x[64]].j
_ai(t3T,x[65],e_,x[64],1,1)
_ai(t3T,x[63],e_,x[64],1,41)
_ai(t3T,x[66],e_,x[64],1,88)
var b5T=_mz(z,'scroll-view',['scrollY',-1,'bindscrolltolower',0,'class',1],[],e,s,gg)
var o6T=_v()
_(b5T,o6T)
if(_oz(z,2,e,s,gg)){o6T.wxVkey=1
var c0T=_v()
_(o6T,c0T)
if(_oz(z,3,e,s,gg)){c0T.wxVkey=1
}
var hAU=_v()
_(o6T,hAU)
if(_oz(z,4,e,s,gg)){hAU.wxVkey=1
var oBU=_v()
_(hAU,oBU)
var cCU=function(lEU,oDU,aFU,gg){
var eHU=_v()
_(aFU,eHU)
if(_oz(z,6,lEU,oDU,gg)){eHU.wxVkey=1
}
eHU.wxXCkey=1
return aFU
}
oBU.wxXCkey=2
_2z(z,5,cCU,e,s,gg,oBU,'item','index','')
}
c0T.wxXCkey=1
hAU.wxXCkey=1
}
var x7T=_v()
_(b5T,x7T)
if(_oz(z,7,e,s,gg)){x7T.wxVkey=1
}
var o8T=_v()
_(b5T,o8T)
if(_oz(z,8,e,s,gg)){o8T.wxVkey=1
}
var bIU=_v()
_(b5T,bIU)
var oJU=function(oLU,xKU,fMU,gg){
var hOU=_v()
_(fMU,hOU)
if(_oz(z,12,oLU,xKU,gg)){hOU.wxVkey=1
var oRU=_n('view')
_rz(z,oRU,'class',13,oLU,xKU,gg)
var lSU=_v()
_(oRU,lSU)
if(_oz(z,14,oLU,xKU,gg)){lSU.wxVkey=1
}
var tUU=_v()
_(oRU,tUU)
var eVU=function(oXU,bWU,xYU,gg){
var c2U=_mz(z,'view',['capture-bind:tap',17,'data-index',1,'data-item',2,'data-stype',3],[],oXU,bWU,gg)
var h3U=_v()
_(c2U,h3U)
var o4U=_oz(z,22,oXU,bWU,gg)
var c5U=_gd(x[64],o4U,e_,d_)
if(c5U){
var o6U=_1z(z,21,oXU,bWU,gg) || {}
var cur_globalf=gg.f
h3U.wxXCkey=3
c5U(o6U,o6U,h3U,gg)
gg.f=cur_globalf
}
else _w(o4U,x[64],1,2260)
_(xYU,c2U)
var f1U=_v()
_(xYU,f1U)
if(_oz(z,23,oXU,bWU,gg)){f1U.wxVkey=1
}
f1U.wxXCkey=1
return xYU
}
tUU.wxXCkey=2
_2z(z,15,eVU,oLU,xKU,gg,tUU,'item','index','index')
var aTU=_v()
_(oRU,aTU)
if(_oz(z,24,oLU,xKU,gg)){aTU.wxVkey=1
}
lSU.wxXCkey=1
aTU.wxXCkey=1
_(hOU,oRU)
}
var oPU=_v()
_(fMU,oPU)
if(_oz(z,25,oLU,xKU,gg)){oPU.wxVkey=1
var l7U=_n('view')
_rz(z,l7U,'class',26,oLU,xKU,gg)
var a8U=_v()
_(l7U,a8U)
if(_oz(z,27,oLU,xKU,gg)){a8U.wxVkey=1
}
var e0U=_v()
_(l7U,e0U)
var bAV=function(xCV,oBV,oDV,gg){
var cFV=_mz(z,'view',['bindtap',30,'data-index',1,'data-item',2,'data-stype',3],[],xCV,oBV,gg)
var hGV=_v()
_(cFV,hGV)
var oHV=_oz(z,35,xCV,oBV,gg)
var cIV=_gd(x[64],oHV,e_,d_)
if(cIV){
var oJV=_1z(z,34,xCV,oBV,gg) || {}
var cur_globalf=gg.f
hGV.wxXCkey=3
cIV(oJV,oJV,hGV,gg)
gg.f=cur_globalf
}
else _w(oHV,x[64],1,3006)
_(oDV,cFV)
return oDV
}
e0U.wxXCkey=2
_2z(z,28,bAV,oLU,xKU,gg,e0U,'item','index','index')
var t9U=_v()
_(l7U,t9U)
if(_oz(z,36,oLU,xKU,gg)){t9U.wxVkey=1
}
a8U.wxXCkey=1
t9U.wxXCkey=1
_(oPU,l7U)
}
var cQU=_v()
_(fMU,cQU)
if(_oz(z,37,oLU,xKU,gg)){cQU.wxVkey=1
var lKV=_n('view')
_rz(z,lKV,'class',38,oLU,xKU,gg)
var aLV=_v()
_(lKV,aLV)
if(_oz(z,39,oLU,xKU,gg)){aLV.wxVkey=1
}
var eNV=_v()
_(lKV,eNV)
var bOV=function(xQV,oPV,oRV,gg){
var hUV=_mz(z,'view',['capture-bind:tap',42,'data-index',1,'data-item',2,'data-stype',3],[],xQV,oPV,gg)
var oVV=_v()
_(hUV,oVV)
var cWV=_oz(z,47,xQV,oPV,gg)
var oXV=_gd(x[64],cWV,e_,d_)
if(oXV){
var lYV=_1z(z,46,xQV,oPV,gg) || {}
var cur_globalf=gg.f
oVV.wxXCkey=3
oXV(lYV,lYV,oVV,gg)
gg.f=cur_globalf
}
else _w(cWV,x[64],1,3716)
_(oRV,hUV)
var cTV=_v()
_(oRV,cTV)
if(_oz(z,48,xQV,oPV,gg)){cTV.wxVkey=1
}
cTV.wxXCkey=1
return oRV
}
eNV.wxXCkey=2
_2z(z,40,bOV,oLU,xKU,gg,eNV,'item','index','index')
var tMV=_v()
_(lKV,tMV)
if(_oz(z,49,oLU,xKU,gg)){tMV.wxVkey=1
}
aLV.wxXCkey=1
tMV.wxXCkey=1
_(cQU,lKV)
}
hOU.wxXCkey=1
oPU.wxXCkey=1
cQU.wxXCkey=1
return fMU
}
bIU.wxXCkey=2
_2z(z,10,oJU,e,s,gg,bIU,'result','index','index')
var f9T=_v()
_(b5T,f9T)
if(_oz(z,50,e,s,gg)){f9T.wxVkey=1
}
o6T.wxXCkey=1
x7T.wxXCkey=1
o8T.wxXCkey=1
f9T.wxXCkey=1
_(r,b5T)
_ic(x[11],e_,x[64],e,s,r,gg);
t3T.pop()
t3T.pop()
t3T.pop()
e4T.pop()
return r
}
e_[x[64]]={f:m38,j:[],i:[],ti:[x[65],x[63],x[66]],ic:[x[11]]}
d_[x[67]]={}
var m39=function(e,s,r,gg){
var z=gz$gwx_40()
var t1V=e_[x[67]].i
var e2V=e_[x[67]].j
_ai(t1V,x[65],e_,x[67],1,1)
var b3V=_v()
_(r,b3V)
var o4V=function(o6V,x5V,f7V,gg){
var h9V=_mz(z,'view',['capture-bind:tap',3,'data-id',1,'data-index',2],[],o6V,x5V,gg)
var o0V=_v()
_(h9V,o0V)
var cAW=_oz(z,7,o6V,x5V,gg)
var oBW=_gd(x[67],cAW,e_,d_)
if(oBW){
var lCW=_1z(z,6,o6V,x5V,gg) || {}
var cur_globalf=gg.f
o0V.wxXCkey=3
oBW(lCW,lCW,o0V,gg)
gg.f=cur_globalf
}
else _w(cAW,x[67],1,250)
_(f7V,h9V)
return f7V
}
b3V.wxXCkey=2
_2z(z,1,o4V,e,s,gg,b3V,'movie','index','{{index}}')
_ic(x[11],e_,x[67],e,s,r,gg);
t1V.pop()
e2V.pop()
return r
}
e_[x[67]]={f:m39,j:[],i:[],ti:[x[65]],ic:[x[11]]}
d_[x[68]]={}
var m40=function(e,s,r,gg){
var z=gz$gwx_41()
var tEW=e_[x[68]].i
var eFW=e_[x[68]].j
_ai(tEW,x[66],e_,x[68],1,1)
var bGW=_v()
_(r,bGW)
var oHW=function(oJW,xIW,fKW,gg){
var hMW=_mz(z,'view',['capture-bind:tap',3,'data-id',1,'data-index',2],[],oJW,xIW,gg)
var oNW=_v()
_(hMW,oNW)
var cOW=_oz(z,7,oJW,xIW,gg)
var oPW=_gd(x[68],cOW,e_,d_)
if(oPW){
var lQW=_1z(z,6,oJW,xIW,gg) || {}
var cur_globalf=gg.f
oNW.wxXCkey=3
oPW(lQW,lQW,oNW,gg)
gg.f=cur_globalf
}
else _w(cOW,x[68],1,261)
_(fKW,hMW)
return fKW
}
bGW.wxXCkey=2
_2z(z,1,oHW,e,s,gg,bGW,'show','index','{{index}}')
_ic(x[11],e_,x[68],e,s,r,gg);
tEW.pop()
eFW.pop()
return r
}
e_[x[68]]={f:m40,j:[],i:[],ti:[x[66]],ic:[x[11]]}
d_[x[69]]={}
var m41=function(e,s,r,gg){
var z=gz$gwx_42()
var tSW=e_[x[69]].j
_ic(x[11],e_,x[69],e,s,r,gg);
tSW.pop()
return r
}
e_[x[69]]={f:m41,j:[],i:[],ti:[],ic:[x[11]]}
d_[x[70]]={}
d_[x[70]]["express-card"]=function(e,s,r,gg){
var z=gz$gwx_43()
var b=x[70]+':express-card'
r.wxVkey=b
gg.f=$gdc(f_["./pages/sevenday/tpl/sevenDay/_expressCard.wxml"],"",1)
if(p_[b]){_wl(b,x[70]);return}
p_[b]=true
try{
var oB=_mz(z,'view',['bindtap',1,'class',1,'data-id',2],[],e,s,gg)
var oD=_v()
_(oB,oD)
var fE=function(hG,cF,oH,gg){
var oJ=_v()
_(oH,oJ)
if(_oz(z,7,hG,cF,gg)){oJ.wxVkey=1
}
oJ.wxXCkey=1
return oH
}
oD.wxXCkey=2
_2z(z,5,fE,e,s,gg,oD,'_item','index','{{index}}')
var xC=_v()
_(oB,xC)
if(_oz(z,8,e,s,gg)){xC.wxVkey=1
}
xC.wxXCkey=1
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m42=function(e,s,r,gg){
var z=gz$gwx_43()
return r
}
e_[x[70]]={f:m42,j:[],i:[],ti:[],ic:[]}
d_[x[71]]={}
d_[x[71]]["seven-day-tab-bar"]=function(e,s,r,gg){
var z=gz$gwx_44()
var b=x[71]+':seven-day-tab-bar'
r.wxVkey=b
gg.f=$gdc(f_["./pages/sevenday/tpl/sevenDay/seven-day-tab-bar.wxml"],"",1)
if(p_[b]){_wl(b,x[71]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m43=function(e,s,r,gg){
var z=gz$gwx_44()
return r
}
e_[x[71]]={f:m43,j:[],i:[],ti:[],ic:[]}
d_[x[72]]={}
var m44=function(e,s,r,gg){
var z=gz$gwx_45()
var xWW=_v()
_(r,xWW)
if(_oz(z,0,e,s,gg)){xWW.wxVkey=1
}
xWW.wxXCkey=1
return r
}
e_[x[72]]={f:m44,j:[],i:[],ti:[],ic:[]}
d_[x[73]]={}
var m45=function(e,s,r,gg){
var z=gz$gwx_46()
var fYW=_v()
_(r,fYW)
if(_oz(z,0,e,s,gg)){fYW.wxVkey=1
}
fYW.wxXCkey=1
return r
}
e_[x[73]]={f:m45,j:[],i:[],ti:[],ic:[]}
d_[x[74]]={}
var m46=function(e,s,r,gg){
var z=gz$gwx_47()
var h1W=_mz(z,'form',['bindsubmit',0,'class',1],[],e,s,gg)
var o2W=_v()
_(h1W,o2W)
if(_oz(z,2,e,s,gg)){o2W.wxVkey=1
}
o2W.wxXCkey=1
_(r,h1W)
return r
}
e_[x[74]]={f:m46,j:[],i:[],ti:[],ic:[]}
d_[x[75]]={}
d_[x[75]]["_showSystemAnnouncement"]=function(e,s,r,gg){
var z=gz$gwx_48()
var b=x[75]+':_showSystemAnnouncement'
r.wxVkey=b
gg.f=$gdc(f_["./pages/show/components/announcement/_index.wxml"],"",1)
if(p_[b]){_wl(b,x[75]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,2,e,s,gg)){oB.wxVkey=1
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m47=function(e,s,r,gg){
var z=gz$gwx_48()
var o4W=_v()
_(r,o4W)
if(_oz(z,0,e,s,gg)){o4W.wxVkey=1
}
o4W.wxXCkey=1
return r
}
e_[x[75]]={f:m47,j:[],i:[],ti:[],ic:[]}
d_[x[76]]={}
var m48=function(e,s,r,gg){
var z=gz$gwx_49()
var a6W=_v()
_(r,a6W)
if(_oz(z,0,e,s,gg)){a6W.wxVkey=1
}
a6W.wxXCkey=1
return r
}
e_[x[76]]={f:m48,j:[],i:[],ti:[],ic:[]}
d_[x[77]]={}
var m49=function(e,s,r,gg){
var z=gz$gwx_50()
var e8W=_v()
_(r,e8W)
if(_oz(z,0,e,s,gg)){e8W.wxVkey=1
}
e8W.wxXCkey=1
return r
}
e_[x[77]]={f:m49,j:[],i:[],ti:[],ic:[]}
d_[x[78]]={}
var m50=function(e,s,r,gg){
var z=gz$gwx_51()
var o0W=_v()
_(r,o0W)
if(_oz(z,0,e,s,gg)){o0W.wxVkey=1
}
o0W.wxXCkey=1
return r
}
e_[x[78]]={f:m50,j:[],i:[],ti:[],ic:[]}
d_[x[79]]={}
var m51=function(e,s,r,gg){
var z=gz$gwx_52()
var oBX=_v()
_(r,oBX)
if(_oz(z,0,e,s,gg)){oBX.wxVkey=1
}
oBX.wxXCkey=1
return r
}
e_[x[79]]={f:m51,j:[],i:[],ti:[],ic:[]}
d_[x[80]]={}
var m52=function(e,s,r,gg){
var z=gz$gwx_53()
var cDX=_v()
_(r,cDX)
if(_oz(z,0,e,s,gg)){cDX.wxVkey=1
var hEX=_n('view')
_rz(z,hEX,'class',1,e,s,gg)
var oFX=_v()
_(hEX,oFX)
if(_oz(z,2,e,s,gg)){oFX.wxVkey=1
var lIX=_n('unknown-err-page')
_rz(z,lIX,'show',3,e,s,gg)
_(oFX,lIX)
}
var cGX=_v()
_(hEX,cGX)
if(_oz(z,4,e,s,gg)){cGX.wxVkey=1
var aJX=_mz(z,'network-err-page',['bind:reloadButtonTap',5,'show',1],[],e,s,gg)
_(cGX,aJX)
}
var oHX=_v()
_(hEX,oHX)
if(_oz(z,7,e,s,gg)){oHX.wxVkey=1
var tKX=_n('expired-err-page')
_rz(z,tKX,'show',8,e,s,gg)
_(oHX,tKX)
}
oFX.wxXCkey=1
oFX.wxXCkey=3
cGX.wxXCkey=1
cGX.wxXCkey=3
oHX.wxXCkey=1
oHX.wxXCkey=3
_(cDX,hEX)
}
cDX.wxXCkey=1
cDX.wxXCkey=3
return r
}
e_[x[80]]={f:m52,j:[],i:[],ti:[],ic:[]}
d_[x[81]]={}
var m53=function(e,s,r,gg){
var z=gz$gwx_54()
var bMX=_v()
_(r,bMX)
if(_oz(z,0,e,s,gg)){bMX.wxVkey=1
}
bMX.wxXCkey=1
return r
}
e_[x[81]]={f:m53,j:[],i:[],ti:[],ic:[]}
d_[x[82]]={}
var m54=function(e,s,r,gg){
var z=gz$gwx_55()
var xOX=_v()
_(r,xOX)
if(_oz(z,0,e,s,gg)){xOX.wxVkey=1
var oPX=_mz(z,'button',['bindgetphonenumber',1,'class',1,'openType',2],[],e,s,gg)
var fQX=_n('slot')
_rz(z,fQX,'name',4,e,s,gg)
_(oPX,fQX)
_(xOX,oPX)
}
else{xOX.wxVkey=2
var cRX=_mz(z,'button',['bindtap',5,'class',1],[],e,s,gg)
var hSX=_n('slot')
_rz(z,hSX,'name',7,e,s,gg)
_(cRX,hSX)
_(xOX,cRX)
}
xOX.wxXCkey=1
return r
}
e_[x[82]]={f:m54,j:[],i:[],ti:[],ic:[]}
d_[x[83]]={}
var m55=function(e,s,r,gg){
var z=gz$gwx_56()
var cUX=_n('view')
_rz(z,cUX,'class',0,e,s,gg)
var oVX=_v()
_(cUX,oVX)
if(_oz(z,1,e,s,gg)){oVX.wxVkey=1
var aXX=_mz(z,'button',['data-btn_login',-1,'data-ignore-login-fail',-1,'bindgetuserinfo',2,'class',1,'data-fresh',2,'openType',3],[],e,s,gg)
var tYX=_n('slot')
_rz(z,tYX,'name',6,e,s,gg)
_(aXX,tYX)
_(oVX,aXX)
}
var lWX=_v()
_(cUX,lWX)
if(_oz(z,7,e,s,gg)){lWX.wxVkey=1
var eZX=_n('slot')
_rz(z,eZX,'name',8,e,s,gg)
_(lWX,eZX)
}
oVX.wxXCkey=1
lWX.wxXCkey=1
_(r,cUX)
return r
}
e_[x[83]]={f:m55,j:[],i:[],ti:[],ic:[]}
d_[x[84]]={}
var m56=function(e,s,r,gg){
var z=gz$gwx_57()
var o2X=_v()
_(r,o2X)
if(_oz(z,0,e,s,gg)){o2X.wxVkey=1
var x3X=_n('v-mask')
_(o2X,x3X)
}
var o4X=_n('view')
_rz(z,o4X,'class',1,e,s,gg)
var f5X=_v()
_(o4X,f5X)
if(_oz(z,2,e,s,gg)){f5X.wxVkey=1
}
var c6X=_n('slot')
_(o4X,c6X)
f5X.wxXCkey=1
_(r,o4X)
o2X.wxXCkey=1
o2X.wxXCkey=3
return r
}
e_[x[84]]={f:m56,j:[],i:[],ti:[],ic:[]}
d_[x[85]]={}
var m57=function(e,s,r,gg){
var z=gz$gwx_58()
return r
}
e_[x[85]]={f:m57,j:[],i:[],ti:[],ic:[]}
d_[x[86]]={}
var m58=function(e,s,r,gg){
var z=gz$gwx_59()
var o0X=_v()
_(r,o0X)
var lAY=function(tCY,aBY,eDY,gg){
var oFY=_v()
_(eDY,oFY)
if(_oz(z,3,tCY,aBY,gg)){oFY.wxVkey=1
var xGY=_n('view')
_rz(z,xGY,'class',4,tCY,aBY,gg)
var oHY=_v()
_(xGY,oHY)
if(_oz(z,5,tCY,aBY,gg)){oHY.wxVkey=1
}
var fIY=_mz(z,'view',['bindtap',6,'class',1,'data-index',2],[],tCY,aBY,gg)
var cJY=_v()
_(fIY,cJY)
if(_oz(z,9,tCY,aBY,gg)){cJY.wxVkey=1
}
cJY.wxXCkey=1
_(xGY,fIY)
oHY.wxXCkey=1
_(oFY,xGY)
}
oFY.wxXCkey=1
return eDY
}
o0X.wxXCkey=2
_2z(z,1,lAY,e,s,gg,o0X,'realName','index','{{index}}')
var c9X=_v()
_(r,c9X)
if(_oz(z,10,e,s,gg)){c9X.wxVkey=1
}
c9X.wxXCkey=1
return r
}
e_[x[86]]={f:m58,j:[],i:[],ti:[],ic:[]}
d_[x[87]]={}
var m59=function(e,s,r,gg){
var z=gz$gwx_60()
var oLY=_mz(z,'form',['bindsubmit',0,'class',1],[],e,s,gg)
var cMY=_v()
_(oLY,cMY)
if(_oz(z,2,e,s,gg)){cMY.wxVkey=1
}
cMY.wxXCkey=1
_(r,oLY)
return r
}
e_[x[87]]={f:m59,j:[],i:[],ti:[],ic:[]}
d_[x[88]]={}
var m60=function(e,s,r,gg){
var z=gz$gwx_61()
var lOY=_v()
_(r,lOY)
if(_oz(z,0,e,s,gg)){lOY.wxVkey=1
}
lOY.wxXCkey=1
return r
}
e_[x[88]]={f:m60,j:[],i:[],ti:[],ic:[]}
d_[x[89]]={}
var m61=function(e,s,r,gg){
var z=gz$gwx_62()
var tQY=_n('v-mask')
_(r,tQY)
return r
}
e_[x[89]]={f:m61,j:[],i:[],ti:[],ic:[]}
d_[x[90]]={}
var m62=function(e,s,r,gg){
var z=gz$gwx_63()
var bSY=_v()
_(r,bSY)
if(_oz(z,0,e,s,gg)){bSY.wxVkey=1
var oTY=_mz(z,'view',['bindtap',1,'catchtouchmove',1,'class',2,'style',3],[],e,s,gg)
var xUY=_v()
_(oTY,xUY)
if(_oz(z,5,e,s,gg)){xUY.wxVkey=1
}
var oVY=_v()
_(oTY,oVY)
if(_oz(z,6,e,s,gg)){oVY.wxVkey=1
}
var fWY=_v()
_(oTY,fWY)
if(_oz(z,7,e,s,gg)){fWY.wxVkey=1
var cXY=_mz(z,'view',['catchtap',8,'class',1,'style',2],[],e,s,gg)
var hYY=_v()
_(cXY,hYY)
if(_oz(z,11,e,s,gg)){hYY.wxVkey=1
}
hYY.wxXCkey=1
_(fWY,cXY)
}
xUY.wxXCkey=1
oVY.wxXCkey=1
fWY.wxXCkey=1
_(bSY,oTY)
}
bSY.wxXCkey=1
return r
}
e_[x[90]]={f:m62,j:[],i:[],ti:[],ic:[]}
d_[x[91]]={}
var m63=function(e,s,r,gg){
var z=gz$gwx_64()
var c1Y=_v()
_(r,c1Y)
if(_oz(z,0,e,s,gg)){c1Y.wxVkey=1
}
c1Y.wxXCkey=1
return r
}
e_[x[91]]={f:m63,j:[],i:[],ti:[],ic:[]}
d_[x[92]]={}
var m64=function(e,s,r,gg){
var z=gz$gwx_65()
var l3Y=_mz(z,'yoda-slider',['class',0,'id',1,'title',1],[],e,s,gg)
_(r,l3Y)
return r
}
e_[x[92]]={f:m64,j:[],i:[],ti:[],ic:[]}
d_[x[93]]={}
var m65=function(e,s,r,gg){
var z=gz$gwx_66()
var t5Y=_n('view')
_rz(z,t5Y,'class',0,e,s,gg)
var e6Y=_n('slot')
_rz(z,e6Y,'name',1,e,s,gg)
_(t5Y,e6Y)
var b7Y=_n('slot')
_rz(z,b7Y,'name',2,e,s,gg)
_(t5Y,b7Y)
_(r,t5Y)
return r
}
e_[x[93]]={f:m65,j:[],i:[],ti:[],ic:[]}
d_[x[94]]={}
var m66=function(e,s,r,gg){
var z=gz$gwx_67()
return r
}
e_[x[94]]={f:m66,j:[],i:[],ti:[],ic:[]}
d_[x[95]]={}
var m67=function(e,s,r,gg){
var z=gz$gwx_68()
var o0Y=_v()
_(r,o0Y)
if(_oz(z,0,e,s,gg)){o0Y.wxVkey=1
}
var fAZ=_v()
_(r,fAZ)
if(_oz(z,1,e,s,gg)){fAZ.wxVkey=1
}
o0Y.wxXCkey=1
fAZ.wxXCkey=1
return r
}
e_[x[95]]={f:m67,j:[],i:[],ti:[],ic:[]}
d_[x[96]]={}
var m68=function(e,s,r,gg){
var z=gz$gwx_69()
var hCZ=_mz(z,'scroll-view',['scrollY',-1,'bindscroll',0,'bindscrolltolower',1,'bindscrolltoupper',1,'class',2,'lowerThreshold',3,'upperThreshold',4],[],e,s,gg)
var oDZ=_v()
_(hCZ,oDZ)
if(_oz(z,6,e,s,gg)){oDZ.wxVkey=1
}
var cEZ=_v()
_(hCZ,cEZ)
if(_oz(z,7,e,s,gg)){cEZ.wxVkey=1
}
oDZ.wxXCkey=1
cEZ.wxXCkey=1
_(r,hCZ)
return r
}
e_[x[96]]={f:m68,j:[],i:[],ti:[],ic:[]}
d_[x[97]]={}
var m69=function(e,s,r,gg){
var z=gz$gwx_70()
var lGZ=_v()
_(r,lGZ)
if(_oz(z,0,e,s,gg)){lGZ.wxVkey=1
var aHZ=_mz(z,'view',['bindtap',1,'class',1],[],e,s,gg)
var tIZ=_n('view')
_rz(z,tIZ,'class',3,e,s,gg)
var eJZ=_v()
_(tIZ,eJZ)
if(_oz(z,4,e,s,gg)){eJZ.wxVkey=1
var oLZ=_v()
_(eJZ,oLZ)
var xMZ=function(fOZ,oNZ,cPZ,gg){
var oRZ=_v()
_(cPZ,oRZ)
if(_oz(z,7,fOZ,oNZ,gg)){oRZ.wxVkey=1
}
oRZ.wxXCkey=1
return cPZ
}
oLZ.wxXCkey=2
_2z(z,5,xMZ,e,s,gg,oLZ,'item','index','{{index}}')
}
var bKZ=_v()
_(tIZ,bKZ)
if(_oz(z,8,e,s,gg)){bKZ.wxVkey=1
var cSZ=_v()
_(bKZ,cSZ)
var oTZ=function(aVZ,lUZ,tWZ,gg){
var bYZ=_v()
_(tWZ,bYZ)
if(_oz(z,11,aVZ,lUZ,gg)){bYZ.wxVkey=1
}
bYZ.wxXCkey=1
return tWZ
}
cSZ.wxXCkey=2
_2z(z,9,oTZ,e,s,gg,cSZ,'item','index','{{index}}')
}
eJZ.wxXCkey=1
bKZ.wxXCkey=1
_(aHZ,tIZ)
_(lGZ,aHZ)
}
lGZ.wxXCkey=1
return r
}
e_[x[97]]={f:m69,j:[],i:[],ti:[],ic:[]}
d_[x[98]]={}
var m70=function(e,s,r,gg){
var z=gz$gwx_71()
var x1Z=_v()
_(r,x1Z)
if(_oz(z,0,e,s,gg)){x1Z.wxVkey=1
}
x1Z.wxXCkey=1
return r
}
e_[x[98]]={f:m70,j:[],i:[],ti:[],ic:[]}
d_[x[99]]={}
var m71=function(e,s,r,gg){
var z=gz$gwx_72()
var f3Z=_v()
_(r,f3Z)
if(_oz(z,0,e,s,gg)){f3Z.wxVkey=1
}
f3Z.wxXCkey=1
return r
}
e_[x[99]]={f:m71,j:[],i:[],ti:[],ic:[]}
d_[x[100]]={}
var m72=function(e,s,r,gg){
var z=gz$gwx_73()
var h5Z=_n('view')
_rz(z,h5Z,'class',0,e,s,gg)
var o6Z=_v()
_(h5Z,o6Z)
if(_oz(z,1,e,s,gg)){o6Z.wxVkey=1
}
var c7Z=_v()
_(h5Z,c7Z)
if(_oz(z,2,e,s,gg)){c7Z.wxVkey=1
}
var o8Z=_v()
_(h5Z,o8Z)
if(_oz(z,3,e,s,gg)){o8Z.wxVkey=1
var l9Z=_v()
_(o8Z,l9Z)
if(_oz(z,4,e,s,gg)){l9Z.wxVkey=1
}
l9Z.wxXCkey=1
}
else if(_oz(z,5,e,s,gg)){o8Z.wxVkey=2
}
o6Z.wxXCkey=1
c7Z.wxXCkey=1
o8Z.wxXCkey=1
_(r,h5Z)
return r
}
e_[x[100]]={f:m72,j:[],i:[],ti:[],ic:[]}
d_[x[101]]={}
var m73=function(e,s,r,gg){
var z=gz$gwx_74()
return r
}
e_[x[101]]={f:m73,j:[],i:[],ti:[],ic:[]}
d_[x[102]]={}
var m74=function(e,s,r,gg){
var z=gz$gwx_75()
var eB1=_mz(z,'login-button',['data-btn_login',-1,'data-ignore-login-fail',-1,'bind:userinfo',0,'class',1,'data-fresh',1,'data-val_bid',2,'isLogin',3],[],e,s,gg)
var bC1=_mz(z,'slot',['name',5,'slot',1],[],e,s,gg)
_(eB1,bC1)
var oD1=_mz(z,'getphone-button',['bind:getPhoneNumber',7,'bind:normalButtonTap',1,'isGetPhoneButton',2,'slot',3],[],e,s,gg)
var xE1=_mz(z,'slot',['name',11,'slot',1],[],e,s,gg)
_(oD1,xE1)
var oF1=_mz(z,'slot',['name',13,'slot',1],[],e,s,gg)
_(oD1,oF1)
_(eB1,oD1)
_(r,eB1)
return r
}
e_[x[102]]={f:m74,j:[],i:[],ti:[],ic:[]}
d_[x[103]]={}
var m75=function(e,s,r,gg){
var z=gz$gwx_76()
var cH1=_v()
_(r,cH1)
if(_oz(z,0,e,s,gg)){cH1.wxVkey=1
var hI1=_n('view')
_rz(z,hI1,'class',1,e,s,gg)
var oJ1=_v()
_(hI1,oJ1)
if(_oz(z,2,e,s,gg)){oJ1.wxVkey=1
var cK1=_n('view')
_rz(z,cK1,'class',3,e,s,gg)
var oL1=_v()
_(cK1,oL1)
if(_oz(z,4,e,s,gg)){oL1.wxVkey=1
}
var lM1=_v()
_(cK1,lM1)
if(_oz(z,5,e,s,gg)){lM1.wxVkey=1
}
oL1.wxXCkey=1
lM1.wxXCkey=1
_(oJ1,cK1)
}
var aN1=_n('view')
_rz(z,aN1,'class',6,e,s,gg)
var tO1=_v()
_(aN1,tO1)
if(_oz(z,7,e,s,gg)){tO1.wxVkey=1
var eP1=_v()
_(tO1,eP1)
if(_oz(z,8,e,s,gg)){eP1.wxVkey=1
}
var bQ1=_n('view')
_rz(z,bQ1,'class',9,e,s,gg)
var oR1=_v()
_(bQ1,oR1)
if(_oz(z,10,e,s,gg)){oR1.wxVkey=1
}
var xS1=_v()
_(bQ1,xS1)
if(_oz(z,11,e,s,gg)){xS1.wxVkey=1
}
oR1.wxXCkey=1
xS1.wxXCkey=1
_(tO1,bQ1)
eP1.wxXCkey=1
}
else{tO1.wxVkey=2
var oT1=_v()
_(tO1,oT1)
if(_oz(z,12,e,s,gg)){oT1.wxVkey=1
}
var fU1=_v()
_(tO1,fU1)
if(_oz(z,13,e,s,gg)){fU1.wxVkey=1
}
oT1.wxXCkey=1
fU1.wxXCkey=1
}
tO1.wxXCkey=1
_(hI1,aN1)
oJ1.wxXCkey=1
_(cH1,hI1)
}
cH1.wxXCkey=1
return r
}
e_[x[103]]={f:m75,j:[],i:[],ti:[],ic:[]}
d_[x[104]]={}
var m76=function(e,s,r,gg){
var z=gz$gwx_77()
var hW1=_v()
_(r,hW1)
if(_oz(z,0,e,s,gg)){hW1.wxVkey=1
}
hW1.wxXCkey=1
return r
}
e_[x[104]]={f:m76,j:[],i:[],ti:[],ic:[]}
d_[x[105]]={}
var m77=function(e,s,r,gg){
var z=gz$gwx_78()
return r
}
e_[x[105]]={f:m77,j:[],i:[],ti:[],ic:[]}
d_[x[106]]={}
var m78=function(e,s,r,gg){
var z=gz$gwx_79()
var oZ1=_v()
_(r,oZ1)
if(_oz(z,0,e,s,gg)){oZ1.wxVkey=1
var a21=_mz(z,'form',['bindsubmit',1,'reportSubmit',1],[],e,s,gg)
var t31=_v()
_(a21,t31)
if(_oz(z,3,e,s,gg)){t31.wxVkey=1
}
t31.wxXCkey=1
_(oZ1,a21)
}
var l11=_v()
_(r,l11)
if(_oz(z,4,e,s,gg)){l11.wxVkey=1
}
oZ1.wxXCkey=1
l11.wxXCkey=1
return r
}
e_[x[106]]={f:m78,j:[],i:[],ti:[],ic:[]}
d_[x[107]]={}
var m79=function(e,s,r,gg){
var z=gz$gwx_80()
var b51=_v()
_(r,b51)
if(_oz(z,0,e,s,gg)){b51.wxVkey=1
}
var o61=_v()
_(r,o61)
if(_oz(z,1,e,s,gg)){o61.wxVkey=1
}
b51.wxXCkey=1
o61.wxXCkey=1
return r
}
e_[x[107]]={f:m79,j:[],i:[],ti:[],ic:[]}
d_[x[108]]={}
var m80=function(e,s,r,gg){
var z=gz$gwx_81()
var o81=_n('v-mask')
_(r,o81)
return r
}
e_[x[108]]={f:m80,j:[],i:[],ti:[],ic:[]}
d_[x[109]]={}
var m81=function(e,s,r,gg){
var z=gz$gwx_82()
var c01=_n('view')
_rz(z,c01,'class',0,e,s,gg)
var hA2=_v()
_(c01,hA2)
if(_oz(z,1,e,s,gg)){hA2.wxVkey=1
}
var oB2=_v()
_(c01,oB2)
var cC2=function(lE2,oD2,aF2,gg){
var eH2=_n('view')
_rz(z,eH2,'style',4,lE2,oD2,gg)
var bI2=_v()
_(eH2,bI2)
if(_oz(z,5,lE2,oD2,gg)){bI2.wxVkey=1
}
var oJ2=_v()
_(eH2,oJ2)
if(_oz(z,6,lE2,oD2,gg)){oJ2.wxVkey=1
}
bI2.wxXCkey=1
oJ2.wxXCkey=1
_(aF2,eH2)
return aF2
}
oB2.wxXCkey=2
_2z(z,2,cC2,e,s,gg,oB2,'item','index','{{ index }}')
hA2.wxXCkey=1
_(r,c01)
return r
}
e_[x[109]]={f:m81,j:[],i:[],ti:[],ic:[]}
d_[x[110]]={}
var m82=function(e,s,r,gg){
var z=gz$gwx_83()
var oL2=_v()
_(r,oL2)
if(_oz(z,0,e,s,gg)){oL2.wxVkey=1
}
oL2.wxXCkey=1
return r
}
e_[x[110]]={f:m82,j:[],i:[],ti:[],ic:[]}
d_[x[111]]={}
var m83=function(e,s,r,gg){
var z=gz$gwx_84()
var cN2=_v()
_(r,cN2)
if(_oz(z,0,e,s,gg)){cN2.wxVkey=1
}
cN2.wxXCkey=1
return r
}
e_[x[111]]={f:m83,j:[],i:[],ti:[],ic:[]}
d_[x[112]]={}
var m84=function(e,s,r,gg){
var z=gz$gwx_85()
var oP2=_mz(z,'view',['bind:tap',0,'class',1],[],e,s,gg)
var cQ2=_v()
_(oP2,cQ2)
if(_oz(z,2,e,s,gg)){cQ2.wxVkey=1
}
cQ2.wxXCkey=1
_(r,oP2)
return r
}
e_[x[112]]={f:m84,j:[],i:[],ti:[],ic:[]}
d_[x[113]]={}
var m85=function(e,s,r,gg){
var z=gz$gwx_86()
return r
}
e_[x[113]]={f:m85,j:[],i:[],ti:[],ic:[]}
d_[x[114]]={}
var m86=function(e,s,r,gg){
var z=gz$gwx_87()
var aT2=_v()
_(r,aT2)
if(_oz(z,0,e,s,gg)){aT2.wxVkey=1
}
var tU2=_v()
_(r,tU2)
if(_oz(z,1,e,s,gg)){tU2.wxVkey=1
}
aT2.wxXCkey=1
tU2.wxXCkey=1
return r
}
e_[x[114]]={f:m86,j:[],i:[],ti:[],ic:[]}
d_[x[115]]={}
var m87=function(e,s,r,gg){
var z=gz$gwx_88()
var bW2=_v()
_(r,bW2)
if(_oz(z,0,e,s,gg)){bW2.wxVkey=1
}
var oX2=_v()
_(r,oX2)
if(_oz(z,1,e,s,gg)){oX2.wxVkey=1
}
bW2.wxXCkey=1
oX2.wxXCkey=1
return r
}
e_[x[115]]={f:m87,j:[],i:[],ti:[],ic:[]}
d_[x[116]]={}
var m88=function(e,s,r,gg){
var z=gz$gwx_89()
var oZ2=_v()
_(r,oZ2)
if(_oz(z,0,e,s,gg)){oZ2.wxVkey=1
var f12=_n('view')
_rz(z,f12,'class',1,e,s,gg)
var c22=_v()
_(f12,c22)
if(_oz(z,2,e,s,gg)){c22.wxVkey=1
var o42=_v()
_(c22,o42)
if(_oz(z,3,e,s,gg)){o42.wxVkey=1
}
var c52=_v()
_(c22,c52)
if(_oz(z,4,e,s,gg)){c52.wxVkey=1
}
o42.wxXCkey=1
c52.wxXCkey=1
}
var h32=_v()
_(f12,h32)
if(_oz(z,5,e,s,gg)){h32.wxVkey=1
var o62=_v()
_(h32,o62)
if(_oz(z,6,e,s,gg)){o62.wxVkey=1
}
var l72=_v()
_(h32,l72)
if(_oz(z,7,e,s,gg)){l72.wxVkey=1
}
o62.wxXCkey=1
l72.wxXCkey=1
}
c22.wxXCkey=1
h32.wxXCkey=1
_(oZ2,f12)
}
oZ2.wxXCkey=1
return r
}
e_[x[116]]={f:m88,j:[],i:[],ti:[],ic:[]}
d_[x[117]]={}
var m89=function(e,s,r,gg){
var z=gz$gwx_90()
return r
}
e_[x[117]]={f:m89,j:[],i:[],ti:[],ic:[]}
d_[x[118]]={}
var m90=function(e,s,r,gg){
var z=gz$gwx_91()
return r
}
e_[x[118]]={f:m90,j:[],i:[],ti:[],ic:[]}
d_[x[119]]={}
d_[x[119]]["login-template"]=function(e,s,r,gg){
var z=gz$gwx_92()
var b=x[119]+':login-template'
r.wxVkey=b
gg.f=$gdc(f_["./pages/show/detail/index.wxml"],"",1)
if(p_[b]){_wl(b,x[119]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,17,e,s,gg)){oB.wxVkey=1
}
var xC=_v()
_(r,xC)
if(_oz(z,18,e,s,gg)){xC.wxVkey=1
}
oB.wxXCkey=1
xC.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m91=function(e,s,r,gg){
var z=gz$gwx_92()
var bA3=e_[x[119]].j
var oB3=_v()
_(r,oB3)
if(_oz(z,0,e,s,gg)){oB3.wxVkey=1
var cF3=_n('view')
_rz(z,cF3,'class',1,e,s,gg)
var aL3=_mz(z,'share-modal',['bind:close',2,'bind:drawImage',1,'bind:saveImage',2,'performance',3,'shareId',4,'showFlag',5],[],e,s,gg)
_(cF3,aL3)
var tM3=_n('view')
_rz(z,tM3,'class',8,e,s,gg)
var bO3=_mz(z,'header-info',['performance',9,'pixelRatio',1],[],e,s,gg)
_(tM3,bO3)
var oP3=_mz(z,'login-button',['data-btn_login',-1,'data-ignore-login-fail',-1,'bind:userinfo',11,'class',1,'data-fresh',2,'data-val_bid',3,'isLogin',4],[],e,s,gg)
var xQ3=_mz(z,'view',['class',19,'slot',1],[],e,s,gg)
var oR3=_v()
_(xQ3,oR3)
var fS3=_oz(z,22,e,s,gg)
var cT3=_gd(x[119],fS3,e_,d_)
if(cT3){
var hU3=_1z(z,21,e,s,gg) || {}
var cur_globalf=gg.f
oR3.wxXCkey=3
cT3(hU3,hU3,oR3,gg)
gg.f=cur_globalf
}
else _w(fS3,x[119],1,1412)
_(oP3,xQ3)
var oV3=_mz(z,'button',['bindgetphonenumber',23,'bindtap',1,'class',2,'openType',3,'slot',4],[],e,s,gg)
var cW3=_v()
_(oV3,cW3)
var oX3=_oz(z,29,e,s,gg)
var lY3=_gd(x[119],oX3,e_,d_)
if(lY3){
var aZ3=_1z(z,28,e,s,gg) || {}
var cur_globalf=gg.f
cW3.wxXCkey=3
lY3(aZ3,aZ3,cW3,gg)
gg.f=cur_globalf
}
else _w(oX3,x[119],1,1719)
_(oP3,oV3)
_(tM3,oP3)
var eN3=_v()
_(tM3,eN3)
if(_oz(z,30,e,s,gg)){eN3.wxVkey=1
var t13=_v()
_(eN3,t13)
if(_oz(z,31,e,s,gg)){t13.wxVkey=1
}
var e23=_v()
_(eN3,e23)
if(_oz(z,32,e,s,gg)){e23.wxVkey=1
}
t13.wxXCkey=1
e23.wxXCkey=1
}
eN3.wxXCkey=1
_(cF3,tM3)
var b33=_mz(z,'middle-bar',['beforeSaleStatus',33,'currentTime',1,'isNeedOnSaleRemind',2,'mistiming',3,'saleStatus',4,'tagStatus',5],[],e,s,gg)
_(cF3,b33)
var hG3=_v()
_(cF3,hG3)
if(_oz(z,39,e,s,gg)){hG3.wxVkey=1
var o43=_mz(z,'discount-information',['bind:statsView',40,'bindpopupDiscountDetail',1,'promotional',2],[],e,s,gg)
_(hG3,o43)
}
var oH3=_v()
_(cF3,oH3)
if(_oz(z,43,e,s,gg)){oH3.wxVkey=1
var x53=_mz(z,'discount-detail',['bindshutDiscountDetail',44,'promotional',1],[],e,s,gg)
_(oH3,x53)
}
var cI3=_v()
_(cF3,cI3)
if(_oz(z,46,e,s,gg)){cI3.wxVkey=1
var o63=_mz(z,'venue-address',['address',47,'bind:statsOpenGuide',1,'bind:statsOpenMap',2,'city',3,'guide',4,'latitude',5,'longitude',6,'name',7],[],e,s,gg)
_(cI3,o63)
}
var f73=_mz(z,'login-button',['data-btn_login',-1,'data-ignore-login-fail',-1,'bind:userinfo',55,'class',1,'data-fresh',2,'data-val_bid',3,'isLogin',4],[],e,s,gg)
var c83=_mz(z,'view',['class',60,'slot',1],[],e,s,gg)
var h93=_v()
_(c83,h93)
if(_oz(z,62,e,s,gg)){h93.wxVkey=1
var o03=_mz(z,'fill-info',['bind:statsView',63,'flag',1,'id',2,'pid',3],[],e,s,gg)
_(h93,o03)
}
h93.wxXCkey=1
h93.wxXCkey=3
_(f73,c83)
var cA4=_mz(z,'button',['bindgetphonenumber',67,'bindtap',1,'class',2,'openType',3,'slot',4],[],e,s,gg)
var oB4=_v()
_(cA4,oB4)
if(_oz(z,72,e,s,gg)){oB4.wxVkey=1
var lC4=_mz(z,'fill-info',['bind:statsView',73,'flag',1,'id',2,'pid',3],[],e,s,gg)
_(oB4,lC4)
}
oB4.wxXCkey=1
oB4.wxXCkey=3
_(f73,cA4)
_(cF3,f73)
var oJ3=_v()
_(cF3,oJ3)
if(_oz(z,77,e,s,gg)){oJ3.wxVkey=1
var aD4=_mz(z,'video-info',['bind:statsView',78,'bindopenVideo',1,'projectVideoInfo',2],[],e,s,gg)
_(oJ3,aD4)
}
var tE4=_mz(z,'show-detail',['bind:statsView',81,'detail',1,'seatUrl',2],[],e,s,gg)
_(cF3,tE4)
var eF4=_n('ticketing-information')
_rz(z,eF4,'ticketNotes',84,e,s,gg)
_(cF3,eF4)
var lK3=_v()
_(cF3,lK3)
if(_oz(z,85,e,s,gg)){lK3.wxVkey=1
var bG4=_v()
_(lK3,bG4)
if(_oz(z,86,e,s,gg)){bG4.wxVkey=1
var oJ4=_v()
_(bG4,oJ4)
if(_oz(z,87,e,s,gg)){oJ4.wxVkey=1
var cL4=_v()
_(oJ4,cL4)
if(_oz(z,88,e,s,gg)){cL4.wxVkey=1
var oN4=_n('compose-button')
var oP4=_mz(z,'login-button',['data-btn_login',-1,'data-ignore-login-fail',-1,'bind:userinfo',89,'class',1,'data-fresh',2,'data-val_bid',3,'isLogin',4,'slot',5],[],e,s,gg)
var lQ4=_mz(z,'view',['class',95,'slot',1],[],e,s,gg)
var aR4=_n('prior-button')
_(lQ4,aR4)
_(oP4,lQ4)
var tS4=_mz(z,'getphone-button',['bind:getPhoneNumber',97,'bind:normalButtonTap',1,'isGetPhoneButton',2,'slot',3],[],e,s,gg)
var eT4=_mz(z,'view',['class',101,'slot',1],[],e,s,gg)
var bU4=_n('prior-button')
_(eT4,bU4)
_(tS4,eT4)
var oV4=_mz(z,'view',['class',103,'slot',1],[],e,s,gg)
var xW4=_n('prior-button')
_(oV4,xW4)
_(tS4,oV4)
_(oP4,tS4)
_(oN4,oP4)
var cO4=_v()
_(oN4,cO4)
if(_oz(z,105,e,s,gg)){cO4.wxVkey=1
var oX4=_mz(z,'view',['class',106,'slot',1],[],e,s,gg)
var fY4=_mz(z,'willsell-remind-btn',['bind:tap',108,'btnText',1],[],e,s,gg)
_(oX4,fY4)
_(cO4,oX4)
}
else{cO4.wxVkey=2
var cZ4=_mz(z,'login-button',['data-btn_login',-1,'data-ignore-login-fail',-1,'bind:userinfo',110,'class',1,'data-fresh',2,'isLogin',3,'slot',4],[],e,s,gg)
var h14=_mz(z,'willsell-remind-btn',['btnText',115,'slot',1],[],e,s,gg)
_(cZ4,h14)
var o24=_mz(z,'getphone-button',['bind:getPhoneNumber',117,'bind:normalButtonTap',1,'isGetPhoneButton',2,'slot',3],[],e,s,gg)
var c34=_mz(z,'willsell-remind-btn',['btnText',121,'slot',1],[],e,s,gg)
_(o24,c34)
var o44=_mz(z,'willsell-remind-btn',['btnText',123,'slot',1],[],e,s,gg)
_(o24,o44)
_(cZ4,o24)
_(cO4,cZ4)
}
cO4.wxXCkey=1
cO4.wxXCkey=3
cO4.wxXCkey=3
_(cL4,oN4)
}
var hM4=_v()
_(oJ4,hM4)
if(_oz(z,125,e,s,gg)){hM4.wxVkey=1
var l54=_n('view')
_rz(z,l54,'class',126,e,s,gg)
var a64=_v()
_(l54,a64)
if(_oz(z,127,e,s,gg)){a64.wxVkey=1
var t74=_mz(z,'willsell-remind-btn',['bind:tap',128,'btnText',1],[],e,s,gg)
_(a64,t74)
}
else{a64.wxVkey=2
var e84=_mz(z,'login-button',['data-btn_login',-1,'data-ignore-login-fail',-1,'bind:userinfo',130,'class',1,'data-fresh',2,'isLogin',3,'slot',4],[],e,s,gg)
var b94=_mz(z,'view',['class',135,'slot',1],[],e,s,gg)
var o04=_n('willsell-remind-btn')
_rz(z,o04,'btnText',137,e,s,gg)
_(b94,o04)
_(e84,b94)
var xA5=_mz(z,'getphone-button',['bind:getPhoneNumber',138,'bind:normalButtonTap',1,'isGetPhoneButton',2,'slot',3],[],e,s,gg)
var oB5=_mz(z,'view',['class',142,'slot',1],[],e,s,gg)
var fC5=_n('willsell-remind-btn')
_rz(z,fC5,'btnText',144,e,s,gg)
_(oB5,fC5)
_(xA5,oB5)
var cD5=_mz(z,'view',['class',145,'slot',1],[],e,s,gg)
var hE5=_n('willsell-remind-btn')
_rz(z,hE5,'btnText',147,e,s,gg)
_(cD5,hE5)
_(xA5,cD5)
_(e84,xA5)
_(a64,e84)
}
a64.wxXCkey=1
a64.wxXCkey=3
a64.wxXCkey=3
_(hM4,l54)
}
cL4.wxXCkey=1
cL4.wxXCkey=3
hM4.wxXCkey=1
hM4.wxXCkey=3
}
var fK4=_v()
_(bG4,fK4)
if(_oz(z,148,e,s,gg)){fK4.wxVkey=1
var oF5=_v()
_(fK4,oF5)
if(_oz(z,149,e,s,gg)){oF5.wxVkey=1
var oH5=_n('compose-button')
var lI5=_mz(z,'login-button',['data-btn_login',-1,'data-ignore-login-fail',-1,'bind:userinfo',150,'class',1,'data-fresh',2,'data-val_bid',3,'isLogin',4,'slot',5],[],e,s,gg)
var aJ5=_mz(z,'view',['class',156,'slot',1],[],e,s,gg)
var tK5=_n('prior-button')
_(aJ5,tK5)
_(lI5,aJ5)
var eL5=_mz(z,'getphone-button',['bind:getPhoneNumber',158,'bind:normalButtonTap',1,'isGetPhoneButton',2,'slot',3],[],e,s,gg)
var bM5=_mz(z,'view',['class',162,'slot',1],[],e,s,gg)
var oN5=_n('prior-button')
_(bM5,oN5)
_(eL5,bM5)
var xO5=_mz(z,'view',['class',164,'slot',1],[],e,s,gg)
var oP5=_n('prior-button')
_(xO5,oP5)
_(eL5,xO5)
_(lI5,eL5)
_(oH5,lI5)
var fQ5=_mz(z,'willsell-noremind-btn',['btnText',166,'slot',1],[],e,s,gg)
_(oH5,fQ5)
_(oF5,oH5)
}
var cG5=_v()
_(fK4,cG5)
if(_oz(z,168,e,s,gg)){cG5.wxVkey=1
var cR5=_n('willsell-noremind-btn')
_rz(z,cR5,'btnText',169,e,s,gg)
_(cG5,cR5)
}
oF5.wxXCkey=1
oF5.wxXCkey=3
cG5.wxXCkey=1
cG5.wxXCkey=3
}
oJ4.wxXCkey=1
oJ4.wxXCkey=3
fK4.wxXCkey=1
fK4.wxXCkey=3
}
var oH4=_v()
_(lK3,oH4)
if(_oz(z,170,e,s,gg)){oH4.wxVkey=1
var hS5=_n('view')
_rz(z,hS5,'class',171,e,s,gg)
var oT5=_v()
_(hS5,oT5)
if(_oz(z,172,e,s,gg)){oT5.wxVkey=1
var lW5=_v()
_(oT5,lW5)
if(_oz(z,173,e,s,gg)){lW5.wxVkey=1
var tY5=_n('compose-button')
var eZ5=_mz(z,'login-button',['data-btn_login',-1,'data-ignore-login-fail',-1,'bind:userinfo',174,'class',1,'data-fresh',2,'data-val_bid',3,'isLogin',4,'slot',5],[],e,s,gg)
var b15=_mz(z,'view',['class',180,'slot',1],[],e,s,gg)
var o25=_n('prior-button')
_(b15,o25)
_(eZ5,b15)
var x35=_mz(z,'getphone-button',['bind:getPhoneNumber',182,'bind:normalButtonTap',1,'isGetPhoneButton',2,'slot',3],[],e,s,gg)
var o45=_mz(z,'view',['class',186,'slot',1],[],e,s,gg)
var f55=_n('prior-button')
_(o45,f55)
_(x35,o45)
var c65=_mz(z,'view',['class',188,'slot',1],[],e,s,gg)
var h75=_n('prior-button')
_(c65,h75)
_(x35,c65)
_(eZ5,x35)
_(tY5,eZ5)
var o85=_mz(z,'login-button',['data-btn_login',-1,'data-ignore-login-fail',-1,'bind:userinfo',190,'class',1,'data-fresh',2,'data-val_bid',3,'isLogin',4,'slot',5],[],e,s,gg)
var c95=_mz(z,'getphone-button',['bind:getPhoneNumber',196,'bind:normalButtonTap',1,'isGetPhoneButton',2,'slot',3],[],e,s,gg)
_(o85,c95)
_(tY5,o85)
_(lW5,tY5)
}
var aX5=_v()
_(oT5,aX5)
if(_oz(z,200,e,s,gg)){aX5.wxVkey=1
var o05=_mz(z,'login-button',['data-btn_login',-1,'data-ignore-login-fail',-1,'bind:userinfo',201,'class',1,'data-fresh',2,'data-val_bid',3,'isLogin',4],[],e,s,gg)
var lA6=_mz(z,'getphone-button',['bind:getPhoneNumber',206,'bind:normalButtonTap',1,'isGetPhoneButton',2,'slot',3],[],e,s,gg)
_(o05,lA6)
_(aX5,o05)
}
lW5.wxXCkey=1
lW5.wxXCkey=3
aX5.wxXCkey=1
aX5.wxXCkey=3
}
var cU5=_v()
_(hS5,cU5)
if(_oz(z,210,e,s,gg)){cU5.wxVkey=1
var aB6=_v()
_(cU5,aB6)
if(_oz(z,211,e,s,gg)){aB6.wxVkey=1
var eD6=_n('compose-button')
var bE6=_mz(z,'login-button',['data-btn_login',-1,'data-ignore-login-fail',-1,'bind:userinfo',212,'class',1,'data-fresh',2,'data-val_bid',3,'isLogin',4,'slot',5],[],e,s,gg)
var oF6=_mz(z,'view',['class',218,'slot',1],[],e,s,gg)
var xG6=_n('prior-button')
_(oF6,xG6)
_(bE6,oF6)
var oH6=_mz(z,'getphone-button',['bind:getPhoneNumber',220,'bind:normalButtonTap',1,'isGetPhoneButton',2,'slot',3],[],e,s,gg)
var fI6=_mz(z,'view',['class',224,'slot',1],[],e,s,gg)
var cJ6=_n('prior-button')
_(fI6,cJ6)
_(oH6,fI6)
var hK6=_mz(z,'view',['class',226,'slot',1],[],e,s,gg)
var oL6=_n('prior-button')
_(hK6,oL6)
_(oH6,hK6)
_(bE6,oH6)
_(eD6,bE6)
var cM6=_mz(z,'login-button',['data-btn_login',-1,'data-ignore-login-fail',-1,'bind:userinfo',228,'class',1,'data-fresh',2,'data-val_bid',3,'isLogin',4,'slot',5],[],e,s,gg)
var oN6=_mz(z,'getphone-button',['bind:getPhoneNumber',234,'bind:normalButtonTap',1,'isGetPhoneButton',2,'slot',3],[],e,s,gg)
_(cM6,oN6)
_(eD6,cM6)
_(aB6,eD6)
}
var tC6=_v()
_(cU5,tC6)
if(_oz(z,238,e,s,gg)){tC6.wxVkey=1
var lO6=_mz(z,'login-button',['data-btn_login',-1,'data-ignore-login-fail',-1,'bind:userinfo',239,'class',1,'data-fresh',2,'data-val_bid',3,'isLogin',4],[],e,s,gg)
var aP6=_mz(z,'getphone-button',['bind:getPhoneNumber',244,'bind:normalButtonTap',1,'isGetPhoneButton',2,'slot',3],[],e,s,gg)
_(lO6,aP6)
_(tC6,lO6)
}
aB6.wxXCkey=1
aB6.wxXCkey=3
tC6.wxXCkey=1
tC6.wxXCkey=3
}
var oV5=_v()
_(hS5,oV5)
if(_oz(z,248,e,s,gg)){oV5.wxVkey=1
var tQ6=_v()
_(oV5,tQ6)
if(_oz(z,249,e,s,gg)){tQ6.wxVkey=1
var bS6=_n('compose-button')
var oT6=_mz(z,'login-button',['data-btn_login',-1,'data-ignore-login-fail',-1,'bind:userinfo',250,'class',1,'data-fresh',2,'data-val_bid',3,'isLogin',4,'slot',5],[],e,s,gg)
var xU6=_mz(z,'view',['class',256,'slot',1],[],e,s,gg)
var oV6=_n('prior-button')
_(xU6,oV6)
_(oT6,xU6)
var fW6=_mz(z,'getphone-button',['bind:getPhoneNumber',258,'bind:normalButtonTap',1,'isGetPhoneButton',2,'slot',3],[],e,s,gg)
var cX6=_mz(z,'view',['class',262,'slot',1],[],e,s,gg)
var hY6=_n('prior-button')
_(cX6,hY6)
_(fW6,cX6)
var oZ6=_mz(z,'view',['class',264,'slot',1],[],e,s,gg)
var c16=_n('prior-button')
_(oZ6,c16)
_(fW6,oZ6)
_(oT6,fW6)
_(bS6,oT6)
var o26=_mz(z,'login-button',['data-btn_login',-1,'data-ignore-login-fail',-1,'bind:userinfo',266,'class',1,'data-fresh',2,'data-val_bid',3,'isLogin',4,'slot',5],[],e,s,gg)
var l36=_mz(z,'getphone-button',['bind:getPhoneNumber',272,'bind:normalButtonTap',1,'isGetPhoneButton',2,'slot',3],[],e,s,gg)
_(o26,l36)
_(bS6,o26)
_(tQ6,bS6)
}
var eR6=_v()
_(oV5,eR6)
if(_oz(z,276,e,s,gg)){eR6.wxVkey=1
var a46=_mz(z,'login-button',['data-btn_login',-1,'data-ignore-login-fail',-1,'bind:userinfo',277,'class',1,'data-fresh',2,'data-val_bid',3,'isLogin',4],[],e,s,gg)
var t56=_mz(z,'getphone-button',['bind:getPhoneNumber',282,'bind:normalButtonTap',1,'isGetPhoneButton',2,'slot',3],[],e,s,gg)
_(a46,t56)
_(eR6,a46)
}
tQ6.wxXCkey=1
tQ6.wxXCkey=3
eR6.wxXCkey=1
eR6.wxXCkey=3
}
oT5.wxXCkey=1
oT5.wxXCkey=3
cU5.wxXCkey=1
cU5.wxXCkey=3
oV5.wxXCkey=1
oV5.wxXCkey=3
_(oH4,hS5)
}
var xI4=_v()
_(lK3,xI4)
if(_oz(z,286,e,s,gg)){xI4.wxVkey=1
}
bG4.wxXCkey=1
bG4.wxXCkey=3
oH4.wxXCkey=1
oH4.wxXCkey=3
xI4.wxXCkey=1
}
hG3.wxXCkey=1
hG3.wxXCkey=3
oH3.wxXCkey=1
oH3.wxXCkey=3
cI3.wxXCkey=1
cI3.wxXCkey=3
oJ3.wxXCkey=1
oJ3.wxXCkey=3
lK3.wxXCkey=1
lK3.wxXCkey=3
_(oB3,cF3)
}
var xC3=_v()
_(r,xC3)
if(_oz(z,287,e,s,gg)){xC3.wxVkey=1
var e66=_v()
_(xC3,e66)
if(_oz(z,288,e,s,gg)){e66.wxVkey=1
var fA7=_n('unknown-err-page')
_rz(z,fA7,'show',289,e,s,gg)
_(e66,fA7)
}
var b76=_v()
_(xC3,b76)
if(_oz(z,290,e,s,gg)){b76.wxVkey=1
var cB7=_mz(z,'network-err-page',['bind:reloadButtonTap',291,'show',1],[],e,s,gg)
_(b76,cB7)
}
var o86=_v()
_(xC3,o86)
if(_oz(z,293,e,s,gg)){o86.wxVkey=1
var hC7=_n('expired-err-page')
_rz(z,hC7,'show',294,e,s,gg)
_(o86,hC7)
}
var x96=_v()
_(xC3,x96)
if(_oz(z,295,e,s,gg)){x96.wxVkey=1
var oD7=_mz(z,'crowded-err-page',['bind:back',296,'show',1,'text',2],[],e,s,gg)
_(x96,oD7)
}
var o06=_v()
_(xC3,o06)
if(_oz(z,299,e,s,gg)){o06.wxVkey=1
var cE7=_mz(z,'crowded-err-page',['bind:back',300,'show',1,'text',2],[],e,s,gg)
_(o06,cE7)
}
e66.wxXCkey=1
e66.wxXCkey=3
b76.wxXCkey=1
b76.wxXCkey=3
o86.wxXCkey=1
o86.wxXCkey=3
x96.wxXCkey=1
x96.wxXCkey=3
o06.wxXCkey=1
o06.wxXCkey=3
}
var oD3=_v()
_(r,oD3)
if(_oz(z,303,e,s,gg)){oD3.wxVkey=1
var oF7=_mz(z,'session-list',['bind:close',304,'bind:tapsession',1,'isIphone',2,'selected',3,'sessions',4,'stockout',5],[],e,s,gg)
_(oD3,oF7)
}
var lG7=_mz(z,'remind-modal',['bind:closeRemind',310,'bind:phoneinputChange',1,'bind:registerPhone',2,'phoneToRegist',3,'show',4],[],e,s,gg)
_(r,lG7)
var aH7=_mz(z,'remind-modal-with-price',['bind:close',315,'bind:inputchange',1,'bind:priceselect',2,'bind:submit',3,'isIphone',4,'isIphoneX',5,'phoneNumber',6,'show',7,'tags',8],[],e,s,gg)
_(r,aH7)
var fE3=_v()
_(r,fE3)
if(_oz(z,324,e,s,gg)){fE3.wxVkey=1
var tI7=_mz(z,'crowded-toast',['bind:close',325,'show',1],[],e,s,gg)
_(fE3,tI7)
}
_ic(x[11],e_,x[119],e,s,r,gg);
oB3.wxXCkey=1
oB3.wxXCkey=3
xC3.wxXCkey=1
xC3.wxXCkey=3
oD3.wxXCkey=1
oD3.wxXCkey=3
fE3.wxXCkey=1
fE3.wxXCkey=3
bA3.pop()
return r
}
e_[x[119]]={f:m91,j:[],i:[],ti:[],ic:[x[11]]}
d_[x[120]]={}
var m92=function(e,s,r,gg){
var z=gz$gwx_93()
var bK7=e_[x[120]].i
var oL7=e_[x[120]].j
_ai(bK7,x[121],e_,x[120],1,1)
_ai(bK7,x[47],e_,x[120],1,56)
var xM7=_n('view')
_rz(z,xM7,'class',0,e,s,gg)
var oT7=_v()
_(xM7,oT7)
var lU7=_oz(z,2,e,s,gg)
var aV7=_gd(x[120],lU7,e_,d_)
if(aV7){
var tW7=_1z(z,1,e,s,gg) || {}
var cur_globalf=gg.f
oT7.wxXCkey=3
aV7(tW7,tW7,oT7,gg)
gg.f=cur_globalf
}
else _w(lU7,x[120],1,518)
var oN7=_v()
_(xM7,oN7)
if(_oz(z,3,e,s,gg)){oN7.wxVkey=1
}
var fO7=_v()
_(xM7,fO7)
if(_oz(z,4,e,s,gg)){fO7.wxVkey=1
}
var cP7=_v()
_(xM7,cP7)
if(_oz(z,5,e,s,gg)){cP7.wxVkey=1
}
var hQ7=_v()
_(xM7,hQ7)
if(_oz(z,6,e,s,gg)){hQ7.wxVkey=1
var eX7=_n('view')
_rz(z,eX7,'class',7,e,s,gg)
var bY7=_v()
_(eX7,bY7)
if(_oz(z,8,e,s,gg)){bY7.wxVkey=1
}
var oZ7=_v()
_(eX7,oZ7)
if(_oz(z,9,e,s,gg)){oZ7.wxVkey=1
}
bY7.wxXCkey=1
oZ7.wxXCkey=1
_(hQ7,eX7)
}
var oR7=_v()
_(xM7,oR7)
if(_oz(z,10,e,s,gg)){oR7.wxVkey=1
}
var cS7=_v()
_(xM7,cS7)
if(_oz(z,11,e,s,gg)){cS7.wxVkey=1
var x17=_n('view')
_rz(z,x17,'class',12,e,s,gg)
var o27=_v()
_(x17,o27)
if(_oz(z,13,e,s,gg)){o27.wxVkey=1
}
var f37=_mz(z,'scroll-view',['scrollY',-1,'class',14],[],e,s,gg)
var h57=_v()
_(f37,h57)
var o67=function(o87,c77,l97,gg){
var tA8=_v()
_(l97,tA8)
var eB8=_oz(z,19,o87,c77,gg)
var bC8=_gd(x[120],eB8,e_,d_)
if(bC8){
var oD8=_1z(z,18,o87,c77,gg) || {}
var cur_globalf=gg.f
tA8.wxXCkey=3
bC8(oD8,oD8,tA8,gg)
gg.f=cur_globalf
}
else _w(eB8,x[120],1,6379)
return l97
}
h57.wxXCkey=2
_2z(z,16,o67,e,s,gg,h57,'performance','index','{{performance.performanceId}}')
var c47=_v()
_(f37,c47)
if(_oz(z,20,e,s,gg)){c47.wxVkey=1
}
var xE8=_v()
_(f37,xE8)
var oF8=function(cH8,fG8,hI8,gg){
var cK8=_v()
_(hI8,cK8)
var oL8=_oz(z,25,cH8,fG8,gg)
var lM8=_gd(x[120],oL8,e_,d_)
if(lM8){
var aN8=_1z(z,24,cH8,fG8,gg) || {}
var cur_globalf=gg.f
cK8.wxXCkey=3
lM8(aN8,aN8,cK8,gg)
gg.f=cur_globalf
}
else _w(oL8,x[120],1,6856)
return hI8
}
xE8.wxXCkey=2
_2z(z,22,oF8,e,s,gg,xE8,'recommendPerformance','index','{{recommendPerformance.performanceId}}')
c47.wxXCkey=1
_(x17,f37)
o27.wxXCkey=1
_(cS7,x17)
}
oN7.wxXCkey=1
fO7.wxXCkey=1
cP7.wxXCkey=1
hQ7.wxXCkey=1
oR7.wxXCkey=1
cS7.wxXCkey=1
_(r,xM7)
_ic(x[11],e_,x[120],e,s,r,gg);
bK7.pop()
bK7.pop()
oL7.pop()
return r
}
e_[x[120]]={f:m92,j:[],i:[],ti:[x[121],x[47]],ic:[x[11]]}
d_[x[122]]={}
var m93=function(e,s,r,gg){
var z=gz$gwx_94()
var eP8=e_[x[122]].i
var bQ8=e_[x[122]].j
_ai(eP8,x[121],e_,x[122],1,1)
_ai(eP8,x[123],e_,x[122],1,48)
var oR8=_v()
_(r,oR8)
if(_oz(z,0,e,s,gg)){oR8.wxVkey=1
var fU8=_v()
_(oR8,fU8)
if(_oz(z,1,e,s,gg)){fU8.wxVkey=1
}
fU8.wxXCkey=1
}
var xS8=_v()
_(r,xS8)
if(_oz(z,2,e,s,gg)){xS8.wxVkey=1
var cV8=_v()
_(xS8,cV8)
var hW8=_oz(z,4,e,s,gg)
var oX8=_gd(x[122],hW8,e_,d_)
if(oX8){
var cY8=_1z(z,3,e,s,gg) || {}
var cur_globalf=gg.f
cV8.wxXCkey=3
oX8(cY8,cY8,cV8,gg)
gg.f=cur_globalf
}
else _w(hW8,x[122],1,1109)
}
var oT8=_v()
_(r,oT8)
if(_oz(z,5,e,s,gg)){oT8.wxVkey=1
var oZ8=_n('scroll-view')
oZ8.attr['scrollY']=true
var b58=_v()
_(oZ8,b58)
var o68=function(o88,x78,f98,gg){
var hA9=_v()
_(f98,hA9)
var oB9=_oz(z,10,o88,x78,gg)
var cC9=_gd(x[122],oB9,e_,d_)
if(cC9){
var oD9=_1z(z,9,o88,x78,gg) || {}
var cur_globalf=gg.f
hA9.wxXCkey=3
cC9(oD9,oD9,hA9,gg)
gg.f=cur_globalf
}
else _w(oB9,x[122],1,1374)
return f98
}
b58.wxXCkey=2
_2z(z,7,o68,e,s,gg,b58,'performance','index','{{ index }}')
var l18=_v()
_(oZ8,l18)
if(_oz(z,11,e,s,gg)){l18.wxVkey=1
}
var a28=_v()
_(oZ8,a28)
if(_oz(z,12,e,s,gg)){a28.wxVkey=1
}
var lE9=_v()
_(oZ8,lE9)
var aF9=function(eH9,tG9,bI9,gg){
var xK9=_v()
_(bI9,xK9)
var oL9=_oz(z,17,eH9,tG9,gg)
var fM9=_gd(x[122],oL9,e_,d_)
if(fM9){
var cN9=_1z(z,16,eH9,tG9,gg) || {}
var cur_globalf=gg.f
xK9.wxXCkey=3
fM9(cN9,cN9,xK9,gg)
gg.f=cur_globalf
}
else _w(oL9,x[122],1,1966)
return bI9
}
lE9.wxXCkey=2
_2z(z,14,aF9,e,s,gg,lE9,'recommendPerformance','index','{{recommendPerformance.performanceId}}')
var t38=_v()
_(oZ8,t38)
if(_oz(z,18,e,s,gg)){t38.wxVkey=1
}
var e48=_v()
_(oZ8,e48)
if(_oz(z,19,e,s,gg)){e48.wxVkey=1
}
l18.wxXCkey=1
a28.wxXCkey=1
t38.wxXCkey=1
e48.wxXCkey=1
_(oT8,oZ8)
}
else{oT8.wxVkey=2
}
_ic(x[11],e_,x[122],e,s,r,gg);
oR8.wxXCkey=1
xS8.wxXCkey=1
oT8.wxXCkey=1
eP8.pop()
eP8.pop()
bQ8.pop()
return r
}
e_[x[122]]={f:m93,j:[],i:[],ti:[x[121],x[123]],ic:[x[11]]}
d_[x[124]]={}
var m94=function(e,s,r,gg){
var z=gz$gwx_95()
var oP9=_v()
_(r,oP9)
if(_oz(z,0,e,s,gg)){oP9.wxVkey=1
var cQ9=_n('view')
_rz(z,cQ9,'class',1,e,s,gg)
var lS9=_n('view')
_rz(z,lS9,'class',2,e,s,gg)
var aT9=_n('view')
_rz(z,aT9,'class',3,e,s,gg)
var tU9=_v()
_(aT9,tU9)
if(_oz(z,4,e,s,gg)){tU9.wxVkey=1
var eV9=_v()
_(tU9,eV9)
if(_oz(z,5,e,s,gg)){eV9.wxVkey=1
}
eV9.wxXCkey=1
}
else{tU9.wxVkey=2
}
tU9.wxXCkey=1
_(lS9,aT9)
var bW9=_n('view')
_rz(z,bW9,'class',6,e,s,gg)
var oX9=_v()
_(bW9,oX9)
if(_oz(z,7,e,s,gg)){oX9.wxVkey=1
}
var xY9=_mz(z,'navigator',['bindtap',8,'class',1],[],e,s,gg)
var oZ9=_v()
_(xY9,oZ9)
if(_oz(z,10,e,s,gg)){oZ9.wxVkey=1
}
oZ9.wxXCkey=1
_(bW9,xY9)
oX9.wxXCkey=1
_(lS9,bW9)
_(cQ9,lS9)
var f19=_v()
_(cQ9,f19)
var c29=function(o49,h39,c59,gg){
var l79=_n('view')
_rz(z,l79,'style',13,o49,h39,gg)
var a89=_v()
_(l79,a89)
if(_oz(z,14,o49,h39,gg)){a89.wxVkey=1
}
var t99=_v()
_(l79,t99)
if(_oz(z,15,o49,h39,gg)){t99.wxVkey=1
}
a89.wxXCkey=1
t99.wxXCkey=1
_(c59,l79)
return c59
}
f19.wxXCkey=2
_2z(z,11,c29,e,s,gg,f19,'item','index','{{ index }}')
var oR9=_v()
_(cQ9,oR9)
if(_oz(z,16,e,s,gg)){oR9.wxVkey=1
var e09=_n('view')
_rz(z,e09,'class',17,e,s,gg)
var bA0=_v()
_(e09,bA0)
if(_oz(z,18,e,s,gg)){bA0.wxVkey=1
}
var oB0=_v()
_(e09,oB0)
if(_oz(z,19,e,s,gg)){oB0.wxVkey=1
}
var xC0=_v()
_(e09,xC0)
if(_oz(z,20,e,s,gg)){xC0.wxVkey=1
}
var oD0=_v()
_(e09,oD0)
if(_oz(z,21,e,s,gg)){oD0.wxVkey=1
}
bA0.wxXCkey=1
oB0.wxXCkey=1
xC0.wxXCkey=1
oD0.wxXCkey=1
_(oR9,e09)
}
oR9.wxXCkey=1
_(oP9,cQ9)
}
oP9.wxXCkey=1
return r
}
e_[x[124]]={f:m94,j:[],i:[],ti:[],ic:[]}
d_[x[125]]={}
d_[x[125]]["loading-text"]=function(e,s,r,gg){
var z=gz$gwx_96()
var b=x[125]+':loading-text'
r.wxVkey=b
gg.f=$gdc(f_["./pages/show/list/tpl/_loading-text.wxml"],"",1)
if(p_[b]){_wl(b,x[125]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m95=function(e,s,r,gg){
var z=gz$gwx_96()
return r
}
e_[x[125]]={f:m95,j:[],i:[],ti:[],ic:[]}
d_[x[126]]={}
d_[x[126]]["show-search"]=function(e,s,r,gg){
var z=gz$gwx_97()
var b=x[126]+':show-search'
r.wxVkey=b
gg.f=$gdc(f_["./pages/show/list/tpl/_show-search.wxml"],"",1)
if(p_[b]){_wl(b,x[126]);return}
p_[b]=true
try{
var oB=_mz(z,'navigator',['catchtap',1,'class',1,'data-url',2,'data-val_bid',3,'data-val_lab',4,'hoverClass',5,'openType',6],[],e,s,gg)
var xC=_v()
_(oB,xC)
if(_oz(z,8,e,s,gg)){xC.wxVkey=1
}
var oD=_v()
_(oB,oD)
if(_oz(z,9,e,s,gg)){oD.wxVkey=1
var fE=_n('view')
_rz(z,fE,'class',10,e,s,gg)
var cF=_v()
_(fE,cF)
if(_oz(z,11,e,s,gg)){cF.wxVkey=1
}
var hG=_v()
_(fE,hG)
if(_oz(z,12,e,s,gg)){hG.wxVkey=1
}
cF.wxXCkey=1
hG.wxXCkey=1
_(oD,fE)
}
xC.wxXCkey=1
oD.wxXCkey=1
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m96=function(e,s,r,gg){
var z=gz$gwx_97()
return r
}
e_[x[126]]={f:m96,j:[],i:[],ti:[],ic:[]}
d_[x[127]]={}
d_[x[127]]["show"]=function(e,s,r,gg){
var z=gz$gwx_98()
var b=x[127]+':show'
r.wxVkey=b
gg.f=$gdc(f_["./pages/show/list/tpl/_show.wxml"],"",1)
if(p_[b]){_wl(b,x[127]);return}
p_[b]=true
try{
var oB=_mz(z,'navigator',['catchtap',1,'class',1,'data-url',2,'data-val_bid',3,'data-val_lab',4,'hoverClass',5,'openType',6],[],e,s,gg)
var xC=_n('view')
_rz(z,xC,'class',8,e,s,gg)
var oD=_v()
_(xC,oD)
if(_oz(z,9,e,s,gg)){oD.wxVkey=1
var fE=_n('view')
_rz(z,fE,'class',10,e,s,gg)
var cF=_v()
_(fE,cF)
if(_oz(z,11,e,s,gg)){cF.wxVkey=1
}
var hG=_v()
_(fE,hG)
if(_oz(z,12,e,s,gg)){hG.wxVkey=1
}
var oH=_v()
_(fE,oH)
if(_oz(z,13,e,s,gg)){oH.wxVkey=1
}
var cI=_v()
_(fE,cI)
if(_oz(z,14,e,s,gg)){cI.wxVkey=1
}
cF.wxXCkey=1
hG.wxXCkey=1
oH.wxXCkey=1
cI.wxXCkey=1
_(oD,fE)
}
else{oD.wxVkey=2
}
oD.wxXCkey=1
_(oB,xC)
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m97=function(e,s,r,gg){
var z=gz$gwx_98()
return r
}
e_[x[127]]={f:m97,j:[],i:[],ti:[],ic:[]}
d_[x[128]]={}
d_[x[128]]["_publicClassForm"]=function(e,s,r,gg){
var z=gz$gwx_99()
var b=x[128]+':_publicClassForm'
r.wxVkey=b
gg.f=$gdc(f_["./pages/show/public-class/_info.wxml"],"",1)
if(p_[b]){_wl(b,x[128]);return}
p_[b]=true
try{
var oB=_n('view')
_rz(z,oB,'class',1,e,s,gg)
var xC=_v()
_(oB,xC)
if(_oz(z,2,e,s,gg)){xC.wxVkey=1
}
var oD=_v()
_(oB,oD)
if(_oz(z,3,e,s,gg)){oD.wxVkey=1
}
var fE=_mz(z,'picker',['bindchange',4,'class',1,'data-name',2,'mode',3,'value',4],[],e,s,gg)
var cF=_v()
_(fE,cF)
if(_oz(z,9,e,s,gg)){cF.wxVkey=1
}
cF.wxXCkey=1
_(oB,fE)
xC.wxXCkey=1
oD.wxXCkey=1
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m98=function(e,s,r,gg){
var z=gz$gwx_99()
return r
}
e_[x[128]]={f:m98,j:[],i:[],ti:[],ic:[]}
d_[x[129]]={}
var m99=function(e,s,r,gg){
var z=gz$gwx_100()
var oJ0=e_[x[129]].i
var lK0=e_[x[129]].j
_ai(oJ0,x[121],e_,x[129],1,1)
var aL0=_v()
_(r,aL0)
if(_oz(z,0,e,s,gg)){aL0.wxVkey=1
}
var tM0=_v()
_(r,tM0)
if(_oz(z,1,e,s,gg)){tM0.wxVkey=1
}
else{tM0.wxVkey=2
var eN0=_v()
_(tM0,eN0)
if(_oz(z,2,e,s,gg)){eN0.wxVkey=1
var bO0=_mz(z,'scroll-view',['bindscrolltolower',3,'class',1,'scrollY',2],[],e,s,gg)
var oR0=_v()
_(bO0,oR0)
var fS0=function(hU0,cT0,oV0,gg){
var oX0=_v()
_(oV0,oX0)
var lY0=_oz(z,10,hU0,cT0,gg)
var aZ0=_gd(x[129],lY0,e_,d_)
if(aZ0){
var t10=_1z(z,9,hU0,cT0,gg) || {}
var cur_globalf=gg.f
oX0.wxXCkey=3
aZ0(t10,t10,oX0,gg)
gg.f=cur_globalf
}
else _w(lY0,x[129],1,1330)
return oV0
}
oR0.wxXCkey=2
_2z(z,7,fS0,e,s,gg,oR0,'item','index','{{ index }}')
var oP0=_v()
_(bO0,oP0)
if(_oz(z,11,e,s,gg)){oP0.wxVkey=1
}
var xQ0=_v()
_(bO0,xQ0)
if(_oz(z,12,e,s,gg)){xQ0.wxVkey=1
}
oP0.wxXCkey=1
xQ0.wxXCkey=1
_(eN0,bO0)
}
else if(_oz(z,13,e,s,gg)){eN0.wxVkey=2
}
eN0.wxXCkey=1
}
_ic(x[11],e_,x[129],e,s,r,gg);
aL0.wxXCkey=1
tM0.wxXCkey=1
oJ0.pop()
lK0.pop()
return r
}
e_[x[129]]={f:m99,j:[],i:[],ti:[x[121]],ic:[x[11]]}
d_[x[130]]={}
d_[x[130]]["banner"]=function(e,s,r,gg){
var z=gz$gwx_101()
var b=x[130]+':banner'
r.wxVkey=b
gg.f=$gdc(f_["./pages/show/tpl/_banner.wxml"],"",1)
if(p_[b]){_wl(b,x[130]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m100=function(e,s,r,gg){
var z=gz$gwx_101()
return r
}
e_[x[130]]={f:m100,j:[],i:[],ti:[],ic:[]}
d_[x[131]]={}
var m101=function(e,s,r,gg){
var z=gz$gwx_102()
return r
}
e_[x[131]]={f:m101,j:[],i:[],ti:[],ic:[]}
d_[x[132]]={}
d_[x[132]]["bubbleList"]=function(e,s,r,gg){
var z=gz$gwx_103()
var b=x[132]+':bubbleList'
r.wxVkey=b
gg.f=$gdc(f_["./pages/themeg/tpl/bubble.wxml"],"",1)
if(p_[b]){_wl(b,x[132]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m102=function(e,s,r,gg){
var z=gz$gwx_103()
return r
}
e_[x[132]]={f:m102,j:[],i:[],ti:[],ic:[]}
d_[x[133]]={}
d_[x[133]]["captcha"]=function(e,s,r,gg){
var z=gz$gwx_104()
var b=x[133]+':captcha'
r.wxVkey=b
gg.f=$gdc(f_["./pages/user/_captcha.wxml"],"",1)
if(p_[b]){_wl(b,x[133]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
var xC=_mz(z,'view',['catchtouchmove',2,'class',1],[],e,s,gg)
var oD=_v()
_(xC,oD)
if(_oz(z,4,e,s,gg)){oD.wxVkey=1
}
oD.wxXCkey=1
_(oB,xC)
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m103=function(e,s,r,gg){
var z=gz$gwx_104()
return r
}
e_[x[133]]={f:m103,j:[],i:[],ti:[],ic:[]}
d_[x[134]]={}
var m104=function(e,s,r,gg){
var z=gz$gwx_105()
return r
}
e_[x[134]]={f:m104,j:[],i:[],ti:[],ic:[]}
d_[x[135]]={}
d_[x[135]]["login-licence"]=function(e,s,r,gg){
var z=gz$gwx_106()
var b=x[135]+':login-licence'
r.wxVkey=b
gg.f=$gdc(f_["./pages/user/_login-licence.wxml"],"",1)
if(p_[b]){_wl(b,x[135]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m105=function(e,s,r,gg){
var z=gz$gwx_106()
return r
}
e_[x[135]]={f:m105,j:[],i:[],ti:[],ic:[]}
d_[x[136]]={}
d_[x[136]]["mobile-login"]=function(e,s,r,gg){
var z=gz$gwx_107()
var b=x[136]+':mobile-login'
r.wxVkey=b
gg.f=$gdc(f_["./pages/user/_mobile-login.wxml"],"",1)
if(p_[b]){_wl(b,x[136]);return}
p_[b]=true
try{
var oB=_n('form')
_rz(z,oB,'bindsubmit',1,e,s,gg)
var xC=_v()
_(oB,xC)
if(_oz(z,2,e,s,gg)){xC.wxVkey=1
}
xC.wxXCkey=1
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m106=function(e,s,r,gg){
var z=gz$gwx_107()
return r
}
e_[x[136]]={f:m106,j:[],i:[],ti:[],ic:[]}
d_[x[137]]={}
var m107=function(e,s,r,gg){
var z=gz$gwx_108()
var o00=e_[x[137]].i
var cAAB=e_[x[137]].j
_ai(o00,x[138],e_,x[137],1,1)
var lCAB=_n('view')
_rz(z,lCAB,'class',0,e,s,gg)
var aDAB=_v()
_(lCAB,aDAB)
if(_oz(z,1,e,s,gg)){aDAB.wxVkey=1
var xIAB=_mz(z,'navigator',['data-need-login',-1,'catchtap',2,'class',1,'data-url',2,'data-val_bid',3,'hoverClass',4,'style',5],[],e,s,gg)
var oJAB=_v()
_(xIAB,oJAB)
if(_oz(z,8,e,s,gg)){oJAB.wxVkey=1
}
oJAB.wxXCkey=1
_(aDAB,xIAB)
var fKAB=_mz(z,'navigator',['data-need-login',-1,'catchtap',9,'class',1,'data-url',2,'data-val_bid',3,'hoverClass',4],[],e,s,gg)
var cLAB=_v()
_(fKAB,cLAB)
if(_oz(z,14,e,s,gg)){cLAB.wxVkey=1
}
cLAB.wxXCkey=1
_(aDAB,fKAB)
}
var tEAB=_v()
_(lCAB,tEAB)
if(_oz(z,15,e,s,gg)){tEAB.wxVkey=1
}
var eFAB=_v()
_(lCAB,eFAB)
if(_oz(z,16,e,s,gg)){eFAB.wxVkey=1
var hMAB=_mz(z,'scroll-view',['scrollX',-1,'bindscroll',17,'class',1],[],e,s,gg)
var oNAB=_v()
_(hMAB,oNAB)
if(_oz(z,19,e,s,gg)){oNAB.wxVkey=1
}
oNAB.wxXCkey=1
_(eFAB,hMAB)
}
var cOAB=_n('view')
var lQAB=_n('view')
_rz(z,lQAB,'class',20,e,s,gg)
var aRAB=_v()
_(lQAB,aRAB)
if(_oz(z,21,e,s,gg)){aRAB.wxVkey=1
}
var tSAB=_v()
_(lQAB,tSAB)
var eTAB=function(oVAB,bUAB,xWAB,gg){
var fYAB=_v()
_(xWAB,fYAB)
if(_oz(z,24,oVAB,bUAB,gg)){fYAB.wxVkey=1
var cZAB=_mz(z,'nav',['class',25,'externalStyle',1,'url',2,'val_bid',3,'val_lab',4],[],oVAB,bUAB,gg)
var h1AB=_v()
_(cZAB,h1AB)
if(_oz(z,30,oVAB,bUAB,gg)){h1AB.wxVkey=1
}
var o2AB=_v()
_(cZAB,o2AB)
if(_oz(z,31,oVAB,bUAB,gg)){o2AB.wxVkey=1
}
var c3AB=_v()
_(cZAB,c3AB)
if(_oz(z,32,oVAB,bUAB,gg)){c3AB.wxVkey=1
}
var o4AB=_v()
_(cZAB,o4AB)
if(_oz(z,33,oVAB,bUAB,gg)){o4AB.wxVkey=1
}
var l5AB=_v()
_(cZAB,l5AB)
if(_oz(z,34,oVAB,bUAB,gg)){l5AB.wxVkey=1
}
h1AB.wxXCkey=1
o2AB.wxXCkey=1
c3AB.wxXCkey=1
o4AB.wxXCkey=1
l5AB.wxXCkey=1
_(fYAB,cZAB)
}
fYAB.wxXCkey=1
fYAB.wxXCkey=3
return xWAB
}
tSAB.wxXCkey=4
_2z(z,22,eTAB,e,s,gg,tSAB,'item','index','activityId')
aRAB.wxXCkey=1
_(cOAB,lQAB)
var oPAB=_v()
_(cOAB,oPAB)
if(_oz(z,35,e,s,gg)){oPAB.wxVkey=1
var a6AB=_v()
_(oPAB,a6AB)
var t7AB=_oz(z,37,e,s,gg)
var e8AB=_gd(x[137],t7AB,e_,d_)
if(e8AB){
var b9AB=_1z(z,36,e,s,gg) || {}
var cur_globalf=gg.f
a6AB.wxXCkey=3
e8AB(b9AB,b9AB,a6AB,gg)
gg.f=cur_globalf
}
else _w(t7AB,x[137],1,8625)
}
oPAB.wxXCkey=1
_(lCAB,cOAB)
var bGAB=_v()
_(lCAB,bGAB)
if(_oz(z,38,e,s,gg)){bGAB.wxVkey=1
}
var oHAB=_v()
_(lCAB,oHAB)
if(_oz(z,39,e,s,gg)){oHAB.wxVkey=1
}
aDAB.wxXCkey=1
tEAB.wxXCkey=1
eFAB.wxXCkey=1
bGAB.wxXCkey=1
oHAB.wxXCkey=1
_(r,lCAB)
var oBAB=_v()
_(r,oBAB)
if(_oz(z,40,e,s,gg)){oBAB.wxVkey=1
}
_ic(x[11],e_,x[137],e,s,r,gg);
oBAB.wxXCkey=1
o00.pop()
cAAB.pop()
return r
}
e_[x[137]]={f:m107,j:[],i:[],ti:[x[138]],ic:[x[11]]}
d_[x[139]]={}
var m108=function(e,s,r,gg){
var z=gz$gwx_109()
var xABB=e_[x[139]].j
_ic(x[11],e_,x[139],e,s,r,gg);
xABB.pop()
return r
}
e_[x[139]]={f:m108,j:[],i:[],ti:[],ic:[x[11]]}
d_[x[140]]={}
d_[x[140]]["listItem"]=function(e,s,r,gg){
var z=gz$gwx_110()
var b=x[140]+':listItem'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/_apply.wxml"],"",1)
if(p_[b]){_wl(b,x[140]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m109=function(e,s,r,gg){
var z=gz$gwx_110()
return r
}
e_[x[140]]={f:m109,j:[],i:[],ti:[],ic:[]}
d_[x[141]]={}
d_[x[141]]["infoItem"]=function(e,s,r,gg){
var z=gz$gwx_111()
var b=x[141]+':infoItem'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/_detail.wxml"],"",1)
if(p_[b]){_wl(b,x[141]);return}
p_[b]=true
try{
var oB=_n('view')
_rz(z,oB,'class',1,e,s,gg)
var xC=_v()
_(oB,xC)
if(_oz(z,2,e,s,gg)){xC.wxVkey=1
}
else{xC.wxVkey=2
var oD=_v()
_(xC,oD)
if(_oz(z,4,e,s,gg)){oD.wxVkey=1
}
oD.wxXCkey=1
}
xC.wxXCkey=1
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[141]]["processItem"]=function(e,s,r,gg){
var z=gz$gwx_111()
var b=x[141]+':processItem'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/_detail.wxml"],"",1)
if(p_[b]){_wl(b,x[141]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m110=function(e,s,r,gg){
var z=gz$gwx_111()
var cDBB=_v()
_(r,cDBB)
if(_oz(z,6,e,s,gg)){cDBB.wxVkey=1
var hEBB=_n('view')
var oFBB=_v()
_(hEBB,oFBB)
if(_oz(z,7,e,s,gg)){oFBB.wxVkey=1
var oHBB=_n('view')
_rz(z,oHBB,'class',8,e,s,gg)
var eLBB=_v()
_(oHBB,eLBB)
var bMBB=_oz(z,11,e,s,gg)
var oNBB=_gd(x[141],bMBB,e_,d_)
if(oNBB){
var xOBB=_1z(z,10,e,s,gg) || {}
var cur_globalf=gg.f
eLBB.wxXCkey=3
oNBB(xOBB,xOBB,eLBB,gg)
gg.f=cur_globalf
}
else _w(bMBB,x[141],1,889)
var lIBB=_v()
_(oHBB,lIBB)
if(_oz(z,12,e,s,gg)){lIBB.wxVkey=1
var oPBB=_v()
_(lIBB,oPBB)
var fQBB=_oz(z,14,e,s,gg)
var cRBB=_gd(x[141],fQBB,e_,d_)
if(cRBB){
var hSBB=_1z(z,13,e,s,gg) || {}
var cur_globalf=gg.f
oPBB.wxXCkey=3
cRBB(hSBB,hSBB,oPBB,gg)
gg.f=cur_globalf
}
else _w(fQBB,x[141],1,963)
}
var aJBB=_v()
_(oHBB,aJBB)
if(_oz(z,15,e,s,gg)){aJBB.wxVkey=1
var oTBB=_v()
_(aJBB,oTBB)
var cUBB=_oz(z,17,e,s,gg)
var oVBB=_gd(x[141],cUBB,e_,d_)
if(oVBB){
var lWBB=_1z(z,16,e,s,gg) || {}
var cur_globalf=gg.f
oTBB.wxXCkey=3
oVBB(lWBB,lWBB,oTBB,gg)
gg.f=cur_globalf
}
else _w(cUBB,x[141],1,1054)
}
var tKBB=_v()
_(oHBB,tKBB)
if(_oz(z,18,e,s,gg)){tKBB.wxVkey=1
var aXBB=_v()
_(tKBB,aXBB)
var tYBB=_oz(z,20,e,s,gg)
var eZBB=_gd(x[141],tYBB,e_,d_)
if(eZBB){
var b1BB=_1z(z,19,e,s,gg) || {}
var cur_globalf=gg.f
aXBB.wxXCkey=3
eZBB(b1BB,b1BB,aXBB,gg)
gg.f=cur_globalf
}
else _w(tYBB,x[141],1,1139)
}
lIBB.wxXCkey=1
aJBB.wxXCkey=1
tKBB.wxXCkey=1
_(oFBB,oHBB)
}
var cGBB=_v()
_(hEBB,cGBB)
if(_oz(z,21,e,s,gg)){cGBB.wxVkey=1
var o2BB=_n('view')
_rz(z,o2BB,'class',22,e,s,gg)
var x3BB=_v()
_(o2BB,x3BB)
var o4BB=function(c6BB,f5BB,h7BB,gg){
var c9BB=_v()
_(h7BB,c9BB)
var o0BB=_oz(z,25,c6BB,f5BB,gg)
var lACB=_gd(x[141],o0BB,e_,d_)
if(lACB){
var aBCB=_1z(z,24,c6BB,f5BB,gg) || {}
var cur_globalf=gg.f
c9BB.wxXCkey=3
lACB(aBCB,aBCB,c9BB,gg)
gg.f=cur_globalf
}
else _w(o0BB,x[141],1,1474)
return h7BB
}
x3BB.wxXCkey=2
_2z(z,23,o4BB,e,s,gg,x3BB,'item','index','')
var tCCB=_v()
_(o2BB,tCCB)
var eDCB=function(oFCB,bECB,xGCB,gg){
var fICB=_v()
_(xGCB,fICB)
if(_oz(z,29,oFCB,bECB,gg)){fICB.wxVkey=1
var cJCB=_n('view')
_rz(z,cJCB,'class',30,oFCB,bECB,gg)
var hKCB=_v()
_(cJCB,hKCB)
if(_oz(z,31,oFCB,bECB,gg)){hKCB.wxVkey=1
}
var oLCB=_v()
_(cJCB,oLCB)
var cMCB=function(lOCB,oNCB,aPCB,gg){
var eRCB=_v()
_(aPCB,eRCB)
var bSCB=_oz(z,36,lOCB,oNCB,gg)
var oTCB=_gd(x[141],bSCB,e_,d_)
if(oTCB){
var xUCB=_1z(z,35,lOCB,oNCB,gg) || {}
var cur_globalf=gg.f
eRCB.wxXCkey=3
oTCB(xUCB,xUCB,eRCB,gg)
gg.f=cur_globalf
}
else _w(bSCB,x[141],1,2020)
return aPCB
}
oLCB.wxXCkey=2
_2z(z,34,cMCB,oFCB,bECB,gg,oLCB,'child','c','')
hKCB.wxXCkey=1
_(fICB,cJCB)
}
fICB.wxXCkey=1
return xGCB
}
tCCB.wxXCkey=2
_2z(z,28,eDCB,e,s,gg,tCCB,'parent','p','')
_(cGBB,o2BB)
}
oFBB.wxXCkey=1
cGBB.wxXCkey=1
_(cDBB,hEBB)
}
cDBB.wxXCkey=1
return r
}
e_[x[141]]={f:m110,j:[],i:[],ti:[],ic:[]}
d_[x[142]]={}
d_[x[142]]["access-limit-modal"]=function(e,s,r,gg){
var z=gz$gwx_112()
var b=x[142]+':access-limit-modal'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/access-limit.wxml"],"",1)
if(p_[b]){_wl(b,x[142]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m111=function(e,s,r,gg){
var z=gz$gwx_112()
return r
}
e_[x[142]]={f:m111,j:[],i:[],ti:[],ic:[]}
d_[x[143]]={}
d_[x[143]]["ad-banner"]=function(e,s,r,gg){
var z=gz$gwx_113()
var b=x[143]+':ad-banner'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/ad-banner.wxml"],"",1)
if(p_[b]){_wl(b,x[143]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
var xC=_mz(z,'swiper',['autoplay',-1,'circular',-1,'bindchange',2,'class',1,'current',2,'duration',3,'indicatorActiveColor',4,'indicatorColor',5,'indicatorDots',6,'interval',7],[],e,s,gg)
var oD=_v()
_(xC,oD)
var fE=function(hG,cF,oH,gg){
var oJ=_v()
_(oH,oJ)
if(_oz(z,13,hG,cF,gg)){oJ.wxVkey=1
var lK=_v()
_(oJ,lK)
if(_oz(z,14,hG,cF,gg)){lK.wxVkey=1
}
lK.wxXCkey=1
}
else{oJ.wxVkey=2
}
oJ.wxXCkey=1
return oH
}
oD.wxXCkey=2
_2z(z,11,fE,e,s,gg,oD,'bannerItem','index','index')
_(oB,xC)
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m112=function(e,s,r,gg){
var z=gz$gwx_113()
return r
}
e_[x[143]]={f:m112,j:[],i:[],ti:[],ic:[]}
d_[x[144]]={}
d_[x[144]]["count-down"]=function(e,s,r,gg){
var z=gz$gwx_114()
var b=x[144]+':count-down'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/count-down.wxml"],"",1)
if(p_[b]){_wl(b,x[144]);return}
p_[b]=true
try{
var oB=_n('view')
_rz(z,oB,'class',1,e,s,gg)
var xC=_v()
_(oB,xC)
if(_oz(z,2,e,s,gg)){xC.wxVkey=1
}
var oD=_v()
_(oB,oD)
if(_oz(z,3,e,s,gg)){oD.wxVkey=1
}
xC.wxXCkey=1
oD.wxXCkey=1
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m113=function(e,s,r,gg){
var z=gz$gwx_114()
return r
}
e_[x[144]]={f:m113,j:[],i:[],ti:[],ic:[]}
d_[x[145]]={}
d_[x[145]]["coupon-input"]=function(e,s,r,gg){
var z=gz$gwx_115()
var b=x[145]+':coupon-input'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/coupon-input.wxml"],"",1)
if(p_[b]){_wl(b,x[145]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
var xC=_mz(z,'view',['catchtouchmove',2,'class',1],[],e,s,gg)
var oD=_v()
_(xC,oD)
if(_oz(z,4,e,s,gg)){oD.wxVkey=1
}
oD.wxXCkey=1
_(oB,xC)
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m114=function(e,s,r,gg){
var z=gz$gwx_115()
return r
}
e_[x[145]]={f:m114,j:[],i:[],ti:[],ic:[]}
d_[x[146]]={}
d_[x[146]]["deal-item"]=function(e,s,r,gg){
var z=gz$gwx_116()
var b=x[146]+':deal-item'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/deal.wxml"],"",1)
if(p_[b]){_wl(b,x[146]);return}
p_[b]=true
try{
var oB=_n('view')
_rz(z,oB,'class',1,e,s,gg)
var xC=_v()
_(oB,xC)
if(_oz(z,2,e,s,gg)){xC.wxVkey=1
}
var oD=_v()
_(oB,oD)
if(_oz(z,3,e,s,gg)){oD.wxVkey=1
}
var fE=_v()
_(oB,fE)
if(_oz(z,4,e,s,gg)){fE.wxVkey=1
}
xC.wxXCkey=1
oD.wxXCkey=1
fE.wxXCkey=1
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[146]]["deal-list-item"]=function(e,s,r,gg){
var z=gz$gwx_116()
var b=x[146]+':deal-list-item'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/deal.wxml"],"",1)
if(p_[b]){_wl(b,x[146]);return}
p_[b]=true
try{
var oB=_n('view')
_rz(z,oB,'class',6,e,s,gg)
var fE=_n('view')
_rz(z,fE,'class',7,e,s,gg)
var cF=_v()
_(fE,cF)
if(_oz(z,8,e,s,gg)){cF.wxVkey=1
}
var hG=_v()
_(fE,hG)
if(_oz(z,9,e,s,gg)){hG.wxVkey=1
}
cF.wxXCkey=1
hG.wxXCkey=1
_(oB,fE)
var xC=_v()
_(oB,xC)
if(_oz(z,10,e,s,gg)){xC.wxVkey=1
}
var oD=_v()
_(oB,oD)
if(_oz(z,11,e,s,gg)){oD.wxVkey=1
}
xC.wxXCkey=1
oD.wxXCkey=1
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[146]]["deal-list"]=function(e,s,r,gg){
var z=gz$gwx_116()
var b=x[146]+':deal-list'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/deal.wxml"],"",1)
if(p_[b]){_wl(b,x[146]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,13,e,s,gg)){oB.wxVkey=1
var xC=_mz(z,'view',['class',14,'id',1],[],e,s,gg)
var oD=_v()
_(xC,oD)
if(_oz(z,16,e,s,gg)){oD.wxVkey=1
var hG=_n('view')
var oH=_v()
_(hG,oH)
if(_oz(z,17,e,s,gg)){oH.wxVkey=1
}
else{oH.wxVkey=2
var oJ=_mz(z,'view',['bindtap',18,'class',1,'data-copy-writting-click-bid',2,'data-url',3],[],e,s,gg)
var lK=_n('view')
_rz(z,lK,'class',22,e,s,gg)
var aL=_v()
_(lK,aL)
if(_oz(z,23,e,s,gg)){aL.wxVkey=1
}
var tM=_v()
_(lK,tM)
if(_oz(z,24,e,s,gg)){tM.wxVkey=1
}
aL.wxXCkey=1
tM.wxXCkey=1
_(oJ,lK)
_(oH,oJ)
}
var cI=_v()
_(hG,cI)
if(_oz(z,25,e,s,gg)){cI.wxVkey=1
}
oH.wxXCkey=1
cI.wxXCkey=1
_(oD,hG)
}
var fE=_v()
_(xC,fE)
if(_oz(z,26,e,s,gg)){fE.wxVkey=1
var eN=_v()
_(fE,eN)
var bO=function(xQ,oP,oR,gg){
var cT=_v()
_(oR,cT)
if(_oz(z,29,xQ,oP,gg)){cT.wxVkey=1
var hU=_v()
_(cT,hU)
if(_oz(z,30,xQ,oP,gg)){hU.wxVkey=1
var oV=_v()
_(hU,oV)
var cW=function(lY,oX,aZ,gg){
var e2=_mz(z,'navigator',['data-need-login',-1,'catchtap',32,'class',1,'data-index',2,'data-url',3,'data-val-bid',4,'data-val_lab',5],[],lY,oX,gg)
var b3=_v()
_(e2,b3)
var o4=_oz(z,39,lY,oX,gg)
var x5=_gd(x[146],o4,e_,d_)
if(x5){
var o6=_1z(z,38,lY,oX,gg) || {}
var cur_globalf=gg.f
b3.wxXCkey=3
x5(o6,o6,b3,gg)
gg.f=cur_globalf
}
else _w(o4,x[146],1,6884)
_(aZ,e2)
return aZ
}
oV.wxXCkey=2
_2z(z,31,cW,xQ,oP,gg,oV,'item','index','')
}
hU.wxXCkey=1
}
else{cT.wxVkey=2
var f7=_n('view')
_rz(z,f7,'class',40,xQ,oP,gg)
var c8=_v()
_(f7,c8)
if(_oz(z,41,xQ,oP,gg)){c8.wxVkey=1
var o0=_v()
_(c8,o0)
var cAB=function(lCB,oBB,aDB,gg){
var eFB=_mz(z,'navigator',['data-need-login',-1,'catchtap',43,'class',1,'data-index',2,'data-url',3,'data-val-bid',4,'data-val_lab',5],[],lCB,oBB,gg)
var bGB=_v()
_(eFB,bGB)
var oHB=_oz(z,50,lCB,oBB,gg)
var xIB=_gd(x[146],oHB,e_,d_)
if(xIB){
var oJB=_1z(z,49,lCB,oBB,gg) || {}
var cur_globalf=gg.f
bGB.wxXCkey=3
xIB(oJB,oJB,bGB,gg)
gg.f=cur_globalf
}
else _w(oHB,x[146],1,7618)
_(aDB,eFB)
return aDB
}
o0.wxXCkey=2
_2z(z,42,cAB,xQ,oP,gg,o0,'item','index','')
var h9=_v()
_(c8,h9)
if(_oz(z,51,xQ,oP,gg)){h9.wxVkey=1
}
h9.wxXCkey=1
}
else if(_oz(z,52,xQ,oP,gg)){c8.wxVkey=2
var fKB=_v()
_(c8,fKB)
var cLB=function(oNB,hMB,cOB,gg){
var lQB=_mz(z,'navigator',['data-need-login',-1,'catchtap',54,'class',1,'data-index',2,'data-url',3,'data-val-bid',4,'data-val_lab',5],[],oNB,hMB,gg)
var aRB=_v()
_(lQB,aRB)
var tSB=_oz(z,61,oNB,hMB,gg)
var eTB=_gd(x[146],tSB,e_,d_)
if(eTB){
var bUB=_1z(z,60,oNB,hMB,gg) || {}
var cur_globalf=gg.f
aRB.wxXCkey=3
eTB(bUB,bUB,aRB,gg)
gg.f=cur_globalf
}
else _w(tSB,x[146],1,8589)
_(cOB,lQB)
return cOB
}
fKB.wxXCkey=2
_2z(z,53,cLB,xQ,oP,gg,fKB,'item','index','')
}
c8.wxXCkey=1
_(cT,f7)
}
cT.wxXCkey=1
return oR
}
eN.wxXCkey=2
_2z(z,28,bO,e,s,gg,eN,'dealType','index','')
}
else if(_oz(z,62,e,s,gg)){fE.wxVkey=2
var oVB=_v()
_(fE,oVB)
var xWB=function(fYB,oXB,cZB,gg){
var o2B=_mz(z,'navigator',['data-need-login',-1,'catchtap',64,'class',1,'data-index',2,'data-url',3,'data-val-bid',4,'data-val_lab',5],[],fYB,oXB,gg)
var c3B=_v()
_(o2B,c3B)
var o4B=_oz(z,71,fYB,oXB,gg)
var l5B=_gd(x[146],o4B,e_,d_)
if(l5B){
var a6B=_1z(z,70,fYB,oXB,gg) || {}
var cur_globalf=gg.f
c3B.wxXCkey=3
l5B(a6B,a6B,c3B,gg)
gg.f=cur_globalf
}
else _w(o4B,x[146],1,9132)
_(cZB,o2B)
return cZB
}
oVB.wxXCkey=2
_2z(z,63,xWB,e,s,gg,oVB,'item','index','')
}
var cF=_v()
_(xC,cF)
if(_oz(z,72,e,s,gg)){cF.wxVkey=1
}
oD.wxXCkey=1
fE.wxXCkey=1
cF.wxXCkey=1
_(oB,xC)
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[146]]["group-item"]=function(e,s,r,gg){
var z=gz$gwx_116()
var b=x[146]+':group-item'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/deal.wxml"],"",1)
if(p_[b]){_wl(b,x[146]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,74,e,s,gg)){oB.wxVkey=1
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m115=function(e,s,r,gg){
var z=gz$gwx_116()
return r
}
e_[x[146]]={f:m115,j:[],i:[],ti:[],ic:[]}
d_[x[8]]={}
var m116=function(e,s,r,gg){
var z=gz$gwx_117()
var o2CB=_v()
_(r,o2CB)
if(_oz(z,0,e,s,gg)){o2CB.wxVkey=1
}
o2CB.wxXCkey=1
return r
}
e_[x[8]]={f:m116,j:[],i:[],ti:[],ic:[]}
d_[x[147]]={}
d_[x[147]]["attentionDialog"]=function(e,s,r,gg){
var z=gz$gwx_118()
var b=x[147]+':attentionDialog'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/group-activity/attention-dialog/_coverIndex.wxml"],"",1)
if(p_[b]){_wl(b,x[147]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m117=function(e,s,r,gg){
var z=gz$gwx_118()
return r
}
e_[x[147]]={f:m117,j:[],i:[],ti:[],ic:[]}
d_[x[148]]={}
d_[x[148]]["attentionDialog"]=function(e,s,r,gg){
var z=gz$gwx_119()
var b=x[148]+':attentionDialog'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/group-activity/attention-dialog/_index.wxml"],"",1)
if(p_[b]){_wl(b,x[148]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m118=function(e,s,r,gg){
var z=gz$gwx_119()
return r
}
e_[x[148]]={f:m118,j:[],i:[],ti:[],ic:[]}
d_[x[149]]={}
d_[x[149]]["floatMsg"]=function(e,s,r,gg){
var z=gz$gwx_120()
var b=x[149]+':floatMsg'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/group-activity/float-message/_index.wxml"],"",1)
if(p_[b]){_wl(b,x[149]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m119=function(e,s,r,gg){
var z=gz$gwx_120()
return r
}
e_[x[149]]={f:m119,j:[],i:[],ti:[],ic:[]}
d_[x[150]]={}
var m120=function(e,s,r,gg){
var z=gz$gwx_121()
var b7CB=_v()
_(r,b7CB)
if(_oz(z,0,e,s,gg)){b7CB.wxVkey=1
}
b7CB.wxXCkey=1
return r
}
e_[x[150]]={f:m120,j:[],i:[],ti:[],ic:[]}
d_[x[151]]={}
d_[x[151]]["locate-banner"]=function(e,s,r,gg){
var z=gz$gwx_122()
var b=x[151]+':locate-banner'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/locate-banner.wxml"],"",1)
if(p_[b]){_wl(b,x[151]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m121=function(e,s,r,gg){
var z=gz$gwx_122()
return r
}
e_[x[151]]={f:m121,j:[],i:[],ti:[],ic:[]}
d_[x[152]]={}
d_[x[152]]["memberRight"]=function(e,s,r,gg){
var z=gz$gwx_123()
var b=x[152]+':memberRight'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/membercard.wxml"],"",1)
if(p_[b]){_wl(b,x[152]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[152]]["cinema"]=function(e,s,r,gg){
var z=gz$gwx_123()
var b=x[152]+':cinema'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/membercard.wxml"],"",1)
if(p_[b]){_wl(b,x[152]);return}
p_[b]=true
try{
var oB=_mz(z,'view',['bindtap',2,'class',1,'data-id',2,'data-sell',3],[],e,s,gg)
var xC=_v()
_(oB,xC)
if(_oz(z,6,e,s,gg)){xC.wxVkey=1
}
xC.wxXCkey=1
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m122=function(e,s,r,gg){
var z=gz$gwx_123()
return r
}
e_[x[152]]={f:m122,j:[],i:[],ti:[],ic:[]}
d_[x[153]]={}
d_[x[153]]["mobile-confirm"]=function(e,s,r,gg){
var z=gz$gwx_124()
var b=x[153]+':mobile-confirm'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/mobile-confirm.wxml"],"",1)
if(p_[b]){_wl(b,x[153]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
}
var xC=_v()
_(r,xC)
if(_oz(z,2,e,s,gg)){xC.wxVkey=1
var fE=_mz(z,'form',['bindreset',3,'bindsubmit',1],[],e,s,gg)
var cF=_v()
_(fE,cF)
if(_oz(z,5,e,s,gg)){cF.wxVkey=1
}
cF.wxXCkey=1
_(xC,fE)
}
var oD=_v()
_(r,oD)
if(_oz(z,6,e,s,gg)){oD.wxVkey=1
}
oB.wxXCkey=1
xC.wxXCkey=1
oD.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m123=function(e,s,r,gg){
var z=gz$gwx_124()
return r
}
e_[x[153]]={f:m123,j:[],i:[],ti:[],ic:[]}
d_[x[154]]={}
d_[x[154]]["mobile-input"]=function(e,s,r,gg){
var z=gz$gwx_125()
var b=x[154]+':mobile-input'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/mobile-input.wxml"],"",1)
if(p_[b]){_wl(b,x[154]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
var xC=_mz(z,'view',['catchtouchmove',2,'class',1],[],e,s,gg)
var oD=_v()
_(xC,oD)
if(_oz(z,4,e,s,gg)){oD.wxVkey=1
}
oD.wxXCkey=1
_(oB,xC)
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m124=function(e,s,r,gg){
var z=gz$gwx_125()
return r
}
e_[x[154]]={f:m124,j:[],i:[],ti:[],ic:[]}
d_[x[155]]={}
d_[x[155]]["movie-remind-card"]=function(e,s,r,gg){
var z=gz$gwx_126()
var b=x[155]+':movie-remind-card'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/movie-remind-card.wxml"],"",1)
if(p_[b]){_wl(b,x[155]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
var xC=_v()
_(oB,xC)
if(_oz(z,2,e,s,gg)){xC.wxVkey=1
}
xC.wxXCkey=1
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m125=function(e,s,r,gg){
var z=gz$gwx_126()
return r
}
e_[x[155]]={f:m125,j:[],i:[],ti:[],ic:[]}
d_[x[156]]={}
d_[x[156]]["movie-remind-modal"]=function(e,s,r,gg){
var z=gz$gwx_127()
var b=x[156]+':movie-remind-modal'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/movie-remind-modal.wxml"],"",1)
if(p_[b]){_wl(b,x[156]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
var xC=_mz(z,'view',['catchtouchmove',2,'class',1],[],e,s,gg)
var cF=_v()
_(xC,cF)
var hG=function(cI,oH,oJ,gg){
var aL=_v()
_(oJ,aL)
if(_oz(z,5,cI,oH,gg)){aL.wxVkey=1
}
aL.wxXCkey=1
return oJ
}
cF.wxXCkey=2
_2z(z,4,hG,e,s,gg,cF,'item','index','')
var oD=_v()
_(xC,oD)
if(_oz(z,6,e,s,gg)){oD.wxVkey=1
var tM=_mz(z,'swiper',['bindchange',7,'class',1],[],e,s,gg)
var eN=_v()
_(tM,eN)
var bO=function(xQ,oP,oR,gg){
var cT=_mz(z,'scroll-view',['scrollY',-1,'class',10],[],xQ,oP,gg)
var aZ=_n('view')
_rz(z,aZ,'class',11,xQ,oP,gg)
var t1=_v()
_(aZ,t1)
if(_oz(z,12,xQ,oP,gg)){t1.wxVkey=1
}
var e2=_v()
_(aZ,e2)
if(_oz(z,13,xQ,oP,gg)){e2.wxVkey=1
}
t1.wxXCkey=1
e2.wxXCkey=1
_(cT,aZ)
var hU=_v()
_(cT,hU)
if(_oz(z,14,xQ,oP,gg)){hU.wxVkey=1
var b3=_v()
_(hU,b3)
if(_oz(z,15,xQ,oP,gg)){b3.wxVkey=1
}
b3.wxXCkey=1
}
var oV=_v()
_(cT,oV)
if(_oz(z,16,xQ,oP,gg)){oV.wxVkey=1
var o4=_n('view')
_rz(z,o4,'class',17,xQ,oP,gg)
var x5=_v()
_(o4,x5)
if(_oz(z,18,xQ,oP,gg)){x5.wxVkey=1
}
var o6=_v()
_(o4,o6)
if(_oz(z,19,xQ,oP,gg)){o6.wxVkey=1
}
x5.wxXCkey=1
o6.wxXCkey=1
_(oV,o4)
}
var cW=_v()
_(cT,cW)
if(_oz(z,20,xQ,oP,gg)){cW.wxVkey=1
}
var oX=_v()
_(cT,oX)
if(_oz(z,21,xQ,oP,gg)){oX.wxVkey=1
var f7=_v()
_(oX,f7)
var c8=function(o0,h9,cAB,gg){
var lCB=_v()
_(cAB,lCB)
if(_oz(z,25,o0,h9,gg)){lCB.wxVkey=1
}
lCB.wxXCkey=1
return cAB
}
f7.wxXCkey=2
_2z(z,24,c8,xQ,oP,gg,f7,'goodItem','goodIndex','')
}
var lY=_v()
_(cT,lY)
if(_oz(z,26,xQ,oP,gg)){lY.wxVkey=1
}
hU.wxXCkey=1
oV.wxXCkey=1
cW.wxXCkey=1
oX.wxXCkey=1
lY.wxXCkey=1
_(oR,cT)
return oR
}
eN.wxXCkey=2
_2z(z,9,bO,e,s,gg,eN,'item','index','')
_(oD,tM)
}
var fE=_v()
_(xC,fE)
if(_oz(z,27,e,s,gg)){fE.wxVkey=1
var aDB=_v()
_(fE,aDB)
var tEB=function(bGB,eFB,oHB,gg){
var oJB=_mz(z,'scroll-view',['scrollY',-1,'class',29],[],bGB,eFB,gg)
var oPB=_n('view')
_rz(z,oPB,'class',30,bGB,eFB,gg)
var lQB=_v()
_(oPB,lQB)
if(_oz(z,31,bGB,eFB,gg)){lQB.wxVkey=1
}
var aRB=_v()
_(oPB,aRB)
if(_oz(z,32,bGB,eFB,gg)){aRB.wxVkey=1
}
lQB.wxXCkey=1
aRB.wxXCkey=1
_(oJB,oPB)
var fKB=_v()
_(oJB,fKB)
if(_oz(z,33,bGB,eFB,gg)){fKB.wxVkey=1
var tSB=_v()
_(fKB,tSB)
if(_oz(z,34,bGB,eFB,gg)){tSB.wxVkey=1
}
tSB.wxXCkey=1
}
var cLB=_v()
_(oJB,cLB)
if(_oz(z,35,bGB,eFB,gg)){cLB.wxVkey=1
var eTB=_n('view')
_rz(z,eTB,'class',36,bGB,eFB,gg)
var bUB=_v()
_(eTB,bUB)
if(_oz(z,37,bGB,eFB,gg)){bUB.wxVkey=1
}
var oVB=_v()
_(eTB,oVB)
if(_oz(z,38,bGB,eFB,gg)){oVB.wxVkey=1
}
bUB.wxXCkey=1
oVB.wxXCkey=1
_(cLB,eTB)
}
var hMB=_v()
_(oJB,hMB)
if(_oz(z,39,bGB,eFB,gg)){hMB.wxVkey=1
}
var oNB=_v()
_(oJB,oNB)
if(_oz(z,40,bGB,eFB,gg)){oNB.wxVkey=1
var xWB=_v()
_(oNB,xWB)
var oXB=function(cZB,fYB,h1B,gg){
var c3B=_v()
_(h1B,c3B)
if(_oz(z,44,cZB,fYB,gg)){c3B.wxVkey=1
}
c3B.wxXCkey=1
return h1B
}
xWB.wxXCkey=2
_2z(z,43,oXB,bGB,eFB,gg,xWB,'goodItem','goodIndex','')
}
var cOB=_v()
_(oJB,cOB)
if(_oz(z,45,bGB,eFB,gg)){cOB.wxVkey=1
}
fKB.wxXCkey=1
cLB.wxXCkey=1
hMB.wxXCkey=1
oNB.wxXCkey=1
cOB.wxXCkey=1
_(oHB,oJB)
return oHB
}
aDB.wxXCkey=2
_2z(z,28,tEB,e,s,gg,aDB,'item','index','')
}
oD.wxXCkey=1
fE.wxXCkey=1
_(oB,xC)
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m126=function(e,s,r,gg){
var z=gz$gwx_127()
return r
}
e_[x[156]]={f:m126,j:[],i:[],ti:[],ic:[]}
d_[x[157]]={}
var m127=function(e,s,r,gg){
var z=gz$gwx_128()
var cEDB=_v()
_(r,cEDB)
if(_oz(z,0,e,s,gg)){cEDB.wxVkey=1
var oFDB=_mz(z,'navigator',['appId',1,'catchtap',1,'hoverClass',2,'openType',3,'path',4,'style',5,'target',6,'version',7],[],e,s,gg)
var lGDB=_n('slot')
_(oFDB,lGDB)
_(cEDB,oFDB)
}
else if(_oz(z,9,e,s,gg)){cEDB.wxVkey=2
var aHDB=_mz(z,'view',['catchtap',10,'style',1],[],e,s,gg)
var tIDB=_n('slot')
_(aHDB,tIDB)
_(cEDB,aHDB)
}
else if(_oz(z,12,e,s,gg)){cEDB.wxVkey=3
var eJDB=_mz(z,'button',['bindgetuserinfo',13,'catchtap',1,'data-needtoken',2,'data-url',3,'openType',4,'style',5],[],e,s,gg)
var bKDB=_n('slot')
_(eJDB,bKDB)
_(cEDB,eJDB)
}
else{cEDB.wxVkey=4
var oLDB=_mz(z,'view',['catchtap',19,'style',1],[],e,s,gg)
var xMDB=_n('slot')
_(oLDB,xMDB)
_(cEDB,oLDB)
}
cEDB.wxXCkey=1
return r
}
e_[x[157]]={f:m127,j:[],i:[],ti:[],ic:[]}
d_[x[158]]={}
d_[x[158]]["special-topic"]=function(e,s,r,gg){
var z=gz$gwx_129()
var b=x[158]+':special-topic'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/operation/embedded-component/special-topic.wxml"],"",1)
if(p_[b]){_wl(b,x[158]);return}
p_[b]=true
try{
var oB=_n('view')
_rz(z,oB,'class',1,e,s,gg)
var xC=_v()
_(oB,xC)
if(_oz(z,2,e,s,gg)){xC.wxVkey=1
var cF=_v()
_(xC,cF)
var hG=function(cI,oH,oJ,gg){
var aL=_v()
_(oJ,aL)
var tM=function(bO,eN,oP,gg){
var oR=_mz(z,'nav',['bindgetuserinfo',9,'externalStyle',1,'isLogin',2,'needLogin',3,'pageUrl',4,'url',5,'val_bid',6,'val_lab',7,'version',8],[],bO,eN,gg)
var fS=_v()
_(oR,fS)
if(_oz(z,18,bO,eN,gg)){fS.wxVkey=1
}
fS.wxXCkey=1
_(oP,oR)
return oP
}
aL.wxXCkey=4
_2z(z,7,tM,cI,oH,gg,aL,'topic','index','activityId')
return oJ
}
cF.wxXCkey=4
_2z(z,4,hG,e,s,gg,cF,'line','index','index')
}
var oD=_v()
_(oB,oD)
if(_oz(z,19,e,s,gg)){oD.wxVkey=1
var cT=_n('view')
_rz(z,cT,'class',20,e,s,gg)
var hU=_mz(z,'nav',['externalStyle',21,'pageUrl',1,'url',2,'val_bid',3,'val_lab',4,'version',5],[],e,s,gg)
_(cT,hU)
var oV=_mz(z,'nav',['externalStyle',27,'pageUrl',1,'url',2,'val_bid',3,'val_lab',4,'version',5],[],e,s,gg)
_(cT,oV)
_(oD,cT)
}
var fE=_v()
_(oB,fE)
if(_oz(z,33,e,s,gg)){fE.wxVkey=1
var cW=_mz(z,'nav',['externalStyle',34,'pageUrl',1,'url',2,'val_bid',3,'val_lab',4,'version',5],[],e,s,gg)
_(fE,cW)
}
xC.wxXCkey=1
xC.wxXCkey=3
oD.wxXCkey=1
oD.wxXCkey=3
fE.wxXCkey=1
fE.wxXCkey=3
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m128=function(e,s,r,gg){
var z=gz$gwx_129()
return r
}
e_[x[158]]={f:m128,j:[],i:[],ti:[],ic:[]}
d_[x[159]]={}
d_[x[159]]["sudoku"]=function(e,s,r,gg){
var z=gz$gwx_130()
var b=x[159]+':sudoku'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/operation/embedded-component/sudoku.wxml"],"",1)
if(p_[b]){_wl(b,x[159]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
var xC=function(fE,oD,cF,gg){
var oH=_mz(z,'nav',['class',3,'externalStyle',1,'url',2,'val_bid',3,'val_lab',4],[],fE,oD,gg)
var cI=_v()
_(oH,cI)
if(_oz(z,8,fE,oD,gg)){cI.wxVkey=1
}
var oJ=_v()
_(oH,oJ)
if(_oz(z,9,fE,oD,gg)){oJ.wxVkey=1
}
var lK=_v()
_(oH,lK)
if(_oz(z,10,fE,oD,gg)){lK.wxVkey=1
}
var aL=_v()
_(oH,aL)
if(_oz(z,11,fE,oD,gg)){aL.wxVkey=1
}
var tM=_v()
_(oH,tM)
if(_oz(z,12,fE,oD,gg)){tM.wxVkey=1
}
cI.wxXCkey=1
oJ.wxXCkey=1
lK.wxXCkey=1
aL.wxXCkey=1
tM.wxXCkey=1
_(cF,oH)
return cF
}
oB.wxXCkey=4
_2z(z,1,xC,e,s,gg,oB,'item','index','activityId')
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m129=function(e,s,r,gg){
var z=gz$gwx_130()
return r
}
e_[x[159]]={f:m129,j:[],i:[],ti:[],ic:[]}
d_[x[9]]={}
var m130=function(e,s,r,gg){
var z=gz$gwx_131()
var hQDB=e_[x[9]].i
_ai(hQDB,x[160],e_,x[9],1,1)
_ai(hQDB,x[161],e_,x[9],1,29)
var oRDB=_v()
_(r,oRDB)
var cSDB=_oz(z,1,e,s,gg)
var oTDB=_gd(x[9],cSDB,e_,d_)
if(oTDB){
var lUDB=_1z(z,0,e,s,gg) || {}
var cur_globalf=gg.f
oRDB.wxXCkey=3
oTDB(lUDB,lUDB,oRDB,gg)
gg.f=cur_globalf
}
else _w(cSDB,x[9],1,86)
var aVDB=_v()
_(r,aVDB)
var tWDB=_oz(z,3,e,s,gg)
var eXDB=_gd(x[9],tWDB,e_,d_)
if(eXDB){
var bYDB=_1z(z,2,e,s,gg) || {}
var cur_globalf=gg.f
aVDB.wxXCkey=3
eXDB(bYDB,bYDB,aVDB,gg)
gg.f=cur_globalf
}
else _w(tWDB,x[9],1,155)
hQDB.pop()
hQDB.pop()
return r
}
e_[x[9]]={f:m130,j:[],i:[],ti:[x[160],x[161]],ic:[]}
d_[x[162]]={}
d_[x[162]]["activity-modal"]=function(e,s,r,gg){
var z=gz$gwx_132()
var b=x[162]+':activity-modal'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/operation/global-component/modal.wxml"],"",1)
if(p_[b]){_wl(b,x[162]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
var xC=_mz(z,'view',['catchtap',2,'class',1],[],e,s,gg)
var oD=_v()
_(xC,oD)
if(_oz(z,4,e,s,gg)){oD.wxVkey=1
var fE=_v()
_(oD,fE)
var cF=_oz(z,6,e,s,gg)
var hG=_gd(x[162],cF,e_,d_)
if(hG){
var oH=_1z(z,5,e,s,gg) || {}
var cur_globalf=gg.f
fE.wxXCkey=3
hG(oH,oH,fE,gg)
gg.f=cur_globalf
}
else _w(cF,x[162],1,156)
}
else if(_oz(z,7,e,s,gg)){oD.wxVkey=2
var cI=_v()
_(oD,cI)
var oJ=_oz(z,9,e,s,gg)
var lK=_gd(x[162],oJ,e_,d_)
if(lK){
var aL=_1z(z,8,e,s,gg) || {}
var cur_globalf=gg.f
cI.wxXCkey=3
lK(aL,aL,cI,gg)
gg.f=cur_globalf
}
else _w(oJ,x[162],1,255)
}
oD.wxXCkey=1
_(oB,xC)
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[162]]["normal-modal"]=function(e,s,r,gg){
var z=gz$gwx_132()
var b=x[162]+':normal-modal'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/operation/global-component/modal.wxml"],"",1)
if(p_[b]){_wl(b,x[162]);return}
p_[b]=true
try{
var oB=_mz(z,'view',['catchtap',11,'class',1,'data-url',2,'data-val_bid',3,'data-val_lab',4,'style',5],[],e,s,gg)
var xC=_v()
_(oB,xC)
if(_oz(z,17,e,s,gg)){xC.wxVkey=1
}
var oD=_v()
_(oB,oD)
if(_oz(z,18,e,s,gg)){oD.wxVkey=1
}
xC.wxXCkey=1
oD.wxXCkey=1
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m131=function(e,s,r,gg){
var z=gz$gwx_132()
var x1DB=e_[x[162]].i
_ai(x1DB,x[163],e_,x[162],1,1)
x1DB.pop()
return r
}
e_[x[162]]={f:m131,j:[],i:[],ti:[x[163]],ic:[]}
d_[x[164]]={}
d_[x[164]]["redpacket-modal"]=function(e,s,r,gg){
var z=gz$gwx_133()
var b=x[164]+':redpacket-modal'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/operation/global-component/redpacket.wxml"],"",1)
if(p_[b]){_wl(b,x[164]);return}
p_[b]=true
try{
var oB=_mz(z,'view',['class',1,'style',1],[],e,s,gg)
var xC=_v()
_(oB,xC)
if(_oz(z,3,e,s,gg)){xC.wxVkey=1
var oD=_v()
_(xC,oD)
if(_oz(z,4,e,s,gg)){oD.wxVkey=1
}
oD.wxXCkey=1
}
else{xC.wxVkey=2
}
xC.wxXCkey=1
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m132=function(e,s,r,gg){
var z=gz$gwx_133()
return r
}
e_[x[164]]={f:m132,j:[],i:[],ti:[],ic:[]}
d_[x[165]]={}
d_[x[165]]["operation-sidebar"]=function(e,s,r,gg){
var z=gz$gwx_134()
var b=x[165]+':operation-sidebar'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/operation/global-component/sidebar.wxml"],"",1)
if(p_[b]){_wl(b,x[165]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m133=function(e,s,r,gg){
var z=gz$gwx_134()
return r
}
e_[x[165]]={f:m133,j:[],i:[],ti:[],ic:[]}
d_[x[166]]={}
d_[x[166]]["orderItem"]=function(e,s,r,gg){
var z=gz$gwx_135()
var b=x[166]+':orderItem'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/order-item.wxml"],"",1)
if(p_[b]){_wl(b,x[166]);return}
p_[b]=true
try{
var oB=_mz(z,'view',['bindtap',1,'class',1,'data-bid-data',2,'data-goto-detail',3,'data-order-id',4,'data-vorder-id',5],[],e,s,gg)
var xC=_v()
_(oB,xC)
if(_oz(z,7,e,s,gg)){xC.wxVkey=1
}
xC.wxXCkey=1
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m134=function(e,s,r,gg){
var z=gz$gwx_135()
return r
}
e_[x[166]]={f:m134,j:[],i:[],ti:[],ic:[]}
d_[x[167]]={}
d_[x[167]]["papay-modal"]=function(e,s,r,gg){
var z=gz$gwx_136()
var b=x[167]+':papay-modal'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/papay-modal.wxml"],"",1)
if(p_[b]){_wl(b,x[167]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m135=function(e,s,r,gg){
var z=gz$gwx_136()
return r
}
e_[x[167]]={f:m135,j:[],i:[],ti:[],ic:[]}
d_[x[168]]={}
d_[x[168]]["rain"]=function(e,s,r,gg){
var z=gz$gwx_137()
var b=x[168]+':rain'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/rain.wxml"],"",1)
if(p_[b]){_wl(b,x[168]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m136=function(e,s,r,gg){
var z=gz$gwx_137()
return r
}
e_[x[168]]={f:m136,j:[],i:[],ti:[],ic:[]}
d_[x[169]]={}
d_[x[169]]["toast_seats_limit_alert"]=function(e,s,r,gg){
var z=gz$gwx_138()
var b=x[169]+':toast_seats_limit_alert'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/seat-toast.wxml"],"",1)
if(p_[b]){_wl(b,x[169]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[169]]["toast_migrate_limit_alert"]=function(e,s,r,gg){
var z=gz$gwx_138()
var b=x[169]+':toast_migrate_limit_alert'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/seat-toast.wxml"],"",1)
if(p_[b]){_wl(b,x[169]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[169]]["toast_seats_select_alert"]=function(e,s,r,gg){
var z=gz$gwx_138()
var b=x[169]+':toast_seats_select_alert'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/seat-toast.wxml"],"",1)
if(p_[b]){_wl(b,x[169]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[169]]["toast_seats_select_alert2"]=function(e,s,r,gg){
var z=gz$gwx_138()
var b=x[169]+':toast_seats_select_alert2'
r.wxVkey=b
gg.f=$gdc(f_["./tpl/seat-toast.wxml"],"",1)
if(p_[b]){_wl(b,x[169]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m137=function(e,s,r,gg){
var z=gz$gwx_138()
return r
}
e_[x[169]]={f:m137,j:[],i:[],ti:[],ic:[]}
d_[x[7]]={}
var m138=function(e,s,r,gg){
var z=gz$gwx_139()
var l9DB=_v()
_(r,l9DB)
if(_oz(z,0,e,s,gg)){l9DB.wxVkey=1
}
l9DB.wxXCkey=1
return r
}
e_[x[7]]={f:m138,j:[],i:[],ti:[],ic:[]}
d_[x[170]]={}
var m139=function(e,s,r,gg){
var z=gz$gwx_140()
var tAEB=e_[x[170]].j
_ic(x[11],e_,x[170],e,s,r,gg);
var eBEB=_v()
_(r,eBEB)
if(_oz(z,0,e,s,gg)){eBEB.wxVkey=1
var oDEB=_n('view')
_rz(z,oDEB,'class',1,e,s,gg)
var xEEB=_v()
_(oDEB,xEEB)
if(_oz(z,2,e,s,gg)){xEEB.wxVkey=1
}
var oFEB=_v()
_(oDEB,oFEB)
if(_oz(z,3,e,s,gg)){oFEB.wxVkey=1
}
xEEB.wxXCkey=1
oFEB.wxXCkey=1
_(eBEB,oDEB)
}
var bCEB=_v()
_(r,bCEB)
if(_oz(z,4,e,s,gg)){bCEB.wxVkey=1
var fGEB=_n('view')
_rz(z,fGEB,'class',5,e,s,gg)
var cHEB=_v()
_(fGEB,cHEB)
if(_oz(z,6,e,s,gg)){cHEB.wxVkey=1
}
var hIEB=_n('view')
_rz(z,hIEB,'class',7,e,s,gg)
var oJEB=_v()
_(hIEB,oJEB)
if(_oz(z,8,e,s,gg)){oJEB.wxVkey=1
}
var cKEB=_v()
_(hIEB,cKEB)
if(_oz(z,9,e,s,gg)){cKEB.wxVkey=1
var oLEB=_n('view')
_rz(z,oLEB,'class',10,e,s,gg)
var lMEB=_v()
_(oLEB,lMEB)
if(_oz(z,11,e,s,gg)){lMEB.wxVkey=1
}
var aNEB=_v()
_(oLEB,aNEB)
if(_oz(z,12,e,s,gg)){aNEB.wxVkey=1
}
lMEB.wxXCkey=1
aNEB.wxXCkey=1
_(cKEB,oLEB)
}
oJEB.wxXCkey=1
cKEB.wxXCkey=1
_(fGEB,hIEB)
cHEB.wxXCkey=1
_(bCEB,fGEB)
}
var tOEB=_mz(z,'view',['class',13,'hidden',1],[],e,s,gg)
var ePEB=_v()
_(tOEB,ePEB)
if(_oz(z,15,e,s,gg)){ePEB.wxVkey=1
var oXEB=_n('view')
_rz(z,oXEB,'class',16,e,s,gg)
var oZEB=_mz(z,'swiper',['autoplay',17,'bindchange',1,'circular',2,'class',3,'duration',4,'indicatorActiveColor',5,'indicatorColor',6,'indicatorDots',7,'interval',8],[],e,s,gg)
var l1EB=_v()
_(oZEB,l1EB)
var a2EB=function(e4EB,t3EB,b5EB,gg){
var x7EB=_v()
_(b5EB,x7EB)
if(_oz(z,30,e4EB,t3EB,gg)){x7EB.wxVkey=1
}
x7EB.wxXCkey=1
return b5EB
}
l1EB.wxXCkey=2
_2z(z,28,a2EB,e,s,gg,l1EB,'item','index','')
_(oXEB,oZEB)
var cYEB=_v()
_(oXEB,cYEB)
if(_oz(z,31,e,s,gg)){cYEB.wxVkey=1
}
cYEB.wxXCkey=1
_(ePEB,oXEB)
}
else{ePEB.wxVkey=2
}
var bQEB=_v()
_(tOEB,bQEB)
if(_oz(z,32,e,s,gg)){bQEB.wxVkey=1
}
var oREB=_v()
_(tOEB,oREB)
if(_oz(z,33,e,s,gg)){oREB.wxVkey=1
}
var o8EB=_n('view')
_rz(z,o8EB,'class',34,e,s,gg)
var f9EB=_v()
_(o8EB,f9EB)
if(_oz(z,35,e,s,gg)){f9EB.wxVkey=1
}
var c0EB=_v()
_(o8EB,c0EB)
if(_oz(z,36,e,s,gg)){c0EB.wxVkey=1
}
f9EB.wxXCkey=1
c0EB.wxXCkey=1
_(tOEB,o8EB)
var xSEB=_v()
_(tOEB,xSEB)
if(_oz(z,37,e,s,gg)){xSEB.wxVkey=1
var hAFB=_n('view')
_rz(z,hAFB,'class',38,e,s,gg)
var oBFB=_v()
_(hAFB,oBFB)
if(_oz(z,39,e,s,gg)){oBFB.wxVkey=1
}
var cCFB=_v()
_(hAFB,cCFB)
if(_oz(z,40,e,s,gg)){cCFB.wxVkey=1
}
var oDFB=_v()
_(hAFB,oDFB)
if(_oz(z,41,e,s,gg)){oDFB.wxVkey=1
}
oBFB.wxXCkey=1
cCFB.wxXCkey=1
oDFB.wxXCkey=1
_(xSEB,hAFB)
}
var oTEB=_v()
_(tOEB,oTEB)
if(_oz(z,42,e,s,gg)){oTEB.wxVkey=1
var lEFB=_n('view')
_rz(z,lEFB,'class',43,e,s,gg)
var tGFB=_mz(z,'swiper',['autoplay',44,'bindchange',1,'circular',2,'class',3,'duration',4,'indicatorActiveColor',5,'indicatorColor',6,'indicatorDots',7,'interval',8],[],e,s,gg)
var eHFB=_v()
_(tGFB,eHFB)
var bIFB=function(xKFB,oJFB,oLFB,gg){
var cNFB=_v()
_(oLFB,cNFB)
if(_oz(z,57,xKFB,oJFB,gg)){cNFB.wxVkey=1
}
cNFB.wxXCkey=1
return oLFB
}
eHFB.wxXCkey=2
_2z(z,55,bIFB,e,s,gg,eHFB,'item','index','')
_(lEFB,tGFB)
var aFFB=_v()
_(lEFB,aFFB)
if(_oz(z,58,e,s,gg)){aFFB.wxVkey=1
}
aFFB.wxXCkey=1
_(oTEB,lEFB)
}
var fUEB=_v()
_(tOEB,fUEB)
if(_oz(z,59,e,s,gg)){fUEB.wxVkey=1
var hOFB=_mz(z,'view',['bindtap',60,'class',1,'data-wpygotovenue-a',2],[],e,s,gg)
var oPFB=_v()
_(hOFB,oPFB)
if(_oz(z,63,e,s,gg)){oPFB.wxVkey=1
}
var cQFB=_n('view')
_rz(z,cQFB,'class',64,e,s,gg)
var oRFB=_v()
_(cQFB,oRFB)
if(_oz(z,65,e,s,gg)){oRFB.wxVkey=1
}
var lSFB=_v()
_(cQFB,lSFB)
if(_oz(z,66,e,s,gg)){lSFB.wxVkey=1
}
oRFB.wxXCkey=1
lSFB.wxXCkey=1
_(hOFB,cQFB)
oPFB.wxXCkey=1
_(fUEB,hOFB)
}
var cVEB=_v()
_(tOEB,cVEB)
if(_oz(z,67,e,s,gg)){cVEB.wxVkey=1
}
var aTFB=_n('view')
_rz(z,aTFB,'class',68,e,s,gg)
var tUFB=_v()
_(aTFB,tUFB)
if(_oz(z,69,e,s,gg)){tUFB.wxVkey=1
}
var eVFB=_v()
_(aTFB,eVFB)
if(_oz(z,70,e,s,gg)){eVFB.wxVkey=1
var oXFB=_n('view')
_rz(z,oXFB,'class',71,e,s,gg)
var oZFB=_v()
_(oXFB,oZFB)
var f1FB=function(h3FB,c2FB,o4FB,gg){
var o6FB=_n('view')
_rz(z,o6FB,'class',76,h3FB,c2FB,gg)
var l7FB=_v()
_(o6FB,l7FB)
if(_oz(z,77,h3FB,c2FB,gg)){l7FB.wxVkey=1
}
else{l7FB.wxVkey=2
var a8FB=_v()
_(l7FB,a8FB)
if(_oz(z,78,h3FB,c2FB,gg)){a8FB.wxVkey=1
}
var t9FB=_mz(z,'view',['bindtap',79,'class',1,'data-online-id',2,'data-statistics-info',3,'data-statistics-item-index',4,'data-wpydetailurl-a',5,'title',6],[],h3FB,c2FB,gg)
var e0FB=_n('view')
_rz(z,e0FB,'class',86,h3FB,c2FB,gg)
var oBGB=_n('view')
_rz(z,oBGB,'class',87,h3FB,c2FB,gg)
var xCGB=_v()
_(oBGB,xCGB)
if(_oz(z,88,h3FB,c2FB,gg)){xCGB.wxVkey=1
}
var oDGB=_v()
_(oBGB,oDGB)
if(_oz(z,89,h3FB,c2FB,gg)){oDGB.wxVkey=1
}
var fEGB=_v()
_(oBGB,fEGB)
if(_oz(z,90,h3FB,c2FB,gg)){fEGB.wxVkey=1
}
xCGB.wxXCkey=1
oDGB.wxXCkey=1
fEGB.wxXCkey=1
_(e0FB,oBGB)
var bAGB=_v()
_(e0FB,bAGB)
if(_oz(z,91,h3FB,c2FB,gg)){bAGB.wxVkey=1
}
bAGB.wxXCkey=1
_(t9FB,e0FB)
_(l7FB,t9FB)
a8FB.wxXCkey=1
}
l7FB.wxXCkey=1
_(o4FB,o6FB)
return o4FB
}
oZFB.wxXCkey=2
_2z(z,74,f1FB,e,s,gg,oZFB,'item','idx','unique')
var xYFB=_v()
_(oXFB,xYFB)
if(_oz(z,92,e,s,gg)){xYFB.wxVkey=1
}
xYFB.wxXCkey=1
_(eVFB,oXFB)
}
else if(_oz(z,93,e,s,gg)){eVFB.wxVkey=2
var cFGB=_n('view')
_rz(z,cFGB,'class',94,e,s,gg)
var hGGB=_v()
_(cFGB,hGGB)
if(_oz(z,95,e,s,gg)){hGGB.wxVkey=1
}
else{hGGB.wxVkey=2
var oHGB=_v()
_(hGGB,oHGB)
if(_oz(z,96,e,s,gg)){oHGB.wxVkey=1
}
oHGB.wxXCkey=1
}
hGGB.wxXCkey=1
_(eVFB,cFGB)
}
var bWFB=_v()
_(aTFB,bWFB)
if(_oz(z,97,e,s,gg)){bWFB.wxVkey=1
}
tUFB.wxXCkey=1
eVFB.wxXCkey=1
bWFB.wxXCkey=1
_(tOEB,aTFB)
var hWEB=_v()
_(tOEB,hWEB)
if(_oz(z,98,e,s,gg)){hWEB.wxVkey=1
}
ePEB.wxXCkey=1
bQEB.wxXCkey=1
oREB.wxXCkey=1
xSEB.wxXCkey=1
oTEB.wxXCkey=1
fUEB.wxXCkey=1
cVEB.wxXCkey=1
hWEB.wxXCkey=1
_(r,tOEB)
eBEB.wxXCkey=1
bCEB.wxXCkey=1
tAEB.pop()
return r
}
e_[x[170]]={f:m139,j:[],i:[],ti:[],ic:[x[11]]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
return root;
}
}
}
	__wxAppCode__['components/bannerAd/index.json'] = {"component":true};
		__wxAppCode__['components/bannerAd/index.wxml'] = $gwx( './components/bannerAd/index.wxml' );
		__wxAppCode__['components/dialog/_index.json'] = {"component":true};
		__wxAppCode__['components/dialog/_index.wxml'] = $gwx( './components/dialog/_index.wxml' );
		__wxAppCode__['components/singleImageAd/index.json'] = {"component":true};
		__wxAppCode__['components/singleImageAd/index.wxml'] = $gwx( './components/singleImageAd/index.wxml' );
		__wxAppCode__['components/switch/index.json'] = {"component":true};
		__wxAppCode__['components/switch/index.wxml'] = $gwx( './components/switch/index.wxml' );
		__wxAppCode__['components/yoda-sdk/component/slider/slider.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/yoda-sdk/component/slider/slider.wxml'] = $gwx( './components/yoda-sdk/component/slider/slider.wxml' );
		__wxAppCode__['pages/fansClub/tpl/input/index.json'] = {"component":true};
		__wxAppCode__['pages/fansClub/tpl/input/index.wxml'] = $gwx( './pages/fansClub/tpl/input/index.wxml' );
		__wxAppCode__['pages/fansClub/tpl/modal/index.json'] = {"component":true};
		__wxAppCode__['pages/fansClub/tpl/modal/index.wxml'] = $gwx( './pages/fansClub/tpl/modal/index.wxml' );
		__wxAppCode__['pages/fansClub/tpl/select-group/index.json'] = {"component":true};
		__wxAppCode__['pages/fansClub/tpl/select-group/index.wxml'] = $gwx( './pages/fansClub/tpl/select-group/index.wxml' );
		__wxAppCode__['pages/fansClub/tpl/stepper/index.json'] = {"component":true};
		__wxAppCode__['pages/fansClub/tpl/stepper/index.wxml'] = $gwx( './pages/fansClub/tpl/stepper/index.wxml' );
		__wxAppCode__['pages/fansClub/tpl/tabbar/index.json'] = {"component":true};
		__wxAppCode__['pages/fansClub/tpl/tabbar/index.wxml'] = $gwx( './pages/fansClub/tpl/tabbar/index.wxml' );
		__wxAppCode__['pages/movie/index.json'] = {"enablePullDownRefresh":true,"usingComponents":{"dialog":"../../components/dialog/_index","nav":"../../tpl/navigator"}};
		__wxAppCode__['pages/movie/index.wxml'] = $gwx( './pages/movie/index.wxml' );
		__wxAppCode__['pages/show/components/address/address-edit.json'] = {"component":true};
		__wxAppCode__['pages/show/components/address/address-edit.wxml'] = $gwx( './pages/show/components/address/address-edit.wxml' );
		__wxAppCode__['pages/show/components/address/address-list.json'] = {"component":true};
		__wxAppCode__['pages/show/components/address/address-list.wxml'] = $gwx( './pages/show/components/address/address-list.wxml' );
		__wxAppCode__['pages/show/components/address/address-select.json'] = {"component":true};
		__wxAppCode__['pages/show/components/address/address-select.wxml'] = $gwx( './pages/show/components/address/address-select.wxml' );
		__wxAppCode__['pages/show/components/count-down/index.json'] = {"component":true};
		__wxAppCode__['pages/show/components/count-down/index.wxml'] = $gwx( './pages/show/components/count-down/index.wxml' );
		__wxAppCode__['pages/show/components/error-handler/components/expired-err-page/index.json'] = {"component":true};
		__wxAppCode__['pages/show/components/error-handler/components/expired-err-page/index.wxml'] = $gwx( './pages/show/components/error-handler/components/expired-err-page/index.wxml' );
		__wxAppCode__['pages/show/components/error-handler/components/network-err-page/index.json'] = {"component":true};
		__wxAppCode__['pages/show/components/error-handler/components/network-err-page/index.wxml'] = $gwx( './pages/show/components/error-handler/components/network-err-page/index.wxml' );
		__wxAppCode__['pages/show/components/error-handler/components/unknown-err-page/index.json'] = {"component":true};
		__wxAppCode__['pages/show/components/error-handler/components/unknown-err-page/index.wxml'] = $gwx( './pages/show/components/error-handler/components/unknown-err-page/index.wxml' );
		__wxAppCode__['pages/show/components/error-handler/index.json'] = {"component":true,"usingComponents":{"expired-err-page":"./components/expired-err-page/index","network-err-page":"./components/network-err-page/index","unknown-err-page":"./components/unknown-err-page/index"}};
		__wxAppCode__['pages/show/components/error-handler/index.wxml'] = $gwx( './pages/show/components/error-handler/index.wxml' );
		__wxAppCode__['pages/show/components/error-page/index.json'] = {"component":true};
		__wxAppCode__['pages/show/components/error-page/index.wxml'] = $gwx( './pages/show/components/error-page/index.wxml' );
		__wxAppCode__['pages/show/components/getphone-button/index.json'] = {"component":true};
		__wxAppCode__['pages/show/components/getphone-button/index.wxml'] = $gwx( './pages/show/components/getphone-button/index.wxml' );
		__wxAppCode__['pages/show/components/login-button/index.json'] = {"component":true};
		__wxAppCode__['pages/show/components/login-button/index.wxml'] = $gwx( './pages/show/components/login-button/index.wxml' );
		__wxAppCode__['pages/show/components/popup/index.json'] = {"component":true,"usingComponents":{"v-mask":"../v-mask/index"}};
		__wxAppCode__['pages/show/components/popup/index.wxml'] = $gwx( './pages/show/components/popup/index.wxml' );
		__wxAppCode__['pages/show/components/realname/add.json'] = {"component":true};
		__wxAppCode__['pages/show/components/realname/add.wxml'] = $gwx( './pages/show/components/realname/add.wxml' );
		__wxAppCode__['pages/show/components/realname/index.json'] = {"component":true};
		__wxAppCode__['pages/show/components/realname/index.wxml'] = $gwx( './pages/show/components/realname/index.wxml' );
		__wxAppCode__['pages/show/components/realname/realname-select.json'] = {"component":true};
		__wxAppCode__['pages/show/components/realname/realname-select.wxml'] = $gwx( './pages/show/components/realname/realname-select.wxml' );
		__wxAppCode__['pages/show/components/realname/realname-wrapper.json'] = {"component":true};
		__wxAppCode__['pages/show/components/realname/realname-wrapper.wxml'] = $gwx( './pages/show/components/realname/realname-wrapper.wxml' );
		__wxAppCode__['pages/show/components/session-list/index.json'] = {"component":true,"usingComponents":{"v-mask":"../v-mask/index"}};
		__wxAppCode__['pages/show/components/session-list/index.wxml'] = $gwx( './pages/show/components/session-list/index.wxml' );
		__wxAppCode__['pages/show/components/share-modal/index.json'] = {"component":true};
		__wxAppCode__['pages/show/components/share-modal/index.wxml'] = $gwx( './pages/show/components/share-modal/index.wxml' );
		__wxAppCode__['pages/show/components/v-mask/index.json'] = {"component":true};
		__wxAppCode__['pages/show/components/v-mask/index.wxml'] = $gwx( './pages/show/components/v-mask/index.wxml' );
		__wxAppCode__['pages/show/components/yoda/index.json'] = {"component":true,"usingComponents":{"yoda-slider":"../../../../components/yoda-sdk/component/slider/slider"}};
		__wxAppCode__['pages/show/components/yoda/index.wxml'] = $gwx( './pages/show/components/yoda/index.wxml' );
		__wxAppCode__['pages/show/detail/components/compose-button/index.json'] = {"component":true};
		__wxAppCode__['pages/show/detail/components/compose-button/index.wxml'] = $gwx( './pages/show/detail/components/compose-button/index.wxml' );
		__wxAppCode__['pages/show/detail/components/crowded-err-page/index.json'] = {"component":true};
		__wxAppCode__['pages/show/detail/components/crowded-err-page/index.wxml'] = $gwx( './pages/show/detail/components/crowded-err-page/index.wxml' );
		__wxAppCode__['pages/show/detail/components/crowded-toast/index.json'] = {"component":true};
		__wxAppCode__['pages/show/detail/components/crowded-toast/index.wxml'] = $gwx( './pages/show/detail/components/crowded-toast/index.wxml' );
		__wxAppCode__['pages/show/detail/components/discount-detail/index.json'] = {"component":true};
		__wxAppCode__['pages/show/detail/components/discount-detail/index.wxml'] = $gwx( './pages/show/detail/components/discount-detail/index.wxml' );
		__wxAppCode__['pages/show/detail/components/discount-information/index.json'] = {"component":true};
		__wxAppCode__['pages/show/detail/components/discount-information/index.wxml'] = $gwx( './pages/show/detail/components/discount-information/index.wxml' );
		__wxAppCode__['pages/show/detail/components/expired-err-page/index.json'] = {"component":true};
		__wxAppCode__['pages/show/detail/components/expired-err-page/index.wxml'] = $gwx( './pages/show/detail/components/expired-err-page/index.wxml' );
		__wxAppCode__['pages/show/detail/components/fill-info/index.json'] = {"component":true};
		__wxAppCode__['pages/show/detail/components/fill-info/index.wxml'] = $gwx( './pages/show/detail/components/fill-info/index.wxml' );
		__wxAppCode__['pages/show/detail/components/header-info/index.json'] = {"component":true};
		__wxAppCode__['pages/show/detail/components/header-info/index.wxml'] = $gwx( './pages/show/detail/components/header-info/index.wxml' );
		__wxAppCode__['pages/show/detail/components/loading-page/index.json'] = {"component":true};
		__wxAppCode__['pages/show/detail/components/loading-page/index.wxml'] = $gwx( './pages/show/detail/components/loading-page/index.wxml' );
		__wxAppCode__['pages/show/detail/components/login-getphone-button/index.json'] = {"component":true,"usingComponents":{"login-button":"../../../components/login-button/index","getphone-button":"../../../components/getphone-button/index"}};
		__wxAppCode__['pages/show/detail/components/login-getphone-button/index.wxml'] = $gwx( './pages/show/detail/components/login-getphone-button/index.wxml' );
		__wxAppCode__['pages/show/detail/components/middle-bar/index.json'] = {"component":true};
		__wxAppCode__['pages/show/detail/components/middle-bar/index.wxml'] = $gwx( './pages/show/detail/components/middle-bar/index.wxml' );
		__wxAppCode__['pages/show/detail/components/network-err-page/index.json'] = {"component":true};
		__wxAppCode__['pages/show/detail/components/network-err-page/index.wxml'] = $gwx( './pages/show/detail/components/network-err-page/index.wxml' );
		__wxAppCode__['pages/show/detail/components/prior-button/index.json'] = {"component":true};
		__wxAppCode__['pages/show/detail/components/prior-button/index.wxml'] = $gwx( './pages/show/detail/components/prior-button/index.wxml' );
		__wxAppCode__['pages/show/detail/components/remind-modal-with-price/index.json'] = {"component":true};
		__wxAppCode__['pages/show/detail/components/remind-modal-with-price/index.wxml'] = $gwx( './pages/show/detail/components/remind-modal-with-price/index.wxml' );
		__wxAppCode__['pages/show/detail/components/remind-modal/index.json'] = {"component":true};
		__wxAppCode__['pages/show/detail/components/remind-modal/index.wxml'] = $gwx( './pages/show/detail/components/remind-modal/index.wxml' );
		__wxAppCode__['pages/show/detail/components/session-list/index.json'] = {"component":true,"usingComponents":{"v-mask":"../../../components/v-mask/index"}};
		__wxAppCode__['pages/show/detail/components/session-list/index.wxml'] = $gwx( './pages/show/detail/components/session-list/index.wxml' );
		__wxAppCode__['pages/show/detail/components/show-detail/index.json'] = {"component":true};
		__wxAppCode__['pages/show/detail/components/show-detail/index.wxml'] = $gwx( './pages/show/detail/components/show-detail/index.wxml' );
		__wxAppCode__['pages/show/detail/components/ticketing-information/index.json'] = {"component":true};
		__wxAppCode__['pages/show/detail/components/ticketing-information/index.wxml'] = $gwx( './pages/show/detail/components/ticketing-information/index.wxml' );
		__wxAppCode__['pages/show/detail/components/unknown-err-page/index.json'] = {"component":true};
		__wxAppCode__['pages/show/detail/components/unknown-err-page/index.wxml'] = $gwx( './pages/show/detail/components/unknown-err-page/index.wxml' );
		__wxAppCode__['pages/show/detail/components/venue-address/index.json'] = {"component":true};
		__wxAppCode__['pages/show/detail/components/venue-address/index.wxml'] = $gwx( './pages/show/detail/components/venue-address/index.wxml' );
		__wxAppCode__['pages/show/detail/components/video-modal/index.json'] = {"component":true};
		__wxAppCode__['pages/show/detail/components/video-modal/index.wxml'] = $gwx( './pages/show/detail/components/video-modal/index.wxml' );
		__wxAppCode__['pages/show/detail/components/willsell-btn-noremind/index.json'] = {"component":true};
		__wxAppCode__['pages/show/detail/components/willsell-btn-noremind/index.wxml'] = $gwx( './pages/show/detail/components/willsell-btn-noremind/index.wxml' );
		__wxAppCode__['pages/show/detail/components/willsell-btn-remind/index.json'] = {"component":true};
		__wxAppCode__['pages/show/detail/components/willsell-btn-remind/index.wxml'] = $gwx( './pages/show/detail/components/willsell-btn-remind/index.wxml' );
		__wxAppCode__['pages/show/detail/components/willsell-btn/index.json'] = {"component":true};
		__wxAppCode__['pages/show/detail/components/willsell-btn/index.wxml'] = $gwx( './pages/show/detail/components/willsell-btn/index.wxml' );
		__wxAppCode__['pages/show/detail/components/willsell-noremind-btn/index.json'] = {"component":true};
		__wxAppCode__['pages/show/detail/components/willsell-noremind-btn/index.wxml'] = $gwx( './pages/show/detail/components/willsell-noremind-btn/index.wxml' );
		__wxAppCode__['pages/show/detail/components/willsell-remind-btn/index.json'] = {"component":true};
		__wxAppCode__['pages/show/detail/components/willsell-remind-btn/index.wxml'] = $gwx( './pages/show/detail/components/willsell-remind-btn/index.wxml' );
		__wxAppCode__['pages/show/detail/index.json'] = {"usingComponents":{"session-list":"./components/session-list/index","middle-bar":"./components/middle-bar/index","discount-information":"./components/discount-information/index","discount-detail":"./components/discount-detail/index","show-detail":"./components/show-detail/index","ticketing-information":"./components/ticketing-information/index","willsell-btn":"./components/willsell-btn/index","login-button":"../components/login-button/index","share-modal":"../components/share-modal/index","fill-info":"./components/fill-info/index","header-info":"./components/header-info/index","venue-address":"./components/venue-address/index","willsell-remind-button":"./components/willsell-btn-remind/index","willsell-noremind-button":"./components/willsell-btn-noremind/index","remind-modal":"./components/remind-modal/index","willsell-noremind-btn":"./components/willsell-noremind-btn/index","willsell-remind-btn":"./components/willsell-remind-btn/index","compose-button":"./components/compose-button/index","prior-button":"./components/prior-button/index","network-err-page":"./components/network-err-page/index","unknown-err-page":"./components/unknown-err-page/index","expired-err-page":"./components/expired-err-page/index","loading-page":"./components/loading-page/index","getphone-button":"../components/getphone-button/index","remind-modal-with-price":"./components/remind-modal-with-price/index","login-getphone-button":"./components/login-getphone-button/index","crowded-err-page":"./components/crowded-err-page/index","crowded-toast":"./components/crowded-toast/index","video-info":"./components/video-modal/index"},"navigationBarTitleText":"演出详情"};
		__wxAppCode__['pages/show/detail/index.wxml'] = $gwx( './pages/show/detail/index.wxml' );
		__wxAppCode__['pages/user/index.json'] = {"navigationBarTitleText":"我的","usingComponents":{"nav":"../../tpl/navigator"}};
		__wxAppCode__['pages/user/index.wxml'] = $gwx( './pages/user/index.wxml' );
		__wxAppCode__['tpl/navigator.json'] = {"component":true};
		__wxAppCode__['tpl/navigator.wxml'] = $gwx( './tpl/navigator.wxml' );
	
	define("WidgetDom/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){if("object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof(module)))module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==("undefined"==typeof exports?"undefined":_typeof(exports))?exports:t)[r]=n[r]}}(void 0,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(6),c=r(s),h=n(3),f=r(h),d=function(t){function e(t){return i(this,e),t=t||{},a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return l(e,t),u(e,[{key:"draw",value:function(){}},{key:"__draw",value:function(t,e,n){this.ctx=t,n&&!this.parentNode&&this.ctx.setGlobalAlpha(1),t.save(),this.__translate(),this.__setOpacity(),this.__transform(),t.save(),this.__drawBackground(),this.__drawShadow(),this.__drawBorder(),this.draw(),t.restore(),this.drawChildren(e,t),e&&f.default.drawDebugBoundary(this,t),t.restore()}},{key:"__setOpacity",value:function(){var t=this.style.opacity;if(t&&!(t>1)){var e=this.getOpacity();e&&e<1&&(t*=e),this.ctx.setGlobalAlpha(t)}}},{key:"getOpacity",value:function(){for(var t=this.parentNode,e=1;t;)t.style.opacity&&(e=Math.min(t.style.opacity*e,1)),t=t.parentNode;return e}},{key:"getPos",value:function(){for(var t=0,e=0,n=this;n;)t+=n.layout.left||0,e+=n.layout.top||0,n=n.parentNode;return{left:t,top:e}}},{key:"__translate",value:function(){var t=this.layout,e=t.left,n=t.top;(e||n)&&this.ctx.translate(Math.round(e),Math.round(n))}},{key:"__transform",value:function(){var t=this.ctx,e=this.style,n=e.transformOrigin,r=e.rotate,o=e.scale,i=this.layout,a=i.width,l=i.height;(r||o)&&(n&&n.length||(n=[a/2,l/2]),t.translate(n[0],n[1]),null!=r&&t.rotate(r*Math.PI/180),null!=o&&(o.constructor===Array?t.scale(o[0],o[1]):t.scale(o,o)),t.translate(-n[0],-n[1]))}},{key:"__drawBackground",value:function(){var t=this.ctx,e=this.style.backgroundColor,n=this.layout,r=n.width,o=n.height;e&&(t.save(),t.setFillStyle(e),t.fillRect(0,0,r,o),t.restore())}},{key:"__drawShadow",value:function(){var t=this.ctx,e=this.style.boxShadow,n=this.layout,r=n.width,i=n.height;e&&(t.save(),t.setShadow.apply(t,o(e)),t.setFillStyle("#FFF"),t.fillRect(0,0,r,i),t.restore())}},{key:"__setBorderRadiusContext",value:function(t,e,n,r,o,i){var a=o/2;t.beginPath(),t[i](e-r-a,a),t.arc(e-r-a,r+a,r,-Math.PI/2,0),t[i](e-a,n-r-a),t.arc(e-r-a,n-r-a,r,0,Math.PI/2),t[i](r+a,n-a),t.arc(r+a,n-r-a,r,Math.PI/2,Math.PI),t[i](a,r+a),t.arc(r+a,r+a,r,-Math.PI,-Math.PI/2),t[i](e-r-a,a)}},{key:"__drawBorderRadius",value:function(t,e,n,r,o,i){this.__setBorderRadiusContext(t,e,n,r,o,i),t.stroke()}},{key:"__drawSingleBorder",value:function(t,e,n,r,o){for(var i=(this.style.borderWidth,this.ctx),a=4*o,l=void 0,u=void 0,s=Math.floor((e===r?n-t:r-e)/a)/2,c=0;c<s;c++)l=2*c*a,u=(2*c+1)*a,e===r?(i.moveTo(t+l,e),i.lineTo(t+u,e)):t===n&&(i.moveTo(t,e+l),i.lineTo(t,e+u))}},{key:"__drawBorder",value:function(){var t=this.style,e=t.borderLeftWidth,n=t.borderBottomWidth,r=t.borderRightWidth,o=t.borderTopWidth,i=t.borderWidth,a=t.borderColor,l=void 0===a?"black":a,u=t.borderStyle,s=void 0===u?"solid":u,c=t.borderRadius,h=void 0===c?0:c,f=this.layout,d=f.width,p=f.height,y=this.ctx;if(i||n||o||e||r){if(y.save(),y.setStrokeStyle(l),i)return y.setLineWidth(i),h&&this.__drawBorderRadius(y,d,p,h,i,"dashed"===s?"moveTo":"lineTo"),"solid"!==s||h?"dashed"===s&&(y.beginPath(),this.__drawSingleBorder(h,i/2,d-h,i/2,i),this.__drawSingleBorder(i/2,h,i/2,p-h,i),this.__drawSingleBorder(d-i/2,h,d-i/2,p-h,i),this.__drawSingleBorder(h,p-i/2,d-h,p-i/2,i),y.closePath(),y.stroke()):y.strokeRect(i/2,i/2,d-i,p-i),void y.restore();y.beginPath(),n&&(y.setLineWidth(n),"solid"===s?(y.moveTo(0,p-n/2),y.lineTo(d,p-n/2)):"dashed"===s&&this.__drawSingleBorder(0,p-n/2,d,p-n/2,n)),e&&(y.setLineWidth(e),"solid"===s?(y.moveTo(e/2,0),y.lineTo(e/2,p)):"dashed"===s&&this.__drawSingleBorder(e/2,0,e/2,p,e)),r&&(y.setLineWidth(r),"solid"===s?(y.moveTo(d-r/2,0),y.lineTo(d-r/2,p)):"dashed"===s&&this.__drawSingleBorder(d-r/2,0,d-r/2,p,r)),o&&(y.setLineWidth(o),"solid"===s?(y.moveTo(0,o/2),y.lineTo(d,o/2)):"dashed"===s&&this.__drawSingleBorder(0,o/2,d,o/2,o)),y.closePath(),y.stroke(),y.restore()}}},{key:"drawChildren",value:function(t){var e=this;this.children.forEach(function(n){n.parentNode=e,n.__draw(e.ctx,t)})}},{key:"isInnerPoint",value:function(t,e){var n=this.getPos(),r=this.layout,o=r.width,i=r.height,a=n.left,l=n.top;return t>=a&&t<=a+o&&e>=l&&e<=l+i}}]),e}(c.default);e.default=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default={processStyle:function(t,e){var n=this,r=t.attr.class||"";return t.attr.style,r.split(" ").forEach(function(r){n.calculateClassObj(t,r,e)}),t.style=Object.assign(t.style,t.attr.__classObj,t.attr.style),t.children.forEach(function(r){r.parentNode=t,n.processStyle(r,e)}),t},calculateClassObj:function(t,e,n){var r=this;t.attr.__classObj||(t.attr.__classObj={});for(var o in n)!function(o){var i=o.split(","),a=n[o];i.length>1?i.forEach(function(n){n=n.trim(),r.calculateSingleClassObj(t,e,n,a)}):r.calculateSingleClassObj(t,e,o,a)}(o)},calculateSingleClassObj:function(t,e,n,r){if(/\:first-child/.test(n)){if(n.indexOf(e)<0||!t.isFirstChild())return}else if(/\:last-child/.test(n)){if(n.indexOf(e)<0||!t.isLastChild())return}else if(e!==n)return;Object.assign(t.attr.__classObj,r)},processDynamicClassObj:function(t){return t=Object.assign({},t,{"__dynamic-height-container":{flexDirection:"column",flexShrink:0}}),t.root=Object.assign({},t.root,{alignItems:"stretch",justifyContent:"flex-start",flexDirection:"column"}),t}}},function(t,e,n){function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var u,s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(0),h=function(t){return t&&t.__esModule?t:{default:t}}(c),f=(u={a:[.5294,.5294],b:[.6078,.5882],c:[.549,.5294],d:[.6078,.5882],e:[.549,.5294],f:[.3529,.3529],g:[.5882,.5882],h:[.5882,.5294],i:[.2353,.2353],j:[.2353,.2353],k:[.5294,.5294],l:[.2353,.2353],m:[.8627,.8824],n:[.5686,.5294],o:[.5686,.5882],p:[.5882,.5882],q:[.5882,.5882],r:[.3725,.3529],s:[.5098,.5294],t:[.3529,.3529],u:[.5686,.5294],v:[.5294,.4706],w:[.7647,.7647],x:[.5098,.4706],y:[.5294,.4706],z:[.5294,.4706],A:[.6667,.6471],B:[.6471,.6471],C:[.7059,.6471],D:[.7059,.6471],E:[.5882,.5882],F:[.5686,.5294],G:[.7255,.7059],H:[.7255,.7059],I:[.2549,.2941],J:[.5294,.5294],K:[.6471,.6471],L:[.549,.5294],M:[.8627,.8824],N:[.7255,.7059],O:[.7647,.7059],P:[.6275,.6471],Q:[.7647,.7059],R:[.6471,.5882],S:[.6275,.5882],T:[.6275,.5882],U:[.7255,.6471],V:[.6667,.6471],W:[.9608,.8824],X:[.6667,.6471],Y:[.6471,.5882],Z:[.6471,.5882],0:[.6032,.5712],1:[.3932,.5642],2:[.6032,.5712],3:[.6032,.5712],4:[.6032,.5712],5:[.6032,.5712],6:[.6032,.5712],7:[.541,.5712],8:[.6032,.5712],9:[.6032,.5712],"~":[.5686,.7059],"!":[.2941,.2352],"@":[.902,.8823],"#":[.6275,.6471],$:[.6275,.5882],"%":[.7647,.7059],"^":[.4706,.4118],"&":[.7059,.6471],"*":[.4902,.4118],"(":[.3529,.3529],")":[.3529,.3529],"（":[1.0196,1],"）":[1.0196,1],"-":[.612,.2941],_:[.4314,.4706],"+":[.6275,.5882],"=":[.6275,.5294],"[":[.3529,.2941],"]":[.3529,.2941],"{":[.3922,.3529],"}":[.3922,.3529],"|":[.3137,.2352],"/":[.3333,.4118],"\\":[.3333,.4118],"<":[.6275,.5294],">":[.6275,.5294]},l(u,"*",[.4902,.4118]),l(u,";",[.2941,.2352]),l(u,":",[.2745,.2352]),l(u,"'",[.2353,.1765]),l(u,'"',[.4314,.2941]),l(u,"‘",[.3725,.1765]),l(u,"“",[.5686,.3529]),l(u,"”",[.5686,.3529]),l(u,",",[.2941,.1765]),l(u,".",[.2745,.2353]),l(u,"?",[.5686,.4706]),l(u,"。",[1.02,1]),l(u,"~",[.5686,.7059]),l(u," ",[.2745,.2352]),u),d=function(t){function e(t){o(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.style,n}return a(e,t),s(e,[{key:"getFontSize",value:function(){return this.style.fontSize||this.getParentProp("fontSize")||14}},{key:"getLineHeight",value:function(){return this.style.lineHeight||this.getParentProp("lineHeight")||this.getFontSize()+2}},{key:"getTextShadow",value:function(){return this.style.textShadow||this.getParentProp("textShadow")}},{key:"getTextAlign",value:function(){return this.style.textAlign||this.getParentProp("textAlign")}},{key:"getColor",value:function(){return this.style.color||this.getParentProp("color")||"black"}},{key:"measureText",value:function(t){t=null!=t?t+"":null!=this.attr.content?this.attr.content+"":"";for(var n=this.getFontSize(),r=0,o=0;o<t.length;o++){var i=t[o];/[A-Za-z0-9]/.test(i)||"~!@#$%^&*()（）-_+=[]{}|/<>*;:'\"‘“”,.?。 ".indexOf(i)>-1?r+=f[i][e.systemInfo&&"android"===e.systemInfo.platform?1:0]*n:/[^\x00-\xff]/.test(i)?r+=n:r+=n/2}return Math.round(r)}},{key:"exceedWidth",value:function(t,e){return this.measureText(t)>e}},{key:"getTextStartPos",value:function(){var t=this.style,e=t.paddingLeft,n=t.borderLeftWidth,r=t.paddingTop,o=t.borderTopWidth;return{left:(e||0)+(n||0),top:(r||0)+(o||0)}}},{key:"draw",value:function(){var t=(this.layout.contentWidth,this.style),e=t.textOverflow,n=t.lineClamp,r=void 0===n?1:n,o=void 0;o=this.layout.contentWidth;var i=null!=this.attr.content?this.attr.content+"":"",a="",l=0,u=this.getLineHeight(),s=this.getTextStartPos();if(this.ctx.translate(s.left,s.top),this.exceedWidth(i,o)){for(var c=0;c<i.length;c++)if(a+=i[c],this.exceedWidth(a,o)){if("ellipsis"===e&&r-1===parseInt(l/u))return void this.drawText(a.slice(0,a.length>1?a.length-1:1)+"...",o,l);this.drawText(a.slice(0,a.length>1?a.length-1:1),o,l),a.length>1&&c--,a="",l+=u}a&&this.drawText(a,o,l)}else this.drawText(i,o)}},{key:"getParentProp",value:function(t){for(var e=this.parentNode,n=void 0;e;){if(n=e.style[t])return n;e=e.parentNode}}},{key:"drawText",value:function(t,e,n){var o=this.layout,i=(o.left,o.top,o.width,o.height,this.getTextAlign()),a=this.getFontSize(),l=this.getTextShadow(),u=this.getColor(),s=this.ctx,c=void 0;n=n||0,u&&s.setFillStyle(u),i&&s.setTextAlign(i),a&&s.setFontSize(a),l&&s.setShadow.apply(s,r(l)),i&&e?("center"===i?c=e/2:"left"===i?c=0:"right"===i&&(c=e),s.fillText(t,c,a+n)):s.fillText(t,0,a+n)}}]),e}(h.default);e.default=d},function(t,e,n){function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var o="rgba(248, 225, 24, 0.6)",i="rgba(100, 255, 243, 0.6)";e.default={drawDebugBoundary:function(t,e){var n=t.layout,r=n.width,a=n.height,l=t.style,u=l.borderTopWidth,s=l.borderBottomWidth,c=l.borderLeftWidth,h=l.borderRightWidth,f=l.marginTop,d=l.marginLeft,p=l.marginRight,y=l.marginBottom,g=l.paddingRight,v=l.paddingLeft,m=l.paddingTop,_=l.paddingBottom,b=l.margin,w=l.padding,x=l.borderWidth;f=f||b||0,d=d||b||0,p=p||b||0,y=y||b||0,g=g||w||0,v=v||w||0,m=m||w||0,_=_||w||0,h=h||x||0,c=c||x||0,u=u||x||0,s=s||x||0,e.save(),f&&(e.save(),e.setFillStyle(o),e.translate(0,-f),e.fillRect(0,0,r,f),this.drawBoundaryDetail(r,f,f,e),e.restore()),d&&(e.save(),e.setFillStyle(o),e.translate(-d,0),e.fillRect(0,0,d,a),this.drawBoundaryDetail(d,a,d,e),e.restore()),p&&(e.save(),e.setFillStyle(o),e.translate(r,0),e.fillRect(0,0,p,a),this.drawBoundaryDetail(p,a,p,e),e.restore()),y&&(e.save(),e.setFillStyle(o),e.translate(0,a),e.fillRect(0,0,r,y),this.drawBoundaryDetail(r,y,y,e),e.restore()),g&&(e.save(),e.translate(r-g-h,u),e.setFillStyle(i),e.fillRect(0,0,g,a-u-s),this.drawBoundaryDetail(g,a-u-s,g,e),e.restore()),v&&(e.save(),e.translate(c,u),e.setFillStyle(i),e.fillRect(0,0,v,a-s-u),this.drawBoundaryDetail(v,a-s-u,v,e),e.restore()),m&&(e.save(),e.translate(c,u),e.setFillStyle(i),e.fillRect(0,0,r-c-h,m),this.drawBoundaryDetail(r-c-h,m,m,e),e.restore()),_&&(e.save(),e.translate(c,a-_-s),e.setFillStyle(i),e.fillRect(0,0,r-c-h,_),this.drawBoundaryDetail(r-c-h,_,_,e),e.restore()),r&&a&&(e.setStrokeStyle("rgba(143, 143, 143, 1)"),e.strokeRect(0,0,r,a)),e.restore()},drawBoundaryDetail:function(t,e,n,r){n+="",r.setFontSize(10),r.setFillStyle("red"),r.fillText(n,(t-5*n.length)/2,(e-10)/2+10)},outputElementStyleInfo:function(t){var e=(t.attr,t.attr.class,t.attr.__classObj,t.attr.style,{element:"color:#239a3b;font-size:20px;",className:"color:#0366d6;font-size:16px",common:"color:#000",attrName:"color:#f00"});console.clear(),console.log("%c<"+t.constructor.name+">",e.element),t.attr.class&&console.log("%c-class %c"+t.attr.class,e.className,e.common);var n=this.formatOutputInfo(JSON.stringify(t.style,null,2),e),o=this.formatOutputInfo(JSON.stringify(t.layout,null,2),e);console.log.apply(null,["%c-style %c"+n.output,e.className,e.common].concat(r(n.styles))),console.log.apply(null,["%c-layout %c"+o.output,e.className,e.common].concat(r(o.styles)))},formatOutputInfo:function(t,e){var n=[];return t=t.replace(/"(.+)"\:\s(.+?)/g,function(t,r,o){return n.push(e.attrName),n.push(e.common),"%c"+r+"%c: "+o}),{output:t,styles:n}},drawDebugMask:function(t,e){var n=e.getPos();t.setFillStyle("rgba(252, 156, 225, 0.5)"),t.fillRect(n.left,n.top,e.layout.width,e.layout.height)}}},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}var o=n(5),i=r(o),a=n(1),l=r(a),u=n(0),s=r(u),c=n(2),h=r(c),f=n(7),d=r(f),p=n(8),y=r(p),g=n(11),v=r(g),m=n(14),_=r(m),b=n(3),w=r(b),x=n(18),S=r(x),O=void 0,T=void 0,P={useDynamicHeight:!1},M={useDynamicHeight:["6.5.16","6.5.14"],makePhoneCall:["6.5.16","6.5.14"]},j=void 0,k=void 0,D=0;t.exports={init:function(t){this.windowWidth=t.windowWidth||200,this.windowHeight=t.windowHeight||200,this.ctx=t.ctx,this.render=t.render,this.classObj=t.classObj,this.layoutDebug=t.layoutDebug,this.imageDebug=t.imageDebug,this.minFontSize=t.minFontSize||10,this.scaleRatio=this.windowWidth/384,this.disablePolling=t.disablePolling,this.maxPollingCount=t.maxPollingCount||20},measureText:function(t,e){return new h.default({attr:{content:t},style:{fontSize:e}}).measureText()},draw:function(){var t=this,e=(this.ctx,this.tpl,this.classObj),n=this.data,r=void 0;this.getSystemInfo(function(o){h.default.systemInfo=o;var a=t.render(n,{View:s.default,Image:d.default,Text:h.default,Navigator:y.default,Location:v.default,LineChart:_.default});if(P.useDynamicHeight&&(a=t.processDynamicHeightTree(a),e=l.default.processDynamicClassObj(e)),t.__setContainerSize(a),a=l.default.processStyle(a,e),t.scaleSize(a),(0,i.default)(a),clearTimeout(O),D=0,t.root=a,P.useDynamicHeight&&t.root.children[0])return r=t.root.layout.height=t.root.children[0].layout.height,void t.setDynamicHeight(r,function(e){t.__draw()});t.__draw(a)})},__draw:function(){var t=this;this.root.__draw(this.ctx,this.layoutDebug,this.imageDebug),this.ctx.draw(),this.layoutDebug&&T&&w.default.drawDebugMask(this.ctx,T),this.imageDebug&&S.default.drawDebugImage(this.ctx,this.imageDebug),this.disablePolling||(O=setTimeout(function(){t.isDirty(t.root)?t.draw():t.__draw(),D++},500))},isDirty:function(t){for(var e=void 0,n=0;n<t.children.length;n++){if(e=t.children[n],e.dirty)return e.dirty=!1,!0;if(this.isDirty(t.children[n]))return!0}return!1},setDynamicHeight:function(t,e){console.log("dynamicHeight:"+t),wx.setWidgetSize?wx.setWidgetSize({height:t,success:function(t){e&&e(t.errCode)},fail:function(t){e&&e(t.errCode)}}):e&&e()},processDynamicHeightTree:function(t){var e=new s.default({attr:{class:"__dynamic-height-container"},parentNode:t,children:t.children});return e.children.forEach(function(t){t.parentNode=e}),t.children=[e],t},scaleSize:function(t){var e=this,n=this.scaleRatio;["width","height","left","top","right","bottom","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","borderWidth","borderTopWidth","borderBottomWidth","borderLeftWidth","borderRightWidth","fontSize","lineHeight"].forEach(function(r){null!=t.style[r]&&(t.style[r]="fontSize"===r?Math.max(e.minFontSize,Math.round(n*t.style[r])):Math.round(n*t.style[r]))}),t.children.forEach(function(t){e.scaleSize(t)})},handleTap:function(t){var e=this.layoutDebug,n=t.x,r=t.y,o=this.root,i=[],a=void 0,l=void 0,u=!1;if(o){if(this.detectTap(o,n,r,i),!(l=i[i.length-1]))return u;if(e)w.default.outputElementStyleInfo(l),T=l,u=!0;else for(;i.length;){a=i.pop();var s={x:n,y:r,target:l,currentTarget:a};if("function"==typeof a.attr.bindtap&&(a.attr.bindtap(s),u=!0),"function"==typeof a.attr.catchtap){a.attr.catchtap(s),u=!0;break}}}return u},detectTap:function(t,e,n,r){if(t.isInnerPoint(e,n)){r.push(t);for(var o=0;o<t.children.length;o++){var i=t.children[o];this.detectTap(i,e,n,r)}}},__setContainerSize:function(t){t.attr.class="root",t.style.width=384,t.style.height=Math.floor(384*this.windowHeight/this.windowWidth),t.style.fontSize=14},setRender:function(t){this.render=t},setData:function(t){this.data=Object.assign(this.data||{},t),this.draw()},setClassObj:function(t){this.classObj=t},getSystemInfo:function(t){k?setTimeout(function(){t&&t(k)},0):j?j.push(t):(j=[t],wx.getSystemInfo({success:function(t){k=t,j.forEach(function(e){e(t)}),j=[]}}))},useDynamicHeight:function(){P.useDynamicHeight=!0},compareVersion:function(t,e){if(!t&&!e)return 0;if(!t)return-1;if(!e)return 1;t=t.split("."),e=e.split(".");for(var n=0;n<t.length;n++){var r=Number(t[n]||0),o=Number(e[n]||0);if(r>o)return 1;if(r<o)return-1}return 0},canIUse:function(t,e){var n=this;if(!M[t])return void(e&&e(!1));this.getSystemInfo(function(r){"ios"===r.platform&&n.compareVersion(r.version,M[t][0])>=0||"android"===r.platform&&n.compareVersion(r.version,M[t][1])>=0?e&&e(!0):e&&e(!1)})},openUrl:function(t){"string"==typeof t&&(t.startsWith("http")||t.startsWith("https"))?wx.openApp?wx.openApp({url:t}):console.log("no api openApp"):console.log("wrong args, url must start with http or https")},genParamToUrl:function(t,e){return t=encodeURIComponent(t),e=encodeURIComponent(e),t+"="+e},iOSOpenNativeApp:function(t,e,n){wx.openApp?wx.openApp({url:openNativeAppPlaceholder+"?"+this.genParamToUrl("appPageUrl",t)+"&"+this.genParamToUrl("openSdkAppId",e)+"&"+this.genParamToUrl("jumpItuensUrl",n)}):console.log("no api openApp")},androidOpenNativeApp:function(t,e,n,r){wx.openApp?wx.openApp({url:openNativeAppPlaceholder+"?"+this.genParamToUrl("pkgName",t)+"&"+this.genParamToUrl("extra",e)+"&"+this.genParamToUrl("extraIntentKey",n)+"&"+this.genParamToUrl("fallbackUrl",r)}):console.log("no api openApp")}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r={flexDirection:"row",padding:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,margin:0,marginLeft:0,marginRight:0,marginTop:0,marginBottom:0,borderWidth:0,borderLeftWidth:0,borderRightWidth:0,borderTopWidth:0,borderBottomWidth:0,position:"relative",flexGrow:null,flexShrink:1,flexWrap:"nowrap",justifyContent:"flex-start",alignItems:"stretch",alignContent:"stretch",alignSelf:null,left:null,right:null,top:null,bottom:null,width:null,height:null},o={row:"width",column:"height"},i={row:"left",column:"top"},a={row:"right",column:"bottom"},l=function(){return{left:0,top:0,width:0,height:0}},u=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},s=function(t,e,n){return e?!n&&t._calculateStyle&&null!=t._calculateStyle[e]?t._calculateStyle[e]:t.style&&null!=t.style[e]?t.style[e]:r[e]:t.style},c=function(t,e){return e in t.style},h=function(t,e){var n="padding"+u(e),r=c(t,n),o=c(t,"padding");return r?s(t,n):o?s(t,"padding"):0},f=function(t,e){var n="margin"+u(e),r=c(t,n),o=c(t,"margin");return r?s(t,n):o?s(t,"margin"):0},d=function(t,e){var n="border"+u(e)+"Width",r=c(t,n),o=c(t,"borderWidth");return r?s(t,n):o?s(t,"borderWidth"):0},p=function(t,e){return(s(t,i[e])||0)-(s(t,a[e])||0)},y=function(t,e){var n=s(t,o[e]),r=h(t,i[e])+h(t,a[e]);return Math.max(n,r)},g=function(t,e){return f(t,i[e])+(p(t,e)||0-p(t,e)||0)},v=function(t,e){var n=t.layout[o[e]];return Math.max(0,(n||0)-h(t,i[e])-h(t,a[e])-d(t,i[e])-d(t,a[e]))},m=function(t,e){return s(t,o[e])+f(t,i[e])+f(t,a[e])},_=function(t){for(var e=0,n=0;n<t.length;n++)e+=Number(s(t[n],"flexGrow"));return e},b=function(t,e,n){for(var r=e/_(t),i=0;i<t.length;i++){var a=Number(s(t[i],"flexGrow")),l=r<=0?0:a*r;t[i].layout[o[n]]=t[i]._calculateStyle[o[n]]=l}},w=function(t,e,n,r,l,u){var s=0,c=void 0,h=t.concat(e).sort(function(t,e){return t._columnIndex-e._columnIndex}),d=0===t.length||l<0,y=void 0;d&&"flex-start"!==n?"flex-end"===n?s=l:"center"===n?s=l/2:"space-around"===n&&(l<0&&(s=l/2),y=Math.max(0,l)/(2*h.length)):s=0;for(var g=0;g<h.length;g++)c=h[g],d&&("space-between"===n?s+=0===c._columnIndex?0:Math.max(0,l)/(h.length-1):"space-around"===n&&(s+=0===c._columnIndex?y:2*y)),s+=f(c,i[r]),c.layout[i[r]]=u+s+p(c,r),s+=c.layout[o[r]]+f(c,a[r]);return s},x=function(t,e){return s(t,"alignSelf")||s(e,"alignItems")},S=function(t){return"absolute"===s(t,"position")},O=function(t,e,n,r,l,u){var c=(s(l,"alignItems"),s(l,"alignContent")),h=n.length>=2?n.reduce(function(t,e){return t+e}):1===n.length?n[0]:0,d=r-h;n.length>1?"stretch"===c&&(n=n.map(function(t){return Math.max(0,d)/n.length+t})):n=[r];for(var y=0;y<e.length;y++){var g=e[y],v=s(g,o[t],!0),_=x(g,l),b=0,w=0,S=0;g.layout[o[t]]="stretch"===_&&null==v?n[g._lineIndex]-f(g,i[t])-f(g,a[t]):s(g,o[t]),"flex-start"===_||"stretch"===_?b=f(g,i[t]):"flex-end"===_?b=n[g._lineIndex]-g.layout[o[t]]-f(g,a[t]):"center"===_&&(b=(n[g._lineIndex]-m(g,t))/2+f(g,i[t])),n.length>1&&("flex-start"===c||"stretch"===c?w=0:"flex-end"===c?w=r-h:"space-between"===c?w=Math.max(0,d)/(n.length-1)*g._lineIndex:"space-around"===c&&(w=d<0?d/2:d/(2*n.length)*(2*g._lineIndex+1))),S=g._lineIndex>=2?n.slice(0,g._lineIndex).reduce(function(t,e){return t+e}):n[g._lineIndex-1]||0,g.layout[i[t]]=u+w+b+S+p(g,t),A(g)}},T=function(t,e,n,r){var l=r-n,u=0,c=0,h=[],d=[];return t.forEach(function(t,n){d[n]=Math.max(0,s(t,"flexShrink")),h[n]=y(t,e)*d[n],c+=h[n]}),t.forEach(function(t,n){var r=f(t,i[e])+f(t,a[e]);h[n]>0&&(t.layout[o[e]]=Math.max(0,t.layout[o[e]]-h[n]/c*l)),u+=t.layout[o[e]]+r}),u},P=function t(e,n,r){e.style=e.style||{},e.children=e.children||[],e._calculateStyle=e._calculateStyle||{};var o=s(e,"flexDirection"),i=e.children.filter(function(t){return!S(t)});n-=j(e,"row");var a=s(e,"width"),l=0;return null==a?e.measureText?(D(e,n),r?e._calculateStyle.width+f(e,"left")+f(e,"right"):e._calculateStyle.width):("row"===o?i.forEach(function(e){var r=t(e,n-l-f(e,"left")-f(e,"right"),!0);l+=r}):i.forEach(function(e){var r=t(e,n,!0);r>l&&(l=r)}),r?l+j(e,"row")+f(e,"left")+f(e,"right"):l+j(e,"row")):r?m(e,"row"):a},M=function t(e,n,r,o){e.style=e.style||{},e.children=e.children||[],e._calculateStyle=e._calculateStyle||{};var i=s(e,"flexDirection"),a=e.children.filter(function(t){return!S(t)});r-=j(e,"column"),s(e,"width")?n=s(e,"width")-j(e,"row"):n-=j(e,"row");var l=s(e,"height"),u=0;return null==l?e.measureText?(D(e,n),o?e._calculateStyle.height+f(e,"top")+f(e,"bottom"):e._calculateStyle.height):("column"===i?a.forEach(function(e){u+=t(e,n,r,!0)}):a.forEach(function(e){var o=t(e,n,r,!0);o>u&&(u=o)}),o?u+j(e,"column")+f(e,"top")+f(e,"bottom"):u+j(e,"column")):o?m(e,"column"):l},j=function(t,e){return h(t,i[e])+h(t,a[e])+d(t,i[e])+d(t,a[e])},k=function(t){t.style=t.style||{},t.layout=t.layout||l();var e=s(t,"flexDirection"),n="row"===e?"column":"row",r=y(t,e),a=y(t,n);g(t,e),"relative"===s(t,"position")&&(t.layout[o[e]]=r,t.layout[o[n]]=a,t.layout[i[e]]+=g(t,e),t.layout[i[n]]+=g(t,n)),A(t)},D=function(t,e){t.style=t.style||{},t.layout=t.layout||l(),t._calculateStyle={};var n=void 0,r=void 0,o=void 0,i=void 0,a=void 0;i=t.measureText()+j(t,"row"),null==s(t,"width")?(o=Math.ceil(i/e),n=i>e?e:i):(n=s(t,"width"),o=Math.ceil(i/n)),"ellipsis"===s(t,"textOverflow")&&(a=s(t,"lineClamp")||1,o=Math.min(o,a)),r=null==s(t,"height")?t.getLineHeight()*o+j(t,"column"):s(t,"height"),t._calculateStyle.width=n,t._calculateStyle.height=r},A=function t(e){var n=e.children||[],r=void 0,u=void 0,c=s(e,"flexDirection"),p="row"===c?"column":"row",y=v(e,c),g=v(e,p);if(e.layout.contentWidth="row"===c?y:g,e.layout.contentHeight="row"===c?g:y,n.length){var _=(s(e,"flexDirection"),s(e,"flexWrap")),x=s(e,"justifyContent"),j=(s(e,"width"),s(e,"height")),k=[],A=[],I=0,C=0,W=0,L=[],N=0,B=void 0,R=h(e,i[c])+d(e,i[c]),E=h(e,i[p])+d(e,i[p]),z=void 0;r=n.filter(function(t){return!S(t)});for(var F=0;F<r.length;F++){var H=r[F];H.style=H.style||{},H.layout=H.layout||l(),H._calculateStyle={};var U=s(H,"flexGrow");s(H,"position"),H._columnIndex=W,H._lineIndex=C,0===W&&(N=0,I=0,k=[],A=[]);var G=s(H,o[c]),V=s(H,o[p]),$=f(H,"left")+f(H,"right");if(null==G&&null==U&&("row"===c?H._calculateStyle.width=P(H,e.layout.contentWidth-I-$):H._calculateStyle.height=M(H,e.layout.contentWidth,e.layout.contentHeight)),null==V&&("row"===c?H._calculateStyle.height=M(H,e.layout.contentWidth-I-$,e.layout.contentHeight):H._calculateStyle.width=P(H,e.layout.contentWidth)),H.measureText&&("row"===c?D(H,e.layout.contentWidth-I-$):D(H,e.layout.contentWidth)),z=null!=U?f(H,i[c])+f(H,a[c]):m(H,c),B=I+z>y,"wrap"===_&&B&&W>0)b(k,y-I,c),L[C]=N,w(k,A,x,c,y-I,R),C+=1,W=0,F--;else{if(m(H,p)>N&&(N=m(H,p)),null!=U)k.push(H);else{var J=s(H,o[c]);null!=J&&(H.layout[o[c]]=J),A.push(H)}if(I+=z,F===r.length-1||"wrap"===_&&B&&0===W){var X=void 0;b(k,y-I,c),B&&(X=T(A,c,y,I)),L[C]=N,w(k,A,x,c,null==X?y-I:y-X,R),W=0}W+=1}}O(p,r,L,g,e,E),u=n.filter(function(t){return S(t)});for(var Y=0;Y<u.length;Y++){var K=u[Y];K.style=K.style||{},K.layout=K.layout||l();var Z=s(K,"left"),q=s(K,"top"),Q=s(K,"right"),tt=s(K,"bottom"),et="main"===c?y:g,nt="main"===c?g:y,rt=s(K,"height"),ot=s(K,"width"),it=void 0,at=void 0;K.layout.width=null!=Z&&null!=Q?et-Z-Q:null!=ot?ot:P(K,1e4,!0),K.layout.height=null!=q&&null!=tt?nt-q-tt:null!=rt?rt:M(K,K.layout.width,e.layout.contentHeight,!0),null!=Z?it=f(K,"left")+Z:null!=Q&&(it=et-f(K,"right")-K.layout.width-Q),null!=q?at=f(K,"top")+d(K,"top")+q:null!=tt&&(at=j-f(K,"bottom")-K.layout.height-tt),K.layout.left=it||0,K.layout.top=at||0,t(K)}}};e.default=k},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof(t)},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(e){r(this,t),e=e||{},this.attr=e.attr||{},this.style=e.style||{},this.nextSibling=e.nextSibling,this.previousSbling=e.previousSbling,this.parentNode=e.parentNode,this.children=e.children||[]}return i(t,[{key:"insertBefore",value:function(t,e){for(var n=e.parentNode?e.parentNode.children:root.children,r=0;r<n.length;r++)if(n[r]===e)return e===t?n[r]=t:n.splice(r,0,t),void(t.parentNode=this)}},{key:"isFirstChild",value:function(){return 0===this.getIndexInParent()}},{key:"isLastChild",value:function(){var t=this.parentNode;return!t||this.getIndexInParent()===t.children.length-1}},{key:"getIndexInParent",value:function(){return this.parentNode?this.parentNode.children.indexOf(this):0}},{key:"remove",value:function(){var t=this.parentNode?this.parentNode.children:root.children,e=t.indexOf(this);t.splice(e,1),this.parentNode=null}},{key:"__resetParentNode",value:function(t){var e=this;t.children=t.children||[],t.children.forEach(function(n){n.parentNode=t,e.__resetParentNode(n)})}},{key:"__deepClone",value:function(e){var n=void 0;n=e instanceof t?new e.constructor(e):new e.constructor;for(var r in e)"parentNode"!==r&&"nextSibling"!==r&&"previousSbling"!==r&&(n[r]="object"===o(e[r])?this.__deepClone(e[r]):e[r]);return n}},{key:"cloneNode",value:function(e){if(e){var n=this.__deepClone(this);return this.__resetParentNode(n),n.__proto__=this.__proto__,n}return new t(this)}},{key:"toString",value:function(){var t=this.constructor.name.toLocaleLowerCase(),e=this.children.map(function(t){return t.toString()}),n=[];for(var r in this.attr)null!=this.attr[r]&&"content"!==r&&n.push(" "+r+'="'+this.attr[r]+'"');return"<"+t+n.join("")+">"+(e.length?e.join(""):null!=this.attr.content?this.attr.content:"")+"</"+t+">"}}]),t}();e.default=a},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(0),u=function(t){return t&&t.__esModule?t:{default:t}}(l),s=function(t){function e(t){r(this,e)
;var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.attr.src=t.attr.src,n}return i(e,t),a(e,[{key:"draw",value:function(){var t=this.ctx;this.attr.src&&t.drawImage(this.attr.src,0,0,this.layout.width,this.layout.height)}}]),e}(u.default);e.default=s},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=n(2),u=r(l),s=n(0),c=r(s),h=n(1),f=r(h),d=n(9),p=r(d),y=n(10),g=r(y),v={__onNavigatorTap:function(t){var e=t.target.attr,n=e.type,r=e.url,o=void 0;"location"===n?(console.log("location authorize"),wx.authorize&&wx.authorize({scope:"scope.userLocation"})):r&&(o=r.match(/^tel\:(.*)/),o&&wx.makePhoneCall?wx.makePhoneCall({phoneNumber:o[1]}):wx.openApp&&wx.openApp({url:r}))}},m=function(t){function e(t){var n;o(this,e);var r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),a=(0,p.default)(Object.assign(v,r.attr),{View:c.default,Text:u.default});return a.attr=r.attr,f.default.processStyle(a,g.default),n=a,i(r,n)}return a(e,t),e}(u.default);e.default=m},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t.filter(function(t){return null!=t})};e.default=function(t,e){var n=e.View,o=e.Text;return e.Image,e.Navigator,e.Location,Object.assign(t,{}),new n({style:{},attr:{},children:r([new o({style:{},attr:{class:"wx_navigator",bindtap:t.__onNavigatorTap,url:t.url,type:t.type,content:t.content},children:r([])})])})}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default={wx_navigator:{color:"#509FC9",paddingBottom:10,paddingLeft:5,paddingRight:5}}},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(2),s=r(u),c=n(0),h=r(c),f=n(1),d=r(f),p=n(12),y=r(p),g=n(13),v=r(g),m={isReset:!1},_=function(t){function e(t){var n;o(this,e);var r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),a=r;return r.data={__onLocationTap:function(){return!0},__onLocationBtnTap:function(t){m.isReset&&a.attr.reseturl?wx.openApp({url:a.attr.reseturl}):wx.authorize&&wx.authorize({scope:"scope.userLocation",success:function(){console.log("User Location Success!")},fail:function(){console.log("User Location Error!"),a.rejectRefresh()}})}},r.element=r.render(),d.default.processStyle(r.element,v.default),n=r.element,i(r,n)}return a(e,t),l(e,[{key:"render",value:function(){return(0,y.default)(Object.assign(this.data,m,this.attr),{View:h.default,Text:s.default})}},{key:"rejectRefresh",value:function(){this.element.dirty=!0,m.isReset=!0}}]),e}(h.default);e.default=_},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t.filter(function(t){return null!=t})};e.default=function(t,e){var n=e.View,o=e.Text;return e.Image,e.Navigator,e.Location,Object.assign(t,{$str42557245:"地理位置已关闭，请前往小程序重新设置",$str87568018:"无法获取位置信息",$str43637907:"前往设置",$str75949486:"点击获取"}),new n({style:{},attr:{},children:r([new n({style:{},attr:{class:"wx_location",bindtap:t.__onLocationTap,reseturl:t.reseturl},children:r([new o({style:{},attr:{class:"wx_location_tip",content:t.isReset?t.$str42557245:t.$str87568018},children:r([])}),new o({style:{},attr:{class:"wx_location_btn",bindtap:t.__onLocationBtnTap,content:" "+(t.isReset?t.$str43637907:t.$str75949486)},children:r([])})])})])})}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default={wx_location:{flexDirection:"column",alignItems:"center",width:384},wx_location_tip:{marginTop:42,color:"#888888",fontSize:16},wx_location_btn:{color:"#1AAD19",paddingTop:8,paddingBottom:8,width:130,textAlign:"center",marginTop:30,marginBottom:48,borderWidth:1,borderColor:"#1AAD19",borderRadius:6}}},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(2),s=(r(u),n(0)),c=r(s),h=n(1),f=(r(h),n(15)),d=(r(f),n(16)),p=(r(d),n(17)),y=r(p),g=function(t){function e(t){o(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.style.width=410,n.style.height=160,n}return a(e,t),l(e,[{key:"draw",value:function(){var t=this.style,e=t.width,n=t.height,r=this.attr,o=r.xnum,i=r.ynum,a=r.hot;new y.default.Trend({ctx:this.ctx,width:e,height:n,xnum:o,ynum:i,hot:a}).setSeries([{name:"",data:this.attr.data}],n)}}]),e}(c.default);e.default=g},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t.filter(function(t){return null!=t})};e.default=function(t,e){var n=e.View;return e.Text,e.Image,e.Navigator,e.Location,Object.assign(t,{}),new n({style:{},attr:{},children:r([new n({style:{},attr:{class:"wx_line_chart"},children:r([])})])})}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default={wx_line_chart:{}}},function(t,e,n){function r(t,e,n,r){if(n&&r||(n=.15,r=.15),e<1)var o=t[0].x+(t[1].x-t[0].x)*n,i=t[0].y+(t[1].y-t[0].y)*n;else var o=t[e].x+(t[e+1].x-t[e-1].x)*n,i=t[e].y+(t[e+1].y-t[e-1].y)*n;if(e>t.length-3)var a=t.length-1,l=t[a].x-(t[a].x-t[a-1].x)*r,u=t[a].y-(t[a].y-t[a-1].y)*r;else var l=t[e+1].x-(t[e+2].x-t[e].x)*r,u=t[e+1].y-(t[e+2].y-t[e].y)*r;return{pA:{x:o,y:i},pB:{x:l,y:u}}}var o=function(){};o.prototype.init=function(){return this},o.prototype.setData=function(){return this},o.prototype.formatData=function(){return this},o.prototype.paintGrid=function(){return this},o.prototype.initEvent=function(){return this},o.prototype.prepare=function(t){return this.opt=t,this.opt.scale,this.width=t.width,this.height=t.height,this.low=0,this.high=0,this.dataLength=0,this.rectMain={x:50,y:Math.floor(.05*this.height),w:Math.floor(this.width-70),h:Math.floor(.8*this.height)},this.initEvent(),this},o.prototype.getXY=function(t,e){var n=(this.opt,Math.min(e.length,this.dataLength)),r=this.high,o=this.low,i=this.rectMain,a=i.w,l=i.h,u=i.x,s=i.y,c=e[t],h=void 0===r||void 0===o?void 0:r-o==0?0:l/(r-o);return c?{x:n<=1?u:Math.round(u+a/(n-1)*t),y:void 0===h?void 0:0===h?Math.round(s+l/2):Math.round(s+l-h*(c.d-o))}:{x:void 0,y:void 0}};var i=function(t){this.prepare({width:t.width-8,height:t.height,xnum:t.xnum||3,ynum:t.ynum||3,hot:t.hot,decimal:0,during:2e3,tagDelay:1e3,scale:1,mainLine:{color:"#000000",width:2},refLine:{color:"#e6e6e6",width:.8},xAxis:{color:"#6A6A6A",baseline:"middle",align:"center"},yAxis:{color:"#797979",baseline:"middle",align:"right"},tagStyle:{show:!0,color:"#1AAD19",baseline:"top",lineHeight:20,borderStyle:"#eeeeee",backgroundStyle:"#ffffff"},ctx:t.ctx})};i.prototype=new o,i.prototype.constructor=i,i.prototype.init=function(){this.formatData(),this.paintGrid(),this.paintTrend()},i.prototype.setSeries=function(t,e){t.length<=0||(this.seriesData=t,this.dataLength=function(){for(var e=t[0].data.length,n=1;n<t.length;n++)e>t[n].data.length&&(e=t[n].data.length);return e}(),this.height=e||100,this.rectMain={x:50,y:Math.floor(10),w:Math.floor(this.width-70),h:Math.floor(this.height-45)},this.xnum=Math.min(this.opt.xnum,this.dataLength),this.ynum=this.opt.ynum,this.init())},i.prototype.formatData=function(){var t,e,n,r,o,i,a,l,u=this.seriesData.length,s=this.dataLength,c=this.xnum;for(this.ynum,Math.floor(s/(c-1)),t=0;t<u;t++)for(e=0;e<s;e++)(r=this.seriesData[t].data[e])&&"d"in r&&(r.d||"0"===r.d||0===r.d)&&(o=r.d-0,i=void 0===i?o:Math.min(i,o-0),a=void 0===a?o:Math.max(a,o-0));l=Math.ceil((a-i)/2);var h=function(t){var e=t.toString().length;return e>=3?100*Math.ceil(t/100):e>=2?10*Math.ceil(t/10):t};if(0===l)a-0==0?a=10:(n=i.toString().length,n>=7?(this.unit="M",r=Math.ceil(i/1e6),o=Math.ceil(a/1e6),f=h(r+o),a=1e6*f):n>=4?(this.unit="k",r=Math.ceil(i/1e3),o=Math.ceil(a/1e3),f=h(r+o),a=1e3*f):(this.unit="",r=Math.ceil(i/10),o=Math.ceil(a/10),f=h(r+o),a=10*f));else{n=l.toString().length;var f=0;n>=7?(this.unit="M",r=Math.ceil(i/1e6),o=Math.ceil(a/1e6),f=h(r+o),a=1e6*f):n>=4?(this.unit="k",r=Math.ceil(i/1e3),o=Math.ceil(a/1e3),f=h(r+o),a=1e3*f):(this.unit="",r=Math.ceil(i/10),o=Math.ceil(a/10),f=h(r+o),a=10*f)}this.low=0,this.high=a},i.prototype.paintGrid=function(){var t,e,n,r,o=this.opt,i=o.ctx,a=this.seriesData[0].data||[],l=this.high,u=this.low,s=this.xnum,c=this.ynum,h=(o.xAxis,o.yAxis,this.rectMain),f=h.x,d=h.y,p=h.w,y=h.h,g=p/(s-1),v=y/(c-1),m=this.dataLength,_=Math.floor(m/(s-1)),b=Math.floor((l-u)/(c-1));for(i.save(),i.beginPath(),i.setStrokeStyle(o.refLine.color),i.setLineWidth(o.refLine.width),i.setFontSize(10),i.setFillStyle(o.xAxis.color),e=0;e<s;e++)n=Math.floor(g*e),i.moveTo(f+n,d+y),i.lineTo(f+n,d+y+10),a[e*_]&&e!=s-1&&(t=4===a[e*_].t.length?8:12,i.fillText(a[e*_].t,f+n-t,d+y+25)),e==s-1&&(t=4===a[m-1].t.length?8:12,i.fillText(a[m-1].t,f+n-t,d+y+25));for(i.setFillStyle(o.yAxis.color),e=0;e<c;e++)if(r=Math.floor(v*e),i.moveTo(f-5,d+r),i.lineTo(f+p+5,d+r),e==c-1)i.fillText("0",20,d+r);else{var w;w="M"==this.unit?l/1e6-b/1e6*e+this.unit:"k"==this.unit?l/1e3-b/1e3*e+this.unit:l-b*e+this.unit,i.fillText(w,16,d+r)}i.stroke(),i.restore()},i.prototype.paintTrend=function(){var t,e,n,o,i,a=this,l=a.opt,u=a.seriesData.length,s=a.dataLength,c=this.rectMain,h=(c.w,c.h),f=c.x,d=c.y,p=l.ctx,y=l.hot;for(p.save(),t=0;t<u;t++){for(o=[],e=0;e<s;e++)n=a.getXY(e,a.seriesData[t].data),void 0!==n.x&&void 0!==n.y&&o.push(n);for(p.beginPath(),p.setStrokeStyle(a.seriesData[t].color||l.mainLine.color),p.setLineWidth(l.mainLine.width),e=0;e<o.length;e++)0==e?p.moveTo(o[e].x,o[e].y):Math.abs(o[e-1].y-o[e].y)<2?p.lineTo(o[e].x,o[e].y):o[e].y>d+h-10||o[e-1].y>d+h-10?(i=r(o,e-1,.02,.02),p.bezierCurveTo(i.pA.x,i.pA.y,i.pB.x,i.pB.y,o[e].x,o[e].y)):(i=r(o,e-1),p.bezierCurveTo(i.pA.x,i.pA.y,i.pB.x,i.pB.y,o[e].x,o[e].y));if(p.setLineWidth(2),y){var g=p.createLinearGradient(f,d,f,d+h);p.setStrokeStyle("#AD0000"),p.stroke(),g.addColorStop(0,"rgba(216,0,9,0.9)"),g.addColorStop(1,"white"),p.setFillStyle(g),p.lineTo(o[o.length-1].x,d+h),p.lineTo(o[0].x,d+h),p.lineTo(o[0].x,o[0].y),p.fill()}else p.setStrokeStyle("#48C23D"),p.stroke();p.restore()}p.draw()},t.exports={Trend:i}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default={drawDebugImage:function(t,e){t.setGlobalAlpha(.4),t.drawImage(e)}}}])}); 
 			}); 
		define("components/base.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t){var e=getApp();return t.methods.onTapNavi=function(t){var e=getApp(),o=t.currentTarget.dataset.url;e.goto(o)},t.methods.nullButBindStats=function(){},e.stats(t.methods),new Component(createComponent(t))};var noop=function(){},globalMethods={toast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:noop;wx.showToast({title:t,duration:e,complete:o,icon:"none"})}},mixMethods=function(t,e){var o=Object.assign({},e);return Object.keys(t).filter(function(t){return void 0===o[t]}).map(function(e){o[e]=t[e]}),o},createComponent=function(t){return t.methods=mixMethods(globalMethods,t.methods),t}; 
 			}); 
		define("components/canvas/_canvas.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),ShareImageBuilder=function(){function t(e,a){_classCallCheck(this,t),this.options=a,this.page=e,this.canvas=a.canvasId,this.ctx=wx.createCanvasContext(a.canvasId),this.formatImgsInfoArr=[],this.canDraw=!1,this.canvasHeight=1334,this.canvasWidth=750,this.extraData=!1,this.preDrawContentArr=[],this.renderElementLength=0,this.drawComplate=!1,this.observeFun=null,this.drawComplateCount=-1,this.setCanvasMeasure(this.canvasWidth,this.canvasHeight),this.initAllImageInfo(),this.getAllImgInfo()}return _createClass(t,[{key:"setCanvasMeasure",value:function(t,e){this.page.setData({canvasHeight:e,canvasWidth:t})}},{key:"setExtraData",value:function(t){var e=this,a=function(){if(Array.isArray(t))for(var a=0,r=t.length;a<r;a++)!function(a,r){e.renderElementLength+=1,"text"===t[a].drawType||"rect"===t[a].drawType?e.drawController(t[a]):"image"===t[a].drawType&&e.downloadPromise(t[a].url).then(function(r){t[a].path=r.tempFilePath,e.drawController(t[a])})}(a);else"object"===(void 0===t?"undefined":_typeof(t))?e.drawController(t):(e.extraData=!1,console.error("数据格式不正确！"))};this.drawComplate?a():this.observeFun=a}},{key:"getTextWidth",value:function(t){return this.ctx.measureText(t)}},{key:"initAllImageInfo",value:function(){var t=this.options.imgArr,e=void 0===t?[]:t;e=this.sort(e);for(var a=0,r=e.length;a<r;a++)this.formatImgsInfoArr.push(this.formatImageInfo(e[a]))}},{key:"formatImageInfo",value:function(t){var e=this;return new Promise(function(a,r){e.downloadPromise(t.url).then(function(e){wx.getImageInfo({src:e.tempFilePath,success:function(e){a(_extends({},t,e,{height:t.height||e.height,width:t.width||e.width}))},fail:function(t){r(t)}})})})}},{key:"getAllImgInfo",value:function(){var t=this;Promise.all(this.formatImgsInfoArr).then(function(e){t.canDraw=!0,t.formatImgsInfoArr=e,t.initCanvas()}).catch(function(e){t.page.toast("网络开小差了")})}},{key:"initCanvas",value:function(){var t=this,e=this.options.useBgImage,a=e?this.formatImgsInfoArr.pop():this.options,r=a.path,n=a.height,i=void 0===n?1334:n,o=a.width,s=void 0===o?750:o;this.canvasHeight=i,this.canvasWidth=s,this.page.setData({canvasHeight:i,canvasWidth:s},function(){e?t.drawImage(r,0,0,s,i):t.drawRect(0,0,s,i),t.drawMainContent()})}},{key:"drawMainContent",value:function(){var t=this,e=this.options,a=e.textArr,r=void 0===a?[]:a,n=e.rectArr,i=void 0===n?[]:n;this.preDrawContentArr=this.sort(this.formatImgsInfoArr.concat(r).concat(i),!0),this.renderElementLength=this.preDrawContentArr.length;for(var o=0,s=this.preDrawContentArr.length;o<s;o++)!function(e,a){if(t.preDrawContentArr[e].$D||(t.drawController(t.preDrawContentArr[e]),t.preDrawContentArr[e].$D=!0),e===a-1)var r=setInterval(function(){t.drawComplateCount===a&&(t.observeFun&&t.observeFun(),t.drawComplate=!0,clearInterval(r),r=null)},10)}(o,s)}},{key:"drawController",value:function(t){var e=t.drawType,a=t.url,r=t.path,n=t.x,i=t.y,o=t.width,s=t.height,h=t.text,c=t.color,l=t.avatar,u=t.radius,f=t.bgColor,d=t.tlr,v=void 0===d?0:d,g=t.trr,m=void 0===g?0:g,x=t.blr,p=void 0===x?0:x,w=t.brr,I=void 0===w?0:w;"image"===e&&a&&r&&(l?this.drawArcImage(r,n,i,u,c):this.drawImage(r,n,i,o,s)),"text"===e&&h&&c&&this.drawText(t),"rect"===e&&o&&s&&this.drawRect(n,i,o,s,c,f,u,v,m,p,I)}},{key:"generateImage",value:function(){var t=this;return new Promise(function(e,a){t.ctx.draw(!0,setTimeout(function(){wx.canvasToTempFilePath({canvasId:t.canvas,y:1,success:function(a){t.page.loading(!1),e(a.tempFilePath)},fail:function(t){a(t)}})},300))})}},{key:"draw",value:function(){var t=this;return new Promise(function(e,a){var r=setInterval(function(){t.drawComplateCount===t.renderElementLength&&(t.generateImage().then(function(t){e(t)}),clearInterval(r),r=null)},10);setTimeout(function(){a("timeout"),t.page.loading(!1),r&&t.page.toast("网络超时，请重试"),r&&clearInterval(r),r=null},t.options.timeout||5e3)})}},{key:"downloadPromise",value:function(t){return new Promise(function(e,a){wx.downloadFile({url:t.replace(/^(http:\/\/)/g,"https://"),success:function(t){e(t)},fail:function(t){a("downloadFailed")}})})}},{key:"drawImage",value:function(t){for(var e,a=arguments.length,r=Array(a>1?a-1:0),n=1;n<a;n++)r[n-1]=arguments[n];(e=this.ctx).drawImage.apply(e,[t].concat(r)),this.ctx.draw(!0),this.drawComplateCount+=1}},{key:"drawArcImage",value:function(t,e,a,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#000";this.ctx.save(),this.ctx.beginPath(),this.ctx.setLineWidth(2),this.ctx.arc(e,a,r,0,2*Math.PI),this.ctx.setStrokeStyle(n),this.ctx.stroke(),this.ctx.clip(),this.ctx.drawImage(t,e-r,a-r,2*r,2*r),this.ctx.draw(!0),this.ctx.restore(),this.drawComplateCount+=1}},{key:"drawRect",value:function(t,e,a,r){for(var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#fff",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fff",o=arguments.length,s=Array(o>6?o-6:0),h=6;h<o;h++)s[h-6]=arguments[h];var c=s[0],l=s[1],u=s[2],f=s[3],d=s[4];this.ctx.setFillStyle(i),this.ctx.beginPath(),this.ctx.moveTo(t+(c||l||0),e),c||u?this.ctx.lineTo(t+a-(c||u),e):this.ctx.lineTo(t+a,e),(c||u)&&this.ctx.arc(t+a-(c||u),e+(c||u),c||u,1.5*Math.PI,2*Math.PI,!1),c||d?this.ctx.lineTo(t+a,e+r-(c||d)):this.ctx.lineTo(t+a,e+r),(c||d)&&this.ctx.arc(t+a-(c||d),e+r-(c||d),c||d,0,.5*Math.PI,!1),c||f?this.ctx.lineTo(t+(c||f),e+r):this.ctx.lineTo(t,e+r),(c||f)&&this.ctx.arc(t+(c||f),e+r-(c||f),c||f,.5*Math.PI,Math.PI,!1),c||l?this.ctx.lineTo(t,e+(c||l)):this.ctx.lineTo(t,e),(c||l)&&this.ctx.arc(t+(c||l),e+(c||l),c||l,Math.PI,1.5*Math.PI,!1),this.ctx.fill(),this.ctx.setLineWidth(0),this.ctx.setStrokeStyle(n),this.ctx.stroke(),this.ctx.draw(!0),this.drawComplateCount+=1}},{key:"drawCircle",value:function(){}},{key:"drawText",value:function(t){var e=t.text,a=t.fontSize,r=void 0===a?20:a,n=t.x,i=void 0===n?0:n,o=t.y,s=void 0===o?0:o,h=t.color,c=void 0===h?"#000":h,l=t.textAlign,u=void 0===l?"center":l,f=t.padding,d=t.lineHeight,v=void 0===d?10:d;if(this.ctx.setTextAlign(u),this.ctx.setFontSize(r),this.ctx.setFillStyle(c),this.ctx.setTextBaseline("top"),/(.*\$\{(.*)\}\$)/.test(e)){for(var g=/(.*\$\{(.*)\}\$)/.exec(e)[2],m=" ",x=0;x<g;x++)m+=" ";e=e.replace(/\$\{(.*)\}\$/,m)}if(f)for(var p=this.canvasWidth,w=p-2*f,I=Math.floor(w/r),y=Math.ceil(e.length/I),C=0;C<y;C++)this.ctx.fillText(e.substring(C*I,(C+1)*I),f,C>0?s+C*(r+v):s);else this.ctx.fillText(e,i,s);this.ctx.draw(!0),this.drawComplateCount+=1}},{key:"sort",value:function(t,e){for(var a=void 0,r=1;r<t.length;r++)for(var n=r-1;n>=0;n--)e?Number(t[n+1].zIndex)<Number(t[n].zIndex)&&(a=t[n+1],t[n+1]=t[n],t[n]=a):Number(t[n+1].zIndex)>Number(t[n].zIndex)&&(a=t[n+1],t[n+1]=t[n],t[n]=a);return t}},{key:"gaussBlur",value:function(t){var e,a,r,n,i,o,s,h,c,l,u=t.data,f=t.width,d=t.height,v=[],g=0;for(o=1/(5*Math.sqrt(2*Math.PI)),i=-.02,s=0,e=-10;e<=10;e++,s++)n=o*Math.exp(i*e*e),v[s]=n,g+=n;for(s=0,l=v.length;s<l;s++)v[s]/=g;for(a=0;a<d;a++)for(e=0;e<f;e++){for(r=n=i=o=0,g=0,h=-10;h<=10;h++)(c=e+h)>=0&&c<f&&(s=4*(a*f+c),r+=u[s]*v[h+10],n+=u[s+1]*v[h+10],i+=u[s+2]*v[h+10],g+=v[h+10]);s=4*(a*f+e),u[s]=r/g,u[s+1]=n/g,u[s+2]=i/g}for(e=0;e<f;e++)for(a=0;a<d;a++){for(r=n=i=o=0,g=0,h=-10;h<=10;h++)(c=a+h)>=0&&c<d&&(s=4*(c*f+e),r+=u[s]*v[h+10],n+=u[s+1]*v[h+10],i+=u[s+2]*v[h+10],g+=v[h+10]);s=4*(a*f+e),u[s]=r/g,u[s+1]=n/g,u[s+2]=i/g}return t}}]),t}();exports.default=ShareImageBuilder; 
 			}); 
		define("components/canvas/_canvasConfig.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var viewConfig={useBgImage:!1,width:750,height:1334,imgArr:[{drawType:"image",url:"http://p0.meituan.net/scarlett/3e981f1c70d1db7e49eb0602d842071d182251.png",x:0,y:0,zIndex:0,height:800,width:750},{drawType:"image",url:"http://p0.meituan.net/scarlett/8cf5201e40a1d76e31b89afcc6972e3435478.png",x:114,y:10,zIndex:1,height:456,width:522},{drawType:"image",url:"http://p1.meituan.net/scarlett/e8bd2bc33d13174f43b27cf7cdda2db6226598.png",x:70,y:1076,zIndex:31,height:150,width:150},{drawType:"image",url:"http://p0.meituan.net/scarlett/2fa4f341969b32f9cad6221a8c2ba15d376.png",x:454,y:538,zIndex:31,height:30,width:30},{drawType:"image",url:"http://p0.meituan.net/scarlett/1cd4e2db4aa9cee1924190b964ad838e35907.png",x:186,y:112,zIndex:31,height:380,width:380}],textArr:[{drawType:"text",text:"观后必评",color:"#fff",x:268,y:522,zIndex:33,fontSize:44,textAlign:"left"},{drawType:"text",text:"- 2018-06-17 获得 -",color:"#ccc",x:375,y:586,zIndex:34,fontSize:24},{drawType:"text",text:"微信扫一扫",color:"#666",x:240,y:1100,zIndex:34,fontSize:30,textAlign:"left"},{drawType:"text",text:"查看我的专属猫眼成就",color:"#666",x:240,y:1162,zIndex:34,fontSize:30,textAlign:"left"},{drawType:"text",text:"同一部电影，评分+购票+观影结束 1 次",color:"#F03D37",x:98,y:860,zIndex:34,fontSize:32,textAlign:"left"},{drawType:"text",text:"奖励十五元无限制代金券，这里最多两行这里最多两行这里最多两行字，一切文案产品文档为准一切文案～",lineHeight:15,color:"#666",padding:50,y:920,zIndex:34,fontSize:26,textAlign:"left"}],rectArr:[{drawType:"rect",x:50,y:1056,width:650,height:190,color:"blue",bgColor:"#EEEEEE",zIndex:30,tlr:40,brr:50}],canvasId:"canvas"},config={useBgImage:!1,width:750,height:1334,timeout:1e4,imgArr:[{drawType:"image",url:"http://p0.meituan.net/scarlett/896d779253e464e6ca3c30f07b9291c5395328.png",x:40,y:1076,zIndex:31,height:150,width:150},{drawType:"image",url:"http://p0.meituan.net/scarlett/7c18432120af778460e1393438c97f081749762.png",x:35,y:482,width:680,height:451,zIndex:31}],textArr:[{drawType:"text",text:"感谢",color:"#888889",x:60,y:180,zIndex:33,fontSize:28,textAlign:"left"},{drawType:"text",text:"携手《我不是药神》成为第${10}$位",color:"#888889",x:60,y:240,zIndex:33,fontSize:28,textAlign:"left"},{drawType:"text",text:"为《${18}$》捐献爱心的公益人士",color:"#888889",x:60,y:290,zIndex:33,fontSize:28,textAlign:"left"},{drawType:"text",text:"长按或扫描二维码",color:"#666",x:210,y:1100,zIndex:34,fontSize:30,textAlign:"left"},{drawType:"text",text:"低至${6}$元看药神，公益助力成长",color:"#666",x:210,y:1162,zIndex:34,fontSize:26,textAlign:"left"}],rectArr:[{drawType:"rect",x:10,y:10,width:730,height:1314,color:"#303135",bgColor:"#FFF",zIndex:0,radius:20},{drawType:"rect",x:10,y:10,width:730,height:1e3,color:"#303135",bgColor:"#303135",zIndex:1,TLR:20,TRR:20}],canvasId:"canvas"};exports.config=config,exports.viewConfig=viewConfig; 
 			}); 
		define("components/yoda-sdk/component/slider/konan.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function Mitsuhiko(r,t){return void 0===r||null===r||0===r.length?r:(r=Aoko(r),t=Aoko(t),Wataru(Kazuha(Megure(r,!0),Ayumi(Megure(t,!1))),!1))}function Aoko(r){if(/^[\x00-\x7f]*$/.test(r))return r;for(var t=[],e=r.length,n=0,o=0;n<e;++n,++o){var a=r.charCodeAt(n);if(a<128)t[o]=r.charAt(n);else if(a<2048)t[o]=String.fromCharCode(192|a>>6,128|63&a);else if(a<55296||a>57343)t[o]=String.fromCharCode(224|a>>12,128|a>>6&63,128|63&a);else if(n+1<e){var i=r.charCodeAt(n+1);if(a<56320&&56320<=i&&i<=57343){var u=65536+((1023&a)<<10|1023&i);t[o]=String.fromCharCode(240|u>>18&63,128|u>>12&63,128|u>>6&63,128|63&u),++n;continue}}}return t.join("")}function Wataru(r,t){var e=r.length,n=e<<2;if(t){var o=r[e-1];if(n-=4,o<n-3||o>n)return null;n=o}for(var a=0;a<e;a++)r[a]=String.fromCharCode(255&r[a],r[a]>>>8&255,r[a]>>>16&255,r[a]>>>24&255);var i=r.join("");return t?i.substring(0,n):i}function Megure(r,t){var e=r.length,n=e>>2;0!=(3&e)&&++n;var o;t?(o=new Array(n+1),o[n]=e):o=new Array(n);for(var a=0;a<e;++a)o[a>>2]|=r.charCodeAt(a)<<((3&a)<<3);return o}function Ayumi(r){return r.length<4&&(r.length=4),r}function Kazuha(r,t){var e,n,o,a,i,u,f=r.length,h=f-1;for(n=r[h],o=0,u=0|Math.floor(6+52/f);u>0;--u){for(o=o+2654435769&4294967295,a=o>>>2&3,i=0;i<h;++i)e=r[i+1],n=r[i]=r[i]+((n>>>5^e<<2)+(e>>>3^n<<4)^(o^e)+(t[3&i^a]^n))&4294967295;e=r[0],n=r[h]=r[h]+((n>>>5^e<<2)+(e>>>3^n<<4)^(o^e)+(t[3&h^a]^n))&4294967295}return r}function Kaito(r,t){return Takagi(Mitsuhiko(r,t))}Object.defineProperty(exports,"__esModule",{value:!0});var Takagi=function(){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return function(t){var e,n,o,a,i,u,f;for(n=o=0,a=t.length,i=a%3,a-=i,u=a/3<<2,i>0&&(u+=4),e=new Array(u);n<a;)f=t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<8|t.charCodeAt(n++),e[o++]=r[f>>18]+r[f>>12&63]+r[f>>6&63]+r[63&f];return 1==i?(f=t.charCodeAt(n++),e[o++]=r[f>>2]+r[(3&f)<<4]+"=="):2==i&&(f=t.charCodeAt(n++)<<8|t.charCodeAt(n++),e[o++]=r[f>>10]+r[f>>4&63]+r[(15&f)<<2]+"="),e.join("")}}(),konan={};konan.Kaito=Kaito,exports.default=konan; 
 			}); 
		define("components/yoda-sdk/component/slider/sliderAPI.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_konan=require("./konan"),_konan2=_interopRequireDefault(_konan),_config=require("../../utils/config"),API=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"getSystemInfo",value:function(){return wx.getSystemInfoSync()}},{key:"getPageData",value:function(e){var t={requestCode:e,feVersion:_config.feVersion.slider,source:_config.source};return t._token=_config.rohr.r(t),new Promise(function(e,n){wx.request({url:_config.baseUrl+"/v2/ext_api/page_data",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:t,success:function(t){var n=t.data,r=n.data||{};e({action:r.action,id:r.type,request_code:r.request_code,notifyUrl:r.notifyUrl})},fail:function(e){n(e)}})})}},{key:"getNotifyUrl",value:function(e,t,n){var r=-1===e.indexOf("?")?"?":"&";return new Promise(function(o,a){wx.request({url:""+e+r+"request_code="+t+"&response_code="+n,header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){e.data;o()},fail:function(e){o()}})})}},{key:"verfiySlide",value:function(e){var t=e.action,n=e.id,r=e.requestCode,o=e.behavior,a=void 0===o?null:o,i=e.captchacode,c=void 0===i?"":i,u={id:n,request_code:r,fingerprint:""},s=this;return a&&(u.behavior=_konan2.default.Kaito(JSON.stringify(a),r)),c&&(u.captchacode=c),u._token=_config.rohr.r(u),new Promise(function(e,r){wx.request({url:_config.baseUrl+"/v2/ext_api/"+t+"/verify?id="+n,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:u,success:function(t){var n=getApp().$loginPage,r=n.data.pageData,o=t.data,a=o.data,i=o.status,c=o.error;if(1===i&&r.notifyUrl){var u=r.notifyUrl;s.getNotifyUrl(u,r.request_code,a.response_code).then(function(t){e({status:i,error:c,data:a})})}else e({status:i,error:c,data:a})},fail:function(e){r(e)}})})}},{key:"verfiyCode",value:function(e){var t=e.action,n=e.id,r=e.requestCode,o=e.captchacode;return this.verfiySlide({action:t,id:n,requestCode:r,captchacode:o})}}]),e}();exports.default=API; 
 			}); 
		define("components/yoda-sdk/component/slider/sliderSDK.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function e(e,t){var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){o=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_sliderAPI=require("./sliderAPI"),_sliderAPI2=_interopRequireDefault(_sliderAPI),_config=require("../../utils/config"),SliderSDK=function(){function e(t){var i=t.requestCode,n=t.pageData;_classCallCheck(this,e);var o=_sliderAPI2.default.getSystemInfo()||{},r=o.windowWidth,s=void 0===r?375:r,a=s/375,u=[50*a,50*a],l=[270*a,52*a],c=[50*a,50*a],d=Date.now(),h=l[0]-u[0],v=this;Object.assign(v,{requestCode:i,windowWidth:s,zoom:a,btn:u,initTime:d,slideWidth:h,isDone:!1,zone:l,client:c,Timestamp:[d],count:0,timeout:0,points:null,trajectory:[],pageData:n})}return _createClass(e,[{key:"sliderTouchStart",value:function(e){var t=this;t.Timestamp.push(Date.now()),t.count+=1,t.points=[],t.addPoint(e)}},{key:"sliderTouchMove",value:function(e){var t=this.isDone,i=this.slideWidth;if(t)return{isDone:t,deltaX:i,slideWidth:i};var n=this.addPoint(e);return this.getPosition(n)}},{key:"sliderTouchCancel",value:function(e){this.slidEnd()}},{key:"sliderTouchEnd",value:function(e){}},{key:"getPoint",value:function(e){var t=e.touches[0]||{};return[t.clientX,t.clientY]}},{key:"addPoint",value:function(e){var t=this.points,i=this.initTime,n=this.getPoint(e),o=_slicedToArray(n,2),r=o[0],s=o[1];return this.points=t||[],this.points.push([0,r,s,Date.now()-i]),[r,s]}},{key:"getPosition",value:function(e){var t=_slicedToArray(e,2),i=t[0],n=(t[1],this.slideWidth),o=_slicedToArray(this.points,1),r=o[0],s=this.isDone,a=i-r[1];return a<0&&(a=0),a>=n&&(a=n,this.isDone=!0,this.slidEnd()),{deltaX:a,slideWidth:n,isDone:s}}},{key:"slidEnd",value:function(){var e=this,t=e.trajectory,i=e.points,n=void 0===i?[]:i,o=e.Timestamp,r=e.pageData,s=void 0===r?{}:r,a=e.requestCode;t=t.slice(-3,t.length),t.push({point:n,vector:{orientation:"h"}}),e.trajectory=t,e.points=null,o[o.length-1]-o[0]>3e3&&(e.timeout+=1),e.setData();var u=s.action,l=s.id,c={action:u,id:l,requestCode:a,behavior:e.behavior};_sliderAPI2.default.verfiySlide(c).then(function(e){var t=getApp().$loginPage,i=t.data.requestCode,n=e.data,o=e.status,r=e.error;if(1===o)wx.showToast({title:"验证成功",complete:function(){t.setData({isShow:!1});var e="";n&&(e=n.response_code),t.triggerEvent("sliderEvent",{status:1,requestCode:i,responseCode:e},{bubbles:!0,composed:!0})}});else if(0===o&&121048===r.code){var s=r.request_code;t.setData({"sdk.requestCode":s}),t.setData({codeImage:_config.baseUrl+"/v2/captcha?request_code="+i+"&action="+u,validStep:"code"})}else t.triggerEvent("sliderEvent",{status:0,code:r.code},{bubbles:!0,composed:!0})}).catch(function(e){getApp().$loginPage.triggerEvent("sliderEvent",{status:0,code:99999},{bubbles:!0,composed:!0})})}},{key:"setData",value:function(){var e=this.zone,t=this.client,i=this.Timestamp,n=this.count,o=this.timeout,r=this.trajectory,s={env:{zone:e,client:t,Timestamp:i.slice(0,2),count:n,timeout:o},trajectory:r};this.behavior=s}}]),e}();exports.default=SliderSDK; 
 			}); 
		define("components/yoda-sdk/utils/api.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_config=require("./config"),API=function e(){_classCallCheck(this,e),this.getPageData=function(e,o){var t={requestCode:e,feVersion:_config.feVersion[o]||"0.1.0",source:_config.source};return t._token=encodeURIComponent(_config.rohr.r(t)),new Promise(function(e,o){wx.request({method:"POST",url:_config.baseUrl+"/v2/ext_api/page_data",data:t,header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){var n=t.data,r=n.status,a=n.data,i=n.error;200===t.statusCode?e({status:r,data:a,error:i}):o(t)},fail:function(e){o(e)}})})},this.sendInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.request_code,t=e.type,n=e.action,r=void 0===n?"":n,a=e.options,i=void 0===a?null:a,s={request_code:o};if(i&&"object"===(void 0===i?"undefined":_typeof(i)))for(var c in i)i.hasOwnProperty(c)&&(s[c]=i[c]);return s._token=encodeURIComponent(_config.rohr.r(s)),new Promise(function(e,o){wx.request({url:_config.baseUrl+"/v2/ext_api/"+r+"/info?id="+t,method:"POST",data:s,header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){var n=t.data,r=n.status,a=n.data,i=n.error;200===t.statusCode?e({status:r,data:a,error:i}):o("")},fail:function(e){o(e)}})})},this.verify=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.request_code,t=e.type,n=e.action,r=void 0===n?"":n,a=e.options,i=void 0===a?null:a,s={request_code:o};if(i&&"object"===(void 0===i?"undefined":_typeof(i)))for(var c in i)i.hasOwnProperty(c)&&(s[c]=i[c]);return s._token=encodeURIComponent(_config.rohr.r(s)),new Promise(function(e,o){wx.request({url:_config.baseUrl+"/v2/ext_api/"+r+"/verify?id="+t,method:"POST",data:s,header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){var n=t.data,r=n.status,a=n.data,i=n.error;200===t.statusCode?e({status:r,data:a,error:i}):o()},fail:function(e){o(e)}})})}};exports.default=API; 
 			}); 
		define("components/yoda-sdk/utils/config.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(_){return _&&_.__esModule?_:{default:_}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.closeStatus=exports.rohr=exports.rohrConfig=exports.source=exports.embedModule=exports.modules=exports.feVersion=exports.baseUrl=void 0;var _rohr=require("./rohr-1.0.1.js"),_rohr2=_interopRequireDefault(_rohr),rohrConfig={i:100019},domain={dev:"https://verify.inf.dev.meituan.com",ppe:"https://verify.inf.ppe.meituan.com",test:"https://verify.inf.test.meituan.com",staging:"https://verify-test.meituan.com",prod:"https://verify.meituan.com"},baseUrl=domain[getApp().getApiEnv()],feVersion={slider:"0.1.0",sms:"0.1.0",image:"0.1.0",voice:"0.1.0",lbs:"0.1.0",buying:"0.1.0"},modules={1:"图片",4:"短信",40:"语音",69:"历史购买",71:"滑块",79:"地址位置"},embedModule=[1,4,12,15,40,71],source=13,closeStatus={RISK_DEFAULT_ERROR:"121000",RISK_NO_SUCH_ACTION:"121001",RISK_COMMON_PARAMS_LOST:"121002",RISK_NO_SUCH_SCENE:"121003",RISK_USER_NOT_LOAD:"121004",RISK_PARAMS_INVALID_FORMART:"121005",RISK_NO_SUCH_METHOD:"121006",RISK_NOT_VERIFY_BY_ORDER:"121007",RISK_GET_VERIFYINFO_LIMIT:"121009",RISK_VERIFY_ERROR_TIMES_LIMIT:"121010",RISK_USER_NOT_BINDED:"121011",RISK_PARAMS_LOST:"121018",RISK_USER_RESETPWD_CODE_EXPIRE:"121036",RISK_MOBILE_NOT_EXIST:"121040",RISK_GET_VERIFY_INFO_ERROR:"121042",RISK_AUTHORIZE_CODE_FAIL:"121043",RISK_AUTHORIZE_CODE_EXPIRE:"121044",RISK_RISK_LEVEL_NOT_VALID:"121045",RISK_GET_VERIFY_CODE_CNT_REACH_LIMIT:"121046",RISK_LEVEL_DENY:"121051",RISK_VERIFY_REQUEST_TIME_OUT:"121052",RISK_FAKE_REQUEST:"121053",RISK_VOICE_SEND_TIMES_LIMIT_ONE_DAY:"121055",RISK_BOOM_PROOF_DENY:"121056",RISK_VERIFY_INFO_LOSE_EFFICACY:"121057",RISK_SLIDER_VERIFY_FAILED:"121058",RISK_GET_VERIFYINFO_TIMES_LIMIT_ONE_DAY:"121061",RISK_VERIFY_PAYPWD_USE_PAY_ERROR_LIMIT:"121064",RISK_VERIFY_ERROR_TIMES_LIMIT_ONE_DAY:"121065",RISK_KLINGON_OUT_OF_SERVICE:"121066",RISK_GET_VERIFY_INFO_ERROR_RETRY:"121067",RISK_NO_AUTH:"121999"};exports.baseUrl=baseUrl,exports.feVersion=feVersion,exports.modules=modules,exports.embedModule=embedModule,exports.source=source,exports.rohrConfig=rohrConfig,exports.rohr=_rohr2.default,exports.closeStatus=closeStatus; 
 			}); 
		define("components/yoda-sdk/utils/rohr-1.0.1.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function t(t){for(var e=t.length;--e>=0;)t[e]=0}function e(t,e,a,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function a(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function n(t){return t<256?Ut[t]:Ut[256+(t>>>7)]}function r(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function i(t,e,a){t.bi_valid>kt-a?(t.bi_buf|=e<<t.bi_valid&65535,r(t,t.bi_buf),t.bi_buf=e>>kt-t.bi_valid,t.bi_valid+=a-kt):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)}function s(t,e,a){i(t,a[2*e],a[2*e+1])}function h(t,e){var a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1}function o(t){16===t.bi_valid?(r(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function l(t,e){var a,n,r,i,s,h,o=e.dyn_tree,l=e.max_code,_=e.stat_desc.static_tree,d=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,c=e.stat_desc.max_length,p=0;for(i=0;i<=yt;i++)t.bl_count[i]=0;for(o[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<mt;a++)n=t.heap[a],i=o[2*o[2*n+1]+1]+1,i>c&&(i=c,p++),o[2*n+1]=i,n>l||(t.bl_count[i]++,s=0,n>=f&&(s=u[n-f]),h=o[2*n],t.opt_len+=h*(i+s),d&&(t.static_len+=h*(_[2*n+1]+s)));if(0!==p){do{for(i=c-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[c]--,p-=2}while(p>0);for(i=c;0!==i;i--)for(n=t.bl_count[i];0!==n;)(r=t.heap[--a])>l||(o[2*r+1]!==i&&(t.opt_len+=(i-o[2*r+1])*o[2*r],o[2*r+1]=i),n--)}}function _(t,e,a){var n,r,i=new Array(yt+1),s=0;for(n=1;n<=yt;n++)i[n]=s=s+a[n-1]<<1;for(r=0;r<=e;r++){var o=t[2*r+1];0!==o&&(t[2*r]=h(i[o]++,o))}}function d(){var t,a,n,r,i,s=new Array(yt+1);for(n=0,r=0;r<pt-1;r++)for(Rt[r]=n,t=0;t<1<<Ct[r];t++)Ot[n++]=r;for(Ot[n-1]=r,i=0,r=0;r<16;r++)for(Vt[r]=i,t=0;t<1<<Tt[r];t++)Ut[i++]=r;for(i>>=7;r<vt;r++)for(Vt[r]=i<<7,t=0;t<1<<Tt[r]-7;t++)Ut[256+i++]=r;for(a=0;a<=yt;a++)s[a]=0;for(t=0;t<=143;)It[2*t+1]=8,t++,s[8]++;for(;t<=255;)It[2*t+1]=9,t++,s[9]++;for(;t<=279;)It[2*t+1]=7,t++,s[7]++;for(;t<=287;)It[2*t+1]=8,t++,s[8]++;for(_(It,bt+1,s),t=0;t<vt;t++)Et[2*t+1]=5,Et[2*t]=h(t,5);Ht=new e(It,Ct,gt+1,bt,yt),Nt=new e(Et,Tt,0,vt,yt),Jt=new e(new Array(0),Dt,0,wt,zt)}function u(t){var e;for(e=0;e<bt;e++)t.dyn_ltree[2*e]=0;for(e=0;e<vt;e++)t.dyn_dtree[2*e]=0;for(e=0;e<wt;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*xt]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function f(t){t.bi_valid>8?r(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function c(t,e,a,n){f(t),n&&(r(t,a),r(t,~a)),ht.arraySet(t.pending_buf,t.window,e,a,t.pending),t.pending+=a}function p(t,e,a,n){var r=2*e,i=2*a;return t[r]<t[i]||t[r]===t[i]&&n[e]<=n[a]}function g(t,e,a){for(var n=t.heap[a],r=a<<1;r<=t.heap_len&&(r<t.heap_len&&p(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!p(e,n,t.heap[r],t.depth));)t.heap[a]=t.heap[r],a=r,r<<=1;t.heap[a]=n}function b(t,e,a){var r,h,o,l,_=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*_]<<8|t.pending_buf[t.d_buf+2*_+1],h=t.pending_buf[t.l_buf+_],_++,0===r?s(t,h,e):(o=Ot[h],s(t,o+gt+1,e),l=Ct[o],0!==l&&(h-=Rt[o],i(t,h,l)),r--,o=n(r),s(t,o,a),0!==(l=Tt[o])&&(r-=Vt[o],i(t,r,l)))}while(_<t.last_lit);s(t,xt,e)}function v(t,e){var a,n,r,i=e.dyn_tree,s=e.stat_desc.static_tree,h=e.stat_desc.has_stree,o=e.stat_desc.elems,d=-1;for(t.heap_len=0,t.heap_max=mt,a=0;a<o;a++)0!==i[2*a]?(t.heap[++t.heap_len]=d=a,t.depth[a]=0):i[2*a+1]=0;for(;t.heap_len<2;)r=t.heap[++t.heap_len]=d<2?++d:0,i[2*r]=1,t.depth[r]=0,t.opt_len--,h&&(t.static_len-=s[2*r+1]);for(e.max_code=d,a=t.heap_len>>1;a>=1;a--)g(t,i,a);r=o;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],g(t,i,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,i[2*r]=i[2*a]+i[2*n],t.depth[r]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,i[2*a+1]=i[2*n+1]=r,t.heap[1]=r++,g(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],l(t,e),_(i,d,t.bl_count)}function w(t,e,a){var n,r,i=-1,s=e[1],h=0,o=7,l=4;for(0===s&&(o=138,l=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)r=s,s=e[2*(n+1)+1],++h<o&&r===s||(h<l?t.bl_tree[2*r]+=h:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[2*At]++):h<=10?t.bl_tree[2*Bt]++:t.bl_tree[2*St]++,h=0,i=r,0===s?(o=138,l=3):r===s?(o=6,l=3):(o=7,l=4))}function m(t,e,a){var n,r,h=-1,o=e[1],l=0,_=7,d=4;for(0===o&&(_=138,d=3),n=0;n<=a;n++)if(r=o,o=e[2*(n+1)+1],!(++l<_&&r===o)){if(l<d)do{s(t,r,t.bl_tree)}while(0!=--l);else 0!==r?(r!==h&&(s(t,r,t.bl_tree),l--),s(t,At,t.bl_tree),i(t,l-3,2)):l<=10?(s(t,Bt,t.bl_tree),i(t,l-3,3)):(s(t,St,t.bl_tree),i(t,l-11,7));l=0,h=r,0===o?(_=138,d=3):r===o?(_=6,d=3):(_=7,d=4)}}function y(t){var e;for(w(t,t.dyn_ltree,t.l_desc.max_code),w(t,t.dyn_dtree,t.d_desc.max_code),v(t,t.bl_desc),e=wt-1;e>=3&&0===t.bl_tree[2*jt[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function k(t,e,a,n){var r;for(i(t,e-257,5),i(t,a-1,5),i(t,n-4,4),r=0;r<n;r++)i(t,t.bl_tree[2*jt[r]+1],3);m(t,t.dyn_ltree,e-1),m(t,t.dyn_dtree,a-1)}function z(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return lt;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return _t;for(e=32;e<gt;e++)if(0!==t.dyn_ltree[2*e])return _t;return lt}function x(t){Mt||(d(),Mt=!0),t.l_desc=new a(t.dyn_ltree,Ht),t.d_desc=new a(t.dyn_dtree,Nt),t.bl_desc=new a(t.bl_tree,Jt),t.bi_buf=0,t.bi_valid=0,u(t)}function A(t,e,a,n){i(t,(ut<<1)+(n?1:0),3),c(t,e,a,!0)}function B(t){i(t,ft<<1,3),s(t,xt,It),o(t)}function S(t,e,a,n){var r,s,h=0;t.level>0?(t.strm.data_type===dt&&(t.strm.data_type=z(t)),v(t,t.l_desc),v(t,t.d_desc),h=y(t),r=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=r&&(r=s)):r=s=a+5,a+4<=r&&-1!==e?A(t,e,a,n):t.strategy===ot||s===r?(i(t,(ft<<1)+(n?1:0),3),b(t,It,Et)):(i(t,(ct<<1)+(n?1:0),3),k(t,t.l_desc.max_code+1,t.d_desc.max_code+1,h+1),b(t,t.dyn_ltree,t.dyn_dtree)),u(t),n&&f(t)}function C(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(Ot[a]+gt+1)]++,t.dyn_dtree[2*n(e)]++),t.last_lit===t.lit_bufsize-1}function T(t,e,a,n){for(var r=65535&t|0,i=t>>>16&65535|0,s=0;0!==a;){s=a>2e3?2e3:a,a-=s;do{r=r+e[n++]|0,i=i+r|0}while(--s);r%=65521,i%=65521}return r|i<<16|0}function D(t,e,a,n){var r=Gt,i=n+a;t^=-1;for(var s=n;s<i;s++)t=t>>>8^r[255&(t^e[s])];return-1^t}function j(t,e){return t.msg=Zt[e],e}function I(t){return(t<<1)-(t>4?9:0)}function E(t){for(var e=t.length;--e>=0;)t[e]=0}function U(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(ht.arraySet(t.output,e.pending_buf,e.pending_out,a,t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))}function O(t,e){qt._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,U(t.strm)}function R(t,e){t.pending_buf[t.pending++]=e}function V(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function H(t,e,a,n){var r=t.avail_in;return r>n&&(r=n),0===r?0:(t.avail_in-=r,ht.arraySet(e,t.input,t.next_in,r,a),1===t.state.wrap?t.adler=Ft(t.adler,e,r,a):2===t.state.wrap&&(t.adler=Qt(t.adler,e,r,a)),t.next_in+=r,t.total_in+=r,r)}function N(t,e){var a,n,r=t.max_chain_length,i=t.strstart,s=t.prev_length,h=t.nice_match,o=t.strstart>t.w_size-Se?t.strstart-(t.w_size-Se):0,l=t.window,_=t.w_mask,d=t.prev,u=t.strstart+Be,f=l[i+s-1],c=l[i+s];t.prev_length>=t.good_match&&(r>>=2),h>t.lookahead&&(h=t.lookahead);do{if(a=e,l[a+s]===c&&l[a+s-1]===f&&l[a]===l[i]&&l[++a]===l[i+1]){i+=2,a++;do{}while(l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&i<u);if(n=Be-(u-i),i=u-Be,n>s){if(t.match_start=e,s=n,n>=h)break;f=l[i+s-1],c=l[i+s]}}}while((e=d[e&_])>o&&0!=--r);return s<=t.lookahead?s:t.lookahead}function J(t){var e,a,n,r,i,s=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-Se)){ht.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,a=t.hash_size,e=a;do{n=t.head[--e],t.head[e]=n>=s?n-s:0}while(--a);a=s,e=a;do{n=t.prev[--e],t.prev[e]=n>=s?n-s:0}while(--a);r+=s}if(0===t.strm.avail_in)break;if(a=H(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=a,t.lookahead+t.insert>=Ae)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+Ae-1])&t.hash_mask,t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<Ae)););}while(t.lookahead<Se&&0!==t.strm.avail_in)}function L(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(J(t),0===t.lookahead&&e===$t)return Re;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,O(t,!1),0===t.strm.avail_out))return Re;if(t.strstart-t.block_start>=t.w_size-Se&&(O(t,!1),0===t.strm.avail_out))return Re}return t.insert=0,e===ae?(O(t,!0),0===t.strm.avail_out?He:Ne):(t.strstart>t.block_start&&(O(t,!1),t.strm.avail_out),Re)}function M(t,e){for(var a,n;;){if(t.lookahead<Se){if(J(t),t.lookahead<Se&&e===$t)return Re;if(0===t.lookahead)break}if(a=0,t.lookahead>=Ae&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+Ae-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-Se&&(t.match_length=N(t,a)),t.match_length>=Ae)if(n=qt._tr_tally(t,t.strstart-t.match_start,t.match_length-Ae),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Ae){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+Ae-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=qt._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(O(t,!1),0===t.strm.avail_out))return Re}return t.insert=t.strstart<Ae-1?t.strstart:Ae-1,e===ae?(O(t,!0),0===t.strm.avail_out?He:Ne):t.last_lit&&(O(t,!1),0===t.strm.avail_out)?Re:Ve}function P(t,e){for(var a,n,r;;){if(t.lookahead<Se){if(J(t),t.lookahead<Se&&e===$t)return Re;if(0===t.lookahead)break}if(a=0,t.lookahead>=Ae&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+Ae-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Ae-1,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-Se&&(t.match_length=N(t,a),t.match_length<=5&&(t.strategy===_e||t.match_length===Ae&&t.strstart-t.match_start>4096)&&(t.match_length=Ae-1)),t.prev_length>=Ae&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-Ae,n=qt._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-Ae),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+Ae-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=Ae-1,t.strstart++,n&&(O(t,!1),0===t.strm.avail_out))return Re}else if(t.match_available){if(n=qt._tr_tally(t,0,t.window[t.strstart-1]),n&&O(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return Re}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=qt._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Ae-1?t.strstart:Ae-1,e===ae?(O(t,!0),0===t.strm.avail_out?He:Ne):t.last_lit&&(O(t,!1),0===t.strm.avail_out)?Re:Ve}function K(t,e){for(var a,n,r,i,s=t.window;;){if(t.lookahead<=Be){if(J(t),t.lookahead<=Be&&e===$t)return Re;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=Ae&&t.strstart>0&&(r=t.strstart-1,(n=s[r])===s[++r]&&n===s[++r]&&n===s[++r])){i=t.strstart+Be;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<i);t.match_length=Be-(i-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Ae?(a=qt._tr_tally(t,1,t.match_length-Ae),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=qt._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(O(t,!1),0===t.strm.avail_out))return Re}return t.insert=0,e===ae?(O(t,!0),0===t.strm.avail_out?He:Ne):t.last_lit&&(O(t,!1),0===t.strm.avail_out)?Re:Ve}function W(t,e){for(var a;;){if(0===t.lookahead&&(J(t),0===t.lookahead)){if(e===$t)return Re;break}if(t.match_length=0,a=qt._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(O(t,!1),0===t.strm.avail_out))return Re}return t.insert=0,e===ae?(O(t,!0),0===t.strm.avail_out?He:Ne):t.last_lit&&(O(t,!1),0===t.strm.avail_out)?Re:Ve}function X(t,e,a,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=r}function Y(t){t.window_size=2*t.w_size,E(t.head),t.max_lazy_match=Lt[t.level].max_lazy,t.good_match=Lt[t.level].good_length,t.nice_match=Lt[t.level].nice_length,t.max_chain_length=Lt[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Ae-1,t.match_available=0,t.ins_h=0}function q(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ge,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new ht.Buf16(2*ze),this.dyn_dtree=new ht.Buf16(2*(2*ye+1)),this.bl_tree=new ht.Buf16(2*(2*ke+1)),E(this.dyn_ltree),E(this.dyn_dtree),E(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new ht.Buf16(xe+1),this.heap=new ht.Buf16(2*me+1),E(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new ht.Buf16(2*me+1),E(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function F(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=pe,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?Te:Ue,t.adler=2===e.wrap?0:1,e.last_flush=$t,qt._tr_init(e),re):j(t,se)}function G(t){var e=F(t);return e===re&&Y(t.state),e}function Q(t,e){return t&&t.state?2!==t.state.wrap?se:(t.state.gzhead=e,re):se}function Z(t,e,a,n,r,i){if(!t)return se;var s=1;if(e===le&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>be||a!==ge||n<8||n>15||e<0||e>9||i<0||i>fe)return j(t,se);8===n&&(n=9);var h=new q;return t.state=h,h.strm=t,h.wrap=s,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=r+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+Ae-1)/Ae),h.window=new ht.Buf8(2*h.w_size),h.head=new ht.Buf16(h.hash_size),h.prev=new ht.Buf16(h.w_size),h.lit_bufsize=1<<r+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new ht.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=i,h.method=a,G(t)}function $(t,e){return Z(t,e,ge,ve,we,ce)}function tt(t,e){var a,n,r,i;if(!t||!t.state||e>ne||e<0)return t?j(t,se):se;if(n=t.state,!t.output||!t.input&&0!==t.avail_in||n.status===Oe&&e!==ae)return j(t,0===t.avail_out?oe:se);if(n.strm=t,a=n.last_flush,n.last_flush=e,n.status===Te)if(2===n.wrap)t.adler=0,R(n,31),R(n,139),R(n,8),n.gzhead?(R(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),R(n,255&n.gzhead.time),R(n,n.gzhead.time>>8&255),R(n,n.gzhead.time>>16&255),R(n,n.gzhead.time>>24&255),R(n,9===n.level?2:n.strategy>=de||n.level<2?4:0),R(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(R(n,255&n.gzhead.extra.length),R(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Qt(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=De):(R(n,0),R(n,0),R(n,0),R(n,0),R(n,0),R(n,9===n.level?2:n.strategy>=de||n.level<2?4:0),R(n,Je),n.status=Ue);else{var s=ge+(n.w_bits-8<<4)<<8,h=-1;h=n.strategy>=de||n.level<2?0:n.level<6?1:6===n.level?2:3,s|=h<<6,0!==n.strstart&&(s|=Ce),s+=31-s%31,n.status=Ue,V(n,s),0!==n.strstart&&(V(n,t.adler>>>16),V(n,65535&t.adler)),t.adler=1}if(n.status===De)if(n.gzhead.extra){for(r=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>r&&(t.adler=Qt(t.adler,n.pending_buf,n.pending-r,r)),U(t),r=n.pending,n.pending!==n.pending_buf_size));)R(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>r&&(t.adler=Qt(t.adler,n.pending_buf,n.pending-r,r)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=je)}else n.status=je;if(n.status===je)if(n.gzhead.name){r=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>r&&(t.adler=Qt(t.adler,n.pending_buf,n.pending-r,r)),U(t),r=n.pending,n.pending===n.pending_buf_size)){i=1;break}i=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,R(n,i)}while(0!==i);n.gzhead.hcrc&&n.pending>r&&(t.adler=Qt(t.adler,n.pending_buf,n.pending-r,r)),0===i&&(n.gzindex=0,n.status=Ie)}else n.status=Ie;if(n.status===Ie)if(n.gzhead.comment){r=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>r&&(t.adler=Qt(t.adler,n.pending_buf,n.pending-r,r)),U(t),r=n.pending,n.pending===n.pending_buf_size)){i=1;break}i=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,R(n,i)}while(0!==i);n.gzhead.hcrc&&n.pending>r&&(t.adler=Qt(t.adler,n.pending_buf,n.pending-r,r)),0===i&&(n.status=Ee)}else n.status=Ee;if(n.status===Ee&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&U(t),n.pending+2<=n.pending_buf_size&&(R(n,255&t.adler),R(n,t.adler>>8&255),t.adler=0,n.status=Ue)):n.status=Ue),0!==n.pending){if(U(t),0===t.avail_out)return n.last_flush=-1,re}else if(0===t.avail_in&&I(e)<=I(a)&&e!==ae)return j(t,oe);if(n.status===Oe&&0!==t.avail_in)return j(t,oe);if(0!==t.avail_in||0!==n.lookahead||e!==$t&&n.status!==Oe){var o=n.strategy===de?W(n,e):n.strategy===ue?K(n,e):Lt[n.level].func(n,e);if(o!==He&&o!==Ne||(n.status=Oe),o===Re||o===He)return 0===t.avail_out&&(n.last_flush=-1),re;if(o===Ve&&(e===te?qt._tr_align(n):e!==ne&&(qt._tr_stored_block(n,0,0,!1),e===ee&&(E(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),U(t),0===t.avail_out))return n.last_flush=-1,re}return e!==ae?re:n.wrap<=0?ie:(2===n.wrap?(R(n,255&t.adler),R(n,t.adler>>8&255),R(n,t.adler>>16&255),R(n,t.adler>>24&255),R(n,255&t.total_in),R(n,t.total_in>>8&255),R(n,t.total_in>>16&255),R(n,t.total_in>>24&255)):(V(n,t.adler>>>16),V(n,65535&t.adler)),U(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?re:ie)}function et(t){var e;return t&&t.state?(e=t.state.status)!==Te&&e!==De&&e!==je&&e!==Ie&&e!==Ee&&e!==Ue&&e!==Oe?j(t,se):(t.state=null,e===Ue?j(t,he):re):se}function at(t,e){var a,n,r,i,s,h,o,l,_=e.length;if(!t||!t.state)return se;if(a=t.state,2===(i=a.wrap)||1===i&&a.status!==Te||a.lookahead)return se;for(1===i&&(t.adler=Ft(t.adler,e,_,0)),a.wrap=0,_>=a.w_size&&(0===i&&(E(a.head),a.strstart=0,a.block_start=0,a.insert=0),l=new ht.Buf8(a.w_size),ht.arraySet(l,e,_-a.w_size,a.w_size,0),e=l,_=a.w_size),s=t.avail_in,h=t.next_in,o=t.input,t.avail_in=_,t.next_in=0,t.input=e,J(a);a.lookahead>=Ae;){n=a.strstart,r=a.lookahead-(Ae-1);do{a.ins_h=(a.ins_h<<a.hash_shift^a.window[n+Ae-1])&a.hash_mask,a.prev[n&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=n,n++}while(--r);a.strstart=n,a.lookahead=Ae-1,J(a)}return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=Ae-1,a.match_available=0,t.next_in=h,t.input=o,t.avail_in=s,a.wrap=i,re}function nt(t,e){if(e<65537&&(t.subarray&&Qe||!t.subarray&&Ge))return String.fromCharCode.apply(null,ht.shrinkBuf(t,e));for(var a="",n=0;n<e;n++)a+=String.fromCharCode(t[n]);return a}function rt(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function it(t){if(!(this instanceof it))return new it(t);this.options=ht.assign({level:la,method:da,chunkSize:16384,windowBits:15,memLevel:8,strategy:_a,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new sa,this.strm.avail_out=0;var a=Fe.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==oa)throw new Error(Zt[a]);if(e.header&&Fe.deflateSetHeader(this.strm,e.header),e.dictionary){var n;if(n="string"==typeof e.dictionary?ia.string2buf(e.dictionary):"[object ArrayBuffer]"===ha.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(a=Fe.deflateSetDictionary(this.strm,n))!==oa)throw new Error(Zt[a]);this._dict_set=!0}}function st(t,e){var a=new it(e);if(a.push(t,!0),a.err)throw a.msg||Zt[a.err];return a.result}var ht=function(t,e){return e={exports:{}},function(t,e){var a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var a=e.shift();if(a){if("object"!=(void 0===a?"undefined":_typeof(a)))throw new TypeError(a+"must be non-object");for(var n in a)a.hasOwnProperty(n)&&(t[n]=a[n])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,a,n,r){if(e.subarray&&t.subarray)return void t.set(e.subarray(a,a+n),r);for(var i=0;i<n;i++)t[r+i]=e[a+i]},flattenChunks:function(t){var e,a,n,r,i,s;for(n=0,e=0,a=t.length;e<a;e++)n+=t[e].length;for(s=new Uint8Array(n),r=0,e=0,a=t.length;e<a;e++)i=t[e],s.set(i,r),r+=i.length;return s}},r={arraySet:function(t,e,a,n,r){for(var i=0;i<n;i++)t[r+i]=e[a+i]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,n)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,r))},e.setTyped(a)}(e,e.exports),e.exports}(),ot=4,lt=0,_t=1,dt=2,ut=0,ft=1,ct=2,pt=29,gt=256,bt=gt+1+pt,vt=30,wt=19,mt=2*bt+1,yt=15,kt=16,zt=7,xt=256,At=16,Bt=17,St=18,Ct=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Tt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Dt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],jt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],It=new Array(2*(bt+2));t(It);var Et=new Array(2*vt);t(Et);var Ut=new Array(512);t(Ut);var Ot=new Array(256);t(Ot);var Rt=new Array(pt);t(Rt);var Vt=new Array(vt);t(Vt);var Ht,Nt,Jt,Lt,Mt=!1,Pt=x,Kt=A,Wt=S,Xt=C,Yt=B,qt={_tr_init:Pt,_tr_stored_block:Kt,_tr_flush_block:Wt,_tr_tally:Xt,_tr_align:Yt},Ft=T,Gt=function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}(),Qt=D,Zt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},$t=0,te=1,ee=3,ae=4,ne=5,re=0,ie=1,se=-2,he=-3,oe=-5,le=-1,_e=1,de=2,ue=3,fe=4,ce=0,pe=2,ge=8,be=9,ve=15,we=8,me=286,ye=30,ke=19,ze=2*me+1,xe=15,Ae=3,Be=258,Se=Be+Ae+1,Ce=32,Te=42,De=69,je=73,Ie=91,Ee=103,Ue=113,Oe=666,Re=1,Ve=2,He=3,Ne=4,Je=3;Lt=[new X(0,0,0,0,L),new X(4,4,8,4,M),new X(4,5,16,8,M),new X(4,6,32,32,M),new X(4,4,16,16,P),new X(8,16,32,32,P),new X(8,16,128,128,P),new X(8,32,128,256,P),new X(32,128,258,1024,P),new X(32,258,258,4096,P)];var Le=$,Me=Z,Pe=G,Ke=F,We=Q,Xe=tt,Ye=et,qe=at,Fe={deflateInit:Le,deflateInit2:Me,deflateReset:Pe,deflateResetKeep:Ke,deflateSetHeader:We,deflate:Xe,deflateEnd:Ye,deflateSetDictionary:qe,deflateInfo:"pako deflate (from Nodeca project)"},Ge=!0,Qe=!0;try{String.fromCharCode.apply(null,[0])}catch(t){Ge=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Qe=!1}for(var Ze=new ht.Buf8(256),$e=0;$e<256;$e++)Ze[$e]=$e>=252?6:$e>=248?5:$e>=240?4:$e>=224?3:$e>=192?2:1;Ze[254]=Ze[254]=1;var ta=function(t){var e,a,n,r,i,s=t.length,h=0;for(r=0;r<s;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&56320==(64512&(n=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(n-56320),r++),h+=a<128?1:a<2048?2:a<65536?3:4;for(e=new ht.Buf8(h),i=0,r=0;i<h;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&56320==(64512&(n=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(n-56320),r++),a<128?e[i++]=a:a<2048?(e[i++]=192|a>>>6,e[i++]=128|63&a):a<65536?(e[i++]=224|a>>>12,e[i++]=128|a>>>6&63,e[i++]=128|63&a):(e[i++]=240|a>>>18,e[i++]=128|a>>>12&63,e[i++]=128|a>>>6&63,e[i++]=128|63&a);return e},ea=function(t){return nt(t,t.length)},aa=function(t){for(var e=new ht.Buf8(t.length),a=0,n=e.length;a<n;a++)e[a]=t.charCodeAt(a);return e},na=function(t,e){var a,n,r,i,s=e||t.length,h=new Array(2*s);for(n=0,a=0;a<s;)if((r=t[a++])<128)h[n++]=r;else if((i=Ze[r])>4)h[n++]=65533,a+=i-1;else{for(r&=2===i?31:3===i?15:7;i>1&&a<s;)r=r<<6|63&t[a++],i--;i>1?h[n++]=65533:r<65536?h[n++]=r:(r-=65536,h[n++]=55296|r>>10&1023,h[n++]=56320|1023&r)}return nt(h,n)},ra=function(t,e){var a;for(e=e||t.length,e>t.length&&(e=t.length),a=e-1;a>=0&&128==(192&t[a]);)a--;return a<0?e:0===a?e:a+Ze[t[a]]>e?a:e},ia={string2buf:ta,buf2binstring:ea,binstring2buf:aa,buf2string:na,utf8border:ra},sa=rt,ha=Object.prototype.toString,oa=0,la=-1,_a=0,da=8;it.prototype.push=function(t,e){var a,n,r=this.strm,i=this.options.chunkSize;if(this.ended)return!1;n=e===~~e?e:!0===e?4:0,"string"==typeof t?r.input=ia.string2buf(t):"[object ArrayBuffer]"===ha.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new ht.Buf8(i),r.next_out=0,r.avail_out=i),1!==(a=Fe.deflate(r,n))&&a!==oa)return this.onEnd(a),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||4!==n&&2!==n)||("string"===this.options.to?this.onData(ia.buf2binstring(ht.shrinkBuf(r.output,r.next_out))):this.onData(ht.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&1!==a);return 4===n?(a=Fe.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===oa):2!==n||(this.onEnd(oa),r.avail_out=0,!0)},it.prototype.onData=function(t){this.chunks.push(t)},it.prototype.onEnd=function(t){t===oa&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=ht.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var ua=st,fa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ca=function(t){return fa.charAt(t)},pa="undefined"!=typeof top&&top.btoa||function(t){for(var e=[],a=0,n=t.length,r=0,i=0;i<n;++i)a+=1,3===a&&(a=0),r=t.charCodeAt(i),0===a?e.push(ca(63&(t.charCodeAt(i-1)<<2|r>>6)),ca(63&r)):1===a?e.push(ca(r>>2&63)):e.push(ca(63&(t.charCodeAt(i-1)<<4|r>>4))),i===n-1&&a>0&&e.push(ca(r<<(3-a<<1)&63));if(a)for(;a<3;)a+=1,e.push("=");return e.join("")},ga=function(t){var e=ua(JSON.stringify(t),{to:"string"});return pa(e)},ba="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof(t)},va=function(t){var e=[];return Object.keys(t).sort().forEach(function(a){var n=t[a];"_token"!==a&&(n&&"object"===(void 0===n?"undefined":ba(n))&&(n=JSON.stringify(n)),e.push(a+"="+n))}),ga(e.join("&"))},wa={f:0,r:0,w:0,h:0},ma=function(t){wa.f=t},ya={rId:0,ts:0,cts:0,brVD:[],brR:[],bI:[],mT:[],kT:[],aT:[],tT:[],sign:""},ka=function(){if(ya.rId=wa.f,0===ya.ts&&(ya.ts=Date.now()),0===ya.brVD.length||0===ya.brVD[0]||0===ya.brVD[1]){var t=wa.r,e=wa.w,a=wa.h,n=Math.round(t*e),r=Math.round(t*a),i=[e,a],s=[n,r],h=s;ya.brVD=i,ya.brR=[s,h,24,24]}},za=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.touches,a=t.changedTouches,n=a&&a[0]||e&&e[0];if(n){var r=n.clientX,i=void 0===r?0:r,s=n.clientY,h=void 0===s?0:s,o=e&&e.length||a&&a.length||0;ya.mT=[i+","+h].concat(ya.mT.slice(0,29)),ya.tT=[i+","+h+","+o].concat(ya.tT.slice(0,29))}},xa=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.detail,a=e&&e.x||0,n=e&&e.y||0;ya.aT=[a+","+n+",view"].concat(ya.aT.slice(0,29))},Aa=function(t){ka();var e="",a="";try{var n=getCurrentPages(),r=n.length;e=n[r-1].__route__,r>1&&(a=n[r-2].__route__)}catch(t){}var i="";try{i=va(t)}catch(t){}ya.sign=i,ya.cts=Date.now(),ya.bI=[e,a];try{return ga(ya)}catch(t){return""}};try{wx.getSystemInfo({success:function(t){var e=t.pixelRatio,a=t.windowWidth,n=t.windowHeight;wa.r=e,wa.w=a,wa.h=n}})}catch(t){}var Ba={i:ma,m:za,t:xa,r:Aa};module.exports=Ba}(); 
 			}); 
		define("config/show/showConfig.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";module.exports={seatColors:["//p0.meituan.net/moviesh/d0a596722aff593b61963a9f34898f4c570.png","//p0.meituan.net/moviesh/128e2474062889adc5aee92720f0eac2548.png","//p0.meituan.net/moviesh/b7e0fa10c9c04b191f8d36c8ccfa16fe537.png","//p0.meituan.net/moviesh/8cf12bba89939e840023d0ec4a52e585552.png","//p0.meituan.net/moviesh/df1859e2585722b5d915941c7d05e6ed541.png","//p1.meituan.net/moviesh/535431c7d180fe4b1fbc4fd828b66c86544.png","//p0.meituan.net/moviesh/561c134189df185fb28ff5064fc6c5b3547.png","//p0.meituan.net/moviesh/00f801751a0ba2f5e5300deaf70b669f549.png","//p0.meituan.net/moviesh/9ba619f89d9ca9e5e75ed10789cac589551.png","//p0.meituan.net/moviesh/e4b5bcf5b8a6c434d1ce2f4df4e58ed3541.png"],showFromParams:["fromTag","_fromTag","utm_source"],showFromKeyStore:"_show_from_key",reqUrlPrefix:"https://wx.maoyan.com/maoyansh/myshow/ajax",reqUrlPrefixBeta:"https://m.51ping.com/myshow/ajax",dpWxAppId:"wx734c1ad7b3562129"}; 
 			}); 
		define("config/wallet.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";module.exports={name:"wallet",lxAppname:"maoyan_wxwallet_i",channelId:70001,message:{buySuccess:"xFQjnQW3gnohGC6qGpwWWigyITSbrY5S4WR8rBPSUY0"},appid:"wxdbb4c5f1b8ee7da1",version:"wallet-v1.9.7"}; 
 			}); 
		define("config/wxapp.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";module.exports={name:"wxapp",lxAppname:"maoyan_wxapp",channelId:4e4,appid:"wx87730701f3d95cc4",message:{buySuccess:"pKTWUWayhLFUNoqzMrWm6EF9ImUdth2WCSYyE7asYzM"}}; 
 			}); 
		define("constant/group-activity.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _defineProperty(_,e,A){return e in _?Object.defineProperty(_,e,{value:A,enumerable:!0,configurable:!0,writable:!0}):_[e]=A,_}var _module$exports;module.exports=(_module$exports={DOMAIN:"https://purchase-movie.maoyan.com",GA_STATUS:{PRE:"0",ON_GOING:"1",END:"2",DEPRECATED:"3"},GA_AWARD_TYPE:{CAPTAIN:"1",ALL:"2"},GA_GROUP_OPT:{OPEN:"1",ASSISTANCE:"2"},GA_AWARD_FLOW_ICON:{CAPTAIN:"http://p1.meituan.net/scarlett/9b5ab07fa56add2eb8260157c92207d458144.png",ALL:"http://p1.meituan.net/scarlett/98d43e9eac2c893324f8bfbc4808b56c57905.png"},GA_MINE_TABS:["全部","待开奖","已中奖","未中奖","未成团"],GA_TIP_USER_NUM:3e4,GA_TIP_PRIZE_STOCK:10,GA_TIP_NEW_DATE:2592e5,GA_STD_USER_NUM:1e4,GA_PAY_RESULTS:{1:"未支付",2:"支付成功",3:"支付失败",4:"已退款",5:"处理中",6:"退款中"},GA_PAY_STATUS:{NOT:1,SUCCESS:2,FAIL:3,REFUND:4,ONGOING:5,REFUNDING:6},GA_GROUP_STATUS:{NOT_FULL:"2",SUCCESS:"4",FAIL:"5"},GA_ROLE:{CAPTAIN:"1",CREW:"2"},GA_PRIZE_STATUS:{NOT_ROLL:"1",WIN:"2",CONSOLATION:"3",LOSS:"4"},COOKIE:{RISK:"group_risk",NAME:"CSRF_AP"}},_defineProperty(_module$exports,"GA_PRIZE_STATUS",{ALL:0,WAIT:1,WIN:2,LOSS:3,NO_GROUP:4}),_defineProperty(_module$exports,"JUMP_TYPE",{TO_H5:2,TO_OTHER:1}),_module$exports); 
 			}); 
		define("constant/myt.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var stats=require("../scripts/stats");module.exports={mge_bid:"b_xmm5sgjk",mpt_bid:"b_cy70t5em",props:{val_cid:"c_hw1gt8n5"},initStats:function(t){stats({channel:"rediantong",appnm:t.lxAppname||t.appName,noPending:!0,uid:function(){return t.$user.userId}})(this.props)}}; 
 			}); 
		define("constant/seven-day.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";module.exports={DOMAIN:"https://api.maoyan.com/media/activity",DOMAIN_S:"https://api.maoyan.com",PAGE_SIZE:10,BOARD_TYPE:{THUMBS_UP:0,NEW:1}}; 
 			}); 
		define("constant/vod.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";module.exports={DOMAIN:"http://maoyanapi.vip.sankuai.com",U:function(t){return this.DOMAIN+t}}; 
 			}); 
		define("env-config/default.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";module.exports={host:{wx:"https://wx.maoyan.com",api:"https://api.maoyan.com",fans:"https://api.maoyan.com/media/fans",bargain:"https://bargain-movie.maoyan.com",bs:"https://static.meituan.net/bs/MYFE/wxapp-wallet/file"},proxyhost:{api:"http://maoyanapi.vip.sankuai.com",collectcardgame:"http://collectcardgame.movie.vip.sankuai.com",usercenter:"http://usercenter-inf-in.sankuai.com",signin:"http://sign-movie.sankuai.com"}}; 
 			}); 
		define("env-config/develpment.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";module.exports={host:{bargain:"https://bargain-movie.maoyan.com"},proxyhost:{collectcardgame:"http://10.21.246.227:8080",usercenter:"http://usercenter-inf-in.sankuai.com",signin:"http://sign.movie.dev.sankuai.com"}}; 
 			}); 
		define("env-config/production.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";module.exports={}; 
 			}); 
		define("env-config/staging.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";module.exports={host:{wx:"http://wx.st.maoyan.com",api:"http://api.be.movie.st.sankuai.com/api",fans:"http://api.be.movie.st.sankuai.com/api/media/fans",bargain:"http://bargain.movie.st.sankuai.com"},proxyhost:{api:"http://api.be.movie.st.sankuai.com",collectcardgame:"http://10.22.123.121:8080",usercenter:"http://usercenter-inf-in.sankuai.com",signin:"http://sign.movie.st.sankuai.com"}}; 
 			}); 
		define("env-config/test.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";module.exports={host:{wx:"http://wx.test.maoyan.com",api:"http://api.be.avatar.movie.test.sankuai.com/api",fans:"http://api.be.avatar.movie.test.sankuai.com/api/media/fans",bargain:"http://bargain.movie.test.sankuai.com"},proxyhost:{collectcardgame:"http://10.24.37.136:8080",usercenter:"http://api.be.avatar.movie.test.sankuai.com",signin:"http://sign.movie.test.sankuai.com"}}; 
 			}); 
		define("models/location.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function latlngEqual(t,i){return t=Number(t).toFixed(decimal),i=Number(i).toFixed(decimal),t===i}var event=require("../scripts/event"),promisify=require("../scripts/promisify"),request=require("../scripts/request"),locationUtil=require("../scripts/location"),location={_data:{},get:function(){return this._data},fetch:function(t){var i=this;return this._locate(t).then(function(t){return i._locationCity(t)},function(){return i._locationCity()}).then(function(t){return i._changeLocation(t),i._changeLocationCity(t),i._changeLocationDistrict(t),t}).catch(function(t){throw i.emit("error",t),t})},_locate:function(t){var i=this;return new Date-(this.lastLocationTime||0)<5e3?this.locationPromise:this._data.latitude&&!t?Promise.resolve(this._data):(this.lastLocationTime=+new Date,this.locationPromise=promisify.wx2promise(wx.getLocation,{type:"gcj02"}).then(function(t){var a=t.latitude,e=t.longitude;return i.emit("geo-location",{latitude:a,longitude:e}),{latitude:a,longitude:e}}),this.locationPromise)},_locationCityCache:{},_locationCity:function(t){var i=this,a=t||{},e=a.latitude,o=a.longitude;if(e&&o){var n=[e,o].join("-");if(this._locationCityCache[n])return Promise.resolve(this._locationCityCache[n])}return request().get("/city/locatecity").query({latitude:e,longitude:o}).end().then(function(t){var a=t.body,n=a.data,c=a.error;if(c){var r=new Error(c.message);throw r.code=c.code,r}if(n&&n.lat&&n.lng){e&&o||(i.emit("notAllowGetLocation"),e=n.lat,o=n.lng);var s=[e,o].join("-");return i._locationCityCache[s]={latitude:e,longitude:o,locationCity:{id:n.id,nm:n.openCityName},address:""+n.district+n.detail,locationDistrict:{province:n.province,city:n.city,district:n.district}},i._locationCityCache[s]}throw{message:"定位失败",code:400}})},_changeLocation:function(t){var i=t.latitude,a=t.longitude,e=this._data;latlngEqual(e.latitude,i)&&latlngEqual(e.longitude,a)||this.emit("locationChange",t),this._data=Object.assign(this._data,{latitude:i,longitude:a})},_changeLocationCity:function(t){var i=t.locationCity,a=t.address,e=this._data.locationCity;this._data=Object.assign(this._data,{locationCity:i,address:a}),e&&e.id===i.id||this.emit("locationCityChange",i,e)},_changeLocationDistrict:function(t){var i=t.locationDistrict;this._data=Object.assign(this._data,{locationDistrict:i})},changeCity:function(t){var i=this._data.city;this._data=Object.assign(this._data,{city:t}),i&&i.id===t.id||this.emit("cityChange",t,i)},changeCityByName:function(t){function i(t,i){var a=new Error(i);return a.code=t,a}var a=this;return locationUtil.getCitysFromCache().then(function(e){var o=e.nameMap,n=o[t];if(n&&n.id)return a.changeCity(n),n;throw i(1,"city not found")})}},decimal=4;event.attach(location),module.exports=location; 
 			}); 
		define("models/url.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function getCurrentPageUrl(){var r=getCurrentPages();return r[r.length-1].route}function getCurrentPageUrlWithArgs(){var r=getCurrentPages(),e=r[r.length-1],t=e.route,g=e.options,n=t+"?";for(var u in g){n+=u+"="+g[u]+"&"}return n=n.substring(0,n.length-1)}module.exports={getCurrentPageUrl:getCurrentPageUrl,getCurrentPageUrlWithArgs:getCurrentPageUrlWithArgs}; 
 			}); 
		define("pages/cinema/_cinema-item.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var app=getApp();module.exports={formatCinemas:function(a){var t=app.$location;return a.map(function(a){a.showPrice=+a.sellPrice;var i=parseFloat(a.distance);return!t.locationCity||t.city.id!=t.locationCity.id||isNaN(i)?a.resolvedDistance="":a.resolvedDistance=i<1?1e3*i+"m":i+"km",a.tag&&"满赠卡"===a.tag.vipTag&&(a.tag.vipTag=""),a.tag&&"会员卡"===a.tag.vipTag&&(a.tag.vipTag="折扣卡"),a.labels&&a.labels.forEach(function(t){"超级会员"===t.name&&(a.tag.svip="超级会员")}),a})}}; 
 			}); 
		define("pages/cinema/_select-bar.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function fontLength(e){if(!e||!e.length)return 0;for(var t=0,a=0,s=e.length;a<s;a++){var i=e.charCodeAt(a);t+=i>=0&&i<=128?1:2}return t}var event=require("../../scripts/event"),app=getApp(),selectBar={data:{showBgModal:!1,selectItems:{},selectedItems:{brandId:-1,areaId:-1,districtId:-1,lineId:-1,stationId:-1,hallType:-1,serviceId:-1},selectBarItems:[{type:"area",name:"全城",isActive:!1},{type:"brand",name:"品牌",isActive:!1},{type:"feature",name:"特色",isActive:!1}],activeAreaFilter:{type:"district",subType:"areaId",subItems:[]}},resetSelectedItems:function(){this.setData({selectedItems:{brandId:-1,areaId:-1,districtId:-1,lineId:-1,stationId:-1,hallType:-1,serviceId:-1},activeAreaFilter:{type:"district",subType:"areaId",subItems:[]},selectBarItems:[{type:"area",name:"全城",isActive:!1},{type:"brand",name:"品牌",isActive:!1},{type:"feature",name:"特色",isActive:!1}]})},onTapBrandItem:function(e){var t=e.currentTarget.dataset,a=t.id,s=t.name,i=this.data,r=i.selectedItems,n=i.selectBarItems;n[1].name=-1===a?"品牌":s,r.brandId=a,this.setData({selectedItems:r,selectBarItems:n}),this.toggleSelectBar(),this.emit("refreshCinemas",r)},onTapServiceItem:function(e){var t=e.currentTarget.dataset.id,a=this.data.selectedItems;a.serviceId=t,this.setData({selectedItems:a})},onTapHallTypeItem:function(e){var t=e.currentTarget.dataset.id,a=this.data.selectedItems;a.hallType=t,this.setData({selectedItems:a})},resetFeatureItems:function(){var e=this.data.selectedItems;e.serviceId=-1,e.hallType=-1,this.setData({selectedItems:e})},confirmFeatureItems:function(){this.toggleSelectBar(),this.emit("refreshCinemas",this.data.selectedItems)},onTapAreaTitle:function(e){var t=e.target.dataset.type,a=this.data,s=a.activeAreaFilter,i=a.selectItems,r=a.selectedItems,n=("district"===t?r.areaId:r.stationId,"district"===t?r.districtId:r.lineId);s.type=t,s.subType="district"===t?"areaId":"stationId",i[t]&&i[t].subItems.forEach(function(e){e.id==n&&(s.subItems=e.subItems)}),this.setData({activeAreaFilter:s})},onTapFirstLVItems:function(e){var t=e.target.dataset,a=t.id,s=(t.count,t.name),i=this.data,r=i.selectBarItems,n=i.selectItems,c=i.selectedItems,d=i.activeAreaFilter;void 0!==n[""+d.type]&&(n[""+d.type].subItems.forEach(function(e){e.id==a&&(d.subItems=e.subItems||[],d.name=s)}),c[d.type+"Id"]=a,-1!=a&&d.subItems.length||(c[""+d.subType]=-1,r[0].name=-1===a?"全城":s),this.setData({selectedItems:c,activeAreaFilter:d}),-1!=a&&d.subItems.length||this.confirmFeatureItems())},onTapSecondLVItems:function(e){var t=e.currentTarget.dataset,a=t.id,s=t.name,i=this.data,r=i.selectBarItems,n=i.selectedItems,c=i.activeAreaFilter;"district"===c.type?n.areaId=a:n.stationId=a,r[0].name=-1===a?c.name:s,this.setData({selectedItems:n,selectBarItems:r}),this.confirmFeatureItems()},getSelectItems:function(e,t){var a=this,s=app.$location;return app.request().get("/proxy/mmcs/cinema/v1/select/items.json").header({"x-host":"http://maoyanapi.vip.sankuai.com"}).query({cityId:s.city?s.city.id:1,channelId:app.channelId,movieId:e,showDate:t}).end().then(function(e){var t=e.body.data;return t.line=t.subway,t.hallType&&t.hallType.subItems&&t.hallType.subItems.forEach(function(e){e.nameLength=fontLength(e.name)}),a.setData({selectItems:t}),t})},onTapSelectBar:function(e){var t=e.currentTarget.dataset.index;this.toggleSelectBar(t)},closeModal:function(){this.toggleSelectBar()},toggleSelectBar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=this.data.selectBarItems.map(function(t,a){return t.isActive=a==e&&!t.isActive,t}),a=!!t.filter(function(e){return e.isActive}).length;this.emit("toggleSelectBar",a),this.setData({selectBarItems:t,showBgModal:a})},doNothing:function(){}};event.attach(selectBar),module.exports=selectBar; 
 			}); 
		define("pages/europeanStrategy/_metadata.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var app=getApp();exports.default=null;var starMap=exports.starMap={1:{name:"梁朝伟",modalHead:"http://p1.meituan.net/movie/94a332b496a305a96f793d0bbdea37b236013.png"},2:{name:"吴亦凡",modalHead:"http://p1.meituan.net/movie/d7d82f1372996f27ae0bb1d61abaed8a33140.png"},3:{name:"唐嫣",modalHead:"http://p1.meituan.net/movie/41a0668c91ee01a72df1856f704c6b1c32236.png"},4:{name:"杜鹃",modalHead:"http://p1.meituan.net/movie/b494feb9e2e5b2e5e1fdbf3532324aaf32281.png"}}; 
 			}); 
		define("pages/europeanStrategy/_sign.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sign=void 0;var _md=require("../../scripts/md5"),_md2=_interopRequireDefault(_md);exports.default=null;var sign=exports.sign=function(e){var t="",r=Object.assign({key:"xuanwu"},e);return Object.keys(r).sort().forEach(function(e){t+=r[e]}),(0,_md2.default)(t)}; 
 			}); 
		define("pages/event/turntable/_constant.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var PRIZE_TYPE={none:0,voucher:1,growth:2,ticket:3},PRIZES={4:{text:"1",prizeType:PRIZE_TYPE.voucher,index:1,type:"success"},7:{text:"50",prizeType:PRIZE_TYPE.growth,index:2,type:"success"},3:{text:"3",prizeType:PRIZE_TYPE.voucher,index:3,type:"success"},10:{text:"赞接再厉",prizeType:PRIZE_TYPE.none,index:4,type:"error"},6:{text:"100",prizeType:PRIZE_TYPE.growth,index:5,type:"success"},2:{text:"5",prizeType:PRIZE_TYPE.voucher,index:6,type:"success"},5:{text:"200",prizeType:PRIZE_TYPE.growth,index:7,type:"success"},9:{text:"2",prizeType:PRIZE_TYPE.growth,index:8,type:"success"},8:{text:"10",prizeType:PRIZE_TYPE.growth,index:9,type:"success"},1:{text:"免费电影票",prizeType:PRIZE_TYPE.ticket,index:10,type:"success"}},SHARE_TITLES=["猫眼会员日，和我一起免单","我成了猫眼会员，万万没想到……","我是猫眼 VIP，免费看电影！","免费看电影，要不要一起？","周末的免费电影票就靠你了！","帮我点一下，一起免费看电影"],BET_MSG={0:"meow~什么都没抽到",1:"棒！恭喜你获得 @value 元代金券",2:"棒！恭喜你获得 @value 成长值",3:"棒！恭喜你获得电影票"},TASK_NAMES={1:"btn-buy",2:"btn-write",3:"btn-comment",4:"btn-want-see",7:"btn-praise"};module.exports={PRIZE_TYPE:PRIZE_TYPE,PRIZES:PRIZES,SHARE_TITLES:SHARE_TITLES,BET_MSG:BET_MSG,TASK_NAMES:TASK_NAMES}; 
 			}); 
		define("pages/fansClub/scripts/utils.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function padStart(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t}module.exports={promisify:function(t,e){return new Promise(function(r,n){t({options:e,success:function(t){r(t)},fail:function(t){n(t)}})})},safeGet:function(t,e,r){var n=e.replace(/\[([^\[\]]*)\]/g,".$1.").split(".").filter(function(t){return""!==t}).reduce(function(t,e){return t&&t[e]},t);return void 0===n?r:n},formatDate:function(t,e){var r=/\[.*?\]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,n=new Date(t);return e.replace(r,function(t){switch(t){case"YY":return n.getFullYear().slice(-2);case"YYYY":return n.getFullYear();case"MM":return padStart(n.getMonth()+1,2,"0");case"DD":return padStart(n.getDate(),2,"0");case"HH":return padStart(n.getHours(),2,"0");case"mm":return padStart(n.getMinutes(),2,"0");default:return n}})},padStart:padStart}; 
 			}); 
		define("pages/fansClub/tpl/modal/modal.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var app=getApp();module.exports={showModal:function(p){app.emit("SHOW_MODAL",p)},hideModal:function(){app.emit("HIDE_MODAL")}}; 
 			}); 
		define("pages/movie/_comment.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var Date2=require("../../scripts/date2.js"),icons=require("../../scripts/icons.js"),app=getApp(),apiConfig=require("../../scripts/api-config"),api=apiConfig.getApiUrl(),defaultHeadImg="http://p1.meituan.net/movie/657a4f30793555753aeb1fdda660d3c62409.png";module.exports={formatComments:function(e){var r=function(e){return e.avatarUrl=(e.avatarUrl&&e.avatarUrl.split("@")[0]||e.avatarurl&&e.avatarurl.split("@")[0]||defaultHeadImg)+"@60w_60h",e.tm=new Date2(e.time).toString("T"),e.tagList&&(e.tagDy=!!e.tagList.filter(function(e){return"点映"===e.name}).length,e.tagBuy=!!e.tagList.filter(function(e){return"购票"===e.name}).length),e.pro&&app.get("pro-comment-"+e.id+"-approved")&&(e.likedByCurrentUser=!0),e.scoreArray=app.star(e.score),e.userLevel>0&&(e.levelpathBlack=icons.levelNums["lv"+e.userLevel+"-blackfont"],e.levelpathWhite=icons.levelNums["lv"+e.userLevel+"-whitefont"]),e};return Array.isArray(e)?e.map(function(e){return r(e)}):r(e)},approveRequest:function(e){var r=e.currentTarget.dataset,t=r.id,a=r.likedbycurrentuser;app.request().post(api+"/mmdb/approve/comment/"+t+".json").send({userid:app.$user.userId,channelId:app.channelId,type:a?1:0,token:app.$user.token,clientType:app.clientType,uuid:app.$uuidV2}).end()},setShareShow:function(e,r,t,a){if(e)if(t)if(a.tipShowCount=0,Array.isArray(e)){var n=!0,i=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var p=s.value;p.isComShow=!1}}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}}else e.isComShow=!1;else{var l=function(e){return parseInt(e.id,10)===parseInt(r,10)&&(1!=e.isComShow?(e.isComShow=!0,a.tipShowCount++):(e.isComShow=!1,a.tipShowCount--)),e};if(Array.isArray(e)){var c=!0,f=!1,v=void 0;try{for(var d,m=e[Symbol.iterator]();!(c=(d=m.next()).done);c=!0){var h=d.value;h=l(h)}}catch(e){f=!0,v=e}finally{try{!c&&m.return&&m.return()}finally{if(f)throw v}}}else e=l(e)}return e},screen:function(e,r){if(r&&r.length>0){var t=parseInt(e,10);r=r.filter(function(e){return parseInt(e.userId,10)!==t})}return r||[]}}; 
 			}); 
		define("pages/movie/_order-prompt.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function OrderPrompt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.key="OrderPrompt",this.data={isShowOrderPrompt:!1,list:[]},this.config=t,this.LAST_ORDER_ID=LAST_ORDER_ID,t.movieId&&(this.LAST_ORDER_ID=LAST_ORDER_ID+"-"+t.movieId),this.page=t.page||app.page(),this.key=t.key||this.key,this.setData(this.data),this.bindEvent(),this.fetchData()}var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},app=getApp(),Date2=app.require("scripts/date2"),LAST_ORDER_ID="order-prompt-order",TIME=2880;OrderPrompt.prototype={bindEvent:function(){this.page.onTapOrderPromptClose=this.onTapOrderPromptClose.bind(this),this.page.onTapOrderPromptQrcode=this.onTapOrderPromptQrcode.bind(this)},fetchData:function(){var t=this,e=parseInt(app.get(this.LAST_ORDER_ID),10);app.$user&&app.$user.token&&app.request().get("/wxapi/orderquery/v7/user/orders.json").header("token",app.$user.token).query({cate:100,clientType:"touch",channelId:app.channelId}).end().then(function(r){var a=r.body.data.orders.filter(function(e){return!t.config.movieId||t.config.movieId===e.movie.id}).filter(function(t){var e=t.show.startTime-new Date,r=void 0;if(Math.abs(e)>60*TIME*1e3)return!1;var a=Math.round(Math.abs(e)/60/1e3)+"分钟";return r=e<0?["已开场",a]:["距开场",a],t.timediffMsgArr=r,t.exchange.originIdChunk=app.code(t.exchange.originId),t.exchange.exchangeCodeChunk=app.code(t.exchange.exchangeCode),t.timeMsg=new Date2(t.show.startTime).toString("E MM月dd日 HH:mm"),!0}).sort(function(t,e){return t.show.startTime-e.show.startTime}),o=!0;a.length&&a[0].id===e&&(o=!1),t.setData({isShowOrderPrompt:o,list:a})})},onTapOrderPromptClose:function(){var t=this.data.list[0].id;app.set(this.LAST_ORDER_ID,t,{expires:7200}),this.setData({isShowOrderPrompt:!1})},onTapOrderPromptQrcode:function(t){wx.previewImage({urls:[app.url+"/qr?text="+t.target.dataset.qrcode]})},setData:function(t){this.data=_extends({},this.data,t);var e={};e[this.key]=this.data,this.page.setData(e)}},app.stats(OrderPrompt.prototype),OrderPrompt.prototype.constructor=OrderPrompt,module.exports=OrderPrompt; 
 			}); 
		define("pages/redpacket/_movie.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function formatMovie(e){return e.img=app.img(e.img,220,300),e.score=e.sc&&parseFloat(e.sc).toFixed(1),e}function getMovie(e){return app.request().get("/hostproxy/mmdb/movie/v5/"+e+".json").header({"x-host":"http://maoyanapi.vip.sankuai.com"}).end().then(function(e){return e.body.data.movie}).then(function(e){return formatMovie(e)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatMovie=formatMovie,exports.getMovie=getMovie;var app=getApp(); 
 			}); 
		define("pages/search/_search-bar.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var app=getApp(),locationUtil=require("../../scripts/location"),locationModel=require("../../models/location");module.exports={data:{city:void 0,locationCity:void 0,isShowCityErrorPage:!1,isShowOpenLocationAlertMoal:!1,isShowUseLocationCityConfirmModal:!1},initCity:function(t){var i=void 0;t.cityId&&(t.cityId=Number(t.cityId),t.cityId&&t.cityName&&(i={id:t.cityId,nm:t.cityName})),i?this.setCity(i):(this.cityCache=app.store.get("city"),app.$location.city||this.cityCache&&locationModel.changeCity(this.cityCache),app.$location.city&&this.setCity(app.$location.city),app.models.location.fetch(!app.$location.latitude)),this.onCityChange=this.onCityChange.bind(this),this.onCityError=this.onCityError.bind(this),this.onLocationChange=this.onLocationChange.bind(this),this.bindCityEvent()},bindCityEvent:function(){app.models.location.on("locationCityChange",this.onCityChange),app.models.location.on("error",this.onCityError),app.models.location.on("locationChange",this.onLocationChange),app.models.location.on("notAllowGetLocation",this.onCityToastShow)},offCityEvent:function(){app.models.location.off("change",this.onCityChange),app.models.location.off("error",this.onCityError),app.models.location.off("change",this.onLocationChange),app.models.location.off("notAllowGetLocation",this.onCityToastShow)},setCity:function(t){locationModel.changeCity(t),this.setData({city:app.$location.city,isShowCityErrorPage:!1})},saveCity:function(t){app.store.set("city",t),locationUtil.addCitys(t)},onCityToastShow:function(){var t=this;this.setData({isShowCityToast:!0}),setTimeout(function(){var i=wx.createAnimation({duration:500});t.setData({cbtcAnimationHide:i.opacity(0).step().export()}),setTimeout(function(){t.setData({isShowCityToast:!1})},520)},2500)},onCityChange:function(t){var i=this.data.city;if(this.setData({locationCity:t}),app.set("city-cache",t,{expires:86400}),i&&i.nm){if(i.nm!==t.nm){var o=app.get("confirm-city")||{};o.nm!==i.nm&&this.setData({isShowUseLocationCityConfirmModal:!0})}}else this.setCity(t),this.onShow()},onCityError:function(){if(this===app.page()){var t=this.data.city;t&&t.nm?app._cityToastDisabled||(app._cityToastDisabled=!0,this.onCityToastShow()):(this.setData({isShowCityErrorPage:!0}),app._hasGotoCityPage||(app.goto("/pages/citys/citys?warn=定位失败，请手动选择城市"),app._hasGotoCityPage=!0,app._cityToastDisabled=!0))}},onLocationChange:function(t){},closeOpenLocationAlertMoal:function(){this.setData({isShowOpenLocationAlertMoal:!1})},closeUseLocationCityConfirmModal:function(){this.setData({isShowUseLocationCityConfirmModal:!1}),app.set("confirm-city",app.$location.city,{expires:43200})},onUseLocationCity:function(){var t=this.data.locationCity;this.closeUseLocationCityConfirmModal(),this.setCity(t),this.saveCity(t),this.onPullDownRefresh&&this.onPullDownRefresh()}}; 
 			}); 
		define("pages/sevenday/scripts/seven-day.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _utils=require("../../../scripts/utils"),_utils2=_interopRequireDefault(_utils),_sevenDay=require("../../../constant/seven-day"),_sevenDay2=_interopRequireDefault(_sevenDay),_cookie=require("../../../scripts/cookie"),_cookie2=_interopRequireDefault(_cookie),app=getApp(),domain=_sevenDay2.default.DOMAIN,u=function(e){return domain+e},sdHelper={rSuccess:function(e){return e&&e.body&&e.body.success},shapeBoardList:function(e,t){return e},fetchBoardList:function(e){var t=this,n=e.type,r=e[n].timestamp,a=e[n].page,o=_utils2.default.safeGet(app,"$user.token",""),i=+!!o;return n==_sevenDay2.default.BOARD_TYPE.THUMBS_UP&&(i=0),app.request().config("loading",!1).get(u("/qixi/cardwall/board.json")).header({token:o,"content-type":"application/json"}).query({timestamp:r||(new Date).getTime(),type:n,getMine:i,offset:(a-1)*_sevenDay2.default.PAGE_SIZE,limit:_sevenDay2.default.PAGE_SIZE}).end().then(function(e){return t.rSuccess(e)?(e.body.data&&e.body.data.rankList.map(function(e){return t.filterSelfInfo(e)}),{paging:e.body.paging,data:e.body.data}):{}}).catch(function(e){return null})},approve:function(e,t){var n=this,r=_utils2.default.safeGet(app,"$user.token","");return app.request().config("loading",!1).post(u("/qixi/card/"+e+"/approve.json")).header({token:r,"content-type":"application/json"}).query({type:+!t}).end().then(function(e){return n.rSuccess(e)}).catch(function(e){return null})},fetchMyCards:function(){var e=this;return app.request().get(u("/qixi/card/mine.json")).header({Token:app.$user.token,"content-type":"application/json"}).end().then(function(t){if(t.body&&t.body.success){var n={},r=t.body&&t.body.data;return r&&(n=JSON.parse(JSON.stringify(r)),n.myCards.map(function(t){return t=e.filterSelfInfo(t),t.approve=t.approve>999?"999+":t.approve,t.topRank=-1==t.topRank?"999+":t.topRank,t})),n}}).catch(function(e){console.error("网络错误",e)})},filterSelfInfo:function(e){return e.userId==app.$user.userId&&(e.userNickname=app.$user.wxUserInfo.userInfo.nickName,e.userAvatarUrl=app.$user.wxUserInfo.userInfo.avatarUrl),e}};module.exports=sdHelper; 
 			}); 
		define("pages/sevenday/scripts/sevenDayTplData.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tplObj={},calculateStyle=function(t,e,r,a,p){var l=(r.windowHeight,r.windowWidth),n=(e.width,e.height,414/l);switch(t){case 1:return[{imgUrl:"http://p0.meituan.net/scarlett/f6ba2761f6c5edae388dae732c88189310597.png",height:"128rpx",width:"283rpx",bottom:"100rpx",left:"40rpx",transform:"scale("+(a?.5:1)+")"},{imgUrl:"https://p0.meituan.net/scarlett/d256661f6112529eee1f6541f2cde770863.png",height:"18rpx",width:"64rpx",bottom:(a?50:100)+"rpx",right:"40rpx",transform:"scale("+(a?.5:1)+")"}];case 2:return[{imgUrl:"https://p0.meituan.net/scarlett/a5ac1ff9d31cdd1420a5c30951c47e7f6875.png",height:"64rpx",width:"64rpx",top:(a?50:100)+"rpx",left:"40rpx",transform:"scale("+(a?.5:1)+")"},{imgUrl:"https://p0.meituan.net/scarlett/88b2ae8090212d94bbf2acc0fe9ee56b6499.png",height:"130rpx",width:"90rpx",top:(a?50:100)+"rpx",right:"40rpx",transform:"scale("+(a?.5:1)+")"},{imgUrl:"https://p0.meituan.net/scarlett/4e46187689efe909cdf19b9b70145dc218840.png",height:"132rpx",width:"268rpx",bottom:(a?50:100)+"rpx",left:"50%",transform:"translate(-50%,0) scale("+(a?.5:1)+")"},{imgUrl:"https://p1.meituan.net/scarlett/3b63eed3e31270231ce85dded51bc16f4050.png",height:"22rpx",width:"262rpx",bottom:(a?45:90)+"rpx",left:"50%",transform:"translate(-50%,0) scale("+(a?.5:1)+")"}];case 3:return[{imgUrl:"https://p1.meituan.net/scarlett/5c878628bdf7c781e28cb74c3f9f349918115.png",height:"118rpx",width:"356rpx",left:"50%",bottom:(a?50:100)+"rpx",transform:"translate(-50%,0) scale("+(a?.5:1)+")"},{imgUrl:"https://p1.meituan.net/scarlett/3b63eed3e31270231ce85dded51bc16f4050.png",height:"22rpx",width:"262rpx",bottom:(a?40:80)+"rpx",left:"50%",transform:"translate(-50%,0) scale("+(a?.5:1)+")"}];case 4:return[{imgUrl:"https://p0.meituan.net/scarlett/0dc07d838f038a3895e1b20d385835983528.png",height:"46rpx",width:"162rpx",left:"50%",top:(a?40:80)+"rpx",transform:"translate(-50%,0) scale("+(a?.5:1)+")"},{imgUrl:"https://p1.meituan.net/scarlett/cabfe4911ef5575f6b5982d27bb2ed1719997.png",height:"120rpx",width:"450rpx",left:"50%",bottom:(a?50:100)+"rpx",transform:"translate(-50%,0) scale("+(a?.5:1)+")"},{imgUrl:"https://p1.meituan.net/scarlett/3b63eed3e31270231ce85dded51bc16f4050.png",height:"22rpx",width:"262rpx",bottom:(a?40:80)+"rpx",left:"50%",transform:"translate(-50%,0) scale("+(a?.5:1)+")"}];case 5:return[{imgUrl:"https://p1.meituan.net/scarlett/d4b276d2aa3bfd6f3af609930946d12517482.png",height:"158rpx",width:"208rpx",left:"50%",bottom:(p?100*n:a?50:100)+"rpx",transform:"translate(-50%,0) scale("+(a?.5:1)+")"},{imgUrl:"https://p1.meituan.net/scarlett/3b63eed3e31270231ce85dded51bc16f4050.png",height:"22rpx",width:"262rpx",bottom:(a?40:80)+"rpx",left:"50%",transform:"translate(-50%,0) scale("+(a?.5:1)+")"}];case 6:return[{imgUrl:"https://p1.meituan.net/scarlett/fc42fca8e95b4c7c466c659871c4a67417771.png",height:"104rpx",width:"354rpx",left:"50%",bottom:(a?50:100)+"rpx",transform:"translate(-50%,0) scale("+(a?.5:1)+")"},{imgUrl:"https://p1.meituan.net/scarlett/3b63eed3e31270231ce85dded51bc16f4050.png",height:"22rpx",width:"262rpx",bottom:(a?40:80)+"rpx",left:"50%",transform:"translate(-50%,0) scale("+(a?.5:1)+")"}];default:return[]}},tplArr=[{title:"原图",id:0},{title:"爱情公寓",id:1,imgUrl:"https://p0.meituan.net/scarlett/01e41bb0a1eac1e9c86a6a25d81b941618130.png"},{title:"精灵旅社",id:2,imgUrl:"https://p0.meituan.net/scarlett/48d98119282fd91e05e7250f36bd7cb115279.png"},{title:"巨齿鲨",id:3,imgUrl:"https://p0.meituan.net/scarlett/7f9ceef06a7522e7ac776c76610c6a1c16742.png"},{title:"欧洲攻略",id:4,imgUrl:"https://p1.meituan.net/scarlett/ab10599b166951433024c9c4b15a580017642.png"},{title:"苏丹",id:5,imgUrl:"https://p1.meituan.net/scarlett/5af9e3ab366e69a078d8eadfacfa1e6716703.png"},{title:"一出好戏",id:6,imgUrl:"https://p0.meituan.net/scarlett/b48fb82778abcbec56d1dbb74479f4c519576.png"}];exports.tplObj=tplObj,exports.tplArr=tplArr,exports.calculateStyle=calculateStyle; 
 			}); 
		define("pages/sevenday/tpl/sevenDay/seven-day-tab-bar.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var _axios=require("../../scripts/axios"),Tpl=require("../../scripts/tpl"),app=getApp();module.exports=Tpl.extends({key:"sevenDayTab",data:{},bindEvent:function(){this.page.changeTab=this.changeTab.bind(this),this.page.createProfess=this.createProfess.bind(this)},changeTab:function(e){var s=this,t=e.currentTarget.dataset.tab;return"mine"!=t||app.$user.token?this.setTab(t):app.checkLogin({success:function(){s.setTab(t)}})},setTab:function(e){wx.redirectTo({url:"/pages/sevenday/"+e+"/index"})},createProfess:function(){var e=this;return app.$user.token?this.chooseImage():app.checkLogin({success:function(){e.page.refreshWXUserInfoOfMY(function(){e.chooseImage()})}})},chooseImage:function(){var e=this;this.page.stats("b_gljni07i"),app.request().get(_axios.sevenDayDomain+"/qixi/card/mine.json").header({Token:app.$user.token,"content-type":"application/json"}).end().then(function(s){var t=s.body;t&&t.paging.total<5?wx.chooseImage({count:1,success:function(s){if(s.tempFiles[0].size/1024/1024<10){var t=s.tempFilePaths[0];app.goto("/pages/sevenday/myprofession/index?imageURL="+t)}else e.page.toast("照片不要超过10M，会影响表白效果")}}):e.page.toast("您的表白已达上限")})}}); 
 			}); 
		define("pages/show/components/announcement/_index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_slicedToArray=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_linaConfig=require("../../../../scripts/show/linaConfig"),_linaConfig2=_interopRequireDefault(_linaConfig),ShowAnnouncement=function(e){var t=e.page,n=e.projectId;this.insertKey="ShowAnnouncement",this.page=t,this.projectId=n,this.setData(this.data),this.init()};ShowAnnouncement.prototype={data:{isValid:!1},init:function(){var e=this;(0,_linaConfig2.default)().then(function(t){var n=t.systemNotice,r=n.timeInterval,i=n.isValid,a=n.projectIds,o=void 0===a?[]:a,s=_slicedToArray(r,2),u=s[0],l=s[1],c=+new Date,f=c<=+new Date(l)&&c>=+new Date(u),d=!1;Array.isArray(o)&&o.length>0&&(d=o.includes(e.projectId)),e.setData(_extends({},n,{isValid:i&&f&&d||!1}))})},setData:function(e){this.page.setData(_defineProperty({},this.insertKey,_extends({},this.data,e)))}},module.exports=ShowAnnouncement; 
 			}); 
		define("pages/show/list/show.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _user=require("../../../scripts/show/user"),_user2=_interopRequireDefault(_user),app=getApp(),PREFIX="https://wx.maoyan.com/maoyansh/myshow/ajax";app.MoviePage({data:{show:!1},onLoad:function(e){var a=this;app.request().config("loading",1).get(PREFIX+"/performance/"+e.id+";detail=2;poi=false").query({token:(0,_user2.default)(app.$user)||{},sellChannel:7}).end().then(function(e){return e.body.data}).then(function(t){t.detail=JSON.parse(t.detail),a.setData({performance:t,showBuyBtn:"order"!=e.f,id:e.id,show:!0}),app.title(t.name)})},onShow:function(){getApp().selectedCoupon&&(getApp().selectedCoupon=null)},onTapPhoto:function(e){if(this.data.performance&&this.data.performance.seatUrl.length>0){var a=[this.data.performance.seatUrl];wx.previewImage({current:this.data.performance.seatUrl,urls:a})}},onTapAddress:function(e){this.data.performance&&this.data.performance.lat>0&&this.data.performance.lng>0&&wx.openLocation({latitude:this.data.performance.lat,longitude:this.data.performance.lng,name:this.data.performance.shopName,address:this.data.performance.address})},onShareAppMessage:function(){var e="/pages/show/list/show?id="+this.data.id;return{title:this.data.performance.name,desc:"推荐你一个超精彩演出，一起去看吧~",path:e}}}); 
 			}); 
		define("pages/show/public-class/_info.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}var _module$exports,app=getApp(),CONFIG_URL="https://lina.dianping.com/api/get?key=maoyansh-show-config",DATA_KEY="publicClass";module.exports=(_module$exports={key:DATA_KEY},_defineProperty(_module$exports,DATA_KEY+"Init",function(e){var t=this;app.request().get(CONFIG_URL).end().then(function(o){var r=o.body,a=r.code,i=r.data;if(200===a&&i&&i.value){var s=i.value,n=s.public_class_performanceId,l=s.public_class_performanceIds,p=s.public_class_hotels,u=s.public_class_interests,c=s.public_class_bookHotel,_=s.public_class_userType,y=s.public_class_userTypes,m=s.public_class_hotel_tips,d=s.public_class_hotel_buy_tips;if(-1==[n].concat(_toConsumableArray(l)).indexOf(+e))return;t.setData(_defineProperty({isPublicClassShow:!0},DATA_KEY,{userType:_||1,name:"",companyName:"",position:"",city:"",interest:-1,interests:u||[],userTypes:y||[],bookHotel:c||1,hotelTips:m||"",hotelBuyTips:d||"",hotel:-1,hotels:p||[]}))}})}),_defineProperty(_module$exports,"onPubClsInputBlur",function(e){var t=e.detail.value,o=e.target.dataset.name,r=DATA_KEY+"."+o;this.setData(_defineProperty({},r,(t+"").trim()))}),_defineProperty(_module$exports,"publicInfoValiDate",function(){var e=this.data[DATA_KEY],t=e.userType,o=(e.bookHotel,e.name),r=e.companyName,a=e.city;e.interest,e.interests,e.hotels,e.hotel;return 2!=t||r?o?!!a||this.toast("请选择你所在的城市"):this.toast("请填写参会人真实姓名"):this.toast("请填写企业机构名称")}),_defineProperty(_module$exports,"getAllPublicData",function(){var e=this.data[DATA_KEY],t=e.userType,o=e.bookHotel,r=e.position,a=e.name,i=e.companyName,s=e.city,n=e.interest,l=e.interests,p=e.hotels,u=e.hotel;return{participationPeopleType:t,orderHotel:o,organizationName:1==t?"":i,hotelName:1==o?"":p[u]||"",interestedContent:l[n]||"",peopleName:a,position:r,cityName:function(e){return"Array"===toString.call(e).slice(8,-1)}(s)?s.join(" "):s}}),_defineProperty(_module$exports,"publicFormSubmit",function(e){if("boolean"==typeof this.publicInfoValiDate()){var t=this.getAllPublicData();t.orderId=e,app.request().post("https://wx.maoyan.com/maoyansh/myshow/ajax/participationPeople/insert").header("content-type","application/json").query({sellChannel:7,token:app.$user.token}).send(t).end()}}),_module$exports); 
 			}); 
		define("pages/themeg/tpl/audio.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function autoAudioPlay(){var t=wx.createInnerAudioContext();t.src="https://static.meituan.net/bs/MYFE/wxapp-wallet/file/images/audio/the-meg-btn.mp3",t.play()}module.exports=autoAudioPlay; 
 			}); 
		define("pages/themeg/tpl/bubble.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function getRandom(e){return e[Math.floor(Math.random()*e.length)]}function getBubble(){for(var e=[],t=0;t<10;t++){var a=(Math.floor(750*Math.random()),getRandom(bubble)),d=a.src,h=a.width,n=a.height,r=getRandom(delayArr);e.push({src:d,height:n,width:h,delay:r})}return e}var bubble=[{src:"http://p0.meituan.net/movie/9f7e41492649d94b7f5e2e111afec9d01211.png",width:30,height:26},{src:"http://p0.meituan.net/movie/6f80c9dde79984d1f0f1af303535d8c51826.png",width:40,height:39},{src:"http://p0.meituan.net/movie/b43d539b297f0dce33aab1e2b6bece991911.png",width:27,height:28}],delayArr=[1,2,3,4,5,6,7,8,9];module.exports={getBubble:getBubble,getRandom:getRandom}; 
 			}); 
		define("pages/user/_captcha.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function Captcha(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.key="Captcha",this.data={showCaptcha:!1,inputCaptcha:"",captchaHash:+new Date,errorMsg:""},this.page=t.page||app.page(),this.key=t.key||this.key,this.setData(this.data),this.bindEvent()}var _extends=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var h=arguments[a];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(t[i]=h[i])}return t},app=getApp();Captcha.prototype={bindEvent:function(){this.page.onInputCaptcha=this.onInputCaptcha.bind(this),this.page.onHideCaptcha=this.onHideCaptcha.bind(this),this.page.updateCaptcha=this.update.bind(this)},onInputCaptcha:function(t){this.data.inputCaptcha=t.detail.value},onHideCaptcha:function(){this.hide()},show:function(){this.setData({showCaptcha:!0,inputCaptcha:"",errorMsg:""}),this.update()},isShow:function(){return!!this.data.showCaptcha},hide:function(){this.setData({showCaptcha:!1,inputCaptcha:"",errorMsg:""})},update:function(){this.setData({captchaHash:+new Date})},error:function(t){this.setData({errorMsg:t,inputCaptcha:""}),this.update()},clear:function(){this.setData({inputCaptcha:""})},setData:function(t){this.data=_extends({},this.data,t);var a={};a[this.key]=this.data,this.page.setData(a)}},Captcha.prototype.constructor=Captcha,module.exports=Captcha; 
 			}); 
		define("pages/user/_common.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";module.exports={back:function(){var e=getApp();this._options.path?(delete e._loginReturnUrl,wx.redirectTo({url:decodeURIComponent(this._options.path)})):e._loginReturnUrl&&e._page5?wx.redirectTo({url:decodeURIComponent(e._loginReturnUrl)}):wx.navigateBack()},updateAppUser:function(e){var o=e.token,r=e.userId,t=e.mobile,n=getApp();n.$user.token=o,n.$user.userId=r,n.$user.mobile=t||this.data.inputMobile,n.$user.isBindMobile=!0,n.$user.openId=n.$openId,n.$user.wxUserInfo=n.$wxUserInfo||{},n.saveUser()}}; 
 			}); 
		define("pages/user/_mobile-login.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function MobileLogin(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.key="MobileLogin",this.data={inputMobile:"",codeBtnDisabled:!0,codeBtnMsg:CODE_BTN_MSG,inputCode:"",submitDisabled:!0,showMobileDel:!1,codeHasSent:!1},this.page=t.page||app.page(),this.key=t.key||this.key,this.setData(this.data),this.bindEvent()}var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},app=getApp(),counter=app.require("scripts/counter.js"),CODE_BTN_MSG="获取验证码";MobileLogin.prototype={bindEvent:function(){this.page.onInputMobile=this.onInputMobile.bind(this),this.page.onInputCode=this.onInputCode.bind(this),this.page.onDeleteMobile=this.onDeleteMobile.bind(this)},onInputMobile:function(t){this.data.inputMobile=t.detail.value,this.updateDelBtnStatus(),this.updateCodeBtnStatus(),this.updateSubmitBtnStatus()},onInputCode:function(t){this.data.inputCode=t.detail.value,this.updateSubmitBtnStatus()},getCode:function(t){var e=this;return app.uuid().then(function(i){var n={uuid:i,mobile:e.data.inputMobile};return t&&(n.captcha=t),app.request().config("barLoading",!0).post("/proxy/api/v1/account/mobilelogincode").header("x-host","http://passport.vip.sankuai.com").send(n).end().then(function(t){return e.counter=counter.init({key:"mobile-login",tick:function(t){e.setData({codeBtnMsg:t+"s后重试",codeBtnDisabled:!0,codeHasSent:!0})},end:function(){e.setData({codeBtnMsg:CODE_BTN_MSG}),e.updateCodeBtnStatus()}}),t})})},login:function(){var t=this.data,e=t.inputMobile,i=t.inputCode;return app.request().config("barLoading",!0).post("/proxy/api/v1/account/mobilelogin").header("x-host","http://passport.vip.sankuai.com").send({mobile:e,code:i}).end()},clearCode:function(){this.setData({inputCode:""}),this.updateSubmitBtnStatus()},updateSubmitBtnStatus:function(){this.setData({submitDisabled:!(11===String(this.data.inputMobile).length&&this.data.inputCode)})},updateCodeBtnStatus:function(){this.setData({codeBtnDisabled:!(11===String(this.data.inputMobile).length&&!this.isCounting()),codeHasSent:this.isCounting()})},updateDelBtnStatus:function(){this.setData({showMobileDel:!!this.data.inputMobile.length})},onDeleteMobile:function(){this.setData({inputMobile:"",showMobileDel:!1}),this.updateCodeBtnStatus()},isCounting:function(){return!!(this.counter&&this.counter.total>0)},setData:function(t){this.data=_extends({},this.data,t);var e={};e[this.key]=this.data,this.page.setData(e)}},MobileLogin.prototype.constructor=MobileLogin,module.exports=MobileLogin; 
 			}); 
		define("scripts/action-sheet.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var apiConfig=require("./api-config"),_require=require("./config"),setEnv=_require.setEnv,user=require("./user"),actionSheet=[];module.exports={getActionSheet:function(){return actionSheet=[{get desc(){return("develpment"===apiConfig.getApiEnv()?">> ":"")+"切换到dev环境"},action:function(){apiConfig.setApiEnv("develpment"),setEnv("develpment")}},{get desc(){return("test"===apiConfig.getApiEnv()?">> ":"")+"切换到test环境"},action:function(){apiConfig.setApiEnv("test"),setEnv("test")}},{get desc(){return("staging"===apiConfig.getApiEnv()?">> ":"")+"切换到staging环境"},action:function(){apiConfig.setApiEnv("staging"),setEnv("staging")}},{get desc(){return("prod"===apiConfig.getApiEnv()?">> ":"")+"切换到prod环境"},action:function(){apiConfig.setApiEnv("prod"),setEnv("prod")}},{desc:"清除登录信息",action:user.logout},{desc:"打开debug面板",action:function(){getApp().goto("/pages/debug/index")}}],actionSheet.map(function(t){return t.desc})},invokeAction:function(t){actionSheet[t].action()}}; 
 			}); 
		define("scripts/activity/api.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _asyncToGenerator(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,i){function n(r,o){try{var a=e[r](o),c=a.value}catch(t){return void i(t)}if(!a.done)return Promise.resolve(c).then(function(t){n("next",t)},function(t){n("throw",t)});t(c)}return n("next")})}}var apiConfig=require("../api-config"),apiUrl=apiConfig.getApiUrl(),PRIVILEGEID=3,app=getApp(),getToken=function(){var t=app.$user.token;return void 0===t?"":t},getCI=function(){return app.$location&&app.$location.city&&app.$location.city.id?app.$location.city.id:0},activityApi={getMyActivityList:function(){return app.request().get(apiUrl+"/sns/activity/all.json").header({token:getToken()}).query({ci:getCI()}).end().then(function(t){return t.body})},hasActivities:function(){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getMyActivityList().then(function(t){var e=t.data;return e&&e.length>0});case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}},e,t)}))()},getPrivilege:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:PRIVILEGEID;return app.request().get(apiUrl+"/sns/member/new/"+t+"/privilege.json").header({token:getToken()}).end().then(function(t){return t.body})},getUserActivity:function(){return app.request().get(apiUrl+"/sns/activity/user/activitys.json").end().then(function(t){return t.body})},getMovieActivity:function(t){return app.request().get(apiUrl+"/sns/activity/movie/activitys.json").query({movieId:t}).end().then(function(t){return t.body})},getActivityInfo:function(t){return app.request().get(apiUrl+"/sns/activity/detail/"+t+".json").header({token:getToken()}).end().then(function(t){return t.body})}},activityGoto={gotoActivityList:function(t){var e="/pages/memberActivity/list";t?wx.redirectTo({url:e}):app.goto(e)},gotoActivity:function(t){var e=(t.status,t.activityUrl,t.id),i=void 0===e?0:e,n=t.from,r=void 0===n?"":n;app.goto("/pages/memberActivity/detail?activityId="+i+"&from="+r)},gotoActivityUrl:function(t){var e=t.activityUrl,i=void 0===e?"":e,n=t.id,r=void 0===n?0:n,o=t.activityName,a=void 0===o?"":o,c=t.shareImageUrl,u=void 0===c?"":c,v=i&&!i.startsWith("http"),s="";if(v)s=i;else{var p=encodeURIComponent(i),y="pages/memberActivity/detail?activityId="+r;s="/pages/webview/webview?url="+p+"&shareUrl="+encodeURIComponent(y)+"&imgUrl="+u+"&title="+a}wx.redirectTo({url:s})}};module.exports={activityApi:activityApi,activityGoto:activityGoto,PRIVILEGEID:PRIVILEGEID}; 
 			}); 
		define("scripts/activity/constant.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var STATUS={OK:0,UNGRADE:1,END:3,UNBEGIN:4,OFFLINE:5},REPORTSTATUS={0:"参与活动",1:"等级不足",3:"已结束",4:"即将开始",5:"已下线"};module.exports={STATUS:STATUS,REPORTSTATUS:REPORTSTATUS}; 
 			}); 
		define("scripts/advert.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var _extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var p in t)Object.prototype.hasOwnProperty.call(t,p)&&(e[p]=t[p])}return e},app=getApp(),advertHandler={fetch:function(e,n){var t=_extends({ci:app.getPropSafely("$location.city.id",app,1),clientType:app.clientType,channelId:app.channelId||1,version_name:"",userid:app.$user.userId,uuid:app.$uuid,phoneModel:app.$systemInfo?app.$systemInfo.model:"unkown",os:app.$systemInfo&&app.$systemInfo.system.split(" ")[0].toLocaleLowerCase()||"unknown"},e);return app.request().get("https://ad.maoyan.com/api/position/detail").header({"content-type":"application/json"}).query(t).end().then(function(e){var n=e.body.data[0].config;return n.forEach(function(e){e.link&&e.link.includes("wxapp://")&&(e.link=e.link.replace("wxapp://","/"))}),n}).then(function(e){"function"==typeof n&&n(e&&e.length?e:[])})}};module.exports=advertHandler; 
 			}); 
		define("scripts/aes/AesUtil.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _aes=require("./aes"),_aes2=_interopRequireDefault(_aes),AesUtil=function(e,t){this.keySize=e/32,this.iterationCount=t};AesUtil.prototype.generateKey=function(e,t){return _aes2.default.PBKDF2(t,_aes2.default.enc.Hex.parse(e),{keySize:this.keySize,iterations:this.iterationCount})},AesUtil.prototype.encrypt=function(e,t,a,r){var i=this.generateKey(e,a);return _aes2.default.AES.encrypt(r,i,{iv:_aes2.default.enc.Hex.parse(t)}).ciphertext.toString(_aes2.default.enc.Base64)},AesUtil.prototype.decrypt=function(e,t,a,r){var i=this.generateKey(e,a),s=_aes2.default.lib.CipherParams.create({ciphertext:_aes2.default.enc.Base64.parse(r)});return _aes2.default.AES.decrypt(s,i,{iv:_aes2.default.enc.Hex.parse(t)}).toString(_aes2.default.enc.Utf8)},module.exports=AesUtil; 
 			}); 
		define("scripts/aes/aes.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var CryptoJS=CryptoJS||function(t,e){var r={},n=r.lib={},i=n.Base=function(){function t(){}return{extend:function(e){t.prototype=this;var r=new t;return e&&r.mixIn(e),r.$super=this,r},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.$super.extend(this)}}}(),s=n.WordArray=i.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,t=t.sigBytes;if(this.clamp(),n%4)for(var i=0;i<t;i++)e[n+i>>>2]|=(r[i>>>2]>>>24-i%4*8&255)<<24-(n+i)%4*8;else if(65535<r.length)for(i=0;i<t;i+=4)e[n+i>>>2]=r[i>>>2];else e.push.apply(e,r);return this.sigBytes+=t,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=i.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var r=[],n=0;n<e;n+=4)r.push(4294967296*t.random()|0);return s.create(r,e)}}),o=r.enc={},c=o.Hex={stringify:function(t){for(var e=t.words,t=t.sigBytes,r=[],n=0;n<t;n++){var i=e[n>>>2]>>>24-n%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return s.create(r,e/2)}},a=o.Latin1={stringify:function(t){for(var e=t.words,t=t.sigBytes,r=[],n=0;n<t;n++)r.push(String.fromCharCode(e[n>>>2]>>>24-n%4*8&255));return r.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return s.create(r,e)}},h=o.Utf8={stringify:function(t){try{return decodeURIComponent(escape(a.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return a.parse(unescape(encodeURIComponent(t)))}},f=n.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=s.create(),this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=h.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r=this._data,n=r.words,i=r.sigBytes,o=this.blockSize,c=i/(4*o),c=e?t.ceil(c):t.max((0|c)-this._minBufferSize,0),e=c*o,i=t.min(4*e,i);if(e){for(var a=0;a<e;a+=o)this._doProcessBlock(n,a);a=n.splice(0,e),r.sigBytes-=i}return s.create(a,i)},clone:function(){var t=i.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});n.Hasher=f.extend({init:function(){this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize(),this._hash},clone:function(){var t=f.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:16,_createHelper:function(t){return function(e,r){return t.create(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return u.HMAC.create(t,r).finalize(e)}}});var u=r.algo={};return r}(Math);!function(){var t=CryptoJS,e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp();for(var t=[],i=0;i<r;i+=3)for(var s=(e[i>>>2]>>>24-i%4*8&255)<<16|(e[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|e[i+2>>>2]>>>24-(i+2)%4*8&255,o=0;4>o&&i+.75*o<r;o++)t.push(n.charAt(s>>>6*(3-o)&63));if(e=n.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var t=t.replace(/\s/g,""),r=t.length,n=this._map,i=n.charAt(64);i&&-1!=(i=t.indexOf(i))&&(r=i);for(var i=[],s=0,o=0;o<r;o++)if(o%4){var c=n.indexOf(t.charAt(o-1))<<o%4*2,a=n.indexOf(t.charAt(o))>>>6-o%4*2;i[s>>>2]|=(c|a)<<24-s%4*8,s++}return e.create(i,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){function e(t,e,r,n,i,s,o){return((t=t+(e&r|~e&n)+i+o)<<s|t>>>32-s)+e}function r(t,e,r,n,i,s,o){return((t=t+(e&n|r&~n)+i+o)<<s|t>>>32-s)+e}function n(t,e,r,n,i,s,o){return((t=t+(e^r^n)+i+o)<<s|t>>>32-s)+e}function i(t,e,r,n,i,s,o){return((t=t+(r^(e|~n))+i+o)<<s|t>>>32-s)+e}var s=CryptoJS,o=s.lib,c=o.WordArray,o=o.Hasher,a=s.algo,h=[];!function(){for(var e=0;64>e;e++)h[e]=4294967296*t.abs(t.sin(e+1))|0}(),a=a.MD5=o.extend({_doReset:function(){this._hash=c.create([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,s){for(var o=0;16>o;o++){var c=s+o,a=t[c];t[c]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}for(var c=this._hash.words,a=c[0],f=c[1],u=c[2],p=c[3],o=0;64>o;o+=4)16>o?(a=e(a,f,u,p,t[s+o],7,h[o]),p=e(p,a,f,u,t[s+o+1],12,h[o+1]),u=e(u,p,a,f,t[s+o+2],17,h[o+2]),f=e(f,u,p,a,t[s+o+3],22,h[o+3])):32>o?(a=r(a,f,u,p,t[s+(o+1)%16],5,h[o]),p=r(p,a,f,u,t[s+(o+6)%16],9,h[o+1]),u=r(u,p,a,f,t[s+(o+11)%16],14,h[o+2]),f=r(f,u,p,a,t[s+o%16],20,h[o+3])):48>o?(a=n(a,f,u,p,t[s+(3*o+5)%16],4,h[o]),p=n(p,a,f,u,t[s+(3*o+8)%16],11,h[o+1]),u=n(u,p,a,f,t[s+(3*o+11)%16],16,h[o+2]),f=n(f,u,p,a,t[s+(3*o+14)%16],23,h[o+3])):(a=i(a,f,u,p,t[s+3*o%16],6,h[o]),p=i(p,a,f,u,t[s+(3*o+7)%16],10,h[o+1]),u=i(u,p,a,f,t[s+(3*o+14)%16],15,h[o+2]),f=i(f,u,p,a,t[s+(3*o+5)%16],21,h[o+3]));c[0]=c[0]+a|0,c[1]=c[1]+f|0,c[2]=c[2]+u|0,c[3]=c[3]+p|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;for(e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(e.length+1),this._process(),t=this._hash.words,e=0;4>e;e++)r=t[e],t[e]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}}),s.MD5=o._createHelper(a),s.HmacMD5=o._createHmacHelper(a)}(Math),function(){var t=CryptoJS,e=t.lib,r=e.Base,n=e.WordArray,e=t.algo,i=e.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:e.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,i=r.hasher.create(),s=n.create(),o=s.words,c=r.keySize,r=r.iterations;o.length<c;){a&&i.update(a);var a=i.update(t).finalize(e);i.reset();for(var h=1;h<r;h++)a=i.finalize(a),i.reset();s.concat(a)}return s.sigBytes=4*c,s}});t.EvpKDF=function(t,e,r){return i.create(r).compute(t,e)}}(),CryptoJS.lib.Cipher||function(t){var e=CryptoJS,r=e.lib,n=r.Base,i=r.WordArray,s=r.BufferedBlockAlgorithm,o=e.enc.Base64,c=e.algo.EvpKDF,a=r.Cipher=s.extend({cfg:n.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){return function(t){return{encrypt:function(e,r,n){return("string"==typeof r?d:l).encrypt(t,e,r,n)},decrypt:function(e,r,n){return("string"==typeof r?d:l).decrypt(t,e,r,n)}}}}()});r.StreamCipher=a.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var h=e.mode={},f=r.BlockCipherMode=n.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),h=h.CBC=function(){function e(e,r,n){var i=this._iv;i?this._iv=t:i=this._prevBlock;for(var s=0;s<n;s++)e[r+s]^=i[s]}var r=f.extend();return r.Encryptor=r.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize;e.call(this,t,r,i),n.encryptBlock(t,r),this._prevBlock=t.slice(r,r+i)}}),r.Decryptor=r.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize,s=t.slice(r,r+i);n.decryptBlock(t,r),e.call(this,t,r,i),this._prevBlock=s}}),r}(),u=(e.pad={}).Pkcs7={pad:function(t,e){for(var r=4*e,r=r-t.sigBytes%r,n=r<<24|r<<16|r<<8|r,s=[],o=0;o<r;o+=4)s.push(n);r=i.create(s,r),t.concat(r)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}};r.BlockCipher=a.extend({cfg:a.cfg.extend({mode:h,padding:u}),reset:function(){a.reset.call(this);var t=this.cfg,e=t.iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=t.createEncryptor;else r=t.createDecryptor,this._minBufferSize=1;this._mode=r.call(t,this,e&&e.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var p=r.CipherParams=n.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),h=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,t=t.salt,e=(t?i.create([1398893684,1701076831]).concat(t).concat(e):e).toString(o);return e=e.replace(/(.{64})/g,"$1\n")},parse:function(t){var t=o.parse(t),e=t.words;if(1398893684==e[0]&&1701076831==e[1]){var r=i.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return p.create({ciphertext:t,salt:r})}},l=r.SerializableCipher=n.extend({cfg:n.extend({format:h}),encrypt:function(t,e,r,n){var n=this.cfg.extend(n),i=t.createEncryptor(r,n),e=i.finalize(e),i=i.cfg;return p.create({ciphertext:e,key:r,iv:i.iv,algorithm:t,mode:i.mode,padding:i.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,r,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(r,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t):t}}),e=(e.kdf={}).OpenSSL={compute:function(t,e,r,n){return n||(n=i.random(8)),t=c.create({keySize:e+r}).compute(t,n),r=i.create(t.words.slice(e),4*r),t.sigBytes=4*e,p.create({key:t,iv:r,salt:n})}},d=r.PasswordBasedCipher=l.extend({cfg:l.cfg.extend({kdf:e}),encrypt:function(t,e,r,n){return n=this.cfg.extend(n),r=n.kdf.compute(r,t.keySize,t.ivSize),n.iv=r.iv,t=l.encrypt.call(this,t,e,r.key,n),t.mixIn(r),t},decrypt:function(t,e,r,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),r=n.kdf.compute(r,t.keySize,t.ivSize,e.salt),n.iv=r.iv,l.decrypt.call(this,t,e,r.key,n)}})}(),function(){var t=CryptoJS,e=t.lib.BlockCipher,r=t.algo,n=[],i=[],s=[],o=[],c=[],a=[],h=[],f=[],u=[],p=[];!function(){for(var t=[],e=0;256>e;e++)t[e]=128>e?e<<1:e<<1^283;for(var r=0,l=0,e=0;256>e;e++){var d=l^l<<1^l<<2^l<<3^l<<4,d=d>>>8^255&d^99;n[r]=d,i[d]=r;var y=t[r],_=t[y],g=t[_],v=257*t[d]^16843008*d;s[r]=v<<24|v>>>8,o[r]=v<<16|v>>>16,c[r]=v<<8|v>>>24,a[r]=v,v=16843009*g^65537*_^257*y^16843008*r,h[d]=v<<24|v>>>8,f[d]=v<<16|v>>>16,u[d]=v<<8|v>>>24,p[d]=v,r?(r=y^t[t[t[g^y]]],l^=t[t[l]]):r=l=1}}();var l=[0,1,2,4,8,16,32,64,128,27,54],r=r.AES=e.extend({_doReset:function(){for(var t=this._key,e=t.words,r=t.sigBytes/4,t=4*((this._nRounds=r+6)+1),i=this._keySchedule=[],s=0;s<t;s++)if(s<r)i[s]=e[s];else{var o=i[s-1];s%r?6<r&&4==s%r&&(o=n[o>>>24]<<24|n[o>>>16&255]<<16|n[o>>>8&255]<<8|n[255&o]):(o=o<<8|o>>>24,o=n[o>>>24]<<24|n[o>>>16&255]<<16|n[o>>>8&255]<<8|n[255&o],o^=l[s/r|0]<<24),i[s]=i[s-r]^o}for(e=this._invKeySchedule=[],r=0;r<t;r++)s=t-r,o=r%4?i[s]:i[s-4],e[r]=4>r||4>=s?o:h[n[o>>>24]]^f[n[o>>>16&255]]^u[n[o>>>8&255]]^p[n[255&o]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,o,c,a,n)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,h,f,u,p,i),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,n,i,s,o,c){for(var a=this._nRounds,h=t[e]^r[0],f=t[e+1]^r[1],u=t[e+2]^r[2],p=t[e+3]^r[3],l=4,d=1;d<a;d++)var y=n[h>>>24]^i[f>>>16&255]^s[u>>>8&255]^o[255&p]^r[l++],_=n[f>>>24]^i[u>>>16&255]^s[p>>>8&255]^o[255&h]^r[l++],g=n[u>>>24]^i[p>>>16&255]^s[h>>>8&255]^o[255&f]^r[l++],p=n[p>>>24]^i[h>>>16&255]^s[f>>>8&255]^o[255&u]^r[l++],h=y,f=_,u=g;y=(c[h>>>24]<<24|c[f>>>16&255]<<16|c[u>>>8&255]<<8|c[255&p])^r[l++],_=(c[f>>>24]<<24|c[u>>>16&255]<<16|c[p>>>8&255]<<8|c[255&h])^r[l++],g=(c[u>>>24]<<24|c[p>>>16&255]<<16|c[h>>>8&255]<<8|c[255&f])^r[l++],p=(c[p>>>24]<<24|c[h>>>16&255]<<16|c[f>>>8&255]<<8|c[255&u])^r[l++],t[e]=y,t[e+1]=_,t[e+2]=g,t[e+3]=p},keySize:8});t.AES=e._createHelper(r)}(),CryptoJS=CryptoJS||function(t,e){var r={},n=r.lib={},i=n.Base=function(){function t(){}return{extend:function(e){t.prototype=this;var r=new t;return e&&r.mixIn(e),r.$super=this,r},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.$super.extend(this)}}}(),s=n.WordArray=i.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,t=t.sigBytes;if(this.clamp(),n%4)for(var i=0;i<t;i++)e[n+i>>>2]|=(r[i>>>2]>>>24-i%4*8&255)<<24-(n+i)%4*8;else if(65535<r.length)for(i=0;i<t;i+=4)e[n+i>>>2]=r[i>>>2];else e.push.apply(e,r);return this.sigBytes+=t,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=i.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var r=[],n=0;n<e;n+=4)r.push(4294967296*t.random()|0);return s.create(r,e)}}),o=r.enc={},c=o.Hex={stringify:function(t){for(var e=t.words,t=t.sigBytes,r=[],n=0;n<t;n++){var i=e[n>>>2]>>>24-n%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return s.create(r,e/2)}},a=o.Latin1={stringify:function(t){for(var e=t.words,t=t.sigBytes,r=[],n=0;n<t;n++)r.push(String.fromCharCode(e[n>>>2]>>>24-n%4*8&255));return r.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return s.create(r,e)}},h=o.Utf8={stringify:function(t){try{return decodeURIComponent(escape(a.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return a.parse(unescape(encodeURIComponent(t)))}},f=n.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=s.create(),this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=h.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r=this._data,n=r.words,i=r.sigBytes,o=this.blockSize,c=i/(4*o),c=e?t.ceil(c):t.max((0|c)-this._minBufferSize,0),e=c*o,i=t.min(4*e,i);if(e){for(var a=0;a<e;a+=o)this._doProcessBlock(n,a);a=n.splice(0,e),r.sigBytes-=i}return s.create(a,i)},clone:function(){var t=i.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});n.Hasher=f.extend({init:function(){this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize(),this._hash},clone:function(){var t=f.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:16,_createHelper:function(t){return function(e,r){return t.create(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return u.HMAC.create(t,r).finalize(e)}}});var u=r.algo={};return r}(Math),function(){var t=CryptoJS,e=t.lib,r=e.WordArray,e=e.Hasher,n=[],i=t.algo.SHA1=e.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,i=r[0],s=r[1],o=r[2],c=r[3],a=r[4],h=0;80>h;h++){if(16>h)n[h]=0|t[e+h];else{var f=n[h-3]^n[h-8]^n[h-14]^n[h-16];n[h]=f<<1|f>>>31}f=(i<<5|i>>>27)+a+n[h],f=20>h?f+(1518500249+(s&o|~s&c)):40>h?f+(1859775393+(s^o^c)):60>h?f+((s&o|s&c|o&c)-1894007588):f+((s^o^c)-899497514),a=c,c=o,o=s<<30|s>>>2,s=i,i=f}r[0]=r[0]+i|0,r[1]=r[1]+s|0,r[2]=r[2]+o|0,r[3]=r[3]+c|0,r[4]=r[4]+a|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;e[n>>>5]|=128<<24-n%32,e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process()}});t.SHA1=e._createHelper(i),t.HmacSHA1=e._createHmacHelper(i)}(),function(){var t=CryptoJS,e=t.enc.Utf8;t.algo.HMAC=t.lib.Base.extend({init:function(t,r){t=this._hasher=t.create(),"string"==typeof r&&(r=e.parse(r));var n=t.blockSize,i=4*n;r.sigBytes>i&&(r=t.finalize(r));for(var s=this._oKey=r.clone(),o=this._iKey=r.clone(),c=s.words,a=o.words,h=0;h<n;h++)c[h]^=1549556828,a[h]^=909522486;s.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,t=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(t))}})}(),function(){var t=CryptoJS,e=t.lib,r=e.Base,n=e.WordArray,e=t.algo,i=e.HMAC,s=e.PBKDF2=r.extend({cfg:r.extend({keySize:4,hasher:e.SHA1,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,s=i.create(r.hasher,t),o=n.create(),c=n.create([1]),a=o.words,h=c.words,f=r.keySize,r=r.iterations;a.length<f;){var u=s.update(e).finalize(c);s.reset();for(var p=u.words,l=p.length,d=u,y=1;y<r;y++){d=s.finalize(d),s.reset();for(var _=d.words,g=0;g<l;g++)p[g]^=_[g]}o.concat(u),h[0]++}return o.sigBytes=4*f,o}});t.PBKDF2=function(t,e,r){return s.create(r).compute(t,e)}}(),module.exports=CryptoJS; 
 			}); 
		define("scripts/analytics.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function isType(e,r){return(void 0===e?"undefined":_typeof(e))===r}function isNumber(e){return isType(e,"number")}function rnd(){return 65535*Math.random()}function rndSeed(){return Math.ceil(rnd()).toString(16)}function genRequestId(){return _.now().toString(16)+"-"+rndSeed()+"-"+rndSeed()}function setCache(e,r){try{wx.setStorageSync(storagePrefix+e,r)}catch(e){error("setCache error :",e)}}function getCache(e){try{return wx.getStorageSync(storagePrefix+e)}catch(e){return error("getCache error :",e),undef}}function removeCache(e){try{wx.removeStorageSync(storagePrefix+e)}catch(e){error("removeCache error: ",e)}}function LXCUID(e){function r(e,r){var t,a=0;for(t=0;t<r.length;t++)a|=s[t]<<8*t;return e^a}var t=getCache("lxcuid");if(t)return t;var a,n,o=function(){for(var e=1*new Date,r=0;e===1*new Date&&r<200;)r++;return e.toString(16)+r.toString(16)},c=+(Math.random()+"").slice(2),i=e.ua||"",s=[],u=0;for(a=0;a<i.length;a++)n=i.charCodeAt(a),s.unshift(255&n),s.length>=4&&(u=r(u,s),s=[]);s.length>0&&(u=r(u,s)),i=u;var d=0;e.sc&&(d=e.sc.split("*"),d=+d[0]*+d[1]);var l=[o(),c,i,d,o()].map(function(e){return e.toString(16)}).join("-");return setCache("lxcuid",l),l}function InitEnv(){return new Promise(function(e){var r=wx.getSystemInfoSync(),t="MicroMessengerWXA ("+r.model+"; "+r.system+"; "+r.pixelRatio+"dpr; language/"+r.language+") "+r.platform+"/"+r.version+" NetType/";env.ct=r.platform,env.sc=r.screenWidth+"*"+r.screenHeight,env.ua=t;var a=getCache("wxid"),n=getCache("wxunionid");a&&(env.wxid=a),n&&(env.wxunionid=n),wx.getNetworkType({success:function(r){env.net=r.networkType.toUpperCase(),env.ua=env.ua.replace(/(NetType\/).*/,"$1"+r.networkType.toUpperCase()),e(env)},fail:function(){e(env)}})})}function removeEnv(e){delete env[e]}function setEnv(e,r,t){var a=_.extend({},env),n=!1;"category"===e&&(r="data_sdk_"+r),"wxid"!==e&&"wxunionid"!==e||setCache(e,r),"msid"===e&&env.scene&&removeEnv("scene"),"msid"===e&&(n=!0),env[e]=r;var o=_.extend({},env);t&&t(a,o,n)}function getEnv(e){return e?e&&env[e]:env}function MSID(){var e=[],r=_.now();return e.push(r.toString(16)),e.push(rndSeed()),e.push(rndSeed()),e.push(rndSeed()),e.join("-")}function retry(e,r){if(!forbid||r==NM_APP_QUIT&&r==NM_PAGE_DISAPPEAR)if(r==NM_MODULE_VIEW_LIST){if(MAX_RETRY>=mvlRetryTime)return mvlRetryTime++,void setTimeout(function(){postData(e,undef,r)},retryInterval(mvlRetryTime));mvlCurrentSendData=[],mvlRetryTime=0,clearTimeout(mvlSendTimer),mvlSendTimer=null,createSendTimer(e,NM_MODULE_VIEW_LIST)}else{if(MAX_RETRY>=retryTime)return retryTime++,void setTimeout(function(){postData(e,undef,r)},retryInterval(retryTime));r==NM_APP_QUIT&&(removeCache(sendCacheKey),clearTimeout(mvlSendTimer),mvlSendTimer=null),currentSendData=[],retryTime=0,cacheSendTimer=null,lxCacheData.length&&createSendTimer(e),forbid=!1}}function sendData(e,r,t){_.isArray(r)&&r.length&&wx.request({method:"POST",url:e,data:r,success:function(r){400>r.statusCode?successHandle(e,t):(retry(e,t),reportError("report.js","wx-request-fail",r.statusCode))},fail:function(){retry(e,t),reportError("report.js","wx-request-fail","report fail")},complete:function(e){}})}function successHandle(e,r){if(r==NM_MODULE_VIEW_LIST)return mvlRetryTime=0,clearTimeout(mvlSendTimer),mvlSendTimer=null,mvlCurrentSendData=[],void createSendTimer(e,NM_MODULE_VIEW_LIST);r==NM_APP_QUIT&&(clearTimeout(mvlSendTimer),mvlRetryTime=0,mvlSendTimer=null,removeCache(sendCacheKey)),forbid=!1,retryTime=0,currentSendData=[],cacheSendTimer=null,lxCacheData.length&&createSendTimer(e)}function postData(e,r,t){if(r)t==NM_MODULE_VIEW_LIST?mvlRetryTime=0:retryTime=0,sendData(e,r,t);else{var a=undef;a=t==NM_MODULE_VIEW_LIST?mvlCurrentSendData:currentSendData,sendData(e,a,t)}}function cachePost(e,r){if(lastQuitCachedData||(lastQuitCachedData=getCache(sendCacheKey)||[])&&lastQuitCachedData.length&&(currentSendData=lastQuitCachedData,cacheSendTimer=!0,postData(e,currentSendData)),r)switch(lxCacheData.push(r),r.nm){case NM_PAGE_DISAPPEAR:var t=getEnv(),a=constructMvlData();lxCacheData=lxCacheData.concat(a);var n=[Object.assign({evs:lxCacheData},t)];lxCacheData=[],currentSendData=currentSendData.concat(n,mvlCurrentSendData),mvlCurrentSendData=[],forbid=!0,cacheSendTimer&&(clearTimeout(cacheSendTimer),cacheSendTimer=null),cacheSendTimer=!0,postData(e,currentSendData,NM_PAGE_DISAPPEAR);break;case NM_APP_QUIT:var a=constructMvlData();if(lxCacheData=lxCacheData.concat(a),currentSendData.length)currentSendData[0].evs=currentSendData[0].evs.concat(lxCacheData);else{var t=getEnv(),n=[Object.assign({evs:lxCacheData},t)];currentSendData=currentSendData.concat(n)}lxCacheData=[],currentSendData=currentSendData.concat(mvlCurrentSendData),mvlCurrentSendData=[],forbid=!0,setCache(sendCacheKey,currentSendData),cacheSendTimer&&(clearTimeout(cacheSendTimer),cacheSendTimer=null),cacheSendTimer=!0,postData(e,currentSendData,NM_APP_QUIT);break;case NM_BIZ_ORDER:case NM_BIZ_PAY:var t=getEnv(),n=[Object.assign({evs:lxCacheData},t)];lxCacheData=[],currentSendData=currentSendData.concat(n),cacheSendTimer&&(clearTimeout(cacheSendTimer),cacheSendTimer=null),cacheSendTimer=!0,postData(e,currentSendData,NM_PAGE_DISAPPEAR);break;default:cacheSendTimer||forbid||createSendTimer(e)}}function createSendTimer(e,r){if(r)return void(mvlSendTimer=setTimeout(function(){var r=constructMvlData();if(r.length){var t=getEnv(),a=[Object.assign({evs:r},t)];mvlCurrentSendData=mvlCurrentSendData.concat(a)}mvlCurrentSendData.length?postData(e,mvlCurrentSendData,NM_MODULE_VIEW_LIST):(clearTimeout(mvlSendTimer),mvlSendTimer=null)},5e3));cacheSendTimer=setTimeout(function(){if(!lxCacheData.length)return clearTimeout(cacheSendTimer),void(cacheSendTimer=null);var r=getEnv(),t=[Object.assign({evs:lxCacheData},r)];lxCacheData=[],currentSendData=currentSendData.concat(t),postData(e,currentSendData)},DELAY_TIME)}function mvlCatchPost(e,r){var r=_.isObj(r)?r:{};if(r.mvlId&&r.evs){var t=r.mvlId,a=r.evs.val_lab?r.evs.val_lab:{};a._tm=r.evs.tm,a._seq=r.evs.seq,mvlMap[t]?mvlMap[t].val_lab.mv_list.push(a):(r.evs.val_lab={mv_list:[a]},mvlMap[t]=r.evs)}mvlSendTimer||createSendTimer(e,NM_MODULE_VIEW_LIST)}function constructMvlData(){var e=[];for(var r in mvlMap)e.push(mvlMap[r]);return mvlMap={},e}function envCallback(e,r,t){if(JSON.stringify(e)!==JSON.stringify(r)){if(t&&lxCacheData.length){var a=getEnv(),n=[Object.assign({evs:lxCacheData},a)];lxCacheData=[],currentSendData=currentSendData.concat(n)}var o=constructMvlData();if(o.length>0){var c=[Object.assign({evs:o},e)];mvlCurrentSendData=mvlCurrentSendData.concat(c)}}}function configOptions(e,r){if("domainReport"==r.catMode)return void(catOptions.url="https://catfront.dianping.com/api/log?v=1");if(e&&"nginxReport"==r.catMode){var t=/^(https:\/\/)[^\/]+/,a=e.match(t);return void(a&&(catOptions.url=a[0]+"/lx-cat"))}}function reportError(r,t,a,n){if(catOptions.url)try{var o=getCurrentPages(),c="app.js";o.length&&(c=o[o.length-1].__route__);var i=[{project:"wx-lx-sdk",pageUrl:c,resourceUrl:r,category:n?"jsError":"ajaxError",sec_category:t||"",level:"error",unionId:getEnv("lxcuid"),timestamp:_.now(),content:""+a||""}];wx.request({method:"POST",url:catOptions.url,data:"c="+encodeURIComponent(JSON.stringify(i)),header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){},fail:function(){error("cat report error:",e)}})}catch(e){error("reportError error:",e)}}function Tracker(){var e=this;InitEnv().then(function(e){hasInit=!0}),e._opts={},e._config={},e.rewriteApp(),e.rewritePage(),requestId=genRequestId()}function createSfrom(e,r){var t=getCache(S_FROM);t||(t=[]),t.length>=MAX_S_FROM&&t.shift(),r?t.push({seq:e.seq,category:getEnv().category,cid:r.val_cid,bid:e.val_bid,val_lab:e.val_lab||{}}):t.push({seq:e.seq,category:getEnv().category,cid:currentCid,bid:e.val_bid,val_lab:e.val_lab||{}}),setCache(S_FROM,t)}function resetEvsData(){seq=1,setEnv("msid",MSID(),envCallback),removeCache(S_FROM)}function WebEvsWrapper(e,r,t,a,n,o){try{currentLch?currentLch&&currentLch!==getEnv("lch")&&(resetEvsData(),currentLch=getEnv("lch")):currentLch=getEnv("lch"),HALF_HOUR_MS<Date.now()-lastEventTimestamp&&resetEvsData(),lastEventTimestamp=Date.now();var c={nm:e,tm:_.now(),nt:NT_WECHART,seq:seq++,isauto:ISAUTO_WECHART,req_id:r};if(c=_.extend(c||{},globalLngLat),c=_.extend(c||{},tempEvsData),tempEvsData={},currentCid)c.val_cid=currentCid;else{var i=getCurrentPages();i&&i.length&&(c.val_cid=i[i.length-1].__route__)}if(t&&(c.val_lab=t),valRef&&(c.val_ref=valRef),a&&(c.val_bid=a),refRequestId&&(c.refer_req_id=refRequestId),o&&(c=_.extend(c||{},o),o.refer_req_id||delete c.refer_req_id,o.val_ref||delete c.val_ref),e==NM_MODULE_CLICK&&n&&!0===n.sf&&createSfrom(c,o),e==NM_PAGE_VIEW||e==NM_BIZ_ORDER||e==NM_BIZ_PAY){var s=getCache(S_FROM);s&&(c.s_from=s)}return c}catch(e){return reportError("index.js","lx-api-error",e.message,!0),null}}var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof2(e)},undef=void 0,_={},ObjectProto=Object.prototype,toStr=ObjectProto.toString,hasOwn=ObjectProto.hasOwnProperty,storagePrefix="_lx_sdk_";_.isStr=function(e){return e&&isType(e,"string")},_.isObj=function(e){return e&&"[object Object]"===toStr.call(e)},_.now=function(){return new Date-0},_.isArray=Array.isArray||function(e){return"[object Array]"===toStr.call(e)},_.isArrayLike=function(e){if(!e)return!1;var r=e.length;return!!_.isArray(e)||!!(e&&isNumber(r)&&r>=0)&&(!_.isObj(e)||!(r>1)||r-1 in e)},_.each=function(e,r,t){if(e){var a,n,o;if(_.isArrayLike(e))for(n=0,o=e.length;n<o&&!1!==r.call(t,e[n],n,e);n++);else for(a in e)if(hasOwn.call(e,a)&&!1===r.call(t,e[a],a,e))break}},_.extend=function e(r,t,a){var n,o=!0===r;return o||(a=t,t=r),t&&_.isObj(t)||(t={}),a&&_.isObj(a)||(a={}),_.each(a,function(r,c){o&&_.isObj(a[c])?(n=t[c]={},e(o,n,a[c])):t[c]=a[c]}),t},_.toArray=function(e,r,t){var a=[];return _.isArrayLike(e)&&_.each(e,function(e){a.push(r?r.call(t,e):e)},t),a};var error=function(){_.toArray(arguments).unshift("[LX SDK]"),console},warn=function(){_.toArray(arguments).unshift("[LX SDK]"),console},env={sdk_ver:"1.7.0",ch:"weixin",lch:"wx"};env.lxcuid=LXCUID(env);var NM_APP_START="AS",NM_APP_QUIT="AQ",NM_PAGE_VIEW="PV",NM_PAGE_DISAPPEAR="PD",NM_MODULE_CLICK="MC",NM_MODULE_SYSTEM_CHECK="SC",NM_MODULE_VIEW="MV",NM_MODULE_EDITOR="ME",NM_BIZ_ORDER="BO",NM_BIZ_PAY="BP",NM_MODULE_VIEW_LIST="MVL",NT_WECHART=3,MAX_RETRY=3,DELAY_TIME=500,cacheSendTimer=null,retryTime=0,forbid=!1,sendCacheKey="lx_send_cache_data",lastQuitCachedData=undef,currentSendData=[],lxCacheData=[],mvlRetryTime=0,mvlCurrentSendData=[],mvlMap={},mvlSendTimer=null,catOptions={},retryInterval=function(e){var r=Math;return r.ceil(r.min(1e3*(.5+r.random())*r.pow(2,e),15e3))},S_FROM="lx_cache_sf",MAX_S_FROM=500,ISAUTO_WECHART=7,HALF_HOUR_MS=18e5,lastEventTimestamp=Date.now(),seq=1,hasInit=!1,startTime=Date.now(),pvTime=undef,currentCid=undef,valRef=undef,currentLch=undef,currentSource=undef,requestId,refRequestId,asRequestId,tempEvsData={},globalLngLat={},isFirstStart=!0,TrackerProto=Tracker.prototype;TrackerProto.init=function(e,r,t){var a=this,n=a._opts;if(!n.reportUrl){a._config=_.extend(a._config||{},t),t&&t.catMode&&configOptions(e,t),n.reportUrl=e;var o=r.appnm,c=r.category;o||error("没有设置应用标识（appnm） !"),c||(r.category=o),r.appnm=o,resetEvsData(),_.each(r||{},function(e,r){if(!_.isStr(r)||undef===e)return n[r];a.set(r,e),n[r]=e})}},TrackerProto.setUTM=function(e){if(e){var r=this,t=e||{},a=t.query||{},n=t.referrerInfo||{},o=["utm_source","utm_medium","utm_term","utm_content","utm_campaign"],c={};if("clear"===t)return void removeEnv("utm");if(a&&_.each(o,function(e){_.isStr(a[e])&&(c[e]=a[e])}),n.extraData){var i=n.extraData;if(_.isStr(i))try{i=JSON.parse(i)}catch(e){i={},reportError("index.js","lx-api-error",e.message,!0)}_.each(o,function(e){_.isStr(i[e])&&(c[e]=i[e])})}_.each(o,function(e){_.isStr(t[e])&&(c[e]=t[e])}),c.utm_source||1037!=t.scene&&1038!=t.scene||t.referrerInfo&&t.referrerInfo.appId&&(c.utm_source=t.referrerInfo.appId,c.utm_medium="otherApp"),Object.keys(c).length>0?(r.set("utm",c),!currentSource&&c.utm_source?currentSource=c.utm_source:currentSource&&currentSource!==c.utm_source&&(resetEvsData(),currentSource=c.utm_source)):warn("没有设置utm(站外来源)!")}},TrackerProto.set=function(e,r){setEnv(e,r,envCallback)},TrackerProto.get=function(e){return getEnv(e)},TrackerProto.start=function(e){if(this._config.hasAs)return void warn("AS（应用启动）灵犀集成自动上报，请注释灵犀 start 接口调用！");var e=_.isObj(e)?e:undef;startTime=Date.now(),asRequestId=genRequestId(),requestId=null,currentCid=undef;var r=WebEvsWrapper(NM_APP_START,asRequestId,e);r.isauto=6,this.send(r)},TrackerProto.quit=function(e){var e=_.isObj(e)?e:{},r=Date.now()-startTime;e=_.extend({duration:""+r},e),this._config.hasAq=!0;var t=WebEvsWrapper(NM_APP_QUIT,asRequestId,e);t.isauto=6,this.send(t)},TrackerProto.pageView=function(e,r){requestId||currentCid?(!requestId||currentCid&&currentCid!==e)&&(valRef=currentCid,refRequestId=requestId,requestId=genRequestId()):(isFirstStart||(valRef=e),requestId=genRequestId()),this._config.hasPv=!0,pvTime=Date.now(),currentCid=e;var t=WebEvsWrapper(NM_PAGE_VIEW,requestId,r);this.send(t),isFirstStart=!1},TrackerProto.pageDisappear=function(e,r){if(!this._config.hasPv||!requestId)return void warn("该页面没有上报PV(页面展示)事件，请确认!");var e=_.isObj(e)?e:{};if(pvTime){var t=Date.now()-pvTime;e=_.extend({duration:""+t},e)}this._config.hasPd=!0;var a=WebEvsWrapper(NM_PAGE_DISAPPEAR,requestId,e);r&&(a.isauto=6),this.send(a),pvTime=undef},TrackerProto.moduleView=function(e,r){var t=WebEvsWrapper(NM_MODULE_VIEW,requestId,r,e);this.send(t)},TrackerProto.systemCheck=function(e,r){var t=WebEvsWrapper(NM_MODULE_SYSTEM_CHECK,requestId,r,e);this.send(t)},TrackerProto.moduleClick=function(e,r,t){var a=WebEvsWrapper(NM_MODULE_CLICK,requestId,r,e,t);this.send(a)},TrackerProto.moduleEdit=function(e,r){var t=WebEvsWrapper(NM_MODULE_EDITOR,requestId,r,e);this.send(t)},TrackerProto.order=function(e,r,t){t=_.extend(t||{},{order_id:r});var a=WebEvsWrapper(NM_BIZ_ORDER,requestId,t,e);this.send(a)},TrackerProto.pay=function(e,r,t){t=_.extend(t||{},{order_id:r});var a=WebEvsWrapper(NM_BIZ_PAY,requestId,t,e);this.send(a)},TrackerProto.send=function(e){var r=this,t=r._opts.reportUrl;if(t){if("MVL"==e.nm)return void mvlCatchPost(t,{mvlId:e.val_bid+e.req_id+getEnv("category"),evs:e});cachePost(t,e)}else error("Must config reportUrl!")},TrackerProto.presetGeolocation=function(e,r){var t=parseFloat(e),a=parseFloat(r);return t&&(tempEvsData.lng=t),a&&(tempEvsData.lat=a),this},TrackerProto.resetGeolocation=function(e,r){var t=parseFloat(e),a=parseFloat(r);t&&(globalLngLat.lng=t),a&&(globalLngLat.lat=a)},TrackerProto.turnOnValidate=function(){var e="",r=parseInt("10000000",36),t=parseInt("ZZZZZZZZ",36);return e=parseInt(Math.random()*(t-r)+r).toString(36).toUpperCase(),setEnv("_lx_validcode",e),e},TrackerProto.sendEvsAsycBefore=function(){var e={};return currentCid&&(e.val_cid=currentCid),valRef&&(e.val_ref=valRef),requestId&&(e.req_id=requestId),refRequestId&&(e.refer_req_id=refRequestId),e},TrackerProto.sendEvsAsycAfter=function(e,r){if(!_.isObj(r)||!_.isObj(e))return!1;var t=""+r.nm.toUpperCase(),a=undef;switch(t){case"MC":a=WebEvsWrapper(NM_MODULE_CLICK,requestId,r.valLab,r.valBid,r.options,e);break;case"MV":a=WebEvsWrapper(NM_MODULE_VIEW,requestId,r.valLab,r.valBid,undef,e);break;case"ME":a=WebEvsWrapper(NM_MODULE_EDITOR,requestId,r.valLab,r.valBid,undef,e);break;case"BO":r.valLab=_.extend(r.valLab||{},{order_id:r.orderId}),a=WebEvsWrapper(NM_BIZ_ORDER,requestId,r.valLab,r.valBid,undef,e);break;case"BP":r.valLab=_.extend(r.valLab||{},{order_id:r.orderId}),a=WebEvsWrapper(NM_BIZ_PAY,requestId,r.valLab,r.valBid,undef,e);break;default:return}this.send(a)},TrackerProto.moduleViewList=function(e,r){if(e&&_.isStr(e)){var t=WebEvsWrapper("MVL",requestId,r,e);this.send(t)}},TrackerProto.rewriteApp=function(){var r=this;try{var t=App;App=function(a){try{["onShow","onHide"].forEach(function(e){var t=a[e];"onShow"==e&&(a[e]=function(e){r._config.hasAs=!1,r._config.hasAq=!1,e.scene&&r.set("scene",e.scene),r.setUTM(e),r.start({custom:e}),r._config.hasAs=!0,t&&t.call(this,e)}),"onHide"==e&&(a[e]=function(e){t&&t.call(this,e),r._config.hasAq?warn("PD（页面离开）灵犀集成自动上报，请注释灵犀 quit 接口调用！"):r.quit()})})}catch(r){reportError("index.js","lx-api-error",e.message,!0)}t(a)}}catch(e){reportError("index.js","lx-api-error",e.message,!0)}},TrackerProto.rewritePage=function(){var e=this;try{var r=Page;Page=function(t){try{["onUnload","onShow","onHide"].forEach(function(r){var a=t[r];"onShow"==r&&(t[r]=function(){e._config.hasPv=!1,e._config.hasPd=!1,a&&a.apply(this,arguments)}),"onHide"==r&&(t[r]=function(){a&&a.apply(this,arguments),e._config.hasPv&&!e._config.hasPd?e.pageDisappear({},!0):warn("PD（页面离开）灵犀集成自动上报，请注释灵犀 pageDisappear 接口调用！")}),"onUnload"==r&&(t[r]=function(){a&&a.apply(this,arguments),e._config.hasPv&&!e._config.hasPd?e.pageDisappear({},!0):warn("PD（页面离开）灵犀集成自动上报，请注释灵犀 pageDisappear 接口调用！")})})}catch(e){reportError("index.js","lx-api-error",e.message,!0)}r(t)}}catch(e){reportError("index.js","lx-api-error",e.message,!0)}};var index=new Tracker;module.exports=index; 
 			}); 
		define("scripts/api-config.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var store=require("./store"),KEY="apiEnv",_apiEnv=store.get(KEY)||"prod",transConfig=[{match:function(i){return i.url.indexOf("/mallpro/memberMall")>0},staging:"http://api.be.movie.st.sankuai.com",isPrefixApi:!0},{match:function(i){return i.url.indexOf("/merchandise/vcoin")>0},staging:"http://api.be.movie.st.sankuai.com",isPrefixApi:!1},{match:function(i){return i.url.indexOf("/goods/queryDealById")>0},staging:"http://api.be.movie.st.sankuai.com",isPrefixApi:!1},{match:function(i){return i.url.indexOf("smallProgram/silentLogin")>0},staging:"http://api.be.movie.st.sankuai.com",isPrefixApi:!1},{match:function(i){return i.url.indexOf("/gprice/preOrder")>0},staging:"http://api.be.movie.st.sankuai.com",isPrefixApi:!0},{match:function(i){return i.url.indexOf("/merchandise/vtrade/submitVirtualOrder")>0},staging:"http://api.be.movie.st.sankuai.com",isPrefixApi:!1},{match:function(i){return i.url.indexOf("/merchandise/vorder/service/vorder/list")>0},staging:"http://vorder.movie.st.sankuai.com",isPrefixApi:!1},{match:function(i){return i.url.indexOf("/merchandise/vtrade/service/vorder/detail")>0},staging:"http://api.be.movie.st.sankuai.com",isPrefixApi:!1},{match:function(i){return i.url.indexOf("/logistics/expressTracking")>0},staging:"http://logistics.merchandise.movie.vip.sankuai.com",isPrefixApi:!0},{match:function(i){return i.url.indexOf("monopoly")>0},staging:"http://api.be.movie.st.sankuai.com",isPrefixApi:!0},{match:function(i){return i.url.indexOf("theMeg")>0},connect:"https://wx.fe.st.maoyan.com"},{match:function(i){return i.url.indexOf("/citycard/client")>0},staging:"http://citycard.movie.st.sankuai.com",isPrefixApi:!0},{match:function(i){return 0===i.url.indexOf("https://ad.maoyan.com")},staging:"http://ad.movie.test.sankuai.com"},{match:function(i){return 0===i.url.indexOf("https://api.maoyan.com")},staging:"http://api.be.movie.st.sankuai.com",isPrefixApi:!0},{match:function(i){return"http://maoyanapi.vip.sankuai.com"===i.header["x-host"]},staging:"http://api.be.movie.st.sankuai.com",isPrefixApi:!0},{match:function(i){return i.url.indexOf("/wxpapay/")>0},staging:"http://paytrade.movie.st.sankuai.com"},{match:function(i){return i.url.indexOf("/media/activity/yearend")>0},transform:function(i){i.url=i.url.replace("api.maoyan.com/media","api.be.movie.st.sankuai.com/api/media")}}],apiConfig=module.exports={getApiEnv:function(){return _apiEnv},setApiEnv:function(i){_apiEnv=i,store.set(KEY,i)},isProd:function(){return!getApp().$debug||"prod"===_apiEnv},toggleEnv:function(){return"staging"===_apiEnv?this.setApiEnv("prod"):this.setApiEnv("staging"),_apiEnv},prod2Staging:function(i){for(var t=0,a=transConfig.length;t<a;t++){var n=transConfig[t];if(n.match(i)){n.transform?n.transform(i):(n.staging&&(0===i.url.indexOf("https://")&&(i.url=i.url.replace(/https:\/\/[^\/]*/,"/proxy")),i.header["x-host"]=n.staging),n.isPrefixApi&&(i.url=i.url.replace(/\/(host)?proxy\//,"$&api/")),n.connect&&(i.url=n.connect+i.url));break}}},getApiUrl:function(i){var t={PrepayAPI:"http://prepay.movie.test.sankuai.com",DealAPI:"http://10.20.61.126:9014"},a={PrepayAPI:"http://prepay.movie.st.sankuai.com",DealAPI:"/hostproxy/api/trade",DealHost:"http://api.be.movie.st.sankuai.com"},n={PrepayAPI:"https://prepay-movie.maoyan.com",DealAPI:"/hostproxy/trade",DealHost:"http://maoyanapi.vip.sankuai.com"},e="prod";try{e=getApp().$debug?apiConfig.getApiEnv():"prod"}catch(i){}return"prepay"===i?"prod"===e?n:"staging"===e?a:t:"fission"===i?"prod"===e?"https://bonusapi-movie.maoyan.com":"staging"===e?"http://bonusapi.movie.st.sankuai.com":"http://10.24.155.23:8080":"cinema"===i?"prod"===e?"http://maoyanapi.vip.sankuai.com":"http://api.be.movie.st.sankuai.com":"prod"===e?"https://api.maoyan.com":"staging"===e?"http://api.be.movie.st.sankuai.com/api":"http://api.be.avatar.movie.test.sankuai.com/api"},getApiUrl_env:function(i){return{test:"http://api.be.avatar.movie.test.sankuai.com/api/sns",staging:"http://api.be.movie.st.sankuai.com/api/sns",prod:"https://api.maoyan.com/sns"}[i]}}; 
 			}); 
		define("scripts/attach.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";module.exports=function(o,r){Object.keys(r).forEach(function(t){if(o[t])throw Error("key："+t+"重复");o[t]=r[t]})}; 
 			}); 
		define("scripts/axios.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function formatNumber(e){return e=e.toString(),e[1]?e:"0"+e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatTime=exports.sevenDayDomain=exports.domain=exports.post=exports.get=void 0;var _sevenDay=require("../constant/seven-day"),_sevenDay2=_interopRequireDefault(_sevenDay),app=getApp(),domain="https://m.maoyan.com",sevenDayDomain=_sevenDay2.default.DOMAIN,get=function(e){return new Promise(function(t,n){app.request().header({token:app.$user.token}).get(domain+e).end().then(function(e){t(e)}).catch(function(e){n(e)})})},post=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,o){app.request().post(domain+e).header({token:app.$user.token}).send(t).end().then(function(e){n(e)}).catch(function(e){o(e)})})},formatTime=function(e,t){var n=["Y","M","D","h","m","s"],o=[],r=new Date(e);o.push(r.getFullYear()),o.push(formatNumber(r.getMonth()+1)),o.push(formatNumber(r.getDate())),o.push(formatNumber(r.getHours())),o.push(formatNumber(r.getMinutes())),o.push(formatNumber(r.getSeconds()));for(var a in o)t=t.replace(n[a],o[a]);return t};exports.get=get,exports.post=post,exports.domain=domain,exports.sevenDayDomain=sevenDayDomain,exports.formatTime=formatTime; 
 			}); 
		define("scripts/banner.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function banner(e,n,t,a,r){return app.request().get("/adverts").query({cityid:e,app:n,category:t,clienttp:r,uuid:"",devid:"",uid:a}).end().then(function(e){var n=e.body.data;return n.forEach(function(e){e.url=e.url.replace("wxapp://","/")}),n})}function bannerV2(e,n,t){return app.request().get("https://ihotel.meituan.com/campaigns/v1/richman/hit").query({cityId:e,app:"pc",clienttp:"iBan",category:n,userid:t,biz:8,uuid:app.$uuid,version:"v1",queryWord:""}).end().then(function(e){var n=e.body.data;return n.forEach(function(e){e.url=e.url.replace("wxapp://","/")}),n})}function maoyanBanner(e,n,t){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=app.$systemInfo||{},i=r.system,o=r.screenWidth,p=r.screenHeight,u=r.pixelRatio,c=r.model;p&&(a.screenHeight=+(p*u).toFixed(0)),o&&(a.screenWidth=+(o*u).toFixed(0));var d=i||"";return d=d.toLowerCase().match(/(android|ios)/),app.request().get("https://ad.maoyan.com/api/position/detail").header({"content-type":"application/json"}).query(_extends({ci:e,userId:t,positionIds:n,uuid:app.$uuid||void 0,channelId:app.channelId||1,phoneModel:c||"unknown",os:d?d[0]:"unknown",clientType:app.clientType},a)).end().then(function(e){var n=e.body.data[0].config;return n.forEach(function(e){e.link&&e.link.includes("wxapp://")&&(e.link=e.link.replace("wxapp://","/"))}),n})}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e};exports.banner=banner,exports.bannerV2=bannerV2,exports.maoyanBanner=maoyanBanner;var app=getApp(); 
 			}); 
		define("scripts/canvas-blur.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function gaussBlur(r,o){var f,t,e,a,n,s,u,x,i,h,l=r.data,m=r.width,y=r.height,g=[],c=0;for(s=1/(5*Math.sqrt(2*Math.PI)),n=-.02,u=0,f=-10;f<=10;f++,u++)a=s*Math.exp(n*f*f),g[u]=a,c+=a;for(u=0,h=g.length;u<h;u++)g[u]/=c;if(o)for(var d=0;d<o.length;d++){var p=o[d],v=function(r,o){return r>=0?r:o+r},M=p.x&&p.x.min?v(p.x.min,m):0,B=p.x&&p.x.max?v(p.x.max,m):m,P=p.y&&p.y.min?v(p.y.min,y):0,_=p.y&&p.y.max?v(p.y.max,y):y;for(t=P;t<_;t++)for(f=M;f<B;f++){for(e=a=n=s=0,c=0,x=-10;x<=10;x++)(i=f+x)>=0&&i<m&&(u=4*(t*m+i),e+=l[u]*g[x+10],a+=l[u+1]*g[x+10],n+=l[u+2]*g[x+10],c+=g[x+10]);u=4*(t*m+f),l[u]=e/c,l[u+1]=a/c,l[u+2]=n/c}for(f=M;f<B;f++)for(t=P;t<_;t++){for(e=a=n=s=0,c=0,x=-10;x<=10;x++)(i=t+x)>=0&&i<y&&(u=4*(i*m+f),e+=l[u]*g[x+10],a+=l[u+1]*g[x+10],n+=l[u+2]*g[x+10],c+=g[x+10]);u=4*(t*m+f),l[u]=e/c,l[u+1]=a/c,l[u+2]=n/c}}else{for(t=0;t<y;t++)for(f=0;f<m;f++){for(e=a=n=s=0,c=0,x=-10;x<=10;x++)(i=f+x)>=0&&i<m&&(u=4*(t*m+i),e+=l[u]*g[x+10],a+=l[u+1]*g[x+10],n+=l[u+2]*g[x+10],c+=g[x+10]);u=4*(t*m+f),l[u]=e/c,l[u+1]=a/c,l[u+2]=n/c}for(f=0;f<m;f++)for(t=0;t<y;t++){for(e=a=n=s=0,c=0,x=-10;x<=10;x++)(i=t+x)>=0&&i<y&&(u=4*(i*m+f),e+=l[u]*g[x+10],a+=l[u+1]*g[x+10],n+=l[u+2]*g[x+10],c+=g[x+10]);u=4*(t*m+f),l[u]=e/c,l[u+1]=a/c,l[u+2]=n/c}}return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.gaussBlur=gaussBlur; 
 			}); 
		define("scripts/cinema.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function search(t,a){return a=a||0,app.request().get("https://api.maoyan.com/mmdb/search/cinema/keyword/list.json").query({offset:a,keyword:t,ctid:app.$location.city.id,lng:app.$location.longitude,lat:app.$location.latitude}).end().then(function(t){return t.body.data}).then(function(t){return t.map(format)})}function format(t){var a=app.$location;return t.showPrice=+t.sellPrice,a.locationCity&&a.city.id===a.locationCity.id?parseFloat(t.distance)<1?t.distance=1e3*parseFloat(t.distance)+"m":t.distance=parseFloat(t.distance)+"km":delete t.distance,t.tag&&"满赠卡"===t.tag.vipTag&&(t.tag.vipTag=""),t.tag&&"会员卡"===t.tag.vipTag&&(t.tag.vipTag="折扣卡"),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.search=search,exports.format=format;var app=getApp(),_=app.require("scripts/movie"); 
 			}); 
		define("scripts/cloud.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";wx.cloud.init({env:"prod-80f7de",traceUser:!0}),module.exports={db:wx.cloud.database()}; 
 			}); 
		define("scripts/config.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function merge(e,n){var t={};Object.assign(t,e);for(var r in n)t[r]&&t[r].constructor===Object&&n[r]&&n[r].constructor===Object?t[r]=merge(t[r],n[r]):t[r]=n[r];return t}function getPropertyByEnv(e){switch(getEnv()){case"develpment":return devConfig[e];case"test":return testConfig[e];case"staging":return stagingConfig[e];case"prod":default:return prodConfig[e]}}function getEnv(){return debug?env:"prod"}function setEnv(e){env=e,debug&&coll&&(_id?coll.doc(_id).set({data:{env:env}}):coll.add({data:{env:env}}).then(function(e){_id=e._id}))}var _extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},cloud=require("./cloud"),apiConfig=require("./api-config"),def=require("../env-config/default"),dev=require("../env-config/develpment"),test=require("../env-config/test"),staging=require("../env-config/staging"),prod=require("../env-config/production"),debug=!1,env=apiConfig.getApiEnv()||"prod",_id="",coll=void 0;debug&&(coll=cloud.db.collection("env"),coll.get().then(function(e){var n=e.data[0];n&&n.env&&(env=n.env,_id=n._id),apiConfig.setApiEnv(env)}));var devConfig=merge(def,dev),testConfig=merge(def,test),stagingConfig=merge(def,staging),prodConfig=merge(def,prod);module.exports=debug?{get host(){return getPropertyByEnv("host")},get proxyhost(){return getPropertyByEnv("proxyhost")},getEnv:getEnv,setEnv:setEnv}:_extends({},prodConfig,{getEnv:getEnv,setEnv:function(){}}); 
 			}); 
		define("scripts/cookie.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getParam(e,t){var r=_store2.default.get(e);if(r&&t){return(parse(r)||{})[t]}if(r)return r}function setParam(e,t){_store2.default.set(e,t)}function parse(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var r={},i=t||{},o=e.split(pairSplitRegExp),a=i.decode||decode,n=0;n<o.length;n++){var s=o[n],p=s.indexOf("=");if(!(p<0)){var u=s.substr(0,p).trim(),f=s.substr(++p,s.length).trim();'"'==f[0]&&(f=f.slice(1,-1)),void 0==r[u]&&(r[u]=tryDecode(f,a))}}return r}function serialize(e,t,r){var i=r||{},o=i.encode||encode;if("function"!=typeof o)throw new TypeError("option encode is invalid");if(!fieldContentRegExp.test(e))throw new TypeError("argument name is invalid");var a=o(t);if(a&&!fieldContentRegExp.test(a))throw new TypeError("argument val is invalid");var n=e+"="+a;if(null!=i.maxAge){var s=i.maxAge-0;if(isNaN(s))throw new Error("maxAge should be a Number");n+="; Max-Age="+Math.floor(s)}if(i.domain){if(!fieldContentRegExp.test(i.domain))throw new TypeError("option domain is invalid");n+="; Domain="+i.domain}if(i.path){if(!fieldContentRegExp.test(i.path))throw new TypeError("option path is invalid");n+="; Path="+i.path}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw new TypeError("option expires is invalid");n+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(n+="; HttpOnly"),i.secure&&(n+="; Secure"),i.sameSite){switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:n+="; SameSite=Strict";break;case"lax":n+="; SameSite=Lax";break;case"strict":n+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return n}function tryDecode(e,t){try{return t(e)}catch(t){return e}}var _store=require("../scripts/store"),_store2=_interopRequireDefault(_store),app=getApp(),decode=decodeURIComponent,encode=encodeURIComponent,pairSplitRegExp=/; */,fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;module.exports.setParam=setParam,module.exports.getParam=getParam,module.exports.parse=parse,module.exports.serialize=serialize; 
 			}); 
		define("scripts/countdown.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function nowTime(e,i,t,n,o){for(var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1e3,m=[],l=i.length,a=0;a<l;a++){m.push(Object.assign({},i[a]));for(var c=0;c<t.length;c++){!timeObj[e][t[c]]&&(timeObj[e][t[c]]=[]),void 0===timeObj[e][t[c]][a]&&(timeObj[e][t[c]][a]=m[a][t[c]]);var v=getTime(timeObj[e][t[c]][a],o);m[a][t[c]+"_over"]=!1,isNaN(timeObj[e][t[c]][a])||timeObj[e][t[c]][a]<=0?m[a][t[c]+"_over"]=!0:timeObj[e][t[c]][a]-=r,m[a][t[c]+"_cd"]=v}}n&&n(m)}function getTime(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=0,n=0,o=0,r=0,m=0,l={day:"",hour:"00",minutes:"00",second:"00",millSecond:0};return e>0&&(m=Math.floor(e%1e3/100),e/=1e3,t=Math.floor(e/86400),n=Math.floor(e/3600)-24*t,o=Math.floor(e/60)-24*t*60-60*n,r=Math.floor(e)-24*t*60*60-60*n*60-60*o,i||(n+=24*t,t=""),n<=9&&(n="0"+n),o<=9&&(o="0"+o),r<=9&&(r="0"+r),l={day:t,hour:n,minutes:o,second:r,millSecond:m}),l}function clear(e){timer[e]&&clearInterval(timer[e]),timeObj[e]={}}function init(e,i,t,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1e3;clear(e),timeObj[e]={},nowTime(e,i,t,n,o,r),timer[e]=setInterval(function(){nowTime(e,i,t,n,o,r)},r)}function initObj(e,i,t,n,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1e3;init(e,[i],t,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n&&n(e[0])},o,r)}var timer={},timeObj={};module.exports={clear:clear,getTime:getTime,init:init,initObj:initObj}; 
 			}); 
		define("scripts/counter.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},app=getApp();module.exports={init:function(t){var e=this;this.timers={},this.config=_extends({page:app.page(),key:"default",total:60,tick:function(){},end:function(){}},t);var i=this.config,r=i.page,a=i.key,n=i.total,s=i.tick,c=i.end;return this.total=n,s.call(r,n),this.timers[a]=setInterval(function(){e.total=n-=1,n>0&&s.call(r,n),0===n&&(c.call(r),e.clear(a))},1e3),this},clear:function(t){var e=this;if(t)return clearInterval(this.timers[t]),this;Object.keys(this.timers).forEach(function(t){clearInterval(e.timers[t])})}}; 
 			}); 
		define("scripts/cps.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";module.exports=function(){var e=App,t=wx.requestPayment,r=function(){},a=7776e3,n=function(e,t,r){wx&&wx.operateWXData&&wx.operateWXData({apiName:"reportAdCps",reqData:{cps_package:e,prepay_id:t,status:r}})};return{App:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=t.onShow||r;return t.onShow=function(e){var t=e.query.cps_package;if(void 0!==t){var r=+new Date;try{wx.setStorageSync("__cps_package__",t),wx.setStorageSync("__cps_write_time__",r)}catch(e){console.error("something is wrong!")}}a.call(this,e)},e(t)},setExpired:function(e){e=+e,!isNaN(e)&&isFinite(e)&&0<e&&(a=e)},requestPayment:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=+new Date;try{var s=wx.getStorageSync("__cps_package__"),o=+wx.getStorageSync("__cps_write_time__");if(s&&o&&c-o<1e3*a){var i=e.package||"";n(s,i,0);var _=e.success||r,p=e.fail||r,g=e.complete||r;e.success=function(e){"requestPayment:ok"===e.errMsg&&n(s,i,1),_(e)},e.fail=function(e){"requestPayment:fail cancel"===e.errMsg?n(s,i,3):"string"==typeof e.errMsg&&0===e.errMsg.indexOf("requestPayment:fail")&&n(s,i,2),p(e)},e.complete=function(e){"requestPayment:cancel"===e.errMsg&&n(s,i,3),g(e)}}else wx.setStorageSync("__cps_package__",""),wx.setStorageSync("__cps_write_time__","")}catch(e){console.error("something is wrong!"),console.error(e)}t.call(wx,e)}}}(); 
 			}); 
		define("scripts/date2.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function Date2(t){if(!(this instanceof Date2))return new Date2(t);switch(t instanceof Date&&(this.date=t),void 0===t?"undefined":_typeof(t)){case"string":this.date=this.parse(t);break;case"object":this.date=this.create(t);break;default:this.date=new Date(t||null),this.bjDate=new Date(t+60*((new Date).getTimezoneOffset()+480)*1e3)}this.bjDate||(this.bjDate=this.date)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Date2.prototype.parse=function(t,e){var a={},r={fullYear:1,year:2,month:3,date:4,time:5,hour:6,minute:7,second:8},o=/((\d{4})-(\d{2})-(\d{2}))?\s?((\d{2}):(\d{2}):(\d{2}))?/.exec(t);for(var n in r)o[r[n]]&&(a[n]=o[r[n]]);return this.create(a)},Date2.prototype.create=function(t){var e=+t.year,a=+t.month-1,r=+t.date,o=+t.hour,n=+t.minute,s=+t.second,i=new Date(0);return e&&i.setYear(e),a&&i.setMonth(a),r&&i.setDate(r),o&&i.setHours(o),n&&i.setMinutes(n),s&&i.setSeconds(s),i},Date2.prototype.bjNow=function(){return new Date(Date.now()+60*((new Date).getTimezoneOffset()+480)*1e3)},Date2.prototype.toString=function(t){var e=this;if(void 0===t)return this.bjDate.toString();var a=this,r={"M+":this.bjDate.getMonth()+1,"d+":this.bjDate.getDate(),"h+":this.bjDate.getHours()%12==0?12:this.bjDate.getHours()%12,"H+":this.bjDate.getHours(),"m+":this.bjDate.getMinutes(),"s+":this.bjDate.getSeconds(),"q+":Math.floor((this.bjDate.getMonth()+3)/3),S:this.bjDate.getMilliseconds(),E:function(){var t=a.bjNow(),e=a.bjDate.getDay(),r=Math.floor((new Date(+a.bjDate).setHours(0,0,0,0)-t.setHours(0,0,0,0))/864e5),o=["周日","周一","周二","周三","周四","周五","周六"];return["今天"][r]||(0===e||6===e)&&r<7&&o[e]||["","明天","后天"][r]||t.getDay()<=e&&r<7&&o[e]||""}(),T:function(){var t=a.bjNow(),r=t-a.bjDate.getTime();if(r<6e4)return"刚刚";if(r<36e5)return Math.floor(r/6e4)+"分钟前";if(r<864e5)return Math.floor(r/36e5)+"小时前";if(r<6048e5)return Math.floor(r/864e5)+"天前";var o=e.bjDate.getMonth()+1,n=e.bjDate.getDate(),s=(o<10?"0"+o:o)+"-"+(n<10?"0"+n:n);return e.bjDate.getFullYear()===t.getFullYear()?s:e.bjDate.getFullYear()+"-"+s}()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.bjDate.getFullYear()+"").substr(4-RegExp.$1.length)));for(var o in r)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?r[o]:("00"+r[o]).substr((""+r[o]).length)));return t},module.exports=Date2; 
 			}); 
		define("scripts/domainSet.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var gameCenterDomain="https://gamehub-movie.maoyan.com",inviteDomain="http://maoyanapi.vip.sankuai.com",onlineVideoDomain="https://api.maoyan.com/ordercenter",vodDomain="http://maoyanapi.vip.sankuai.com",miniGameDomain="https://m.maoyan.com",reserveDomain="http://maoyanapi.vip.sankuai.com",reserveEntriceDomain="https://api.maoyan.com/mmdb";exports.inviteDomain=inviteDomain,exports.onlineVideoDomain=onlineVideoDomain,exports.gameCenterDomain=gameCenterDomain,exports.vodDomain=vodDomain,exports.miniGameDomain=miniGameDomain,exports.reserveDomain=reserveDomain,exports.reserveEntriceDomain=reserveEntriceDomain; 
 			}); 
		define("scripts/draw-img.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),ShareImageBuilder=function(){function t(e,r){_classCallCheck(this,t),this.options=r,this.page=e,this.fileType=r.fileType,this.preview=r.preview,this.canvas=r.canvasId,this.ctx=wx.createCanvasContext(r.canvasId),this.formatImgsInfoArr=[],this.canDraw=!1,this.canvasHeight=1334,this.canvasWidth=750,this.extraData=!1,this.preDrawContentArr=[],this.renderElementLength=0,this.drawComplate=!1,this.observeFun=null,this.drawComplateCount=-1,this.localImageArr=[],this.setCanvasMeasure(this.canvasWidth,this.canvasHeight),this.initAllImageInfo()}return _createClass(t,[{key:"setCanvasMeasure",value:function(t,e){this.page.setData({canvasHeight:e,canvasWidth:t})}},{key:"setExtraData",value:function(t){var e=this,r=function(){if(Array.isArray(t))for(var r=0,n=t.length;r<n;r++)!function(r,n){e.renderElementLength+=1,"text"===t[r].drawType||"rect"===t[r].drawType?e.drawController(t[r]):"image"===t[r].drawType&&e.downloadPromise(t[r].url).then(function(n){t[r].path=n.tempFilePath,e.drawController(t[r])})}(r);else"object"===(void 0===t?"undefined":_typeof(t))?e.drawController(t):(e.extraData=!1,console.error("数据格式不正确！"))};this.drawComplate?r():this.observeFun=r}},{key:"getTextWidth",value:function(t){return this.ctx.measureText(t)}},{key:"initAllImageInfo",value:function(){var t=this,e=this.options.imgArr,r=void 0===e?[]:e;r=this.sort(r);for(var n=0,a=r.length;n<a;n++)!function(e,n){r[e].url.match(/(http:\/\/|https:\/\/)/)?t.formatImgsInfoArr.push(t.createImageDownloadPromise(r[e])):t.localImageArr.push(new Promise(function(n,a){t.setImageInfo(r[e]).then(function(t){n(t)}).catch(function(t){a(t)})}))}(n);this.formatImgsInfoArr=[].concat(_toConsumableArray(this.formatImgsInfoArr),_toConsumableArray(this.localImageArr)),this.getAllImgInfo()}},{key:"setImageInfo",value:function(t){return new Promise(function(e,r){wx.getImageInfo({src:t.url,success:function(r){e(_extends({},t,r,{path:t.url,height:t.height||r.height,width:t.width||r.width}))},fail:function(t){r(t)}})})}},{key:"createImageDownloadPromise",value:function(t){var e=this;return new Promise(function(r,n){e.downloadPromise(t.url).then(function(a){var i=_extends({},t,{url:a.tempFilePath});e.setImageInfo(i).then(function(t){r(t)}).catch(function(t){n(t)})})})}},{key:"getAllImgInfo",value:function(){var t=this;Promise.all(this.formatImgsInfoArr).then(function(e){t.canDraw=!0,t.formatImgsInfoArr=e,t.initCanvas()}).catch(function(t){console.warn("网络开小差了")})}},{key:"initCanvas",value:function(){var t=this,e=this.options.useBgImage,r=e?this.formatImgsInfoArr.pop():this.options,n=r.path,a=r.height,i=void 0===a?1334:a,o=r.width,s=void 0===o?750:o;this.canvasHeight=i,this.canvasWidth=s,this.page.setData({canvasHeight:i,canvasWidth:s},function(){e?t.drawImage(n,0,0,s,i):t.drawRect(0,0,s,i),t.drawMainContent()})}},{key:"drawMainContent",value:function(){var t=this,e=this.options,r=e.textArr,n=void 0===r?[]:r,a=e.rectArr,i=void 0===a?[]:a;this.preDrawContentArr=this.sort(this.formatImgsInfoArr.concat(n).concat(i),!0),this.renderElementLength=this.preDrawContentArr.length;for(var o=0,s=this.preDrawContentArr.length;o<s;o++)!function(e,r){if(t.preDrawContentArr[e].$D||(t.drawController(t.preDrawContentArr[e]),t.preDrawContentArr[e].$D=!0),e===r-1)var n=setInterval(function(){t.drawComplateCount===r&&(t.observeFun&&t.observeFun(),t.drawComplate=!0,clearInterval(n),n=null)},10)}(o,s)}},{key:"drawController",value:function(t){var e=t.drawType,r=t.url,n=t.path,a=t.x,i=t.y,o=t.width,s=t.height,h=t.text,l=t.color,c=t.avatar,u=t.radius,f=t.bgColor,d=t.tlr,v=void 0===d?0:d,m=t.trr,g=void 0===m?0:m,x=t.blr,p=void 0===x?0:x,w=t.brr,y=void 0===w?0:w;"image"===e&&r&&n&&(c?this.drawArcImage(n,a,i,u,l):this.drawImage(n,a,i,o,s)),"text"===e&&h&&l&&this.drawText(t),"rect"===e&&o&&s&&this.drawRect(a,i,o,s,l,f,u,v,g,p,y)}},{key:"generateImage",value:function(){var t=this;return new Promise(function(e,r){t.ctx.draw(!0,setTimeout(function(){wx.canvasToTempFilePath({canvasId:t.canvas,y:1,fileType:t.fileType||"png",success:function(r){t.preview&&wx.previewImage({urls:[r.tempFilePath]}),e(r.tempFilePath)},fail:function(t){r(t)}})},200))})}},{key:"draw",value:function(){var t=this;return new Promise(function(e,r){var n=setInterval(function(){t.drawComplateCount===t.renderElementLength&&(t.generateImage().then(function(t){e(t)}),clearInterval(n),n=null)},10);setTimeout(function(){r("timeout"),n&&console.warn("网络超时，请重试"),n&&clearInterval(n),n=null},t.options.timeout||5e3)})}},{key:"downloadPromise",value:function(t){return new Promise(function(e,r){wx.downloadFile({url:t.replace(/^(http:\/\/)/g,"https://"),success:function(t){e(t)},fail:function(t){r("downloadFailed")}})})}},{key:"drawImage",value:function(t){for(var e,r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];(e=this.ctx).drawImage.apply(e,[t].concat(n)),this.ctx.draw(!0),this.drawComplateCount+=1}},{key:"drawArcImage",value:function(t,e,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#000";this.ctx.save(),this.ctx.beginPath(),this.ctx.setLineWidth(2),this.ctx.arc(e,r,n,0,2*Math.PI),this.ctx.setStrokeStyle(a),this.ctx.stroke(),this.ctx.clip(),this.ctx.drawImage(t,e-n,r-n,2*n,2*n),this.ctx.draw(!0),this.ctx.restore(),this.drawComplateCount+=1}},{key:"drawRect",value:function(t,e,r,n){for(var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#fff",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fff",o=arguments.length,s=Array(o>6?o-6:0),h=6;h<o;h++)s[h-6]=arguments[h];var l=s[0],c=s[1],u=s[2],f=s[3],d=s[4];this.ctx.setFillStyle(i),this.ctx.beginPath(),this.ctx.moveTo(t+(l||c||0),e),l||u?this.ctx.lineTo(t+r-(l||u),e):this.ctx.lineTo(t+r,e),(l||u)&&this.ctx.arc(t+r-(l||u),e+(l||u),l||u,1.5*Math.PI,2*Math.PI,!1),l||d?this.ctx.lineTo(t+r,e+n-(l||d)):this.ctx.lineTo(t+r,e+n),(l||d)&&this.ctx.arc(t+r-(l||d),e+n-(l||d),l||d,0,.5*Math.PI,!1),l||f?this.ctx.lineTo(t+(l||f),e+n):this.ctx.lineTo(t,e+n),(l||f)&&this.ctx.arc(t+(l||f),e+n-(l||f),l||f,.5*Math.PI,Math.PI,!1),l||c?this.ctx.lineTo(t,e+(l||c)):this.ctx.lineTo(t,e),(l||c)&&this.ctx.arc(t+(l||c),e+(l||c),l||c,Math.PI,1.5*Math.PI,!1),this.ctx.fill(),this.ctx.setLineWidth(0),this.ctx.setStrokeStyle(a),this.ctx.stroke(),this.ctx.draw(!0),this.drawComplateCount+=1}},{key:"drawCircle",value:function(){}},{key:"drawText",value:function(t){var e=t.text,r=t.fontSize,n=void 0===r?20:r,a=t.x,i=void 0===a?0:a,o=t.y,s=void 0===o?0:o,h=t.color,l=void 0===h?"#000":h,c=t.textAlign,u=void 0===c?"center":c,f=t.padding,d=t.lineHeight,v=void 0===d?10:d;if(this.ctx.setTextAlign(u),this.ctx.setFontSize(n),this.ctx.setFillStyle(l),this.ctx.setTextBaseline("top"),/(.*\$\{(.*)\}\$)/.test(e)){for(var m=/(.*\$\{(.*)\}\$)/.exec(e)[2],g=" ",x=0;x<m;x++)g+=" ";e=e.replace(/\$\{(.*)\}\$/,g)}if(f)for(var p=this.canvasWidth,w=p-2*f,y=Math.floor(w/n),I=Math.ceil(e.length/y),C=0;C<I;C++)this.ctx.fillText(e.substring(C*y,(C+1)*y),f,C>0?s+C*(n+v):s);else this.ctx.fillText(e,i,s);this.ctx.draw(!0),this.drawComplateCount+=1}},{key:"sort",value:function(t,e){for(var r=void 0,n=1;n<t.length;n++)for(var a=n-1;a>=0;a--)e?Number(t[a+1].zIndex)<Number(t[a].zIndex)&&(r=t[a+1],t[a+1]=t[a],t[a]=r):Number(t[a+1].zIndex)>Number(t[a].zIndex)&&(r=t[a+1],t[a+1]=t[a],t[a]=r);return t}},{key:"gaussBlur",value:function(t,e){var r,n,a,i,o,s,h,l,c,u,f=t.data,d=t.width,v=t.height,m=[],g=0;for(s=1/(5*Math.sqrt(2*Math.PI)),o=-.02,h=0,r=-10;r<=10;r++,h++)i=s*Math.exp(o*r*r),m[h]=i,g+=i;for(h=0,u=m.length;h<u;h++)m[h]/=g;if(e)for(var x=0;x<e.length;x++){var p=e[x],w=function(t,e){return t>=0?t:e+t},y=p.x&&p.x.min?w(p.x.min,d):0,I=p.x&&p.x.max?w(p.x.max,d):d,C=p.y&&p.y.min?w(p.y.min,v):0,A=p.y&&p.y.max?w(p.y.max,v):v;for(n=C;n<A;n++)for(r=y;r<I;r++){for(a=i=o=s=0,g=0,l=-10;l<=10;l++)(c=r+l)>=0&&c<d&&(h=4*(n*d+c),a+=f[h]*m[l+10],i+=f[h+1]*m[l+10],o+=f[h+2]*m[l+10],g+=m[l+10]);h=4*(n*d+r),f[h]=a/g,f[h+1]=i/g,f[h+2]=o/g}for(r=y;r<I;r++)for(n=C;n<A;n++){for(a=i=o=s=0,g=0,l=-10;l<=10;l++)(c=n+l)>=0&&c<v&&(h=4*(c*d+r),a+=f[h]*m[l+10],i+=f[h+1]*m[l+10],o+=f[h+2]*m[l+10],g+=m[l+10]);h=4*(n*d+r),f[h]=a/g,f[h+1]=i/g,f[h+2]=o/g}}else{for(n=0;n<v;n++)for(r=0;r<d;r++){for(a=i=o=s=0,g=0,l=-10;l<=10;l++)(c=r+l)>=0&&c<d&&(h=4*(n*d+c),a+=f[h]*m[l+10],i+=f[h+1]*m[l+10],o+=f[h+2]*m[l+10],g+=m[l+10]);h=4*(n*d+r),f[h]=a/g,f[h+1]=i/g,f[h+2]=o/g}for(r=0;r<d;r++)for(n=0;n<v;n++){for(a=i=o=s=0,g=0,l=-10;l<=10;l++)(c=n+l)>=0&&c<v&&(h=4*(c*d+r),a+=f[h]*m[l+10],i+=f[h+1]*m[l+10],o+=f[h+2]*m[l+10],g+=m[l+10]);h=4*(n*d+r),f[h]=a/g,f[h+1]=i/g,f[h+2]=o/g}}return t}}]),t}();exports.default=ShareImageBuilder; 
 			}); 
		define("scripts/event.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";module.exports={on:function(t,e){var n=this._events[t]||[];return n.push(e),this._events[t]=n,this},off:function(t,e){if(!t&&!e)return this._events={},this;if(!e)return delete this._events[t],this;var n=this._events[t];return n&&(this._events[t]=n.filter(function(t){return t!==e})),this},emit:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];(this._events[t]||[]).forEach(function(t){t.apply(void 0,n)})},attach:function(t){for(var e=["_events","on","off","emit"],n=0;n<e.length;n++){var i=e[n];if(t[i])throw Error("event attach fail, attr '"+i+"' exist")}t._events={},t.on=this.on,t.off=this.off,t.emit=this.emit}}; 
 			}); 
		define("scripts/favourite.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function getAward(){return app.request().post("https://api.maoyan.com/sns/user/favorites.json").header({token:app.$user.token}).send({token:app.$user.token,channelId:app.channelId}).end().then(function(e){var t=e.body.data,r="";if(t&&t.result&&(r=t.result),"success"!==r)throw new Error("请求获取成长值失败")})}function queryAwardResult(){return app.request().get("https://api.maoyan.com/sns/growth/task.json").header({token:app.$user.token}).query({token:app.$user.token,channelId:app.channelId}).end().then(function(e){var t=e.body,r=t.success,n=t.data;if(!r)throw new Error("请求成长值结果失败");var a=n.taskList,s=!1;if(a.forEach(function(e){"添加小程序"===e.taskName&&1===e.done&&(s=!0)}),!s)throw new Error("没有获得成长值")})}var app=getApp();exports=module.exports={getAward:getAward,queryAwardResult:queryAwardResult}; 
 			}); 
		define("scripts/group-activity.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},_slicedToArray=function(){function t(t,e){var i=[],a=!0,n=!1,u=void 0;try{for(var r,o=t[Symbol.iterator]();!(a=(r=o.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){n=!0,u=t}finally{try{!a&&o.return&&o.return()}finally{if(n)throw u}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_countdown=require("./countdown"),_countdown2=_interopRequireDefault(_countdown),_utils=require("./utils"),_utils2=_interopRequireDefault(_utils),_groupActivity=require("../constant/group-activity"),_groupActivity2=_interopRequireDefault(_groupActivity),_cookie=require("./cookie"),_cookie2=_interopRequireDefault(_cookie),app=getApp(),domain=_groupActivity2.default.DOMAIN,u=function(t){return domain+t},gaHelper={rSuccess:function(t){return t&&t.body&&"successfully"===t.body.msg},fetchActivity:function(t){var e=this;return app.request().config("loading",!1).get(u("/activity/info")).header({TOKEN:app.$user?app.$user.token:"",uuid:app.$uuid}).query({activity_id:t}).end().then(function(t){return _cookie2.default.setParam(_groupActivity2.default.COOKIE.RISK,t.header["Set-Cookie"]),e.rSuccess(t)?t.body.data:{}}).catch(function(t){return null})},pay:function(t,e,i,a,n){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"0.01",r=t.notAutoCloseLoading||t.loading;r(!0),app.riskWrapper(function(t){var o=_slicedToArray(t,3),c=o[0],s=o[1],p=o[2];s.wechatFingerprint=p,s.uuid=app.$uuid;var d={dealList:[{dealId:e||100116061,quantity:1,promotionId:0}],payMoney:u||"0.01",openid:app.$user.openId,channelId:app.channelId,clientType:app.clientType,uuid:app.$uuid,payChannel:3,version_name:app.config.version,ci:app.$location.city?app.$location.city.id:void 0,wxAppId:app.appId,bizInfo:JSON.stringify(i),deviceInfoByQQ:s};app.$user.mobile&&(d.userPhone=app.$user.mobile),app.request().post("/hostproxy/trade/submitSellOrder.json").header("content-type","application/x-www-form-urlencoded").header("x-host","http://maoyanapi.vip.sankuai.com").header({token:app.$user.token,openId:app.$user.openId,CODE:c.code,uuid:app.$uuid,cookie:_cookie2.default.getParam(_groupActivity2.default.COOKIE.RISK)}).query({userid:app.$user.userId,client:"iphone"}).send(d).end().then(function(t){r(!1);var e={};t&&t.body&&t.body.success?(e=_extends({},JSON.parse(t.body.data.url),{success:function(e){console.log("success payment:",e),a&&a(t.body.data.disOrderId,e,JSON.parse(_utils2.default.safeGet(t,"body.data.bizData",{})))}}),wx.requestPayment(e)):n(t)}).catch(function(t){r(!1),console.log(t)})}).catch(function(t){r(!1),console.log(t)})},fetchActivityList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return app.request().get(u("/activity/list")).header({uuid:app.$uuid}).query({page:e,pagesize:i,city_id:app.$location.city?app.$location.city.id:void 0}).end().then(function(e){return t.rSuccess(e)?e.body.data:null}).catch(function(t){throw t})},fetchPrizeList:function(t){var e=this;return app.request().get(u("/activity/activityprizelist")).header({uuid:app.$uuid}).query({activity_id:t}).end().then(function(t){return e.rSuccess(t)?t.body.data:null}).catch(function(t){throw t})},checkDealStatus:function(t,e){return function t(i){app.request().get(u("/order/payResult")).header({uuid:app.$uuid,channelId:app.channelId}).query({order_id:i,channelId:app.channelId}).end().then(function(a){if(console.log(a.body),a&&a.body&&a.body.data&&5!=a.body.data.pay_status){if(e){var n=_utils2.default.safeGet(a,"body.data.pay_status",5);e(n,_groupActivity2.default.GA_PAY_RESULTS[n])}return!0}a&&a.body&&a.body.data&&5==a.body.data.pay_status&&setTimeout(t.bind(null,i),500)}).catch(function(t){return!1})}(t)},fetchBanner:function(){var t=this;return app.request().get(u("/advert/banner")).header({uuid:app.$uuid}).end().then(function(e){return t.rSuccess(e)?e.body.data:[]}).catch(function(t){throw t})},fetchBroadcast:function(){var t=this;return app.request().get(u("/activity/broadcast")).header({uuid:app.$uuid}).end().then(function(e){return t.rSuccess(e)?e.body.data:[]}).catch(function(t){throw t})},fetchMyCounter:function(){var t=this;return app.request().config("loading",!1).get(u("/group/counter")).header({TOKEN:app.$user?app.$user.token:"",uuid:app.$uuid}).end().then(function(e){return t.rSuccess(e)?e.body.data:[]}).catch(function(t){throw t})},fetchMyList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return app.request().get(u("/group/list")).header({TOKEN:app.$user?app.$user.token:"",uuid:app.$uuid}).query({page:e,status:i}).end().then(function(e){return t.rSuccess(e)?e.body.data:[]}).catch(function(t){throw t})},shapeActivity:function(t){switch(t.countDownTip="后开奖",t.status){case _groupActivity2.default.GA_STATUS.PRE:t.buyBtnClass="buy-pre",t.buyBtnText="即将开团",t.countDownTip="后开抢";break;case _groupActivity2.default.GA_STATUS.ON_GOING:t.buyBtnClass="",t.buyBtnText=t.price||"0.01元抢";break;case _groupActivity2.default.GA_STATUS.END:t.buyBtnClass="buy-end",t.buyBtnText="已抢光";break;case _groupActivity2.default.GA_STATUS.DEPRECATED:}if(t.status==_groupActivity2.default.GA_STATUS.PRE?t.countdownTime=1e3*t.start_time-(new Date).getTime():t.countdownTime=1e3*t.next_open_prize_time-(new Date).getTime(),t.user_num>_groupActivity2.default.GA_TIP_USER_NUM?t.descTip="HOT":t.first_prize_stock<=_groupActivity2.default.GA_TIP_PRIZE_STOCK&&0!=t.first_prize_stock?t.descTip="限量":(new Date).getTime()-Number(1e3*t.start_time)<_groupActivity2.default.GA_TIP_NEW_DATE&&(new Date).getTime()-Number(1e3*t.start_time)>0?t.descTip="NEW":(new Date).getTime()-1e3*t.start_time<0?t.descTip="预热":t.descTip="抢",t.user_num_tip=t.user_num,t.user_num>=_groupActivity2.default.GA_STD_USER_NUM){var e=function(t,e){return Math.floor(t/e)};t.user_num_tip=""+e(t.user_num,1e4),0!=Math.round(e(t.user_num%1e4,1e3))?t.user_num_tip=t.user_num_tip+"."+Math.round(e(t.user_num%1e4,1e3))+"万":t.user_num_tip=t.user_num_tip+"万"}return t.prize_price_tip=this.getPrice(t.prize_price),t},shapeActivityList:function(t){var e=this;return console.log(t),t.map(function(t){return e.shapeActivity(t)})},toast:function(t){t.hide?wx.hideToast():wx.showToast(_extends({mask:!0,duration:2e3,icon:"loading",title:"数据加载中..."},t))},getAwardText:function(t){var e=_utils2.default.safeGet(t,"code_status",1),i="立即使用";switch(e){case 2:break;case 1:t.itemBtnClass="grey",i="待发送";break;case 3:t.itemBtnClass="grey",i="已使用"}return i},GAPstatus:function(t,e,i,a){return a.itemTip="",2==t&&1==e?(a.itemTip="未成团",a.itemBtn="邀请好友",a.itemStauts="差"+(a.group_user_num-a.current_user_num)+"人成团"):2!=t||2!=e&&3!=e?4==t&&1==e&&1==i?(a.itemTip="待开奖",a.itemTipClass="yellow",a.itemStauts="共"+a.open_prize_num+"次开奖机会",a.itemBtnClass="hide"):4==t&&1==e&&2==i?(a.itemTip="已中奖",a.itemStauts="",3!=a.prize_type&&(a.itemBtn=this.getAwardText(a))):4==t&&1==e&&4==i?(a.itemTip="待开奖",a.itemTipClass="yellow",a.itemStauts="已开奖"+(a.open_prize_num-a.remain_prize_num)+"次，还可开奖"+a.remain_prize_num+"次",a.itemBtnClass="hide"):4!=t||2!=e&&3!=e||2!=i?4!=t||2!=e&&3!=e||3!=i?5==t&&1==e?(a.itemTip="拼团失败",a.itemTipClass="grey",a.itemStauts="拼团超时",a.itemBtn="再拼一次",a.itemBtnClass="again",a.countDownClass="hide"):5!=t||2!=e&&3!=e?(a.itemBtnClass="hide",a.countDownClass="hide"):(a.itemTip="拼团失败",a.itemTipClass="grey",a.itemStauts="活动结束",a.itemBtnClass="hide",a.countDownClass="hide"):(a.itemTip="未中奖",a.itemTipClass="grey",a.itemStauts="",a.itemBtn=this.getAwardText(a)):(a.itemTip="已中奖",a.itemStauts="",3!=a.prize_type&&(a.itemBtn=this.getAwardText(a))):(a.itemTip="未成团",a.itemStauts="拼团超时",a.itemBtnClass="hide",a.countDownClass="hide"),a},getPrice:function(t){var e="",i=Math.floor(t/100),a=t%100;if(i>=1e4){var n=function(t,e){return Math.floor(t/e)};return e=""+n(i,1e4),0==Math.round(n(i%1e4,1e3))?e+="万":e+="."+Math.round(n(i%1e4,1e3))+"万",e}return a?i+"."+a:""+i},_mockActivityList:function(){return[{name:"0元抽奖0元抽奖0元抽奖0元抽奖0元抽奖0元抽奖",activity_pic:"http://p1.meituan.net/movie/2d8ca537a7a4370007caf7fa0f43c76f470225.png@750w_1l",activity_id:123,user_num:434,status:0,open_prize_time:1e3},{name:"0元抽奖0元抽奖0元抽奖",activity_pic:"http://p1.meituan.net/movie/2d8ca537a7a4370007caf7fa0f43c76f470225.png@750w_1l",activity_id:123,user_num:434,status:1,open_prize_time:1e3},{name:"0元抽奖0元抽奖0元抽奖",activity_pic:"http://p1.meituan.net/movie/2d8ca537a7a4370007caf7fa0f43c76f470225.png@750w_1l",activity_id:123,user_num:434,status:2,open_prize_time:1e3},{name:"0元抽奖0元抽奖0元抽奖",activity_pic:"http://p1.meituan.net/movie/2d8ca537a7a4370007caf7fa0f43c76f470225.png@750w_1l",activity_id:123,user_num:434,status:3,open_prize_time:1e3}]},_mockActivity:function(){return{name:"0元抽奖0元抽奖0元抽奖0元抽奖0元抽奖0元抽奖",activity_pic:"http://p1.meituan.net/movie/2d8ca537a7a4370007caf7fa0f43c76f470225.png@750w_1l",activity_id:123,user_num:434,status:1,open_prize_time:1e3,pay_price:687,group_user_num:5,open_prize_type:GA_AWARD_TYPE.CAPTAIN,prize_user_count:99,prize_user_list:[{user_pic:"https://img.meituan.net/avatar/afe973abd636be0526ac6b7b7adc25b656340.jpg",username:"用户昵称用户昵称用户昵称用户昵1称"},{user_pic:"https://img.meituan.net/avatar/afe973abd636be0526ac6b7b7adc25b656340.jpg",username:"用户昵称2"},{user_pic:"https://img.meituan.net/avatar/afe973abd636be0526ac6b7b7adc25b656340.jpg",username:"用户昵称3"},{user_pic:"https://img.meituan.net/avatar/afe973abd636be0526ac6b7b7adc25b656340.jpg",username:"用户昵称4"}]}}};module.exports=gaHelper; 
 			}); 
		define("scripts/icons.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var levelNums={"lv1-whitefont":"http://p1.meituan.net/scarlett/49940f556179b747d184d6e988e13dc12333.png","lv1-blackfont":"http://p0.meituan.net/scarlett/444000652a68f9c285092f419c7f05a72219.png","lv2-whitefont":"http://p0.meituan.net/scarlett/f1d0702c381a4501ffe67fe2d2e8f78b2446.png","lv2-blackfont":"http://p0.meituan.net/scarlett/28501ebf10be10d7eeab41b62644a2962356.png","lv3-whitefont":"http://p0.meituan.net/scarlett/84e07aefcd32447b9156f1658569d59e2479.png","lv3-blackfont":"http://p0.meituan.net/scarlett/1fd0d7cfe751a01c45e27a155414241f2488.png","lv4-whitefont":"http://p1.meituan.net/scarlett/e81333d28d98d3da40a06f39ffcf62f12423.png","lv4-blackfont":"http://p0.meituan.net/scarlett/806b3e95cbde038f6acede9cf2351d532322.png","lv5-whitefont":"http://p1.meituan.net/scarlett/8cb2d79363e4abffff17d8a3660155532378.png","lv5-blackfont":"http://p0.meituan.net/scarlett/e09e4215f3c870fe50b59f0f8a4e24ec2418.png","lv6-whitefont":"http://p0.meituan.net/scarlett/a0b6949cf3bb9ba709d19807f1eaa9622280.png","lv6-blackfont":"http://p1.meituan.net/scarlett/a85532131e87dfbd376ab5c9d971596f2327.png"},levelDialogIcons={lv1:"http://p1.meituan.net/scarlett/05984fd77ef789dba948258a731d081520534.png",lv2:"http://p0.meituan.net/scarlett/694442e8495749d63d537adb34c6f43119301.png",lv3:"http://p1.meituan.net/scarlett/8b8e4f806fe0082bbaaa341aa94b523620512.png",lv4:"http://p1.meituan.net/scarlett/d9f10eb0acc31cd9d7e6841594132eca20712.png",lv5:"http://p0.meituan.net/scarlett/8884ac7dc87adc2f4b56e5d2be14205d12508.png",lv6:"http://p1.meituan.net/scarlett/849350c5b396172f50a425f9bb56d24b18881.png"},levelBgs={lv0:"http://p0.meituan.net/scarlett/023dd0ecd6855a85e3d5ee5fb3cbfdb453662.png",lv1:"http://p0.meituan.net/scarlett/99556b9aaa0fba42885c1822d848c5b850062.png",lv2:"http://p0.meituan.net/scarlett/e5b3a0131c02577cda94289d45a8950862224.png",lv3:"http://p0.meituan.net/scarlett/57ea68aa72ae86d3f10a552c58f4d3cf83363.png",lv4:"http://p1.meituan.net/scarlett/b19958778bc06b8fda37e4912e1a9ccc66141.png",lv5:"http://p0.meituan.net/scarlett/6d304acf558b316e57a6e5d0fd305d2a41264.png",lv6:"http://p0.meituan.net/scarlett/56da97a4eb9f1945edb819468bea5650105785.png"},tasks={t1:"http://p1.meituan.net/scarlett/1e72d0717a6d5f87b1d7ac45e47ffa315161.png",t2:"http://p1.meituan.net/scarlett/f99da61c06a1d718c10562f9d34c64cf2457.png",t3:"http://p0.meituan.net/scarlett/775ced6993156800c141bdfeee4d46e34214.png",t4:"http://p0.meituan.net/scarlett/072291360d54dd2358f753086325aead3803.png",t5:"http://p1.meituan.net/scarlett/6c0a6de8d0c3b0bf7addda860e4ff3b03904.png",t6:"http://p0.meituan.net/scarlett/b920423c2cc46b88ced8738f37e5747f3472.png",t7:"http://p1.meituan.net/scarlett/5dcf1b9abcac57e8a2c1151751903bbb3702.png",t8:"http://p0.meituan.net/scarlett/a8f484825fd07f8883f6f963f3ab03c23796.png",t9:"http://p0.meituan.net/scarlett/fbe2c7348f555f448a233f8478ed64123450.png"};module.exports={levelNums:levelNums,levelDialogIcons:levelDialogIcons,levelBgs:levelBgs,tasks:tasks}; 
 			}); 
		define("scripts/in-view.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var app=getApp(),isInView=function(e,t){var i=wx.createSelectorQuery();i.select(e).boundingClientRect(),i.exec(function(e){var i=e[0],n=i.top,o=i.left,c=i.height,p=i.width,r=app.system(),s=n>=0-c&&o>=0-p&&n<=r.windowHeight&&o<=r.windowWidth;t&&t(s)})};module.exports=isInView; 
 			}); 
		define("scripts/inherits.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";module.exports=function(t,o,r){function n(){}var c=void 0;return o=o||{},r=r||{},c=o.hasOwnProperty("constructor")&&"function"==typeof o.constructor?o.constructor:function(){for(var o=arguments.length,r=Array(o),n=0;n<o;n++)r[n]=arguments[n];t.apply.apply(t,[this].concat(r))},Object.assign(c,t,r),n.prototype=t.prototype,c.prototype=new n,Object.assign(c.prototype,o),c.prototype.constructor=c,c}; 
 			}); 
		define("scripts/location.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function toPromise(t){var e=this;return new Promise(function(i,n){t.call(e,function(t,e){if(t)return n(t);i(e)})})}function wxToPromise(t){var e=this;return new Promise(function(i,n){t.call(e,{success:function(t){i(t)},fail:function(t){n(t)},complete:function(t){"getLocation:cancel"===t.errMsg&&n(Error(t.errMsg))}})})}var historyCityListKey="historyCityList",hotCityList=["上海","北京","广州","深圳","武汉","天津","西安","南京","杭州","成都","重庆"],locationUtil={getLocation:function(t){var e=getApp();return new Date-(this.lastLocationTime||0)<5e3?this.locationPromise:e.$location.latitude&&!t?Promise.resolve(e.$location):e.page().locationDisabled?Promise.reject(Error("locate forbidden")):(this.lastLocationTime=+new Date,this.locationPromise=wxToPromise(wx.getLocation,{type:"gcj02"}).then(function(t){return e.$location.latitude=t.latitude,e.$location.longitude=t.longitude,e.$location.speed=t.speed,e.$location.accuracy=t.accuracy,e.$location}).catch(function(t){throw delete e.$location.latitude,delete e.$location.longitude,delete e.$location.speed,delete e.$location.accuracy,delete e.$location.locationCity,console.log("location e",t),"getLocation:fail auth deny"===t.errMsg&&e.set("location-auth-deny",1,43200),t}),this.locationPromise)},getCitys:function(){var t=getApp();return t.request().get("/hostproxy/dianying/cities.json").header({"x-host":"http://maoyanapi.vip.sankuai.com"}).end().then(function(e){var i=e.body.cts;if(i.length<500)throw new Error("cities length less than 500");t.$debug||(i=i.filter(function(t){return 8e3!==t.id})),t.$debug&&!i.filter(function(t){return 8e3===t.id}).length&&i.push({id:8e3,nm:"冥王星",py:"mingwangxin"});for(var n={},o={},r={},a=65;a<=90;a++)r[String.fromCharCode(a)]=[];for(var c=0,s=i.length;c<s;c++){var l=i[c];n[l.nm]=l,o[l.id]=l,r[l.py[0].toUpperCase()].push(l)}return Object.keys(r).forEach(function(t){r[t].length||delete r[t]}),{nameMap:n,idMap:o,letterMap:r}})},getCitysFromCache:function(){var t=void 0;return function(){var e=getApp();if(t)return t;var i=e.get("citys");return i&&Object.keys(i.nameMap).length>500?Promise.resolve(i):t=this.getCitys().then(function(i){return t=null,e.set("citys",i,{expires:600}),i}).catch(function(e){throw t=null,e})}}(),getHotCitys:function(){return this.getCitysFromCache().then(function(t){var e=t.nameMap;return hotCityList.map(function(t){return e[t]})})},addCitys:function(t){var e=getApp();if(t.id){t.id=Number(t.id);var i=e.get(historyCityListKey)||[];return i=i.filter(function(e){return e.id!==t.id}),i.unshift(t),i=i.slice(0,2),e.set(historyCityListKey,i),i}}};module.exports=locationUtil; 
 			}); 
		define("scripts/login.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function handleSilentLoginError(e){var n=e.code,r=e.mobile,t=e.requestCode,o=e.userId,i=getApp(),s=i.page();switch(i.$user={userId:o},o&&i.store.set("temp_userId",o),n+""){case"10011008":wx.navigateTo({url:"/pages/risk/verify?mode=mobile&mobile="+r});break;case"10011006":wx.navigateTo({url:"/pages/risk/verify?mode=mobile"});break;case"10011005":wx.navigateTo({url:"/pages/risk/verify?mode=slider&requestCode="+t});break;case"10010201":wx.navigateTo({url:"/pages/risk/verify?mode=image"});break;case"10010133":break;default:delete i.silentLogin.requestLocked,s.route.indexOf("pages/risk/verify")>=0&&i.goto(-1)}}var _slicedToArray=function(){function e(e,n){var r=[],t=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(t=(s=a.next()).done)&&(r.push(s.value),!n||r.length!==n);t=!0);}catch(e){o=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw i}}return r}return function(n,r){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return e(n,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},store=require("./store"),apiConfig=require("./api-config"),icons=require("./icons"),MD5=require("./md5"),api=apiConfig.getApiUrl(),isOpenIdPending=!1,openIdPendingList=[],loginAppName={wxapp:"movie",wallet:"maoyan"},loginScript={wxUserInfo:function(e,n){var r=this,t=getApp();return t.$wxUserInfo=n,n.code=e,n.appName=loginAppName[t.appName]||"movie",t.getFingerprint().then(function(e){return t.request().post("/api/account/v1/weChatAuthLogin").header("content-type","application/x-www-form-urlencoded").proxyhost("usercenter").send({code:n.code,appName:n.appName,rawData:n.rawData,signature:n.signature,encryptedData:n.encryptedData,iv:n.iv,wechatFingerprint:e,uuid:t.$uuid,risk_platform:13,risk_partner:138,ci:t.getPropSafely("$location.city.id",t,0),channelId:t.channelId}).end().catch(function(e){throw delete r._wechatPromise,~e.message.indexOf("未绑定")&&(e.message=""),e})})},fetchWechatLoginInfo:function(){var e=this,n=getApp();if(this._wechatPromise)return this._wechatPromise;var r=this;return this._wechatPromise=n.wx2promiseify(wx.login).then(function(e){return e.code}).then(function(e){return n.wx2promiseify(wx.getUserInfo).then(r.wxUserInfo.bind(n,e))}).catch(function(n){throw delete e._wechatPromise,n}),this._wechatPromise},addPrivilege:function(){var e=getApp();e.request().post("/sns/user/online").host("api").header({token:e.$user.token}).send({channelId:e.channelId}).end().catch()},getUserExp:function(e){var n=getApp(),r=function(e){return e.userLevel>0&&(e.levelpathBlack=icons.levelNums["lv"+e.userLevel+"-blackfont"],e.levelpathWhite=icons.levelNums["lv"+e.userLevel+"-whitefont"]),e.bgpath=icons.levelBgs["lv"+e.userLevel],e};if(!e)return n.request().get(api+"/sns/user/member/v2/exp.json").header({token:n.$user.token}).end().then(function(e){return r(e.body.data)});n.request().get(api+"/sns/user/member/v2/exp.json").header({token:n.$user.token}).end().then(function(n){var t=r(n.body.data);e&&e(t)})},getMaoyanMobileByToken:function(e){return getApp().request().get("/user/mobile").header({token:e}).end().then(function(e){return e.body})},wxUser:function(){function e(e,r){return n.$wxUser=_extends({},e,{openId:r}),n.$wxUser}var n=getApp();return n.$wxUser?Promise.resolve(n.$wxUser):n.$user.token&&n.$user.wxUserInfo?Promise.resolve(e(n.$user.wxUserInfo.userInfo,n.$user.openId)):(n.$wxUser=n.get("wxUser"),n.$wxUser?Promise.resolve(n.$wxUser):this.fetchWechatLoginInfo().then(function(){var r=e(n.$wxUserInfo.userInfo,n.$openId);return n.set("wxUser",r,{expires:86400}),r}))},openId:function(){var e=getApp();if(e.$openId)return Promise.resolve(e.$openId);if(isOpenIdPending){return new Promise(function(e){openIdPendingList.push(function(n){e(n)})})}return isOpenIdPending=!0,e.wx2promiseify(wx.login).then(function(e){return e.code}).then(function(n){return e.request().get("/openid").query({code:n,appid:e.appId}).end().then(function(n){for(e.$user.openId=e.$openId=n.body.openid,store.update("user",e.$user),isOpenIdPending=!1;openIdPendingList.length>0;)openIdPendingList.shift()(e.$openId);return e.$openId}).catch(function(e){throw e})}).catch(function(e){throw e})},isPermissionDeny:function(e){return e&&e.errMsg&&(e.errMsg.match(/getUserInfo[:|\s]fail[:|\s]auth (deny|cancel)/)||e.errMsg.match(/getUserInfo[:|\s]fail[\s]scope[\s]unauthorized/))},reGetPermission:function(){return new Promise(function(e,n){if(wx.openSetting)wx.showModal({title:"授权提示",content:"要先允许使用 [用户信息] 才可以登录哦",showCancel:!0,confirmText:"去设置",success:function(r){if(r.confirm)wx.openSetting({success:function(r){if(r.authSetting["scope.userInfo"])e();else{var t=new Error("授权失败");t.type="FAIL",n(t)}}});else{var t=new Error("未授权");t.type="DENY",n(t)}}});else{wx.showModal({title:"授权提示",content:"要先微信授权才可以登录哦，请10分钟后再试",showCancel:!1,confirmText:"我知道了"});var r=new Error("未授权");r.type="DENY",n(r)}})},silentLogin:function(e){function n(){var e=t.page();e.silentLoginFail&&e.silentLoginFail.call(e)}function r(r){var o=_slicedToArray(r,3),i=o[0],s=(o[1],o[2]),a=_extends({loginChannel:70001,clientType:"wechatsmallprogram",riskPlatform:13,version:t.version,fingerprint:s,ci:t.getPropSafely("$location.city.id",t,0),uuid:t.$uuid,longitude:t.$location.longitude,latitude:t.$location.latitude,code:i.code,timeStamp:Date.now()},e);if(t.$openId){a.openId=t.$openId,a.openIdSign=MD5(""+a.timeStamp+i.code+t.$openId+"X8YSRYRVckgNK1vfKFIs")}return t.request().post("/api/account/v1/wx/smallProgram/silentLogin").proxyhost("usercenter").send(a).end().then(function(e){wx.hideLoading();var r=e.body,o=r.success,i=r.data;if(o){var s=i.nickName,a=i.avatarUrl,u=i.gender,c=i.appUserId;return c&&(i.openId=t.$openId=c),i.wxUserInfo={userInfo:{nickName:s,avatarUrl:a,gender:u},appName:loginAppName[t.appName]||"movie"},t.emit("silentLoginSuccessfully"),delete t.silentLogin.requestLocked,i}n()}).catch(function(e){wx.hideLoading(),n();var r=t.page();return e.errRes&&e.errRes.code?10011003==e.errRes.code?(r.loginRefresh&&!r.noLoginModal&&r.setData({needLogin:!0}),e):wx.showModal({content:e.errRes.message,showCancel:!1,success:function(){handleSilentLoginError(e.errRes)}}):(delete t.silentLogin.requestLocked,r.handleError(e))})}var t=getApp();return t.silentLogin.requestLocked?Promise.resolve():(t.silentLogin.requestLocked=!0,wx.showLoading({title:"登录中",mask:!0}),t.riskWrapper(r))}};module.exports=loginScript; 
 			}); 
		define("scripts/md5.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};!function(n){function t(n,t){var r=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(r>>16)<<16|65535&r}function r(n,t){return n<<t|n>>>32-t}function o(n,o,e,u,f,c){return t(r(t(t(o,n),t(u,c)),f),e)}function e(n,t,r,e,u,f,c){return o(t&r|~t&e,n,t,u,f,c)}function u(n,t,r,e,u,f,c){return o(t&e|r&~e,n,t,u,f,c)}function f(n,t,r,e,u,f,c){return o(t^r^e,n,t,u,f,c)}function c(n,t,r,e,u,f,c){return o(r^(t|~e),n,t,u,f,c)}function i(n,r){n[r>>5]|=128<<r%32,n[14+(r+64>>>9<<4)]=r;var o,i,d,l,a,y=1732584193,h=-271733879,m=-1732584194,p=271733878;for(o=0;o<n.length;o+=16)i=y,d=h,l=m,a=p,y=e(y,h,m,p,n[o],7,-680876936),p=e(p,y,h,m,n[o+1],12,-389564586),m=e(m,p,y,h,n[o+2],17,606105819),h=e(h,m,p,y,n[o+3],22,-1044525330),y=e(y,h,m,p,n[o+4],7,-176418897),p=e(p,y,h,m,n[o+5],12,1200080426),m=e(m,p,y,h,n[o+6],17,-1473231341),h=e(h,m,p,y,n[o+7],22,-45705983),y=e(y,h,m,p,n[o+8],7,1770035416),p=e(p,y,h,m,n[o+9],12,-1958414417),m=e(m,p,y,h,n[o+10],17,-42063),h=e(h,m,p,y,n[o+11],22,-1990404162),y=e(y,h,m,p,n[o+12],7,1804603682),p=e(p,y,h,m,n[o+13],12,-40341101),m=e(m,p,y,h,n[o+14],17,-1502002290),h=e(h,m,p,y,n[o+15],22,1236535329),y=u(y,h,m,p,n[o+1],5,-165796510),p=u(p,y,h,m,n[o+6],9,-1069501632),m=u(m,p,y,h,n[o+11],14,643717713),h=u(h,m,p,y,n[o],20,-373897302),y=u(y,h,m,p,n[o+5],5,-701558691),p=u(p,y,h,m,n[o+10],9,38016083),m=u(m,p,y,h,n[o+15],14,-660478335),h=u(h,m,p,y,n[o+4],20,-405537848),y=u(y,h,m,p,n[o+9],5,568446438),p=u(p,y,h,m,n[o+14],9,-1019803690),m=u(m,p,y,h,n[o+3],14,-187363961),h=u(h,m,p,y,n[o+8],20,1163531501),y=u(y,h,m,p,n[o+13],5,-1444681467),p=u(p,y,h,m,n[o+2],9,-51403784),m=u(m,p,y,h,n[o+7],14,1735328473),h=u(h,m,p,y,n[o+12],20,-1926607734),y=f(y,h,m,p,n[o+5],4,-378558),p=f(p,y,h,m,n[o+8],11,-2022574463),m=f(m,p,y,h,n[o+11],16,1839030562),h=f(h,m,p,y,n[o+14],23,-35309556),y=f(y,h,m,p,n[o+1],4,-1530992060),p=f(p,y,h,m,n[o+4],11,1272893353),m=f(m,p,y,h,n[o+7],16,-155497632),h=f(h,m,p,y,n[o+10],23,-1094730640),y=f(y,h,m,p,n[o+13],4,681279174),p=f(p,y,h,m,n[o],11,-358537222),m=f(m,p,y,h,n[o+3],16,-722521979),h=f(h,m,p,y,n[o+6],23,76029189),y=f(y,h,m,p,n[o+9],4,-640364487),p=f(p,y,h,m,n[o+12],11,-421815835),m=f(m,p,y,h,n[o+15],16,530742520),h=f(h,m,p,y,n[o+2],23,-995338651),y=c(y,h,m,p,n[o],6,-198630844),p=c(p,y,h,m,n[o+7],10,1126891415),m=c(m,p,y,h,n[o+14],15,-1416354905),h=c(h,m,p,y,n[o+5],21,-57434055),y=c(y,h,m,p,n[o+12],6,1700485571),p=c(p,y,h,m,n[o+3],10,-1894986606),m=c(m,p,y,h,n[o+10],15,-1051523),h=c(h,m,p,y,n[o+1],21,-2054922799),y=c(y,h,m,p,n[o+8],6,1873313359),p=c(p,y,h,m,n[o+15],10,-30611744),m=c(m,p,y,h,n[o+6],15,-1560198380),h=c(h,m,p,y,n[o+13],21,1309151649),y=c(y,h,m,p,n[o+4],6,-145523070),p=c(p,y,h,m,n[o+11],10,-1120210379),m=c(m,p,y,h,n[o+2],15,718787259),h=c(h,m,p,y,n[o+9],21,-343485551),y=t(y,i),h=t(h,d),m=t(m,l),p=t(p,a);return[y,h,m,p]}function d(n){var t,r="",o=32*n.length;for(t=0;t<o;t+=8)r+=String.fromCharCode(n[t>>5]>>>t%32&255);return r}function l(n){var t,r=[];for(r[(n.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var o=8*n.length;for(t=0;t<o;t+=8)r[t>>5]|=(255&n.charCodeAt(t/8))<<t%32;return r}function a(n){return d(i(l(n),8*n.length))}function y(n,t){var r,o,e=l(n),u=[],f=[];for(u[15]=f[15]=void 0,e.length>16&&(e=i(e,8*n.length)),r=0;r<16;r+=1)u[r]=909522486^e[r],f[r]=1549556828^e[r];return o=i(u.concat(l(t)),512+8*t.length),d(i(f.concat(o),640))}function h(n){var t,r,o="0123456789abcdef",e="";for(r=0;r<n.length;r+=1)t=n.charCodeAt(r),e+=o.charAt(t>>>4&15)+o.charAt(15&t);return e}function m(n){return unescape(encodeURIComponent(n))}function p(n){return a(m(n))}function g(n){return h(p(n))}function v(n,t){return y(m(n),m(t))}function b(n,t){return h(v(n,t))}function s(n,t,r){return t?r?v(t,n):b(t,n):r?p(n):g(n)}"function"==typeof define&&define.amd?define(function(){return s}):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=s:n.md5=s}(void 0); 
 			}); 
		define("scripts/mini-game-data.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var shareText=["小可爱，我可以撩你一下吗！","答对了，就让你嘿嘿嘿！","请接受组织对你的考验！","**向你发起了灵魂的叩问！","见证咱俩感情的时刻到了！","坑已挖好，欢迎来跳！","老司机坐等你来答!"],doomData=["这里好空旷啊~~","前方高能，请注意！","红萝卜蹲红萝卜蹲完紫萝卜蹲","金坷垃的好处都有啥，谁说对了就给他","你走吧，我妈妈不让我跟你玩","当然是选择原谅他了","大吉大利，晚上吃鸡","你可能交了一堆假朋友","问题答的好，下班比你早"],headImg=["https://p1.meituan.net/scarlett/5cc9a8c9f4e4d1b10474b7eb652b33f79745.jpg","https://p1.meituan.net/scarlett/cd9a740ee1bb080367552ee6b8c84a9e42261.jpg","https://p1.meituan.net/scarlett/36a99533eb34da3e1f00b63afaaaa70b68521.jpg","https://p1.meituan.net/scarlett/d15f53384cf41d210bdd24b3e4dfc177201517.jpg","https://p1.meituan.net/scarlett/3299cb192c227b48bb6508f96845521f158935.jpg","https://p1.meituan.net/scarlett/b63adc07d74a2cf959428fd562b74b8822679.jpg","https://p1.meituan.net/scarlett/6f5020eef9447ba886256de522a21f25166326.jpg","https://p0.meituan.net/scarlett/60925caef5439846d06e2900c63250bd46332.jpg","https://p1.meituan.net/scarlett/01f56391ebe34ff2248df55f4de6b5d761978.jpg","https://p1.meituan.net/scarlett/454f94f71ad6fe8a9d90ec6f5bba284746549.jpg","https://p0.meituan.net/scarlett/af1086c9b959cf59a39ef6b316e0713f169999.jpg","https://p0.meituan.net/scarlett/04f12a2f4104a1eda1f632c59efaa5f040025.jpg","https://p0.meituan.net/scarlett/0250f3e4f72260884d1d65b6ead3106951925.jpg","https://p1.meituan.net/scarlett/cdfba58069817ffb10803d1d3b4e625430454.jpg"],shipImages=["https://p1.meituan.net/scarlett/c3a2acd3f181a575e7232fc13c4aea95243603.png","https://p0.meituan.net/scarlett/f54d83eaeaccc0e30cf74552bc3e8b4b228210.png","https://p1.meituan.net/scarlett/bc1e16ce5186fe9c815f547d86a8add6230837.png","https://p1.meituan.net/scarlett/73c8d23ecda0abc31fb15ab17b32caa1233470.png","https://p0.meituan.net/scarlett/a70c5e72d7055bbb920c973a888d7791236290.png","https://p1.meituan.net/scarlett/5823399e9d608e1abe597c0fe37b653d235046.png","https://p0.meituan.net/scarlett/50e29ff9bbad293330e2213f6381d20e232751.png","https://p0.meituan.net/scarlett/1ed36a008f36d7f60590b82d09b6591a222217.png","https://p0.meituan.net/scarlett/18c6e1a960d61bb50d044fa75644966a246983.png","https://p1.meituan.net/scarlett/c3f8daca6e2fae8fada784d4f504b8a1228327.png","https://p1.meituan.net/scarlett/002bbbc0bc733d6b3c38db5187aeec7c232437.png"],shareCard=["https://p0.meituan.net/scarlett/d550b8de30dea8a58bef6c753169313f66117.jpg","https://p0.meituan.net/scarlett/d550b8de30dea8a58bef6c753169313f66117.jpg","https://p0.meituan.net/scarlett/ccfb859eb0e8ff7b2eada150982d17f767264.jpg","https://p0.meituan.net/scarlett/94499d33a2f849ebfc287006c9be27a267571.jpg","https://p1.meituan.net/scarlett/1a39bfe95f5a33c879c1f13d309eb52853833.jpg"];exports.shareText=shareText,exports.doomData=doomData,exports.headImg=headImg,exports.shipImages=shipImages,exports.shareCard=shareCard; 
 			}); 
		define("scripts/modal.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var overlay={base:"transition: opacity .2s ease-out; position: fixed; z-index: 100; left: 0; top: 0; background: rgba(33, 33, 33, 0.7);",init:"opacity: 0;",show:"opacity: 1; bottom: 0; right: 0;",hide:"opacity: 0; bottom: 0; right: 0;"};module.exports=function(t,a){var o={current:[],page:"position: absolute; height: 100%;",overlay:[overlay.base,overlay.init].join("")},i=function(t,a){var o=this.data.modal;a.base="transition: transform .2s ease-out; position: fixed; z-index: 200; left: 0; right: 0; overflow: hidden; background: #fff;",a.height=a.height||"80%",a.init="bottom: 0; transform: translate(0, 100%); height: 0;",a.show="bottom: 0; transform: translate(0, 0); height: "+a.height+";",a.hide="bottom: 0; transform: translate(0, 100%); height: "+a.height+";",o[t]=[a.base,a.init].join(""),this.setData({modal:o})},e=function(t,a){var o=this.data.modal;o.current.push(t),o["overlay-"+t]=o.overlay=[overlay.base,overlay.show].join(""),o["isShow-"+t]=!0,o[t]=[a.base,a.show].join(""),a.noBottom&&(o["overlay-"+t]=o["overlay-"+t].replace("bottom: 0;","")),this.setData({modal:o})},r=function(t,a){var o=this.data.modal;if(o.current&&o.current.length){o["overlay-"+t]=o.overlay=[overlay.base,overlay.hide].join(""),o[t]=[a.base,a.hide].join(""),o["isShow-"+t]=!1,this.setData({modal:o});var i=this;!function(){setTimeout(function(){var o=i.data.modal;o.current=o.current.filter(function(a){return a!==t}),o["overlay-"+t]=o.overlay=[overlay.base,overlay.init].join(""),o[t]=[a.base,a.init].join(""),i.setData({modal:o})},200)}()}},n=function(t,a){~this.data.modal.current.indexOf(t)?r.apply(this,arguments):e.apply(this,arguments)};t.onTapModalOverlay=function(){var a=this.data.modal,o=a.current.slice(-1)[0];o&&t[o].hide()};for(var s in a)a.hasOwnProperty(s)&&(t[s]={show:e.bind(t,s,a[s]),hide:r.bind(t,s,a[s]),toggle:n.bind(t,s,a[s])},i.call({data:{modal:o},setData:function(){}},s,a[s]));t.setData({modal:o})}; 
 			}); 
		define("scripts/movie.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function format(e){return e.stars=app.star(e.sc/2),e.img=app.img(e.img,128,180),e.buy=~[3,4].indexOf(e.showst),e.score=parseFloat(e.sc).toFixed(1),e.proScoreText=parseFloat(e.proScore).toFixed(1),e.version=version(e.ver),e.photos&&(e.photos=e.photos.map(function(e){return app.img(e,220,190)})),e}function version(e){var t=["3D","IMAX 2D","IMAX 3D"];return(e||"").split("/").filter(function(e){return!!~t.indexOf(e)}).sort(function(e,n){return t.indexOf(n)-t.indexOf(e)}).map(function(e){return e.replace(/IMAX (\d)D/,function(e,t){return t+"D IMAX"}).replace(/(\d)D/,function(e,t){return"v"+t+"d"}).toLowerCase()})[0]||""}function hotV3(e){return app.request().get(api+"/mmdb/movie/v3/list/hot.json").query({channelId:app.channelId,ci:e}).header({token:(app.$user||{}).token}).end().then(function(e){var t=e.body.data;return t.hot=t.hot.map(format),t})}function hotV4(e){return app.request().get("https://api.maoyan.com/mmdb/movie/v4/list/hot.json").query({channelId:app.channelId,ci:e}).header({token:(app.$user||{}).token}).end().then(function(e){var t=e.body.data;return t.hot=t.hot.map(format),t})}function moreHotList(e,t){return app.request().get(api+"/mmdb/movie/list/info.json").query({channelId:app.channelId,movieIds:e,ci:t}).header({token:(app.$user||{}).token}).end().then(function(e){var t=e.body.data;return t.movies=t.movies.map(format),t})}function movie(e){return app.request().get("/hostproxy/mmdb/movie/v5/"+e+".json").header({token:app.$user.token,"x-host":"http://maoyanapi.vip.sankuai.com",channelId:app.channelId}).query({ci:app.$location.city?app.$location.city.id:1,channelId:app.channelId}).end().then(function(e){return e.body.data.movie}).then(format)}function celebrity(e){return app.request().get(api+"/mmdb/v7/movie/"+e+"/celebrities.json").end().then(function(e){return e.body.data})}function egg(e){return app.request().get(api+"/mmdb/movie/egg/"+e+".json").end().then(function(e){return e.body.data.endEgg})}function tips(e){return app.request().get(api+"/mmdb/movie/tips/"+e+"/list.json").query({channelId:app.channelId}).end().then(function(e){return e.body.data.tips})}function search(e,t){return t=t||0,app.request().get(api+"/mmdb/search/movie/keyword/list.json").query({keyword:e,offset:t}).end().then(function(e){return e.body.list}).then(function(e){return e.map(function(e){return format(e)})})}function comment(e,t,n){return app.request().post(api+"/mmdb/comments/movie/"+e+".json").query({clientType:"wechat_small_program",channelId:app.channelId}).send({nick:app.$user.nickName,userId:app.$user.userId,token:app.$user.token,uuid:app.$uuid,ci:_utils2.default.getCityAlter().id,score:t,content:n}).end().then(function(e){return e.body.data})}function commentv2(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return app.request().get(api+"/mmdb/comments/movie/v2/"+e+".json").query({limit:n,offset:t,tag:o,uuid:app.$uuid,token:app.$user.token,userid:app.$user.userId,ci:app.$location.city?app.$location.city.id:void 0,clientType:"wechat_small_program",channelId:app.channelId}).end().then(function(e){return e.body})}function commentv2_layered(e){return app.request().get(api+"/review/v2/comments.json").query(_extends({},e)).header({token:app.$user.token||"",uuid:app.$uuid||""}).end().then(function(e){return e.body})}function movieComment(e){return app.request().get(api+"/mmdb/comment/movie/"+e+".json").query({uuid:app.$uuid,token:app.$user.token,userId:app.$user.userId,ci:app.$location.city?app.$location.city.id:void 0,clientType:"wechat_small_program",channelId:app.channelId}).end().then(function(e){return e.body})}function userMarkedCnt(e,t){return app.request().get(api+"/review/"+(t?"":"v1/")+"user/"+(t?t+"/":"")+"marked/movie/count.json").query({uuid:app.$uuid,token:app.$user.token,userId:app.$user.userId,ci:app.$location.city?app.$location.city.id:void 0,clientType:"wechat_small_program",channelId:app.channelId}).end().then(function(e){return e.body})}function delComment(e){return app.request().delete(api+"/mmdb/comment/"+e+".json").query({token:app.$user.token,userId:app.$user.userId,clientType:"wechat_small_program",channelId:app.channelId}).end().then(function(e){return e.body.data})}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};exports.format=format,exports.version=version,exports.hotV3=hotV3,exports.hotV4=hotV4,exports.moreHotList=moreHotList,exports.movie=movie,exports.celebrity=celebrity,exports.egg=egg,exports.tips=tips,exports.search=search,exports.comment=comment,exports.commentv2=commentv2,exports.commentv2_layered=commentv2_layered,exports.movieComment=movieComment,exports.userMarkedCnt=userMarkedCnt,exports.delComment=delComment;var _utils=require("./utils"),_utils2=_interopRequireDefault(_utils),apiConfig=require("./api-config"),api=apiConfig.getApiUrl(),app=getApp(); 
 			}); 
		define("scripts/open-platform.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var DURATION=86400,KEY="open-platform";module.exports=function(e){function r(r){var t=r.merCode,n=r.merUser,o=r.merCodeSub;e.set(KEY,{merCode:t,merUser:n,merCodeSub:o},DURATION)}function t(){var r=e.get(KEY)||{},t=r.merCode,n=r.merUser,o=r.merCodeSub;return t?{extChannelId:t,extUserId:n,extSubChannel:o}:null}return{save:r,get:t}}; 
 			}); 
		define("scripts/owl/config.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),_index=require("./constant/index"),_util=require("./util/util"),urlProduct="https://catfront.dianping.com",urlBeta="https://catfront.51ping.com",EXT=["region","operator","network","container","os","unionId"],CfgManager=function(){function e(n){if(_classCallCheck(this,e),this._config={devMode:!1,project:"",pageUrl:"",resource:{sample:.1},page:{sample:.5},error:{sample:1},version:{},logan:{enable:!1,config:{enableShake:!1,appSource:"dianping"}}},this.config={},this.userConfig={},this.url=urlProduct,n?this.set(n):this.config=this._config,this.baseQuery={v:1,sdk:_index.VERSION},this.apiPaths={log:"/api/log",error:"/api/log",page:"/api/speed",resource:"/api/batch",metric:"/api/metric"},this.extensions={},!n.unionId){var t=wx.getStorageSync(_index.STOREKEY+"-unionId");t?this.config.unionId=t:(this.config.unionId=(0,_util.MSID)(),this.cacheUnionId(this.config.unionId))}}return _createClass(e,[{key:"_update",value:function(){this.config=this._config;for(var e in this.userConfig){var n=this.userConfig[e];"object"!==(void 0===n?"undefined":_typeof(n))||n instanceof RegExp||n instanceof Array?this.config[e]=n:this.config[e]=(0,_util.extend)(this.config[e],this.userConfig[e])}}},{key:"update",value:function(e,n){this[e]=n,"unionId"===e&&this.cacheUnionId(n)}},{key:"get",value:function(e){return e?this.config[e]:this.config}},{key:"set",value:function(e){for(var n in e)e.hasOwnProperty(n)&&("devMode"===n&&this.setApiDomain(e[n]),"object"!==_typeof(e[n])||e[n]instanceof RegExp||e[n]instanceof Array?this.userConfig[n]=e[n]:this.userConfig[n]=(0,_util.extend)(this.userConfig[n],e[n]));this._update()}},{key:"getApiPath",value:function(e){var n=this.apiPaths[e];return(0,_util.stringify)(this.url+n,this.baseQuery)}},{key:"setApiDomain",value:function(e){this.url=e?urlBeta:urlProduct}},{key:"getExtension",value:function(e){return e?this.extensions[e]:this.extensions}},{key:"setExtension",value:function(e){for(var n in e)if(e.hasOwnProperty(n)){var t=e[n];-1!==EXT.indexOf(n)?this.extensions[n]="unionId"===n?this.config.unionId:t:this.config.version[n]=t}}},{key:"cacheUnionId",value:function(e){wx.setStorage({key:_index.STOREKEY+"-unionId",data:e})}}]),e}();exports.default=CfgManager; 
 			}); 
		define("scripts/owl/constant/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var STOREKEY=exports.STOREKEY="WXOWLKEY",VERSION=exports.VERSION="0.0.1",LEVEL=exports.LEVEL={ERROR:"error",INFO:"info",WARN:"warn",DEBUG:"debug"},CATEGORY=exports.CATEGORY={SCRIPT:"jsError",AJAX:"ajaxError",RESOURCE:"resourceError"}; 
 			}); 
		define("scripts/owl/env.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function getPageUrl(){var e=getCurrentPages()||[];return e.length?e[e.length-1].__route__:"app"}function getNetWorkType(){return wx.onNetworkStatusChange&&wx.onNetworkStatusChange(function(e){e&&(env.network=e.networkType)}),new Promise(function(e,n){wx.getNetworkType({success:function(n){e(n.networkType)},fail:function(){e("unknown network")}}),setTimeout(function(){e("unknown network")},2e3)})}function getSystemInfo(){return new Promise(function(e,n){wx.getSystemInfo({success:function(n){var t=n.system,r=void 0===t?"":t,o=n.version,i=void 0===o?"Unknown":o,s=n.SDKVersion,u=void 0===s?"Unknown":s,a=r.toLowerCase().match(/ios/)?"iOS":"Android";e({os:a,wxVersion:i,wxLibVersion:u})},fail:function(){e("unknown system")}})})}function getEnv(){var e=getPageUrl();return new Promise(function(n,t){Object.keys(env).length?n(Object.assign({pageUrl:e},env)):Promise.all([getNetWorkType(),getSystemInfo()]).then(function(t){var r=_slicedToArray(t,2),o=r[0],i=r[1];env=Object.assign({},i,{container:"MicroMessenger"},{network:o},{unionId:""}),n(Object.assign({},env,{pageUrl:e}))}).catch(function(){n({})})})}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function e(e,n){var t=[],r=!0,o=!1,i=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return t}return function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return e(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.getPageUrl=getPageUrl,exports.getEnv=getEnv;var env={}; 
 			}); 
		define("scripts/owl/error/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,n,o){return n&&e(r.prototype,n),o&&e(r,o),r}}(),_env=require("../env"),_util=require("../util/util"),EM=require("./model").default,NAME="error",errorCache=[],ErrorManager=function(){function e(r){_classCallCheck(this,e),this.cfgManager=r}return _createClass(e,[{key:"parse",value:function(e){return e.project||(e.project=this.cfgManager.get("project")),e.pageUrl||(e.pageUrl=this.cfgManager.get("pageUrl")||(0,_env.getPageUrl)()),e}},{key:"pushError",value:function(e,r){var n=this,o=this.cfgManager;(0,_env.getEnv)().then(function(t){var a=getApp(),c=new EM(e);c=c.updateTags({wxLibVersion:t.wxLibVersion,wxVersion:t.wxVersion,wxCodeVersion:a.version}),c=n._handleError(c),c=c.toJson(),e=n.parse(c);var i=t.network,s=t.container,u=t.os,l=t.unionId;l=o.config.unionId||l,e=Object.assign({network:i,container:s,os:u,unionId:l},e),errorCache.push(e),r&&n.report()})}},{key:"_handleError",value:function(e){try{var r=this.cfgManager.get("onErrorPush");if(r instanceof Function&&(e=r(e)),e instanceof EM||void 0===e)return e;console.log("onErrorPush方法返回结果有误")}catch(r){return e}}},{key:"addError",value:function(e,r,n){e||(e="default"),r||(r="error");try{r instanceof EM||(r instanceof Error?r=r.stack||r.message:"object"===(void 0===r?"undefined":_typeof(r))&&(r={sec_category:r.name,content:r.msg})),this.pushError({sec_category:e,content:r,category:"jsError",level:"error"},n)}catch(e){this.reportSystemError(e),console.log("owl-inside-error",e)}}},{key:"reportSystemError",value:function(e){var r=this;e&&e.stack&&(0,_env.getEnv)().then(function(n){errorCache.push(new EM({project:"owl",pageUrl:r.cfgManager.config.project+(0,_env.getPageUrl)(),sec_category:e.msg||e.name||"parseError",content:JSON.stringify(e.stack)})),r.report()}).catch(function(e){console.log("owl-error",e)})}},{key:"onError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jsError",n=e.replace("thirdScriptError","").split(";");n=n.length?n[0]:"",n=n.replace(/\t|\n/g,""),this.pushError(new EM({content:e,category:r,sec_category:n,level:"error"}),!0)}},{key:"report",value:function(e,r){var n=this.cfgManager;if(errorCache.length){var o=n.getApiPath(NAME),t=(0,_util.stringify)(o);t=t+"&"+(0,_util.getReportVersions)(n.config),(0,_util.requestQueue)({url:t,data:"c="+encodeURIComponent(JSON.stringify(errorCache)),method:"POST",header:{"content-type":"application/x-www-form-urlencoded;"},success:function(r){errorCache=[],e&&e instanceof Function&&e(r)},fail:function(e){r&&r instanceof Function&&r(e)}})}}}]),e}();exports.default=ErrorManager; 
 			}); 
		define("scripts/owl/error/model.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_util=require("../util/util"),Level={ERROR:"error"},Category={SCRIPT:"jsError",AJAX:"ajaxError"},errKeys=["project","pageUrl","resourceUrl","category","sec_category","level","timestamp","content"],VALID_ATTR=["rowNum","colNum"].concat(errKeys),OwlError=function(){function e(t){if(_classCallCheck(this,e),t){var r=void 0;for(r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);this.parse(t)}}return _createClass(e,[{key:"parse",value:function(){this.category||(this.category=Category.SCRIPT),this.level||(this.level=Level.ERROR),this.timestamp||(this.timestamp=Date.now()),this.sec_category||(this.sec_category="default")}},{key:"isEqual",value:function(e){return this.sec_category===e.sec_category&&this.resourceUrl===e.resourceUrl&&this.content===e.content}},{key:"update",value:function(e){for(var t in e)void 0!==e[t]&&-1!==VALID_ATTR.indexOf(t)&&(this[t]=e[t]);return this}},{key:"updateTags",value:function(e){var t=(0,_util.extend)(this.tags||{},e);return this.tags=t,this}},{key:"toJson",value:function(){var e=this,t=this.rowNum,r=this.colNum,a={};return errKeys.map(function(t){void 0!==e[t]&&(a[t]=e[t])}),a.category===Category.SCRIPT&&t&&r&&(a.dynamicMetric={rowNum:t,colNum:r}),this.tags&&(a.dynamicMetric=(0,_util.extend)(a.dynamicMetric||{},this.tags)),a}}]),e}();OwlError.LEVEL=Level,OwlError.CATEGORY=Category,exports.default=OwlError; 
 			}); 
		define("scripts/owl/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function request(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:owl;return(0,_request2.default)(e,r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.OWL=exports.owl=void 0;var _createClass=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}();exports.request=request;var _index=require("./error/index"),_index2=_interopRequireDefault(_index),_index3=require("./resource/index"),_index4=_interopRequireDefault(_index3),_request=require("./resource/request"),_request2=_interopRequireDefault(_request),_index5=require("./page/index"),_index6=_interopRequireDefault(_index5),_index7=require("./metric/index"),_index8=_interopRequireDefault(_index7),_index9=require("./log/index"),_index10=_interopRequireDefault(_index9),_config=require("./config"),_config2=_interopRequireDefault(_config),_env=require("./env"),_model=require("./error/model"),_model2=_interopRequireDefault(_model),_logan=require("./util/logan"),_logan2=_interopRequireDefault(_logan),OWL=function(){function e(r){_classCallCheck(this,e);var n=new _config2.default(r);this.error=new _index2.default(n),this.resource=new _index4.default(n,this.error),this.pageSpeed=new _index6.default(n),this.logManager=new _index10.default(n),this.cfgManager=n,this.init()}return _createClass(e,[{key:"init",value:function(){var e=this;(0,_env.getEnv)().then(function(r){e.cfgManager.setExtension(r)})}},{key:"newMetric",value:function(){return new _index8.default(this.cfgManager)}},{key:"report",value:function(){this.error.report(),this.resource.report(),this.pageSpeed.report()}}]),e}(),owl=new OWL({});owl.OWL=OWL,owl.errorModel=_model2.default,owl.start=function(e){if(!this.isStarted&&(this.isStarted=!0,e&&owl.cfgManager.set(e),this.cfgManager.get("logan").enable)){var r=this.cfgManager.get("logan").Logan,n=this.cfgManager.get("logan").config,t=this.cfgManager.get("project");_logan2.default.ready({LoganAPI:r,project:t,loganConfig:n})}},exports.owl=owl,exports.OWL=OWL; 
 			}); 
		define("scripts/owl/log/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,a,r){return a&&e(n.prototype,a),r&&e(n,r),n}}(),Logan=require("../util/logan"),LogManager=function(){function e(n){_classCallCheck(this,e),this.cfgManager=n}return _createClass(e,[{key:"addLog",value:function(e){if("string"!=typeof e)return void console.log("addLog只接受string类型的日志");Logan.log("[Log]: "+e)}}]),e}();exports.default=LogManager; 
 			}); 
		define("scripts/owl/metric/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var s=0;s<e.length;s++){var a=e[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,s,a){return s&&t(e.prototype,s),a&&t(e,a),e}}(),_util=require("../util/util"),NAME="metric",MetricManager=function(){function t(e){_classCallCheck(this,t),this.cfgManager=e,this.tags={},this.kvs={}}return _createClass(t,[{key:"setTags",value:function(t){this.tags=Object.assign(this.tags,t)}},{key:"getTags",value:function(t){return t?this.tags[t]:this.tags}},{key:"setMetric",value:function(t,e){return"string"!=typeof t?console.log("metric名称必须是string类型"):"number"!=typeof e?console.log("metric值必须是number类型,当前为"+t+"-"+e):(this.kvs[t]||(this.kvs[t]=[]),void this.kvs[t].push(e))}},{key:"getMetric",value:function(t){return t?this.kvs[t]:this.kvs}},{key:"clearMetric",value:function(){this.kvs={}}},{key:"clearTags",value:function(){this.tags={}}},{key:"_rollbackMetric",value:function(t){for(var e in t)t.hasOwnProperty(e)&&(this.kvs[e]=t[e].concat(this.kvs[e]||[]))}},{key:"_rollbackTags",value:function(t){this.tags=t||{}}},{key:"report",value:function(){var t=this,e=this.cfgManager;if(this.kvs&&0!==Object.keys(this.kvs).length){var s={kvs:this.kvs,tags:this.tags,ts:parseInt(+new Date/1e3)},a=this.tags;this.clearTags();var i=e.getApiPath(NAME);(0,_util.requestQueue)({url:i+"&p="+e.config.project,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},data:"data="+encodeURIComponent(JSON.stringify(s)),fail:function(){t._rollbackTags(a)}})}}}]),t}();exports.default=MetricManager; 
 			}); 
		define("scripts/owl/page/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_env=require("../env"),_util=require("../util/util"),NAME="page",PageSpeed=function(){function e(t){_classCallCheck(this,e),this.cfgManager=t,this.speed={},this.firstContentfullPaint={},this.moduleFirstRenderTime={},this.pageSource={}}return _createClass(e,[{key:"pushSpeed",value:function(e,t,i){var n=this,r=this.speed,a=this.pageSource;r[e]||(r[e]={},r[e].customspeed=[]),(0,_env.getEnv)().then(function(s){var o=s;o.pageurl=e||o.pageUrl,delete o.pageUrl;var u=n.cfgManager.config,l=u.project,f=u.unionId,d=u.wxAppVersion,h="default";a[e]&&(h=a[e].source),o.operator=h,Object.assign(r[e],o,{project:l,timestamp:Date.now(),unionId:f,speed:"0|0|0",wxAppVersion:d}),r[e].customspeed[t]=i})}},{key:"start",value:function(e,t){this["start-"+e+"-"+t]=Date.now()}},{key:"end",value:function(e,t){var i=this["start-"+e+"-"+t],n=this["start-app-0"];n&&(delete this["start-app-0"],this.pushSpeed("app",0,Date.now()-n)),i?this.pushSpeed(e,t,Date.now()-i):console.log("请先埋点 start")}},{key:"addSource",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";try{if(this._refresh)return;var t=(0,_env.getPageUrl)();this.pageSource[t]||(this.pageSource[t]={}),this.pageSource[t].source=e}catch(e){console.log("addSource error",JSON.stringify(e))}}},{key:"addPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(!this._refresh)if(t||(t=(0,_env.getPageUrl)()||""),"app"===t)this.pushSpeed("app",e.position,Date.now()-this._appStart);else{var i=this._start||Date.now(),n=void 0;if(void 0===e.position)return void console.log("请先埋点position");if(void 0!==e.duration)n=e;else if(void 0!==i){var r=e.timeStamp||+Date.now();n={position:e.position,duration:r-i}}n&&this.pushSpeed(t,n.position,n.duration)}}},{key:"createFirstContentfulPaint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["default"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{if(this._refresh)return;var i=(0,_env.getPageUrl)();this.firstContentfullPaint[i]||(this.firstContentfullPaint[i]={}),this.firstContentfullPaint[i][t]=e}catch(e){console.log("create first error",JSON.stringify(e))}}},{key:"addFirstContentfulPaint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=arguments[1];if(!this._refresh){var i=(0,_env.getPageUrl)(),n=void 0;try{this.firstContentfullPaint[i]||(this.firstContentfullPaint[i]={}),n=t||+new Date-this._start,this.moduleFirstRenderTime[i]||(this.moduleFirstRenderTime[i]={}),this.moduleFirstRenderTime[i][e]||(this.moduleFirstRenderTime[i][e]=n)}catch(e){console.log("add first error",JSON.stringify(e))}}}},{key:"_getPageFirstPaint",value:function(e,t){var i=this,n=void 0;this.firstContentfullPaint[e]&&(n=this.firstContentfullPaint[e][t]);var r=0;return n.forEach(function(t){r=Math.max(i.moduleFirstRenderTime[e][t],r)}),r}},{key:"appLaunch",value:function(e){this._appStart=e,this.addPoint({position:0},"app")}},{key:"pageLoad",value:function(){this._start=Date.now(),this._refresh=!1}},{key:"pageReady",value:function(){this.addPoint({position:0},(0,_env.getPageUrl)())}},{key:"pullRefresh",value:function(){this._refresh=!0}},{key:"report",value:function(){var e=this,t=this.cfgManager;if(!(t.get("devMode")||Math.random()>t.get(NAME).sample)){var i=this.speed,n=this.firstContentfullPaint,r=this.moduleFirstRenderTime,a=t.getApiPath(NAME);Object.keys(i).forEach(function(t){var s=Object.assign({},i[t]);if(n[t]){var o=e.firstContentfullPaint[t];for(var u in o)s.customspeed[u]=e._getPageFirstPaint(t,u)}s.customspeed=s.customspeed.join("|");var l=(0,_util.stringify)(a);l=(0,_util.stringify)(l,s),i[t]&&delete i[t],r[t]&&delete r[t],n[t]&&delete n[t],(0,_util.requestQueue)({url:l,header:{"content-type":"application/x-www-form-urlencoded;"},method:"GET",success:function(){}})})}}}]),e}();exports.default=PageSpeed; 
 			}); 
		define("scripts/owl/resource/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_env=require("../env"),_util=require("../util/util"),_index=require("../constant/index"),_model=require("./model"),_model2=_interopRequireDefault(_model),NAME="resource",apiCache=[],Resource=function(){function e(t,r){_classCallCheck(this,e),this.cfgManager=t,this.errManager=r,this.CACHE_SEND_TRIGGER=10}return _createClass(e,[{key:"_parse",value:function(e){return e.pageUrl||(e.pageUrl=this.cfgManager.get("pageUrl")||(0,_env.getPageUrl)()),e.project||(e.project=this.cfgManager.get("project")),e}},{key:"_stringify",value:function(e){var t=[];t=e?apiCache.splice(0,this.CACHE_SEND_TRIGGER):apiCache.splice(0,apiCache.length);var r=t;if(r&&r.length){var n=[],a=this.cfgManager.getExtension(),o=[],i={region:0,operator:1,network:2,container:3,os:4,unionId:5};for(var s in a)a.hasOwnProperty(s)&&(o[i[s]]=a[s]);a="S\t"+o.join("\t"),n.push(a);for(var u=0;u<r.length;u++){var c=r[u];n.push(c.stringify())}return apiCache=[],n=n.join("\n")}}},{key:"pushApi",value:function(e,t){var r=this._parse(e),n=new _model2.default(r);apiCache.push(n),apiCache.length&&(apiCache.length>=this.CACHE_SEND_TRIGGER&&this.report(!0),t&&this.report())}},{key:"addApi",value:function(e,t){if(e){if(void 0!==e.networkCode&&"number"!=typeof e.networkCode)return void console.log("网络状态码必须为Number类型",JSON.stringify(e));if(void 0!==e.statusCode&&"number"!=typeof e.statusCode)return void console.log("业务状态码必须为Number类型",JSON.stringify(e));var r={type:"api",resourceUrl:e.name,statusCode:(e.networkCode||"")+"|"+(e.statusCode||""),responsetime:e.responseTime};e.content&&(r.firstCategory=_index.CATEGORY.AJAX,r.secondCategory=e.secondCategory||e.name,r.logContent=e.content),this.pushApi(r,t)}}},{key:"addApiError",value:function(e,t,r){Math.random()>.2||this.errManager.pushError({sec_category:e,content:t,category:"ajaxError",level:"warn"},r)}},{key:"report",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cfgManager,r=this._stringify(e);if(!(Math.random()>t.get(NAME).sample)&&r){var n=t.getApiPath(NAME),a=(0,_util.stringify)(n);a=a+"&"+(0,_util.getReportVersions)(t.config),(0,_util.requestQueue)({url:a,data:"c="+encodeURIComponent(r),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(){}})}}}]),e}();exports.default=Resource; 
 			}); 
		define("scripts/owl/resource/model.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}(),keys=["resourceUrl","timestamp","requestbyte","responsebyte","responsetime","project","pageUrl","statusCode","firstCategory","secondCategory","logContent"],uploadKeys=["resourceUrl","timestamp","requestbyte","responsebyte","responsetime","project","pageUrl","statusCode","firstCategory","secondCategory","logContent"],ResourceModel=function(){function e(t){var r=this;_classCallCheck(this,e),keys.forEach(function(e){void 0!==t[e]?r[e]=t[e]:r[e]=""}),this.parse()}return _createClass(e,[{key:"update",value:function(e){for(var t in e)e.hasOwnProperty(t)&&-1!==keys.indexOf(t)&&(this[t]=e[t])}},{key:"parse",value:function(){this.timestamp||(this.timestamp=Date.now()),this.requestbyte||(this.requestbyte=0),this.responsebyte||(this.responsebyte=0)}},{key:"stringify",value:function(){var e=this;return uploadKeys.map(function(t){return e[t]}).join("\t")}}]),e}();exports.default=ResourceModel; 
 			}); 
		define("scripts/owl/resource/request.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function request(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wx.request,o=e.url,s=e.reportError,u=e.isRequest,a=Date.now(),i=e.complete;return e.complete=function(r){try{var u=r.statusCode,n=void 0===u?"500|":u,l=r.errMsg,d=void 0===l?"request:ok":l,p=Date.now()-a,c={};if(s&&"request:fail "!==d){var v=s(r,request)||{},f=v.log,q=void 0===f?"":f,y=v.code,g=void 0===y?200:y,m=v.name,C=void 0===m?"":m,b="";(q||C)&&(b="ajaxError"),c={statusCode:n+"|"+g,logContent:q,firstCategory:b,secondCategory:C||e.url}}t.resource.pushApi(Object.assign({timestamp:a,requestbyte:0,responsebyte:0,statusCode:n,resourceUrl:o,responsetime:p},c))}finally{i&&i.apply(this,arguments)}},u&&r(e),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=request; 
 			}); 
		define("scripts/owl/util/logan.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var _env=require("../env"),Logan=void 0,enable=!1;module.exports={queue:[],ready:function(){var e=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=o.LoganAPI,a=o.project,g=o.loganConfig,l=g.enableShake;enable=!0;n?(Logan=n,function(){if(l){var o=g.appSources;Logan=Logan.config({enableShake:l,appSource:o})}for(Logan.log("[新小程序项目]：项目-> "+a+" 对应页面-> "+(0,_env.getPageUrl)());e.queue.length;){var n=e.queue.shift();Logan.log(n)}}()):console.log("当前暂不支持log")},log:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(enable){Logan?Logan.log(e,"owl"):this.queue.push(e)}}}; 
 			}); 
		define("scripts/owl/util/util.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function serialize(e){var n=[];for(var r in e)e.hasOwnProperty(r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return n.join("&")}function requestQueue(e){if(e&&task.push(e),task.length>1&&e);else{var n=task[0],r=n.complete;n.complete=function(e){task.shift(),task.length&&requestQueue(),r&&r.call(this,e)},wx.request(n)}}function rnd(){return 65535*Math.random()}function rndSeed(){return Math.ceil(rnd()).toString(16)}function MSID(){var e=[],n=(new Date).getTime();return e.push(n.toString(16)),e.push(rndSeed()),e.push(rndSeed()),e.push(rndSeed()),e.join("-")}function getReportVersions(e){var n=e.wxAppVersion,r=void 0===n?"Unknown":n,t=e.version,o=t.wxVersion,i=void 0===o?"Unknown":o,s=t.wxLibVersion;return serialize({wxVersion:i,wxLibVersion:void 0===s?"Unknown":s,wxAppVersion:r})}function stringify(e,n){if(!n)return e;var r=[];for(var t in n)n.hasOwnProperty(t)&&r.push(t+"="+n[t]);return~e.indexOf("?")?e+"&"+r.join("&"):e+"?"+r.join("&")}function extend(e,n){var r={},t=void 0;for(t in e)r[t]=e[t];for(t in n)n.hasOwnProperty(t)&&void 0!==n[t]&&(r[t]=n[t]);return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.serialize=serialize,exports.requestQueue=requestQueue,exports.rnd=rnd,exports.rndSeed=rndSeed,exports.MSID=MSID,exports.getReportVersions=getReportVersions,exports.stringify=stringify,exports.extend=extend;var task=[]; 
 			}); 
		define("scripts/owl/version.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){if(e&&t&&!(Math.random()>RATE)){var r={v:1,rate:RATE,project:e,version:"v_"+_index.VERSION,pageurl:encodeURIComponent("app"),count:1},i=t.cfgManager.url+"/api/version";i=(0,_util.stringify)(i,r),setTimeout(function(){(0,_util.requestQueue)({method:"GET",url:i})},1500)}};var _util=require("./util/util"),_index=require("./constant/index"),RATE=.01; 
 			}); 
		define("scripts/page.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function $Page(e){var t=getApp(),o=t.owl,r=o.pageSpeed,n=o.cfgManager;e.disableStats||t.stats(e);var a=e.onLoad;e.onLoad=function(e){this._options=e,e&&Object.keys(e).forEach(function(t){try{e[t]=decodeURIComponent(e[t])}catch(o){e[t]=e[t]}}),e.scene&&Object.assign(e,parseQuery(e.scene)),e.merCode&&t.openPlatform.save(e);try{r.pageLoad(n)}catch(e){console.log("onLoad error:"+e.stack||e)}a&&a.call(this,e),GlobalComponent.onLoad({page:this,app:t}),this.recordCrash(t)};var i=e.onShow;e.onShow=function(){if(t.$location.city||!this.needCity){t.$user.token&&t._loginReturnUrl&&1===t._loginReturnUrl.indexOf(t.page().route)&&(t._loginCallback&&t._loginCallback(),delete t._loginCallback,delete t._loginReturnUrl,delete t._page5),this.setData({isIphoneX:t.isIphoneX,isLogin:!(!t.$user||!t.$user.token),isIphone:t.isIphone}),this.delayOnLoad&&(this.onLoad(this._options),delete this.delayOnLoad),this.statsMap={},this.viewReport();for(var e=arguments.length,o=Array(e),r=0;r<e;r++)o[r]=arguments[r];i&&i.apply(this,o),GlobalComponent.onShow({page:this})}else this.delayOnShow=!0;this.recordCrash(t)};var s=e.onReady;e.onReady=function(){try{r.pageReady()}catch(e){console.log("onReady error:"+e.stack||e)}if(t.$location.city||!this.needCity){for(var e=arguments.length,o=Array(e),n=0;n<e;n++)o[n]=arguments[n];s&&s.apply(this,o)}else this.delayOnReady=!0};var l=e.onUnload;e.onUnload=function(e){try{r.report()}catch(e){console.log("page onUnload error:"+e.stack||e)}l&&l.call(this,e),GlobalComponent.onUnload({page:this,app:t}),this.deleteCrash(t)};var c=e.onHide;e.onHide=function(e){try{r.report()}catch(e){console.log("page onHide error:"+e.stack||e)}c&&c.call(this,e),GlobalComponent.onHide({page:this,app:t}),this.deleteCrash(t),t.tabStats.last=this.route};var u=e.onPullDownRefresh;e.onPullDownRefresh=function(t){try{r.pullRefresh()}catch(e){console.log("page pullRefresh error:"+e.stack||e)}if(u)return e._hasPullDownRefresh=!0,u.call(this,t)};var h=e.onShareAppMessage;if(h&&"function"==typeof h){var p=function(e,t,o){return e+=(e.indexOf("?")<0?"?":"&")+t+"="+o};e.onShareAppMessage=function(){for(var e=arguments.length,o=Array(e),r=0;r<e;r++)o[r]=arguments[r];var n=h.apply(this,o);if(n&&n.path){t.shareAfter(n.path,n.commentId);var a=n.path.indexOf("?");if(a>=0){var i=n.path.substring(0,a),s=parseQuery(n.path.substring(a+1));s.redirect?(s.redirect=encodeURIComponent(p(decodeURIComponent(s.redirect),"accessfrom","share")),n.path=i+"?"+Object.keys(s).map(function(e){return e+"="+s[e]}).join("&")):n.path=p(n.path,"accessfrom","share")}else n.path=p(n.path,"accessfrom","share")}return n}}e.statsMap={};var f=function(){var e=this;wx.createSelectorQuery().selectAll(".scroll-view-stats").boundingClientRect().exec(function(t){if(!t[0])return!1;var o=wx.getSystemInfoSync(),r=o.windowWidth,n=o.windowHeight;t[0].forEach(function(t,o){var a=t.dataset,i=a.view_bid,s=a.view_lab,l=a.val_lab,c=a.view_key,u=t.width>0&&t.height>0,h=t.left>=0&&t.right<=r&&t.top>=0&&t.bottom<=n;i&&h&&u&&!e.statsMap[c||o]&&(e.stats(i,s||l),e.statsMap[c||o]=!0)})})};e.viewReport=utils.debounce(f,200);var g=e.onPageScroll;e.onPageScroll=function(e){this.viewReport(),g&&g.call(this,e)};var d=e.onScrollView;e.onScrollView=function(e){this.viewReport(),d&&d.call(this,e)};var y=e.onTabItemTap;e.onTabItemTap=function(e){t.tabStats.stats("b_khyiuzpf",{from:t.tabStats.last,to:e.pagePath}),y&&y.call(this,e)};for(var v in e)this[v]=e[v];return $Page.Page(this)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},userScript=require("./user"),loginScript=require("./login"),toast=require("../tpl/toast"),_require=require("../scripts/utils"),parseQuery=_require.parseQuery,md5=require("../scripts/md5"),utils=require("../scripts/utils"),GlobalComponent=require("../tpl/operation/global-component/main");$Page.prototype.toast=toast,$Page.prototype.recordCrash=function(e){var t=this;try{var o=wx.getStorageInfoSync();if(o.limitSize-o.currentSize<10)return;var r=e.store.get("crash")||[],n=e.$systemInfo||{},a=n.system,i=n.version,s=n.model;-1===r.findIndex(function(e){return e.url===t.route})&&r.push({url:this.route,systemInfo:{system:a,version:i,model:s}}),e.store.set("crash",r)}catch(e){}},$Page.prototype.deleteCrash=function(e){try{var t=e.store.get("crash")||[],o=this.route,r=t.findIndex(function(e){return e.url===o});-1!==r&&r<t.length&&t.splice(r,1),e.store.set("crash",t)}catch(e){}},$Page.prototype.dialog=function(e,t,o){var r={};return"object"===(void 0===e?"undefined":_typeof(e))?r=e:(r.title=e,r.content=t),r.complete=function(t){var n=null;-1===t.errMsg.indexOf("showModal:ok")&&(n=new Error(t.errMsg),n.res=t),"object"===(void 0===e?"undefined":_typeof(e))?r.callback&&r.callback(n,t):o&&o(n,t)},wx.showModal(r),this},$Page.prototype.createModal=function(e,t){var o=this,r=this.data,n={display:!1};return r[e]=n,this.setData(r),{show:function(){n.display=!0;for(var t in r)n[t]=r[t];r[e]=n,o.setData(r)},hide:function(){n.display=!1;for(var t in r)n[t]=r[t];r[e]=n,o.setData(r)}}},$Page.prototype.onTapModalOverlay=function(e){var t=e.target,o=this.data,r=o[t.id];r&&(r.display=!1,o[t.id]=r,this.setData(o))},$Page.prototype.loading=function(e){return!arguments.length||e?wx.showToast({title:"数据加载中",icon:"loading",duration:1e4}):wx.hideToast(),this},$Page.prototype.loadingWithTitle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!arguments.length||e.isLoading?wx.showToast({title:e.title||"数据加载中",icon:"loading",duration:e.duration||1e4}):wx.hideToast(),this},$Page.prototype.toastError=function(e){var t=new Error(e);return t.type=4,t},$Page.prototype.handleError=function(e,t){if("boolean"==typeof e||"page"==e){var o=t;t=e,e=o}return this.loading(null),e instanceof Error?4==e.type||3==e.type?this.toast(e.message):t?this._hasPullDownRefresh?this.showErrorPage(e.errType):(this.showErrorToast(e.errType),setTimeout(function(){wx.navigateBack()},3e3)):e.errType&&this.showErrorToast(e.errType):this.toast(e),this},$Page.prototype.showErrorPage=function(e){var t={networkError:{errPage:!0,err_title:"数据获取失败",err_content:"请检查网络后刷新"},serverError:{errPage:!0,err_title:"服务器异常，请稍后再试",err_content:""}};return this.setData(t[e]),this},$Page.prototype.showErrorToast=function(e){var t={networkError:"网络异常, 请稍后再试",serverError:"服务器异常，请稍后再试"};return t[e]&&this.toast(t[e]),this},$Page.prototype.hideErrorPage=function(){return this.setData({errPage:!1}),this},$Page.prototype.tapRefresh=function(){return this.loading(),this._hasPullDownRefresh&&this.onPullDownRefresh(),this},$Page.prototype.onTapNavi=function(e){var t=this,o=getApp(),r=e.currentTarget.dataset,n=r.url,a=r.needLogin,i=r.ignoreLogin,s=r.ignoreLoginFail,l=r.loginWarn,c=r.needCity,u=r.val_bid,h=r.val_lab,p=r.btn_login,f=Promise.resolve(!0);if(this.naviMiddlewares&&this.naviMiddlewares.length){var g=!0,d=!1,y=void 0;try{for(var v,w=this.naviMiddlewares[Symbol.iterator]();!(g=(v=w.next()).done);g=!0)!function(){var o=v.value;f=f.then(function(){return o.call(t,e)})}()}catch(e){d=!0,y=e}finally{try{!g&&w.return&&w.return()}finally{if(d)throw y}}}c&&(o.$location.city||o.get("city")||(f=f.then(function(){return o.checkLocationAuth({modalOpt:{content:"需要先授权定位才可获取您的位置信息噢"}})}))),a&&(f=f.then(function(){return new Promise(function(e,t){o.checkLogin({warn:l,path:n,ignoreLogin:i,ignoreLoginFail:s,success:function(){e(!0)}})})})),(!p||o.$user&&o.$user.token)&&f.then(function(){u&&t.stats&&t.stats(u,h),o.goto(n)})},$Page.prototype.onTapModalTrigger=function(){this.setData({licenceModalVisible:!0})},$Page.prototype.licenceModalChange=function(){this.setData({licenceModalVisible:!1})},$Page.prototype.collectFormId=function(e){getApp().collectFormId(e.detail.formId)},$Page.prototype.doNothing=function(){},$Page.prototype.getShouldShowAttentionModal=function(e){return!getApp().get("hasRemaidAttention_"+e)},$Page.prototype.showAttention=function(e){var t=getApp(),o=void 0;"number"==typeof e?o=e:e&&(o=e.currentTarget.dataset.user_type),o=o||2,this.setData({showAttentionModal:!0,shouldShowAttentionModal:!1}),this.stats("b_m96f50r7");t.set("hasRemaidAttention_"+o,!0,{expires:function(){var e=new Date,t=e.getTime();return(e.setHours(0,0,0)+864e5-t)/1e3}()})},$Page.prototype.onGetUserInfo=function(e){function t(){loginScript.addPrivilege(),c&&r.goto(c),u&&(this.loginRefresh?this.loginRefresh.call(a):this._hasPullDownRefresh&&this.onPullDownRefresh.call(a))}function o(){wx.hideToast(),this.loginFail&&this.loginFail.call(a),d&&this.toast(d)}var r=getApp(),n=this,a=r.page(),i=r.getPropSafely("detail.currentTarget.dataset.url",e,"")?e.detail:e,s=i.detail,l=i.currentTarget.dataset,c=l.url,u=l.fresh,h=l.ignoreLogin,p=l.ignoreLoginFail,f=l.val_bid,g=l.val_lab,d=l.loginWarn,y=l.forceRelogin,v=void 0!==y&&y;return s.errMsg&&"getUserInfo:ok"!==s.errMsg?p||h?(this.setData({needLogin:!1}),this.toast(d||"登录失败，请稍后重试"),void(p&&t.call(this))):this.loginFail?void this.loginFail.call(a):void 0:r.$user&&r.$user.token&&!v?this.setData({isLogin:!0}):function(){wx.showToast({title:"登录中...",icon:"loading",duration:1e4}),wx.login({success:function(e){e.code&&(r.setCode(e.code),wx.getUserInfo({success:function(i){loginScript.wxUserInfo(e.code,i).then(function(e){var t=e.body,o=t.error,i=t.data;if(i.code&&!i.token)throw i;if(o)throw o;var s=i.token,l=i.userId,c=i.mobile,u={token:s,userId:l,mobile:c,openId:r.$openId,wxUserInfo:r.$wxUserInfo||{}};return u.wxUserInfo.userInfo&&!u.wxUserInfo.userInfo.avatarUrl&&(u.wxUserInfo.userInfo.avatarUrl="https://p1.meituan.net/movie/6b3fe8f3f33fd60748feac641671bb579696.png"),userScript.saveUser(u),n.setData({isLogin:!0}),f&&a.stats&&a.stats(f,g),u}).then(function(e){if(!e.mobile)return loginScript.getMaoyanMobileByToken(e.token).then(function(o){o&&o.mobile&&(e.mobile=o.mobile,e.mobileType=o.type,userScript.setMobile(o.mobile)),wx.hideToast(),t.call(n)}).catch(function(e){console.error("getMaoyanMobileByToken: ",e.message),wx.hideToast(),t.call(n)});wx.hideToast(),t.call(n)}).catch(function(e){if(e){var t=new Error(e.message);throw t.code=e.code,d=e.message||"登录失败，请稍后重试",o.call(a),t}})},fail:function(){d="登录失败，请稍后重试",o.call(a)}}))},fail:function(){d="登录失败，请稍后重试",o.call(a)}})}()},$Page.prototype.refreshWXUserInfoOfMY=function(e){var t=this,o=getApp(),r=o.$wxUserInfo||o.$user&&o.$user.wxUserInfo,n=o.get("hasFreshedMYUser"),a=function(){e&&"function"==typeof e&&e.call(t)};if(!r||0==Object.keys(r).length||n)return void a();var i=function(e){e?wx.getUserInfo({withCredentials:!0,success:function(n){var i=utils.stringConcat(r.appName,"sdwasxacax",n.rawData,e,n.signature,n.iv,o.$user.token);i=md5(i),o.request().post("/api/account/v1/updateweappuserinfo").proxyhost("usercenter").send({sign:i,code:e,appName:r.appName,rawData:n.rawData,signature:n.signature,encryptedData:n.encryptedData,iv:n.iv,token:o.$user.token}).end().then(function(e){e.error?t.toast(e.error.message||"获取登录信息失败，请稍后重试"):o.set("hasFreshedMYUser",!0,{expires:7776e3}),a()}).catch(function(e){t.toast(e.message||"获取登录信息失败，请稍后重试"),a()})},fail:function(){a()}}):a()};wx.login({success:function(e){i(e.code)},fail:function(){_this.toast("获取登录信息失败，请稍后重试"),a()},timeout:2e3})},$Page.prototype.nullFuncButBindStats=function(e){var t=e.currentTarget.dataset,o=t.val_bid,r=t.val_lab;o&&this.stats&&this.stats(o,r)},$Page.prototype.loginAfterDo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"请先登陆后操作",o=getApp();return function(){var r=this,n=Array.from(arguments);o.$user.token?e.apply(this,n):o.checkLogin({warn:t,success:function(){e.apply(r,n)}})}},$Page.prototype.catchtouch=function(){},module.exports=function(e){function t(e){return new $Page(e)}return $Page.Page=$Page.Page||Page,"object"===(void 0===e?"undefined":_typeof(e))&&t(e),t},$Page.prototype.reportError=function(e,t){var o=getApp();if(e&&e.message)try{var r=t||{},n=r.level,a=void 0===n?"error":n,i=r.report,s=void 0!==i&&i;o.owl.error.pushError({sec_category:e.message,content:e,level:a,category:"jsError"},s)}catch(e){console.error(e)}}; 
 			}); 
		define("scripts/papay.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function queryPapay(){return app.request().get("/proxy/wxpapay/query").header({"x-host":"http://trade.pay.vip.sankuai.com"}).query({userId:app.$user.userId}).end().then(function(e){return e.body})}function handlePapay(e,a,r){var t=JSON.parse(e);return t.success?this.toast("免密支付成功",1500,a):(this.stats("b_xun65q4w"),this.toast(t.errorType.msg,1500,r))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.queryPapay=queryPapay,exports.handlePapay=handlePapay;var app=getApp(); 
 			}); 
		define("scripts/polyfill.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";String.prototype.includes=String.prototype.includes||function(t){return-1!==this.indexOf(t)},Array.prototype.includes=Array.prototype.includes||function(t){return-1!==this.indexOf(t)}; 
 			}); 
		define("scripts/promisify.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";module.exports={wx2promise:function(e,s){return s=s||{},new Promise(function(i,n){s.success=i,s.fail=n,e(s)})}}; 
 			}); 
		define("scripts/request.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function genWxaHeader(){var e=getApp(),t=e.page(),r=e.pages().slice(-2)[0];if(t&&r)return{"x-wxa-page":t.route,"x-wxa-query":t.options?encodeURIComponent(JSON.stringify(t.options)):void 0,"x-wxa-referer":r.route}}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},apiConfig=require("./api-config"),config=require("./config"),MD5=require("./md5");require("./polyfill");var PROD_SERVER="https://wx.maoyan.com",$requestLimit=7,$requestList=[],$requestingMap={},$requests=[],DOMAIN=PROD_SERVER,client_id="X8YSRYRVckgNK1vfKFIs",SPACE=":";module.exports=function(e,t,r,o){var n=getApp();"object"===(void 0===e?"undefined":_typeof(e))&&(t=e.url,e.data,e.header,e=e.method);var s="prod";try{s=getApp().$debug?apiConfig.getApiEnv():"prod"}catch(e){console.error(e)}var i={method:e,url:t,header:{"X-Requested-With":"wxapp",version:n.version},data:{},query:{},sign:!1};try{var a=genWxaHeader();Object.assign(i.header,a)}catch(e){console.error(e)}var u={config:function(e,t){return 2===arguments.length?(i.options=i.options||{},i.options[e]=t):i.options=e,u},header:function(e,t){return 2===arguments.length?i.header[e]=t:i.header=_extends({},i.header,e),u},host:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wx";return i.url=config.host[e]+i.url,u},proxyhost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"api";return i.url="/hostproxy"+i.url,this.header("x-host",config.proxyhost[e]),u},proxy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"api";return i.url="/proxy"+i.url,this.header("x-host",config.proxyhost[e]),u},token:function(){return this.header("token",n.$user&&n.$user.token),u},query:function(e,t){return 2===arguments.length?i.query[e]=t:i.query=_extends({},i.query,e),u},send:function(e,t){return 2===arguments.length?i.data[e]=t:i.data=e,u},sign:function(){return i.sign=!0,u},end:function(e){function r(e,t){Object.keys(e).forEach(function(r){if(void 0===e[r]&&("TOKEN"===r.toUpperCase()?e[r]="":delete e[r]),"object"===_typeof(e[r])&&"application/json"!==i.header["content-type"])try{e[r]=JSON.stringify(e[r])}catch(e){}i.sign&&t&&"number"==typeof e[r]&&(e[r]+="")})}if(i.options&&i.options.key){if($requestingMap[i.options.key])return Promise.reject();$requestingMap[i.options.key]=!0}var o=new Promise(function(t,r){e||(e=function(e,o){if(e)return r(e);t(o)})});if("staging"===s&&apiConfig.prod2Staging(i),i.header["content-type"]||(i.method&&"GET"!=i.method.toUpperCase()?i.header["content-type"]="application/x-www-form-urlencoded":i.header["content-type"]="multipart/form-data"),r(i.header),r(i.query,!0),r(i.data,!0),i.url.indexOf("http")&&(i.url=config.host.wx+i.url),i.sign){var a=+new Date,u=Math.random().toString(36).substr(2,8),p=i.url.split("?")[0],d={};"GET"===i.method.toUpperCase()&&(d=Object.assign({},i.query)),"POST"===i.method.toUpperCase()&&(d=Object.assign({},i.data)),d=JSON.stringify(d);var c=i.header.token||"",g=[u,a,p,d,c].join(SPACE);i.header["x-sign"]=MD5(g,client_id),i.header["x-timestamp"]=a,i.header["x-random"]=u}return Object.keys(i.query).forEach(function(e){i.url+=(i.url.includes("?")?"&":"?")+[encodeURIComponent(e),encodeURIComponent(i.query[e])].join("=")}),i.timestamp=+new Date,i.complete=function(r){var o=$requestList.indexOf(i);for($requestList.splice(o,1),o=0;o<$requestList.length;o++){var s=$requestList[o];if("pending"===s.status){wx.request(s),delete s.status;break}}r.statusCode=r.statusCode||0;var a=null;if(r.errMsg.includes("request:fail")&&(a=new Error(r.errMsg),a.name="Network Error",a.type=1,a.errType="networkError",a.res=r),r.errMsg.includes("request:ok")){if([4,5].includes(parseInt(r.statusCode/100,10)))a=new Error(r.errMsg),a.name="Server Error",a.type=2,a.errType="serverError",a.res=r;else if(r.data&&r.data.error)a=new Error(r.data.error.message),a.name="Internal Error",a.type=3,a.errType="otherError",a.res=r,a.errRes=r.data.error,[401].includes(r.data.error.code)&&n&&n.logout();else{var u=getCurrentPages().slice(-1)[0];u&&u.hideErrorPage&&"function"==typeof u.hideErrorPage&&u.hideErrorPage()}}i.options&&(i.options.loading&&wx.hideToast(),i.options.barLoading&&wx.hideNavigationBarLoading());var p={request:i,timestamp:+new Date,header:r.header,body:r.data,statusCode:parseInt(r.statusCode,10)};e&&e(a,p);var d={};a&&(d={logContent:a.message,firstCategory:a.name,secondCategory:i.url});try{n.owl.resource.pushApi(Object.assign({name:t,timestamp:i.timestamp,statusCode:parseInt(r.statusCode,10),resourceUrl:t,header:i.header,responsetime:+new Date-i.timestamp},d))}catch(e){console.error(e)}i.options&&i.options.key&&setTimeout(function(){delete $requestingMap[i.options.key]},100),wx.stopPullDownRefresh()},i.options&&(i.options.loading&&wx.showToast({icon:"loading",title:"加载中...",duration:1e4}),i.options.barLoading&&wx.showNavigationBarLoading()),$requestList.push(i),$requestList.length>$requestLimit?i.status="pending":wx.request(i),$requests>100&&$requests.clear(),$requests.push(i),o}};return"get post put delete".split(" ").forEach(function(e){u[e]=function(){return function(t){return i.url=i.url||t,i.method=(i.method||e).toUpperCase(),u}}()}),u}; 
 			}); 
		define("scripts/risk-finger.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.finger=e()}(void 0,function(){var t=function(t){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)},e=function(t,e){return"string"==typeof t?t.charCodeAt(e):t instanceof Uint8Array?t[e]:0},n="undefined"!=typeof top&&top.btoa||function(n){for(var o=[],s=0,c=n.length,i=0,r=0;r<c;++r)3===(s+=1)&&(s=0),i=e(n,r),0===s?o.push(t(63&(e(n,r-1)<<2|i>>6)),t(63&i)):1===s?o.push(t(i>>2&63)):o.push(t(63&(e(n,r-1)<<4|i>>4))),r===c-1&&s>0&&o.push(t(i<<(3-s<<1)&63));if(s)for(;s<3;)s+=1,o.push("=");return o.join("")},o={app:0},s={system:{}},c=function(){try{wx.getSetting&&wx.getSetting({success:function(t){t.authSetting&&t.authSetting["scope.userLocation"]&&function(){try{wx.getLocation({type:"wgs84",success:function(t){s.location=t}})}catch(t){}}()}})}catch(t){}},i=function(t){try{wx.getSetting?wx.getSetting({success:function(e){e.authSetting&&e.authSetting["scope.userInfo"]?r(t):t&&t()},fail:function(){t&&t()}}):t&&t()}catch(e){t&&t()}},r=function(t){wx.getUserInfo({success:function(e){var n={};Object.assign(n,e.userInfo),n.nickName=encodeURIComponent(e.userInfo.nickName),s.userInfo=n,t&&t()},fail:function(){t&&t()}})};return function(){try{wx.getSystemInfo({success:function(t){Object.assign(s.system,t)}})}catch(t){}}(),function(){try{wx.getNetworkType({success:function(t){s.system.networkType=t.networkType}}),wx.onNetworkStatusChange&&wx.onNetworkStatusChange(function(t){s.system.networkType=t.networkType})}catch(t){}}(),function(){try{wx.onAccelerometerChange(function(t){s.system.accelerometer||(s.system.accelerometer=[]),s.system.accelerometer.length>20&&s.system.accelerometer.shift(),s.system.accelerometer.push({x:Number(t.x).toFixed(3),y:Number(t.y).toFixed(3),z:Number(t.z).toFixed(3)})}),wx.onCompassChange(function(t){s.system.compass||(s.system.compass=[]),s.system.compass.length>20&&s.system.compass.shift(),s.system.compass.push(Number(t.direction).toFixed(3))})}catch(t){}}(),i(),c(),{s:function(t){o.app=t},g:function(t){s.app=o.app;var e="WX__1_";try{if(s.location||c(),s.userInfo){var r=JSON.stringify(s);e+=n(r),t&&t(e)}else i(function(){var o=JSON.stringify(s);e+=n(o),t&&t(e)})}catch(n){t&&t(e)}}}}); 
 			}); 
		define("scripts/risk.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var init;exports=module.exports={params:function(t,e){var n=getApp(),o=init||{},i=function(t){o.latitude&&!t.latitude||(o.latitude=t.latitude,o.longitude=t.longitude,o.speed=null!=t.speed?t.speed:-1,o.accuracy=null!=t.accuracy?t.accuracy:-1)};if(n.$location&&n.$location.latitude&&i(n.$location),n.$location&&i(n.$location),init||(o.networkType="unknow"),wx.getNetworkType({success:function(t){o.networkType=t.networkType}}),!init){var a=function(t){o.model=t.model,o.pixelRatio=t.pixelRatio,o.windowWidth=t.windowWidth,o.windowHeight=t.windowHeight,o.language=t.language,o.version=t.version,o.system=t.system,o.platform=t.platform};n.$systemInfo&&n.$systemInfo.model?a(n.$systemInfo):n.systemInfo().then(a),wx.onAccelerometerChange(function(t){o.x=t.x,o.y=t.y,o.z=t.z}),wx.onCompassChange(function(t){o.direction=t.direction})}if(o.touchPoint="",t){var r;try{r=t.detail.x+","+t.detail.y}catch(t){}try{r=r||t.touches[0].pageX+","+t.touches[0].pageY}catch(t){}try{r=r||t.touches[0].x+","+t.touches[0].y}catch(t){}null==r&&(r="string"==typeof t?t:JSON.stringify(t)),r&&(o.touchPoint=r)}o.app_name="group",o.user_type="wx",init=o;var c=function(){"function"==typeof e&&(e(o),e=null)},u=n.getUser();u&&u.openId&&function(t){var e=t.userInfo||(t.wxUserInfo&&t.wxUserInfo.userInfo?t.wxUserInfo.userInfo:{});o.openid=t.openId,o.gender=e.gender,o.city=e.city,o.province=e.province,o.country=e.country,o.avatarUrl=e.avatarUrl,o.unionId="{{ unionId }}",setTimeout(c,50)}(n.$user),setTimeout(c,700)}}; 
 			}); 
		define("scripts/share.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function share(s){var t=this,e=s.bonusId,o=s.bonusCode,a=s.title,n=s.totalStats,r=s.groupStats,u=s.PROD,c=s.imageUrl,i=encodeURIComponent(a),h="pages/bonus/result?from=friend&bonusId="+e+"&bonusCode="+o+"&title="+i;return c=c||"http://p0.meituan.net/mmdb/52250e1d71c47f75b789b956383550c8104382.png",{title:a,path:h,success:function(s){statsShareInfo.call(t,{successInfo:s,totalStats:n,groupStats:r}),postShareInfo.call(t,{bonusId:e,bonusCode:o,PROD:u})},imageUrl:c}}function statsShareInfo(s){var t=s.successInfo,e=s.totalStats,o=s.groupStats;this.stats(e),t.shareTickets&&t.shareTickets instanceof Array&&t.shareTickets.length>0&&this.stats(o)}function postShareInfo(s){var t=s.bonusId,e=s.bonusCode,o=getApp(),a=o.$user.wxUserInfo.userInfo;o.request().post("/proxy/market/share/bonus/share.json").header({token:o.$user&&o.$user.token,"x-host":"http://maoyanapi.vip.sankuai.com"}).send({bonusId:t,bonusCode:e,nickName:a.nickName,avatarUrl:a.avatarUrl,channelId:o.channelId}).end().then(function(s){s.body&&s.body.success&&console.log("shareInfo push success!")})}var stats=require("./stats"),app=getApp();module.exports=share; 
 			}); 
		define("scripts/show/activity.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function getUrlParamByName(e,a){e=e.replace(/[[]]/g,"\\$&");var t=new RegExp("[?&(//)]"+e+"(=([^&#]*)|&|#|$)"),i=t.exec(a);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}var _activityTag=require("./activityTag"),activity=/(op|i)\.meituan\.com/,isQuery=/[?&]\w+/,isUrl=/https?:\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/,isDetail=/show-detail/,needPreLogin=/[?&]pre_login/,wxappProtocol=/^wxapp:\/\//,canJump2MiniProgram=wx.canIUse("navigateToMiniProgram");module.exports=function(e){var a=void 0;if("[object String]"===toString.call(e))a=e;else{var t=e.currentTarget,i=t.dataset,r=i.webView,o=r.link,n=r.adTitle,l=r.adSubTitle,g=i.activitySetTag,p=void 0;if(p=o&&o.replace(/^https?/,"https"),a=p,activity.test(p)&&!wxappProtocol.test(p)){var s=p+(isQuery.test(p)?"&":"?")+"_from=miniProgram_movieshow&adTitle="+n+"&adSubTitle="+l;a="/pages/showsubs/webview/webview?url="+encodeURIComponent(s)}else if(isUrl.test(p)&&isDetail.test(p)){var c=getUrlParamByName("data",p);c=c||getUrlParamByName("id",p),a="/pages/show/detail/index?id="+c}else if(p&&p.startsWith("http")){var m=(p+"&_from=miniProgram_movieshow&adTitle="+n+"&adSubTitle="+l).replace(/[&?]{1,2}/,"?");a="/pages/showsubs/webview/webview?url="+encodeURIComponent(m)}var v=g||getUrlParamByName(_activityTag.activityTag.STATS_TAG,p)||getUrlParamByName(_activityTag.activityTag.FROM_TAG,p);v&&(a=a+"&"+_activityTag.activityTag.STATS_TAG+"="+v)}if(!a)return console.error("[链接错误]:链接为空或非法链接");if(wxappProtocol.test(a)){var w=getUrlParamByName("appId",a),u=getUrlParamByName("path",a);if(w&&u)return canJump2MiniProgram&&wx.navigateToMiniProgram({appId:w,path:u.replace(/^\//,"")});var T=a.replace(wxappProtocol,"/");if(/^\/pages\//.test(T))return wx.navigateTo({url:T})}var d=decodeURIComponent(a);if(needPreLogin.test(d))return getApp().login().then(function(e){wx.navigateTo({url:a})});wx.navigateTo({url:a})}; 
 			}); 
		define("scripts/show/activityTag.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function storage(t,e,o){if(void 0===e||"function"==typeof e){var _=e;return e=wx.getStorageSync(t),e&&e.__v&&(e=e.expires<+new Date?"":e.__v),""===e&&_&&(o=_.length?{}:null,void 0!==(e=_(o))&&storage(t,e,o)),e}o&&(o.__v=e,e=o),wx.setStorageSync(t,e)}module.exports={activityTag:{FROM_TAG:"fromTag",STATS_TAG:"utm_content",GOLD_EMPLACEMENT:"myyc_gold",HOT_SHOP_LIST:"myyc_hotshop",STATS_TAG_REGX:/utm_content/,FROM_TAG_REGX:/fromTag/},refreshActivityTag:function(t,e){var o=storage("stats_utm");o&&(Object.keys(o).forEach(function(_){_!==t||e||delete o[_],_===t&&e&&(o[_]=e)}),storage("stats_utm",o))}}; 
 			}); 
		define("scripts/show/bindPhoneNumber.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,s){try{var o=t[a](s),u=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}var _user=require("./user"),_user2=_interopRequireDefault(_user),_store=require("../store"),_store2=_interopRequireDefault(_store),_user3=require("../user"),_user4=_interopRequireDefault(_user3),_aes=require("../aes/aes"),_aes2=_interopRequireDefault(_aes),_AesUtil=require("../aes/AesUtil"),_AesUtil2=_interopRequireDefault(_AesUtil),_md=require("../md5"),_md2=_interopRequireDefault(_md),PREFIXV1="https://wx.maoyan.com/maoyansh/myshow/ajax",app=getApp(),resetPhoneNumDateLastTime=864e5;module.exports={getUserPhoneNumber:function(){var e=this;app.request().get(PREFIXV1+"/mpUser/mobileNo").query({sellChannel:7,token:(0,_user2.default)(app.$user).token}).end().then(function(t){e.setData({userPhoneNumber:t.body.data})}).catch(function(e){})},bindUserPhoneNumber:function(e){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t._isNeedAes();case 2:return r=n.sent,a={mobile:e},r&&(a=t._aesMessage(e)),n.abrupt("return",new Promise(function(e){app.request().config("loading",1).post(PREFIXV1+"/mpUser/bindMobile").header("content-type","application/json").query({sellChannel:7,token:(0,_user2.default)(app.$user).token}).send(a).end().then(function(t){e(t.body)}).catch(function(t){e()})}));case 6:case"end":return n.stop()}},n,t)}))()},getPhoneNumber:function(e,t,n){var r=this;return _asyncToGenerator(regeneratorRuntime.mark(function a(){var s,o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:s=function(a){try{a||(r.toast("获取手机号失败"),app.updateCode()),r.bindUserPhoneNumber(a).then(function(s){var o=(new Date).getTime()+resetPhoneNumDateLastTime;r.setStoreAsync("resetPhoneNumDate",o),r.setData({resetPhoneNumDate:o});var u=s&&200===s.code;u&&r.getUserPhoneNumber(),n||u||t(e,!1,a),!n&&u&&t(e,!0,a),n&&u&&t(e,!0,a),n&&!u&&r.toast("绑定手机号失败请重新授权绑定")})}catch(e){console.log("bindUserPhoneNumber error",e)}},o=r,-1===e.detail.errMsg.indexOf("fail user deny")&&-1===e.detail.errMsg.indexOf("cancel to confirm login")||(r.getWXPhoneNumberCancel&&r.getWXPhoneNumberCancel(),r.setStoreAsync("resetPhoneNumDate",(new Date).getTime()+resetPhoneNumDateLastTime).then(o.getStoreAsync("resetPhoneNumDate").then(function(e){o.setData({resetPhoneNumDate:e})})),!n&&t(e),n&&o.toast("请授权手机号")),-1===e.detail.errMsg.indexOf("fail cancel")&&-1===e.detail.errMsg.indexOf("fail user cancel bind")&&-1===e.detail.errMsg.indexOf("fail:cancel to bind phone")&&-1===e.detail.errMsg.indexOf("fail:user cancel")||(r.setStoreAsync("resetPhoneNumDate",(new Date).getTime()+resetPhoneNumDateLastTime).then(o.getStoreAsync("resetPhoneNumDate").then(function(e){o.setData({resetPhoneNumDate:e})})),!n&&t(e),n&&o.toast("请授权手机号")),-1!==e.detail.errMsg.indexOf("ok")&&(r.getWXPhoneNumberSuccess&&r.getWXPhoneNumberSuccess(),_user4.default.getPhoneNumber(e,app.getCode(),s.bind(r)));case 5:case"end":return a.stop()}},a,r)}))()},setStoreAsync:function(e,t){return new Promise(function(n){wx.setStorage({key:e,data:t,success:function(e){n()}})})},getStoreAsync:function(e){return new Promise(function(t){wx.getStorage({key:e,success:function(e){t(e.data)}})})},resetBindPhoneNumberDate:function(){var e=_store2.default.get("resetPhoneNumDate")||0;(new Date).getTime()>=e?(_store2.default.set("resetPhoneNumDate",null),this.setData({resetPhoneNumDate:null})):this.setData({resetPhoneNumDate:e})},toast:function(e){wx.showToast({title:e,icon:"none"}),setTimeout(function(){wx.hideToast()},1e3)},_aesMessage:function(e){var t=_aes2.default.lib.WordArray.random(16).toString(_aes2.default.enc.Hex),n=_aes2.default.lib.WordArray.random(16).toString(_aes2.default.enc.Hex),r=this._getAesKeyByDate();return{iv:t,salt:n,mobile:new _AesUtil2.default(128,1e3).encrypt(n,t,r,e),flag:1}},_isNeedAes:function(){return new Promise(function(e){app.request().get(PREFIXV1+"/rsa/switch").query({sellChannel:7,token:(0,_user2.default)(app.$user).token}).end().then(function(t){e(t.body.data)}).catch(function(t){e()})})},_getAesKeyByDate:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),a=""+t+n+r;return(0,_md2.default)(a)}}; 
 			}); 
		define("scripts/show/date.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function formatDate(e,t){var r=new Date(e);return r.getFullYear()+"年"+(r.getMonth()+1)+"月"+r.getDate()+"日"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=formatDate; 
 			}); 
		define("scripts/show/formatTime.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";module.exports=function(e){var t=new Date(1e3*e),r=t.getFullYear(),a=t.getMonth()+1;a=a<10?"0"+a:a;var n=t.getDate();n=n<10?"0"+n:n;var u=t.getHours();u=u<10?"0"+u:u;var g=t.getMinutes(),o=t.getSeconds();return g=g<10?"0"+g:g,o=o<10?"0"+o:o,r+"年"+a+"月"+n+"日 "+u+":"+g}; 
 			}); 
		define("scripts/show/linaConfig.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _storageKey=require("./storageKey"),_storageKey2=_interopRequireDefault(_storageKey),LINA_CONFIG_URL="https://lina.dianping.com/api/get?key=maoyansh-show-config",app=getApp();exports.default=function(e){var t=app.get(_storageKey2.default.linaConfigKey);return t?Promise.resolve(t):app.request().get(LINA_CONFIG_URL).end().then(function(e){var t=e.body,r=t.code,a=t.data;if(200!==r||!a||!a.value)throw new Error("Lina接口出错！");return app.set(_storageKey2.default.linaConfigKey,a.value,{expires:3e5}),a.value})}; 
 			}); 
		define("scripts/show/location.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _setCity(t,i,a){i.data.city=t.city||t.locationCity||{},"function"==typeof a&&a.call(i)}var app=getApp();module.exports=function(t,i){var a=app.$location;t.data||(t.data={}),a.city||a.locationCity?_setCity(a,t,i):app.models.location.fetch().then(function(a){_setCity(a,t,i)})}; 
 			}); 
		define("scripts/show/realname.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function encryptRealname(e){var r=e;return[2,3].includes(e.length)?r="*"+e.substring(1):e.length>3&&(r="*"+e.slice(-2)),r}function encryptIDNumber(e){if(e.length>8){return e.slice(0,3)+"**********"+e.slice(-4)}return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.encryptRealname=encryptRealname,exports.encryptIDNumber=encryptIDNumber; 
 			}); 
		define("scripts/show/salesWays.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";module.exports={MERCHANTS:{name:"merchants",settleChannel:2}}; 
 			}); 
		define("scripts/show/storageKey.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var SHOW_STORE_PREFIX="myshow_project_",storeKeys={salesWay:"salesWay",isBVersion:"isBVersion",linaConfigKey:"lina_config_data"};exports.default=Object.keys(storeKeys).reduce(function(e,s){return e[s]=""+SHOW_STORE_PREFIX+storeKeys[s],e},{}); 
 			}); 
		define("scripts/show/user.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";module.exports=function(e){var c={};return Object.keys(e).forEach(function(n){"wxUserInfo"===n?Object.keys(e[n]).forEach(function(o){"userInfo"===o?Object.keys(e[n][o]).forEach(function(t){c[t]=e[n][o][t]}):c[o]=e[n][o]}):c[n]=e[n]}),c}; 
 			}); 
		define("scripts/shows.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function formatShows(e,t,r){return e.map(function(e){return e.posterUrl&&(e.posterUrl=app.img(e.posterUrl,128,180)),e.pageUrl="/pages/show/detail/index?id="+e.id+(r?"&utm_source="+r:""),e.cityshop=(e.cityName?e.cityName+" | ":"")+e.shopName,e.cityshop=formatKey(e.cityshop,t),e.name=formatKey(e.name,t),e.shopName=formatKey(e.shopName,t),e.showTimeDesc=formatKey(e.showTimeDesc,t),e})}function formatKey(e,t){if(!e)return[];var r=e.replace(new RegExp(t,"g"),"<text>"+t+"<text>");return r=r.replace(new RegExp(" ","g"),"&ensp;"),r.split("<text>").filter(function(e){return!!e})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatShows=formatShows,exports.formatKey=formatKey;var app=getApp(); 
 			}); 
		define("scripts/sign.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_md=require("md5"),_md2=_interopRequireDefault(_md),app=getApp(),Sign=function(e,t){if(e){e=DisposeUndefined(e);var r=(new Date).getTime(),n=randomString();e=t?_extends({},e,{time_stamp:r,app_key:t,rand_str:n}):_extends({},e,{time_stamp:r,rand_str:n}),e=objKeySort(e);var o="",i=Object.keys(e),a=!0,l=!1,y=void 0;try{for(var f,d=i[Symbol.iterator]();!(a=(f=d.next()).done);a=!0){var u=f.value;o+="&"+u+"="+e[u]}}catch(e){l=!0,y=e}finally{try{!a&&d.return&&d.return()}finally{if(l)throw y}}o.length>0&&(o=o.slice(1));var s=(0,_md2.default)(o);e.sign=s,e.app_key&&delete e.app_key}return e},SignFission=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1.0",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"MD5",o=app.channelId.toString()||"70001",i=(new Date).getTime().toString(),a={merCode:o,timeStamp:i,version:r,signType:n,bizData:e};a=objKeySort(a);var l="",y=Object.keys(a),f=!0,d=!1,u=void 0;try{for(var s,p=y[Symbol.iterator]();!(f=(s=p.next()).done);f=!0){var v=s.value;l+="&"+v+"="+a[v]}}catch(e){d=!0,u=e}finally{try{!f&&p.return&&p.return()}finally{if(d)throw u}}l+="&key="+t,l.length>0&&(l=l.slice(1));var c=(0,_md2.default)(l);return a.signMsg=c,a.key&&delete a.key,a},objKeySort=function(e){for(var t=Object.keys(e).sort(),r={},n=0;n<t.length;n++){var o=e[t[n]];void 0!==o&&""!==o&&("object"===(void 0===o?"undefined":_typeof(o))?r[t[n]]=JSON.stringify(o):r[t[n]]=o)}return r},DisposeUndefined=function(e){var t=Object.keys(e),r=!0,n=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var l=i.value;void 0!==e[l]&&""!==e[l]||delete e[l]}}catch(e){n=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}return e},randomString=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890",r=t.length,n="",o=0;o<e;o++)n+=t.charAt(Math.floor(Math.random()*r));return n};module.exports={Sign:Sign,SignFission:SignFission}; 
 			}); 
		define("scripts/stats.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var _slicedToArray=function(){function t(t,e){var n=[],a=!0,r=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(a=(i=u.next()).done)&&(n.push(i.value),!e||n.length!==e);a=!0);}catch(t){r=!0,o=t}finally{try{!a&&u.return&&u.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(t){function e(e,a){var i={},u={order:"BO",pay:"BP",appOnload:"AS",appOnshow:"AS",mpt:"PV",mge:"MC"},l=__wxRoute,v={val_cid:function(){return a.val_cid||(l!==t?l:"")},val_val:function(){return s({},i,a.val_val)}};a.stats=function(t,n,a){"order"!==t&&"pay"!==t&&(a=n,n=t),t=u[t]||"MC",o(e,s({nm:t,val_bid:n,val_lab:a},v))},a.fullParamStats=function(t){!t||Object.keys(t).length<=0||o(e,s(t,v))},n(a,"onLoad",function(e,n,a){if("{}"!==JSON.stringify(a[0]||{})){a[0].q&&(a[0]=s(a[0],r(a[0].q)));var o={utm_source:a[0].utm_source,utm_medium:a[0].utm_medium,utm_term:a[0].utm_term,utm_content:a[0].utm_content,utm_campaign:a[0].utm_campaign};"{}"!==JSON.stringify(o)&&(Object.keys(o).forEach(function(e){o[e]===t&&delete o[e]}),o=Object.assign({},c("stats_utm"),o),c("stats_utm",o)),i.custom=s({},i.custom,a[0])}n.apply(this,a)});var d;n(a,"onShow",function(t,n,a){d=+new Date,v.req_id=1e3*d+(1e3*Math.random()|0),setTimeout(function(){o(e,s({nm:"PV",val_act:"pageview",val_ref:m},v)),m=v.val_cid()},100),n.apply(this,a)}),n(a,"onHide",function(t,n,a){setTimeout(function(){o(e,s({isauto:1,nm:"PD",val_act:"quit",val_bid:"pagehide",val_lab:{duration:new Date-d}},v))},100),n.apply(this,a)});for(var _ in a)(a.hasOwnProperty(_)&&function(t){var n=!S[t]&&"function"==typeof a[t];return e.injectFilter&&(n=n&&e.injectFilter(t)),n}(_)||a[_+"_val_bid"])&&n(a,_,function(n,r,i){var u=i[0],l=u&&u.currentTarget?u.currentTarget:{dataset:{}};return setTimeout(function(){o(e,s({event_type:u&&"tap"===u.type?"click":t,nm:"MC",val_bid:l.dataset&&l.dataset.val_bid||a[n+"_val_bid"]||n,val_lab:l.dataset&&l.dataset.val_lab,val_act:l.id||t},v))},100),r.apply(this,i)})}function n(t,e,n){var r=t[e]||a;t[e]=function(){var t=[].slice.call(arguments,0);return n.call(this,e,r,t)}}function a(){}function r(t){var e=t.split("?"),n=_slicedToArray(e,2),a=(n[0],n[1]),r={};return a&&(r=a.split("&").reduce(function(t,e){var n=e.split("="),a=_slicedToArray(n,2),r=a[0],o=a[1];return t[r]=o,t},{})),r}function o(e,n){if(!n.val_cid)throw new Error("val_cid 是必须的");if("PV"!==n.nm&&!n.val_bid&&!n.val_act)throw new Error("非 PV 事件的 val_bid 或 val_act 是必须的");"function"==typeof n.val_cid&&(n.val_cid=n.val_cid()),"function"==typeof n.val_val&&(n.val_val=n.val_val()),"string"==typeof n.val_lab&&(n.val_lab=v(n.val_lab)),n.val_lab||(n.val_lab={}),null==n.tm&&(n.tm=+new Date),null==n.seq&&(n.seq=b++),null==n.nt&&(n.nt=3),null==n.isauto&&(n.isauto=0),e.env||(e.env=s({category:"data_sdk_"+e.channel,appnm:e.appnm,app:e.app,uuid:c("stats_uuid",d)},f)),e.env.utm=c("stats_utm")||t,e.utm&&(e.env.utm=e.utm(e.env.utm)),e.env.msid=c("stats_msid",_),p();var a=e.uid&&e.uid();if(a&&(e.env.uid=a),n.val_val){var r=getApp();if(!r||!r.$uuidV2)return void T.push({_opts:e,_ev:n});var o=i(n.val_val.custom,e),m=o.custom;n.val_val.custom=m}wx.getNetworkType({success:function(t){e.env.net=t.networkType.toUpperCase(),e.env.ua=e.env.ua.replace(/(NetType\/).*/,"$1"+e.env.net),e.noPending?l(e,n):T.length>0?(T.forEach(function(t){var e=t._opts,n=t._ev,a=i(n.val_val.custom,e),r=a.custom;e=a.opts,n.val_val.custom=r,n.val_lab.custom=s({},n.val_lab.custom,r),u(e,n)}),T=[]):(n.val_lab.custom=s({},n.val_lab.custom,n.val_val.custom),u(e,n))}})}function i(){var e=arguments.length>0&&arguments[0]!==t?arguments[0]:{},n=arguments[1],a=getApp();return e.openId=a.$openId,e.myuuid=a.$uuidV2,e.version=a.version,n.env.wxid=a.$openId,a.$location&&Object.keys(a.$location).length>0&&(e.cityId=(a.$location.city||{}).id||0,e.gcityId=(a.$location.locationCity||{}).id||0),{custom:e,opts:n}}function u(t,e,n){var a=c("stats_evs",function(){return[]});if(e)a.push(e);else if(n){do{e=a.shift()}while(e&&e.seq<n);e=null,n=null}t?c("stats_opts",t):t=c("stats_opts"),c("stats_evs",a),clearTimeout(x),x=setTimeout(function(){a[0]&&!h&&(h=1,wx.request({method:"POST",url:t.url+"?stats_sdk",data:[s({evs:a},t.env)],header:t.header?t.header():{"X-Host":"http://report.vip.sankuai.com"},success:function(t){t.statusCode+""=="200"&&(n=a.slice(-1)[0].seq)},complete:function(){h=0,n?u(null,null,n):setTimeout(u,3e4)}}))},200)}function l(t,e){wx.request({method:"POST",url:(t.url?t.url:g)+"?stats_sdk",data:[s({evs:[e]},t.env)],header:t.header?t.header():{"X-Host":"http://report.vip.sankuai.com"}})}function s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)n.hasOwnProperty(a)&&(t[a]=n[a])}return t}function c(t,e,n){if(void 0===e||"function"==typeof e){var a=e;return e=wx.getStorageSync(t),e&&e.__v&&(e=e.expires<+new Date?"":e.__v),""===e&&a&&(n=a.length?{}:null,void 0!==(e=a(n))&&c(t,e,n)),e}n&&(n.__v=e,e=n);try{wx.setStorageSync(t,e)}catch(t){console.error("storage",t)}}function v(t){if(null!=t){if(t=((t||"")+"").replace(/(\w+):/g,'"$1":').replace(/'/g,'"'))try{t=JSON.parse(t)}catch(t){console.error(t)}return t}}function d(){function t(t,e){var n,a=0;for(n=0;n<e.length;n++)a|=i[n]<<8*n;return t^a}var e,n,a=function(){for(var t=1*new Date,e=0;t===1*new Date&&e<200;)e++;return t.toString(16)+e.toString(16)},r=+(Math.random()+"").slice(2),o=f.ua||"",i=[],u=0;for(e=0;e<o.length;e++)n=o.charCodeAt(e),i.unshift(255&n),i.length>=4&&(u=t(u,i),i=[]);i.length>0&&(u=t(u,i)),o=u;var l=0;return f.sc&&(l=f.sc.split("*"),l=+l[0]*+l[1]),[a(),r,o,l,a()].map(function(t){return t.toString(16)}).join("-")}function _(t){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).slice(1)};return t.expires=+new Date+y,b=1,e()+e()+e()+e()+e()+e()+e()}function p(){var t=wx.getStorageSync("stats_msid");t.expires=+new Date+y,c("stats_msid",t)}var f,m,h,y=216e5,g="https://report.meituan.com/",w=!1,b=1,S=(module.exports=function(t){if(w||(wx.removeStorageSync("stats_utm"),w=!0),!f){var n=wx.getSystemInfoSync(),a=/(\w+)\s*([\d+\.]+)?/.exec(n.system);f={sdk_ver:"wx_stats_2.0",ch:"weixin",ct:a&&a[1].toLowerCase(),os:a&&a[2],lch:n.platform,ua:"MicroMessengerWXA ("+n.model+"; "+n.system+"; "+n.pixelRatio+"dpr; language/"+n.language+") "+n.platform+"/"+n.version+" NetType/",sc:n.windowHeight+"*"+n.windowWidth},wx.getNetworkType({success:function(t){f.ua.replace(/(NetType\/).*/,"$1"+t.networkType.toUpperCase())}})}return function(n){e(t,n)}},{stats:1,fullParamStats:1,data:1,onLoad:1,onReady:1,onShow:1,onHide:1,onPullDownRefresh:1,onUnload:1}),T=[],x=null}(); 
 			}); 
		define("scripts/stats2.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var r=0,e=Array(t.length);r<t.length;r++)e[r]=t[r];return e}return Array.from(t)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_slicedToArray=function(){function t(t,r){var e=[],o=!0,a=!1,n=void 0;try{for(var i,u=t[Symbol.iterator]();!(o=(i=u.next()).done)&&(e.push(i.value),!r||e.length!==r);o=!0);}catch(t){a=!0,n=t}finally{try{!o&&u.return&&u.return()}finally{if(a)throw n}}return e}return function(r,e){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return t(r,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(t){function r(r,o){e(o,"stats",function(r,e,o){var a=_slicedToArray(o,3),i=a[0],u=a[1],l=a[2],c=l===t?{}:l;switch(i){case"appOnload":case"appOnshow":break;case"order":n("order",u,c.orderId||c.order_id,c);break;case"pay":n("pay",u,c.orderId||c.order_id,c);break;case"view":n("moduleView",u,c);break;default:c=u,u=i,n("moduleClick",u,c)}return e.apply(this,o)}),e(o,"onLoad",function(t,r,e){this._hasPv=!1,r.apply(this,e)}),e(o,"onShow",function(t,r,e){n("pageView",o.val_cid||this.route,o.val_val),r.apply(this,e)});for(var a in o)(o.hasOwnProperty(a)&&function(t){var e=!f[t]&&"function"==typeof o[t];return r.injectFilter&&(e=e&&r.injectFilter(t)),e}(a)||o[a+"_val_bid"])&&e(o,a,function(t,r,e){var a=e[0],i=a&&a.currentTarget?a.currentTarget:{dataset:{}};return n("moduleClick",i.dataset&&i.dataset.val_bid||o[t+"_val_bid"]||t,i.dataset&&i.dataset.val_lab||{}),r.apply(this,e)})}function e(t,r,e){var a=t[r]||o;t[r]=function(){var t=[].slice.call(arguments,0);return e.call(this,r,a,t)}}function o(){}function a(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])}return t}function n(t){for(var r=arguments.length,e=Array(r>1?r-1:0),o=1;o<r;o++)e[o-1]=arguments[o];try{if(!l.get("wxid"))return void y.push({type:t,args:e});var n=getApp().page();if("pageView"!==t&&!n._hasPv)return void d.push({type:t,args:e});var i="pay"===t||"order"===t?2:1,c=e[i]||{};if("object"!==(void 0===c?"undefined":_typeof(c)))try{"string"==typeof c&&(c=c.replace(/(\w+):/g,'"$1":').replace(/'/g,'"')),c=JSON.parse(c)}catch(t){c={}}c.custom=a({},c.custom,{query:n.options,path:n.route}),e[i]=c,l[t].apply(l,e),"pageView"===t&&(n._hasPv=!0,u())}catch(t){var s=getApp();if(s&&s.owl){var p=s.owl.error;p.addError("stats2 error",p)}}}function i(){for(var r=void 0;r=y.shift();)n.apply(t,[r.type].concat(_toConsumableArray(r.args)))}function u(){for(var r=void 0;r=d.shift();)n.apply(t,[r.type].concat(_toConsumableArray(r.args)))}var l=require("./analytics"),c=(require("../config/wallet"),require("./login")),s=require("../models/location");module.exports=function(t){return function(e){r(t,e)}},l.init("https://report.meituan.com/?lx",{appnm:"maoyan_wxwallet_i_test",category:"movie"});var p=App;App=function(t){e(t,"onShow",function(t,r,e){var o=this;if(!e[0].query.utm_campaign){var n=this.openPlatform&&this.openPlatform.get();if(n){var u=n.extChannelId,s=n.extSubChannel;l.setUTM(a({},e[0].query,{utm_campaign:"openPlatform="+[u,s].filter(function(t){return!!t}).join("-")}))}}return setTimeout(function(){o.lx=l,c.openId().then(function(t){l.set("wxid",t),i()})},0),r.apply(this,e)}),p(t)},s.on("geo-location",function(t){l.resetGeolocation(t.longitude,t.latitude)});var f={stats:1,fullParamStats:1,data:1,onLoad:1,onReady:1,onShow:1,onHide:1,onPullDownRefresh:1,onUnload:1},y=[],d=[]}(); 
 			}); 
		define("scripts/store.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var META_DATA="_";module.exports={get:function(e){var t=this;if(e){var r=wx.getStorageSync(e);if(r&&r.expires){if(r.timestamp+1e3*r.expires<new Date)return this.remove(e),"";r=r.value}return r}return((wx.getStorageSync(META_DATA)||{}).keys||[]).reduce(function(e,r){return e[r]=t.get(r),e},{})},set:function(e,t,r){var n=r&&r.expires,s=wx.getStorageSync(META_DATA)||{};if(s.keys=s.keys||[],null===e)wx.clearStorage(),s.keys=[];else{if(!e)return console.error("storage","invalid key "+e),this;-1===s.keys.indexOf(e)&&s.keys.push(e),n&&(t={value:t,expires:n,timestamp:+new Date}),wx.setStorageSync(e,t)}return s.timestamp=+new Date,wx.setStorageSync(META_DATA,s),this},update:function(e,t){var r=wx.getStorageSync(e);return r.expires?r.value=t:r=t,wx.setStorageSync(e,r),this},remove:function(e){var t=wx.getStorageSync(META_DATA);t=t||{},t.keys=t.keys||[];var r=t.keys.indexOf(e);-1!==r&&t.keys.splice(r,1),wx.setStorageSync(META_DATA,t),wx.removeStorageSync&&wx.removeStorageSync(e)},clearOutdate:function(){var e=this;wx.getStorageInfo({success:function(t){var r=t.keys;Array.isArray(r)&&r.forEach(function(t){e.get(t)})}})}}; 
 			}); 
		define("scripts/tpl.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function Tpl(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.key,i=t.page;if(this.key=e||this.key,!this.key)throw Error("key不可为空");this.page=i||getCurrentPages().slice(-1)[0],this.bindEvent&&this.bindEvent(),event.attach(this),this.setData(this.data)}var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},inherits=require("./inherits"),event=require("../scripts/event");Tpl.prototype={setData:function(t){this.data=_extends({},this.data,t);var e={};e[this.key]=this.data,this.page.setData(e)}},Tpl.extends=function(t,e){return inherits(Tpl,t,e)},Tpl.prototype.constructor=Tpl,module.exports=Tpl; 
 			}); 
		define("scripts/update.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function update(){updateManager&&ready&&exe&&count&&(count--,wx.showModal({title:"更新提示",content:"新版本已经准备好，是否重启应用？",success:function(e){e.confirm&&updateManager.applyUpdate()}}))}function lessThan(e,t){try{return/(\d+)\.(\d+)\.(\d+)$/.exec(e).slice(1,4).map(function(e,t){return+e*Math.pow(10,5*(2-t))}).reduce(function(e,t){return e+t})</(\d+)\.(\d+)\.(\d+)$/.exec(t).slice(1,4).map(function(e,t){return+e*Math.pow(10,5*(2-t))}).reduce(function(e,t){return e+t})}catch(e){return!1}}function check(){var e=getApp();e.request().get("/updateInfo").host().end().then(function(t){var n=t.body;n.open&&lessThan(e.version,n.version)&&(exe=!0,update())})}var count=1,ready=!1,exe=!1,updateManager=void 0;wx.getUpdateManager&&(updateManager=wx.getUpdateManager(),updateManager.onUpdateReady(function(){ready=!0,update()})),module.exports=check; 
 			}); 
		define("scripts/user.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var store=require("./store"),loginScript=require("./login");module.exports={user:function(){var e=getApp(),r=this.getUser();return r&&r.token?(e.$user=r,Promise.resolve(r)):(e.$user={},Promise.reject(Error("未登录")))},getUser:function(e){var r=e||getApp();return r.$user.token?r.$user:(r.$user=store.get("user")||{},r.$openId=r.$user.openId,r.$user.openId||(r.$user={},store.remove("user")),r.$user.token?r.$user:null)},saveUser:function(e){var r=getApp();e=e||r.$user,r.$user=e,e&&e.openId&&r.owl.cfgManager.update("unionId",e.openId),store.set("user",r.$user,{expires:7776e3})},setMobile:function(e,r){var n=getApp();n.$user.mobile=e,n.$user.mobileType=0===r?0:1,store.update("user",n.$user)},logout:function(){var e=getApp();store.remove("user"),e.$user={}},openid:function(){return loginScript.openId()},silentLogin:function(e){var r=this,n=getApp(),t=this.getUser();return t&&t.token?Promise.resolve():loginScript.silentLogin(e).then(function(e){if(e.token){r.saveUser(e);var t=n.page();t.setData({isLogin:!0}),t.loginRefresh&&t.loginRefresh.call(t,"silentLogin")}return e})},checkLogin:function(e,r){var n="",t=!1,o=!1,i=getApp();"function"!=typeof e&&(r=e.fail,n=e.warn||"",t=!!e.ignoreLogin,o=!!e.ignoreLoginFail,e=e.success);var s=i.page(),u=this.getUser();if(u&&u.token)return e&&e.call(s);e&&(s.loginRefresh=function(){e.call(s)}),r&&(s.loginFail=function(){r.call(s)}),s.loginFailMsg=n,s.setData({needLogin:!0,isLogin:!1,ignoreLogin:t,ignoreLoginFail:o,loginWarn:n})},login:function(){var e=this;return new Promise(function(r,n){e.checkLogin({success:r,fail:n})})},getPhoneNumber:function(e,r,n){var t=this,o=getApp(),i=e.detail,s=i.encryptedData,u=i.iv;if("function"==typeof r&&(n=r,r=""),r=r||o.getCode(),!e.detail.errMsg||e.detail.errMsg.indexOf("getPhoneNumber:ok")<0)return n&&n.call();o.request().get("/wechat/wxapp/phone").query({appid:o.appId,code:r,encryptedData:s,iv:u}).end().then(function(e){var r=e.body.phoneNumber;t.setMobile(r),n&&n.call(null,r)}).catch(function(e){n&&n.call()})}}; 
 			}); 
		define("scripts/utils.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _url=require("../models/url"),_url2=_interopRequireDefault(_url);module.exports={compareVersion:function(e,t){e=e.split("."),t=t.split(".");for(var r=Math.max(e.length,t.length);e.length<r;)e.push("0");for(;t.length<r;)t.push("0");for(var n=0;n<r;n++){var u=parseInt(e[n],10),i=parseInt(t[n],10);if(u>i)return 1;if(u<i)return-1}return 0},parseQuery:function(e){if("string"==typeof e){var t=void 0;return e.split("&").reduce(function(e,r){return t=r.split("="),e[t[0]]=t[1],e},{})}},stringConcat:function(){return[].join.call(arguments,"")},shortCircuitArray:function(e,t){return e&&e.length?e:t},safeGet:function(e,t,r){return t=Array.isArray(t)?t:t.split("."),e=e[t[0]],e&&t.length>1?this.safeGet(e,t.slice(1),r):void 0===e?r:e},formatDate:function(e,t){var r={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in r)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?r[n]:("00"+r[n]).substr((""+r[n]).length)));return t},throttle:function(e,t){null!=t&&void 0!=t||(t=1500);var r=null;return function(){var n=+new Date;(n-r>t||!r)&&(r=n,e.apply(this,arguments))}},debounce:function(e,t){var r=void 0;return function(){var n=this,u=arguments,i=function(){r=null,e.apply(n,u)};clearTimeout(r),r=setTimeout(i,t)}},forwardShareURL:function(e){var t=getApp();e=e||_url2.default.getCurrentPageUrlWithArgs();return e="pages/movie/index?"+t.shareParams({redirect:"/"+e})},getCityAlter:function(){var e=getApp(),t=this.safeGet(e,"$location.city",null),r=e.get("city-cache");return t||r||{id:0}},formatMovieTime:function(e){var t=Math.floor(e/60),r=e%60;return(t>10?t:"0"+t)+":"+(r>10?r:"0"+r)+":00"},getTextLen:function(e){var t=0;if(e){t=e.length+e.replace(/[\u0020-\u007e\uff61-\uffef]/g,"").length}return t},formatTime:function(e){var t=new Date(1e3*e);return t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate())+" "+(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":"+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())}}; 
 			}); 
		define("scripts/uuid.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var num2letter=function(n){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n)},char2num=function(n,t){return"string"==typeof n?n.charCodeAt(t):n instanceof Uint8Array?n[t]:0},genUuid=function(n){for(var t=[],r=0,e=n.length,u=0,c=0;c<e;++c)3===(r+=1)&&(r=0),u=char2num(n,c),0===r?t.push(num2letter(63&(char2num(n,c-1)<<2|u>>6)),num2letter(63&u)):1===r?t.push(num2letter(u>>2&63)):t.push(num2letter(63&(char2num(n,c-1)<<4|u>>4))),c===e-1&&r>0&&t.push(num2letter(u<<(3-r<<1)&63));return t.join("")};module.exports={genUuid:genUuid}; 
 			}); 
		define("tpl/access-limit.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var Tpl=require("../scripts/tpl"),mainText=["正在拼命帮您往里挤，请耐心等待~","哎呀，没挤进去~"],buttonText="正在排队";module.exports=Tpl.extends({key:"AccessLimit",data:{showAccessLimitModal:!1,isPending:!0},constructor:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.key,t.page;Tpl.apply(this,arguments)},bindEvent:function(){this.page.onAccessLimitBack=this.onAccessLimitBack.bind(this),this.page.onAccessLimitConfirm=this.onAccessLimitConfirm.bind(this)},onAccessLimitConfirm:function(){this.data.isPending||(this.onConfirm&&this.onConfirm(),this.hide())},onAccessLimitBack:function(){this.hideOnBack?this.hide():wx.navigateBack()},show:function(){this.setData({showAccessLimitModal:!0})},hide:function(){this.setData({showAccessLimitModal:!1})},render:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=i.main_text,s=i.button_text,n=i.sleep_interval;if(!this.data.showAccessLimitModal){e=e||mainText,s=s||buttonText;var o=(e.length,n),a=0,c=0;clearTimeout(this.timer),function i(){var n=void 0,r=void 0,h=!0,d=Math.floor(a/10),m=e.length-2;0===c&&(c=d<m&&o-a>=10?10:o-a),n=e[Math.min(d,m)],a<o?(h=!0,r="正在排队("+c+"s)"):(r=s,n=e[e.length-1],h=!1),t.setData({confirmText:r,content:n,isPending:h}),a++,c--,a<=o&&(t.timer=setTimeout(i,1e3))}()}}},{getAttachFromError:function(t){return!!(t&&t.res&&t.res.data.error&&19e6===t.res.data.error.code)&&t.res.data.error.attach}}); 
 			}); 
		define("tpl/ad-banner.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function AdBanner(t){var e=t.page,a=t.positionIds,n=t.params;this.key="AdBanner",this.page=e,this.positionId=a,this.params=n||{},this.isDisplayDots=!0,this.setData(this.data)}var _slicedToArray=function(){function t(t,e){var a=[],n=!0,i=!1,r=void 0;try{for(var s,o=t[Symbol.iterator]();!(n=(s=o.next()).done)&&(a.push(s.value),!e||a.length!==e);n=!0);}catch(t){i=!0,r=t}finally{try{!n&&o.return&&o.return()}finally{if(i)throw r}}return a}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},_require=require("../scripts/banner"),maoyanBanner=_require.maoyanBanner,stats=require("../scripts/stats"),EMPTY=function(){},app=getApp(),statsChannel="rediantong",mge_bid="b_xmm5sgjk",mpt_bid="b_cy70t5em";AdBanner.prototype={_hidden:!1,get hidden(){return this._hidden},set hidden(t){this._hidden=t},props:{val_cid:"c_hw1gt8n5"},hasReportedAds:[],data:{banner:null,current:0},refresh:function(){var t=app.getPropSafely("$location.city.id",app,1),e={cityId:t,userId:(app.getUser()||{}).userId||"",params:this.params};this.fetch(e),this.render(e)},fetch:function(t){var e=this,a=t.cityId,n=t.userId,i=t.params;return this.dataPromise=maoyanBanner(a,this.positionId,n,i).then(function(t){return delete e.dataPromise,e.list=t,t}).catch(function(t){delete e.dataPromise}),this.dataPromise},render:function(){var t=this,e=void 0;this.initStats(),e=this.dataPromise?this.dataPromise:this.list?Promise.resolve(this.list):this.fetch.apply(this,arguments),e.then(function(e){!wx.canIUse("web-view")&&e&&(e=e.filter(function(t){return!/pages\/webview\/webview/.test(t.link)})),t.statsData=e.map(function(e){return _extends({positionId:t.positionId,ad_id:e.adId,materialId:e.materialId},t.params)}),t.setData({banner:e,isDisplayDots:e.length>1},function(){t.firstShow=!0,t.onPageScroll()})})},initStats:function(){this.hasReportedAds=[],stats({channel:statsChannel,appnm:app.lxAppname||app.appName,noPending:!0,uid:function(){return app.$user.userId}})(this.props)},onTapAdBanner:function(t){var e=t.currentTarget.dataset,a=e.url,n=e.idx;if(a){var i=a.match(/\/(wx\w{16})\/([\w\W]*$)/);i&&i.length>=3?wx.navigateToMiniProgram({appId:i[1],path:i[2],envVersion:"trail"}):app.goto(a),this.statsData[n]&&this.props.stats(mge_bid,this.statsData[n])}},onBannerChagne:function(t){this.hidden||this.hasReportedAds.indexOf(t)>=0||this.statsData[t]&&(this.props.stats(mpt_bid,this.statsData[t]),this.hasReportedAds.push(t))},onPageScroll:function(){var t=this,e=wx.createSelectorQuery();e.select(".ad-banner").boundingClientRect(),e.exec(function(e){if(e&&e[0]){var a=wx.getSystemInfoSync().windowHeight,n=_slicedToArray(e,1),i=n[0],r=i.bottom<0,s=i.top>a;t.hidden=!(!r&&!s),(t.firstShow||t.statsData&&1===t.statsData.length)&&(t.firstShow=!1,t.onBannerChagne(0))}})},setData:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:EMPTY;this.data=_extends({},this.data,t);var a={};a[this.key]=this.data,this.page.setData(a,e)}},AdBanner.prototype.constructor=AdBanner,module.exports=AdBanner; 
 			}); 
		define("tpl/count-down.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var getHMS=function(e){return{hour:Math.floor(e/36e5),minutes:Math.floor(e/6e4%60),second:Math.floor(e/1e3%60)}},getRemainTime=function(e,t){var o=new Date(1e3*e).getTime(),n=(new Date).getTime(),i={day:0,hour:"00",minutes:"00",second:"00"},r=o-n,u=!0;if(r>0){var a=getHMS(r),s=a.hour,m=a.minutes,h=a.second,c=0;if(u=!1,t.isShowDay){s=s>24?23:s,c=Math.floor(r/864e5);var f=r-1e3*c*60*60*24,d=getHMS(f);s=d.hour,m=d.minutes,h=d.second}i={day:c>0?c+"天":0,hour:s>99?99:s<10?"0"+s:s,minutes:m<10?"0"+m:m,second:h<10?"0"+h:h}}return{time:i,over:u}};module.exports=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function n(){var i=getRemainTime(e,o),r=i.time,u=i.over;t(r),u||setTimeout(function(){n()},1e3)}(),this}; 
 			}); 
		define("tpl/coupon-input.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function CouponInput(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.key="CouponInput",this.data={isShow:!1,inputCoupon:"",errorMsg:""},this.page=t.page||app.page(),this.key=t.key||this.key,this.setData(this.data),this.bindEvent(),event.attach(this)}var _extends=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},event=require("../scripts/event"),app=getApp();CouponInput.prototype={bindEvent:function(){this.page.onInputCoupon=this.onInputCoupon.bind(this),this.page.onCouponInputConfirm=this.onConfirm.bind(this),this.page.onCouponInputCancel=this.onCancel.bind(this)},onInputCoupon:function(t){this.data.inputCoupon=t.detail.value,this.data.errorMsg&&this.setData({errorMsg:""})},getCoupon:function(){return this.data.inputCoupon},onConfirm:function(){var t=this.data.inputCoupon;if(!t)return void this.error("不能为空");this.hide(),this.emit("success",t)},onCancel:function(){this.hide()},show:function(){this.setData({isShow:!0,inputCoupon:"",errorMsg:""})},isShow:function(){return!!this.data.isShow},hide:function(){this.setData({isShow:!1,inputCoupon:"",errorMsg:""})},error:function(t){this.setData({errorMsg:t})},clear:function(){this.setData({inputCoupon:""})},setData:function(t){this.data=_extends({},this.data,t);var n={};n[this.key]=this.data,this.page.setData(n)}},CouponInput.prototype.constructor=CouponInput,module.exports=CouponInput; 
 			}); 
		define("tpl/deal.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var Tpl=require("../scripts/tpl"),app=getApp();module.exports=Tpl.extends({key:"Deal",bindEvent:function(){this.page.onPreviewImage=this.onPreviewImage.bind(this.page),this.page.onGotoUrl=this.onGotoUrl.bind(this.page),this.page.showAllDeals=this.showAllDeals.bind(this.page),this.page.onTapDeal=this.onTapDeal.bind(this.page),this.page.clickBtn=this.clickBtn.bind(this.page)},onPreviewImage:function(t){var i=t.currentTarget.dataset,a=i.img,e=i.valBid,s=i.index,n={cinemaid:this.data.cinema.id};(s||"number"==typeof s)&&(n.index=s),a&&(this.stats(e,n),wx.previewImage({current:a,urls:[a]}))},showAllDeals:function(t){var i=this.data.divideDealList,a=t.currentTarget.dataset,e=a.dealType,s=a.drawerClickBid;i[e].sliceList=[],this.stats(s),this.setData({divideDealList:i})},onGotoUrl:function(t){var i=t.currentTarget.dataset,a=i.url,e=i.copyWrittingClickBid;this.stats(e,{cinemaid:this.data.cinema.id}),""!=a&&app.goto(a)},onTapDeal:function(t){var i=t.currentTarget.dataset,a=i.val_lab,e=i.index,s=i.valBid;a?Object.assign(a,{index:e}):a={index:e},this.stats(s,{index:e,cinemaid:this.data.cinema.cinemaId}),t.currentTarget.dataset.val_lab=a,this.onTapNavi(t)},clickBtn:function(t){var i=t.currentTarget.dataset,a=i.buyBtnClickBid,e=i.title,s=i.index;this.stats(a,{title:e,index:s,cinemaid:this.data.cinema.id})}}); 
 			}); 
		define("tpl/group-activity/attention-dialog/_index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,a,i){return a&&t(e.prototype,a),i&&t(e,i),e}}(),AttentionDialog=function(){function t(e,a,i){_classCallCheck(this,t),this.app=e,this.domain=i,this.page=a,this.initHideFunction()}return _createClass(t,[{key:"initData",value:function(){return this.app.request().get(this.domain+"/user/subscribe").header({"x-host":this.domain,token:this.app.$user.token}).end().then(function(t){return t.body})}},{key:"initHideFunction",value:function(){var t=this,e=function(e){var a=!1;e&&e.currentTarget&&e.currentTarget.dataset&&(a=e.currentTarget.dataset.to_attention),a&&t.page.stats("b_y6s08zyd")};if(this.page.hideAttentionDialog&&"function"==typeof this.page.hideAttentionDialog){var a=this.page.hideAttentionDialog,i=this;this.page.hideAttentionDialog=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return i.page.setData({showAttentionModal:!1},function(){e(n[0]),i.callback&&i.callback.apply(i.page,i.args)}),a.apply(this,n)}}this.page.hideAttentionDialog=function(a){t.page.setData({showAttentionModal:!1},function(){e(a),t.callback&&t.callback.apply(t.page,t.args)})}}},{key:"showAttentionDialog",value:function(t){this.page.setData({showAttentionModal:!0,attentionMessage:t||""});this.page.stats("b_4bwe2wa5"),this.app.set("showGroupAttentionDialogToday",!0,{expires:function(){var t=new Date,e=t.getTime();return t.setHours(0,0,0),(t.getTime()+864e5-e)/1e3}()})}},{key:"checkAttentionDialog",value:function(t,e){for(var a=arguments.length,i=Array(a>2?a-2:0),n=2;n<a;n++)i[n-2]=arguments[n];var o=this;if(this.callback=t,this.args=i,this.app.get("showGroupAttentionDialogToday")||this.userSubscribe||!this.app.$user.token)return void t.apply(this.page,i);void 0===this.userSubscribe?this.initData().then(function(a){o.userSubscribe=0===a.ret,o.userSubscribe?t.apply(o.page,i):o.showAttentionDialog(e)}).catch(function(e){t.apply(o.page,i)}):this.showAttentionDialog(e)}}]),t}();exports.default=AttentionDialog; 
 			}); 
		define("tpl/group-activity/float-message/_index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,a){for(var e=0;e<a.length;e++){var n=a[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(a,e,n){return e&&t(a.prototype,e),n&&t(a,n),a}}(),MIN_DELAY=400,FloatMessage=function(){function t(a,e,n,i){_classCallCheck(this,t),this.app=a,this.domain=n,this.activity_id=i,this.page=e,this.initData()}return _createClass(t,[{key:"initData",value:function(){var t=this;this.app.request().get(this.domain+"/activity/activitybroadcast").query({activity_id:this.activity_id,channelId:this.app.channelId}).end().then(function(t){return t.body}).then(function(a){0===a.ret&&(t.msgDatas=a.data||[],t.msgDatas.length>0&&t.startRandomMsg())}).catch(function(t){console.log(t)})}},{key:"startRandomMsg",value:function(){var t=this,a=this.msgDatas;if(!a||0===a.length)return void this.initData();var e=Math.floor(Math.random()*a.length),n=a.splice(e,1),i=+new Date;n[0].endTime=i+2400,n[0].key=n[0].text+"_"+Math.random();var s=(this.page.data.floatMsgArr||[]).filter(function(t){return t.endTime>=i});s.push(n[0]),this.page.setData({floatMsgArr:s},function(){t.msgDatas=a,setTimeout(function(){t.startRandomMsg()},MIN_DELAY+1800*Math.random())})}}]),t}();exports.default=FloatMessage; 
 			}); 
		define("tpl/image-maker/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}var Tpl=require("../../scripts/tpl"),_require=require("../../scripts/config"),host=_require.host,app=getApp();module.exports=Tpl.extends({key:"image-maker",data:{_showMakeImageCanvas:!1,_makeImageCanvasWidth:0,_makeImageCanvasHeight:0},isRemoteSrc:function(e){return app.$systemInfo&&"devtools"===app.$systemInfo.platform?0===e.indexOf("http")&&0!==e.indexOf("http://tmp/"):0===e.indexOf("http")},downloadImages:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Promise.all(t.filter(function(t){return 0===t.src.indexOf("/images")&&(t.src=host.bs+t.src),t.tmpSrc=t.src,e.isRemoteSrc(t.src)}).map(function(e){return app.downloadFile(e.src).then(function(t){return e.tmpSrc=t,e})}))},getImageSize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Promise.all(e.filter(function(e){return!e.width||!e.height}).map(function(e){return app.wx2promiseify(wx.getImageInfo,{src:e.tmpSrc}).then(function(t){return e.width=t.width,e.height=t.height,e})}))},setTextAlign:function(e,t){e.textAlign=t,e.setTextAlign(t)},makeImage:function(e){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function n(){var r,i,a,o,s,c,f,h,u,l,m;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.width,i=void 0===r?0:r,a=e.height,o=void 0===a?0:a,s=e.bgColor,c=void 0===s?"#ffffff":s,f=e.images,h=void 0===f?[]:f,u=e.words,l=void 0===u?[]:u,i&&o&&(h.length||l.length)){n.next=3;break}return n.abrupt("return");case 3:return t.page.setData({_showMakeImageCanvas:!0,_makeImageCanvasWidth:i,_makeImageCanvasHeight:o}),m=wx.createCanvasContext("make-image-canvas"),n.next=7,t.downloadImages(h);case 7:return n.next=9,t.getImageSize(h);case 9:return m.rect(0,0,i,o),m.setFillStyle(c),m.fill(),h.forEach(function(e){e.tmpSrc&&(e.isCircle?(m.save(),m.beginPath(),m.arc(e.left+e.width/2,e.top+e.height/2,e.width/2-2,0,2*Math.PI),m.closePath(),m.setStrokeStyle("#fff"),m.fillStyle="#fff",m.stroke(),m.clip(),m.drawImage(e.tmpSrc,e.left,e.top,e.width,e.height),m.restore()):m.drawImage(e.tmpSrc,e.left,e.top,e.width,e.height))}),l.forEach(function(e){m.setTextBaseline("top"),m.font=(e.fontStyle||"normal")+" "+(e.fontWeight||"400")+" "+(e.size||24)+"px "+(e.fontFamily||"auto"),m.setFontSize(e.size||24),m.setFillStyle(e.color||"#000000"),t.setTextAlign(m,e.textAlign||"left"),m.fillText(e.words,e.left,e.top,e.maxWidth)}),n.abrupt("return",new Promise(function(e){m.draw(!1,function(){setTimeout(function(){wx.canvasToTempFilePath({x:0,y:0,width:i,height:o,destWidth:i,destHeight:o,canvasId:"make-image-canvas",success:function(t){console.log(t.tempFilePath),e(t.tempFilePath)}})},300)})}));case 15:case"end":return n.stop()}},n,t)}))()}}); 
 			}); 
		define("tpl/locate-banner.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var Tpl=require("../scripts/tpl"),locationModel=require("../models/location");module.exports=Tpl.extends({key:"LocateBanner",data:{content:"",isShow:!0},bindEvent:function(){var t=this;locationModel.on("error",function(){t.setData({content:"无法获取定位，请您开启定位或者点击右侧刷新"})}),locationModel.on("locationChange",function(e){t.setData({content:e.address})}),this.page.onTapFresh=this.onTapFresh.bind(this);var e=this.page.onPageScroll;this.page.onPageScroll=function(){for(var o=arguments.length,n=Array(o),a=0;a<o;a++)n[a]=arguments[a];t.onPageScroll.apply(t,n),e&&e.apply(t.page,n)}},onTapFresh:function(){var t=this;getApp().checkLocationAuth().then(function(){t.render(!0)})},onPageScroll:function(t){var e=this;clearTimeout(this.showTimer),this.showTimer=setTimeout(function(){e.setData({isShow:!0})},200),this.data.isShow&&this.setData({isShow:!1})},render:function(t){var e=this;this.setData({content:"正在获取定位..."}),locationModel.fetch(t).then(function(t){e.setData({content:t.address})})}}); 
 			}); 
		define("tpl/mobile-confirm.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var app=getApp(),Tpl=require("../scripts/tpl");module.exports=Tpl.extends({key:"MobileConfirm",code:"",mobile:"",action:"setbindmobile",data:{count:0,showPhone:!1,sendSmsDisable:!0,showImage:!1,showImageAlert:!1,imgUrl:"",defaultMobile:""},bindEvent:function(){var e=this;this.page.verifySms=this.verifySms.bind(this),this.page.getSms=this.getSms.bind(this),this.page.hidePhoneVerify=function(){e.setData({showPhone:!1,sendSmsDisable:!0}),e.mobile=""},this.page.hideImageVerify=function(){e.setData({showImage:!1,sendSmsDisable:!1,showImageAlert:!1})},this.page.checkMobile=this.checkMobile.bind(this),this.page.getImage=this.getImage.bind(this),this.page.verifyImage=this.verifyImage.bind(this)},show:function(e){var t=this.isMobileValid(e);t&&(this.mobile=e,this.action="login"),this.setData({showPhone:!0,defaultMobile:e,sendSmsDisable:!t})},showImage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setData({showImage:!0,imgUrl:e})},isMobileValid:function(e){return/^1[3|4|5|7|8][0-9]{9}$/.test(e)},checkMobile:function(e){var t=e.detail.value,i=this.data.count;this.mobile=t,this.setData({sendSmsDisable:!(this.isMobileValid(t)&&0===i),defaultMobile:t})},getSms:function(e){var t=this,i=void 0;i=e&&e.detail&&e.detail.value?e.detail.value.mobile:this.mobile,this.setData({sendSmsDisable:!0}),this.verifyLoading(!0),app.request().get("/user/sendsms").query({mobile:i,uuid:app.$uuid,action:this.action}).end(function(e,i){if(t.verifyLoading(!1),e&&"null"!==e.message)t.page.toast(e.message),t.setData({sendSmsDisable:!1});else if(i.body.success)t.page.toast("验证码已发送"),t.countDown();else{var s=i.body,a=s.verifyUrl,o=s.request_code;t.code=o,t.setData({showImage:!0,imgUrl:a})}})},countDown:function(){var e=this;if(0===this.data.count){var t=this,i=60;this.setData({count:i}),this.timer=setInterval(function(){if(i-=1,e.setData({count:i}),0===i){clearInterval(t.timer);var s=/^1[3|4|5|7|8][0-9]{9}$/;e.setData({sendSmsDisable:!s.test(t.mobile)})}},1e3)}},getImage:function(){var e=this;app.request().get("/user/getcapcha").header({token:app.$user&&app.$user.token}).query({uuid:app.$uuid,userId:app.$user.userId,action:this.action}).end().then(function(t){var i=t.body,s=i.src,a=i.requestCode;e.setData({imgUrl:s}),e.code=a}).catch(function(t){console.error(t),e.page.toast(t.message)})},verifySms:function(e){var t=e.detail.value,i=t.mobile,s=t.smscode;if(!i||!s)return void this.page.toast("手机或验证码不能为空！");"login"===this.action?this.silentLoginRequest({mobile:i,mobileValidCode:s}):this.verifySmsRequest(i,s)},silentLoginRequest:function(e){var t=this;return this.verifyLoading(!0),delete app.silentLogin.requestLocked,app.silentLogin(e).then(function(){t.verifyLoading(!1)})},verifySmsRequest:function(e,t){var i=this;this.verifyLoading(!0);var s=app.store.get("temp_userId");app.request().post("/user/verifysms").header({token:app.$user&&app.$user.token,userId:app.$user&&app.$user.userId||s}).send({mobile:e,smscode:t,userId:app.$user.userId,uuid:app.$uuid,action:this.action}).end().then(function(t){i.verifyLoading(!1);var s=t.body,a=s.success,o=s.errMsg,n=s.responseCode;if(!a)return void i.page.toast(o);n&&i.silentLoginRequest({mobile:e,mobileResponseCode:n}),i.setData({showPhone:!1}),i.emit("success",i.mobile)}).catch(function(e){i.verifyLoading(!1),i.page.toast(e.message),console.error(e)})},verifyImage:function(e){var t=this,i=e.detail.value.captchacode;if(!i)return void this.page.toast("请输入验证码！");this.verifyLoading(!0),app.request().post("/user/verifycapcha").send({captchacode:i,code:this.code,action:this.action}).end().then(function(e){t.verifyLoading(!1),t.setData({showImage:!1,showImageAlert:!1}),t.getSms()}).catch(function(e){t.verifyLoading(!1),t.setData({showImageAlert:!0}),t.page.toast(e.message)})},verifyLoading:function(e){e?wx.showLoading({title:"正在验证..."}):wx.hideLoading()}}); 
 			}); 
		define("tpl/mobile-input.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function MobileInput(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.key="MobileInput",this.data={isShow:!1,inputMobile:"",errorMsg:""},this.page=t.page||app.page(),this.key=t.key||this.key,this.setData(this.data),this.bindEvent(),event.attach(this)}var _extends=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},event=require("../scripts/event"),app=getApp();MobileInput.prototype={bindEvent:function(){this.page.onInputMobile=this.onInputMobile.bind(this),this.page.onMobileInputConfirm=this.onConfirm.bind(this),this.page.onMobileInputCancel=this.onCancel.bind(this)},onInputMobile:function(t){this.data.inputMobile=t.detail.value,this.data.errorMsg&&this.setData({errorMsg:""})},getMobile:function(){return this.data.inputMobile},onConfirm:function(){var t=this.data.inputMobile;return t?/^1\d{10}$/.test(t)?(this.emit("success",t),void this.hide()):void this.error("手机号码不合法"):void this.error("不能为空")},onCancel:function(){this.hide()},show:function(){this.setData({isShow:!0,inputMobile:"",errorMsg:""})},isShow:function(){return!!this.data.isShow},hide:function(){this.setData({isShow:!1,inputMobile:"",errorMsg:""})},error:function(t){this.setData({errorMsg:t})},clear:function(){this.setData({inputMobile:""})},setData:function(t){this.data=_extends({},this.data,t);var i={};i[this.key]=this.data,this.page.setData(i)}},MobileInput.prototype.constructor=MobileInput,module.exports=MobileInput; 
 			}); 
		define("tpl/movie-remind-card.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var Tpl=require("../scripts/tpl"),app=getApp(),prefix="https://api.maoyan.com",cardTimeInterval=null,getMS=function(e){return{minutes:Math.floor(e/60%60),second:Math.floor(e%60)}};module.exports=Tpl.extends({key:"MovieRemindCard",hasPlay:!1,data:{isShow:!1,time:{minutes:"--",second:"--"}},bindEvent:function(){this.page.hideCardModal=this.hideCardModal.bind(this),this.page.gotoDealCenter=this.gotoDealCenter.bind(this),this.page.goMovieRemindModal=this.goMovieRemindModal.bind(this)},init:function(){var e=this;this.setData({time:{minutes:"--",second:"--"}});var t=app.models.location.get();t&&t.longitude&&t.latitude?this.fetchData(t):app.models.location.on("geo-location",function(t){e.fetchData(t)})},fetchData:function(e){var t=this,a=e.longitude,i=e.latitude;app.request().get("/intelligent/getticket.json").query({latitude:i,longitude:a,version:"1.0"}).host("api").header({token:app.$user.token,uuid:app.$uuid,"content-type":"application/json"}).end().then(function(e){return e.body.data}).then(function(e){if(!e||e.showTime<=-18e5)return t.hideCardModal();t.setData({movieName:e.movieName,screenName:e.screenName,cinemaName:e.cinemaName,cinemaId:e.cinemaId,seats:e.seats.join(" | "),hasSale:e.hasSale,minSalePrice:e.minSalePrice,picUrl:app.img(e.picUrl,104,147)}),t.startCountDown(e.showTime),t.show(),!e.hasPoppedUp&&t.page.movieRemindModal&&t.page.movieRemindModal.init&&t.page.movieRemindModal.init(),t.page.stats("b_jty5ihq6",{cinemaId:e.cinemaId}),t.page.stats("b_ptr626ah",{cinemaId:e.cinemaId}),0===e.hasSale&&t.page.stats("b_96pz3wmt",{cinemaId:e.cinemaId})}).catch(function(e){})},startCountDown:function(e){var t=this;cardTimeInterval&&this.clearAllInterval();var a=Math.floor((e+18e5)/1e3),i=!1;cardTimeInterval=setInterval(function(){0===a&&t.hideCardModal();var e=getMS(a),n={minutes:e.minutes,second:e.second};n.minutes-=30,n.minutes<0&&(i=!0,n.minutes=Math.abs(0===n.second?n.minutes:n.minutes+1),n.second=0===n.second?0:60-n.second),t.setData({hasPlay:i,time:{minutes:n.minutes<10?"0"+n.minutes:n.minutes,second:n.second<10?"0"+n.second:n.second}}),a-=1},1e3)},clearAllInterval:function(){null!==cardTimeInterval&&(clearInterval(cardTimeInterval),cardTimeInterval=null)},show:function(){this.setData({isShow:!0})},hideCardModal:function(){this.clearAllInterval(),this.setData({isShow:!1})},goMovieRemindModal:function(e){var t=e.currentTarget.dataset,a=t.valLab,i=t.valBid;this.page.stats(i,a),this.page.movieRemindModal&&this.page.movieRemindModal.init&&this.page.movieRemindModal.init()},gotoDealCenter:function(e){var t=e.currentTarget.dataset,a=t.valLab,i=t.valBid;this.page.stats(i,a),app.goto("/pages/dealsub/deal-center?cinemaId="+this.data.cinemaId)}}); 
 			}); 
		define("tpl/movie-remind-modal.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},Tpl=require("../scripts/tpl"),Date2=require("../scripts/date2"),app=getApp(),timer=null,orderIds=[],prefix="https://api.maoyan.com";module.exports=Tpl.extends({key:"MovieRemindModal",data:{isShow:!1,currentDotsIndex:0,ticketOrders:[],isAddCart:""},bindEvent:function(){this.page.hideRemindModal=this.hideRemindModal.bind(this),this.page.remindModalDotsChange=this.remindModalDotsChange.bind(this),this.page.goBuyGoods=this.goBuyGoods.bind(this),this.page.preventScroll=this.preventScroll.bind(this),this.page.collapseCode=this.collapseCode.bind(this)},init:function(){var e=this;this.setData({isShow:!1,currentDotsIndex:0,ticketOrders:[],isAddCart:""});var t=app.models.location.get();t&&t.longitude&&t.latitude?this.fetchData(t):app.models.location.on("geo-location",function(t){e.fetchData(t)})},fetchData:function(e){var t=this,a=e.longitude,i=e.latitude;orderIds=[],app.request().get("/intelligent/getuserorders.json").query({longitude:a,latitude:i,version:"1.0"}).host("api").header({token:app.$user.token,uuid:app.$uuid,"content-type":"application/json"}).end().then(function(e){return e.body.data}).then(function(e){if(!e||!e.ticketOrders||0===e.ticketOrders.length)return t.hideRemindModal();var a=[];e.ticketOrders.forEach(function(i){i.seats=i.seats.join(" | "),i.codeInfo=i.codeInfo||[],i.showTime=Math.floor(i.showTime/1e3/60),a.push(i),0===i.exchangeStatus&&i.orderSales&&0===i.orderSales.length&&i.saleList&&i.saleList.length>0&&orderIds.push(i.orderId),i.isCollapse=!1,i.saleList&&i.saleList.length>0&&i.orderSales&&0===i.orderSales.length&&t.page.stats("b_xys1485r",{cinemaId:e.cinemaId}),i.orderSales&&i.orderSales.length&&i.orderSales.forEach(function(e){e.validateTime=e.validateTime?Date2(e.validateTime).toString("yyyy-MM-dd HH:mm:ss"):"",a.push(_extends({},i,e))})}),t.setData({ticketOrders:a}),t.show(),t.page.stats("b_l4gf1vc4",{cinemaId:e.cinemaId})}).catch(function(e){})},fetchHasGot:function(){var e=this,t=this.data.ticketOrders;if(0===orderIds.length)return clearInterval(timer);app.request().get("/intelligent/getExchangeStatus.json").query({orderIds:orderIds.join(","),version:"1.0"}).host("api").header({token:app.$user.token,uuid:app.$uuid,"content-type":"application/json"}).end().then(function(e){return e.body.data}).then(function(a){var i=a.exchangeStatus||{};t.forEach(function(e){1===i[e.orderId]&&(e.exchangeStatus=i[e.orderId],e.isCollapse=!0,orderIds=orderIds.filter(function(t){return t!==e.orderId}))}),e.setData({ticketOrders:t})}).catch(function(e){})},remindModalDotsChange:function(e){this.setData({currentDotsIndex:e.detail.current})},goBuyGoods:function(e){var t=e.currentTarget.dataset,a=t.valLab,i=t.valBid,s=t.valDealid,r=t.valCinemaid,n=t.index;this.page.stats(i,a),app.goto("/pages/goods/buy?dealId="+s+"&cinemaId="+r+"&index="+n)},show:function(){this.setData({isShow:!0}),this.page.setData({disableScroll:"fixed"}),timer&&clearInterval(timer),timer=setInterval(this.fetchHasGot.bind(this),3e3)},collapseCode:function(e){var t=e.currentTarget.dataset.index,a=this.data.ticketOrders;a[t].isCollapse=!a[t].isCollapse,this.setData({ticketOrders:a})},hideRemindModal:function(e){var t=this;timer&&clearInterval(timer),this.page.setData({disableScroll:""}),orderIds.length?(this.setData({isAddCart:"add-cart"}),setTimeout(function(){t.setData({isShow:!1,isAddCart:""})},500)):this.setData({isShow:!1}),this.page.movieRemindCard&&this.page.movieRemindCard.init&&this.page.movieRemindCard.init()},preventScroll:function(){}}); 
 			}); 
		define("tpl/operation/embedded-component/special-topic.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var Tpl=require("../../../scripts/tpl"),advertHandler=require("../../../scripts/advert"),MYT=require("../../../constant/myt"),app=getApp();module.exports=Tpl.extends({key:"specialTopic",data:{templateId2:[],templateId3:[],templateId4:[],leftPosition:{},rightPosition:{},singlePosition:{},multiPosition:[],showActivity:!1},bindEvent:function(){this.page.getOperationPositions=this.getOperationPositions.bind(this)},getOperationPositions:function(){var t=this,i=app.getPropSafely("$location.city.id",app,0),e=app.getPropSafely("$user.token",app,null),n={userIdentity:app.$openId,positionId:3,channelId:app.channelId,scene:app.scene,cityId:i},a={positionIds:1077};e&&(n.token=e),n.pageUrl="/"+this.page.route,app.request().get("https://api.maoyan.com/operation/exhibitions.json").header({"content-type":"application/json"}).query(n).end().then(function(t){return t.body}).then(function(i){var e={},n={},o={},s=[],p=[],l=[],r=!1,d=[];if(i.success){var c=i.data,u=c.exhibit,h=c.contentList;if(u)if(h=h.map(function(i,e){return i.val_bid="b_j12vbx0a",i.val_lab=JSON.stringify({activity_id:i.activityId.toString(),custom:{index:e+1}}),t.page.stats("b_vk2enzvd",{activity_id:i.activityId.toString(),custom:{index:e+1}}),i}),s=h.filter(function(t){return 2===t.templateId}),p=h.filter(function(t){return 3===t.templateId}),l=h.filter(function(t){return 4===t.templateId}),2===p.length&&(e=p[0],n=p[1],r=!0),1===s.length&&(o=s[0],r=!0),[3,4,5].indexOf(l.length)>-1)d=[l],r=!0;else if([8,10].indexOf(l.length)>-1){var f=l.length/2;d=[l.slice(0,f),l.slice(f)],r=!0,a.phoneModel="iPhone X"}}advertHandler.fetch(a,function(i){i.length&&(MYT.initStats(app),MYT.props.stats(MYT.mpt_bid,{positionId:1079,ad_id:i[0].adId,materialId:i[0].materialId})),d.forEach(function(t){t.forEach(function(t){var i=t.jumpUrl;if(i.includes("?")){var e=i.split("?")[1].split("&"),n={};e.forEach(function(t){var i=t.split("=")[0],e=t.split("=")[1];n[i]=e}),n.needLogin&&(t.needLogin=!0)}})}),t.setData({leftPosition:e,rightPosition:n,singlePosition:o,multiPosition:d,templateId2:s,templateId3:p,templateId4:l,showActivity:r,adsBack:i})}),(s.length||p.length||l.length)&&t.page.stats("b_vk2enzvd")}).catch(function(){t.setData({leftPosition:{},rightPosition:{},singlePosition:{},showActivity:!1,templateId2:[],templateId3:[],templateId4:[]})})}}); 
 			}); 
		define("tpl/operation/embedded-component/sudoku.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var Tpl=require("../../../scripts/tpl"),app=getApp();module.exports=Tpl.extends({key:"sudoku",data:{sudokuItems:[],showActivity:!1,sudokuItem:[]},bindEvent:function(){this.page.getOperationPositions=this.getOperationPositions.bind(this)},getOperationPositions:function(t){var i=this,e=app.getPropSafely("$location.city.id",app,0),n=app.getPropSafely("$user.token",app,null),s={userIdentity:app.$openId,positionId:5,channelId:app.channelId,scene:app.scene,cityId:e};n&&(s.token=n),s.pageUrl="/"+this.page.route,app.request().get("https://api.maoyan.com/operation/exhibitions.json").header({"content-type":"application/json"}).query(s).end().then(function(t){return t.body}).then(function(e){var n=[],s=[],o=!1;if(e.success){var a=e.data,p=a.exhibit,c=a.contentList;if(p){c=c.map(function(t,e){return t.val_bid="b_9668ozpw",t.val_lab=JSON.stringify({activity_id:t.activityId.toString(),custom:{index:e+1}}),i.page.stats("b_1bp1dyjc",{activity_id:t.activityId.toString(),custom:{index:e+1}}),t}),o=!0;for(var u=c.length%4?4-c.length%4:0,d=0;d<u;d++)c.push({activityId:"a"+d});n=c,t||(s=c.slice(0,1),c.push({}),n=c.slice(1))}}i.setData({sudokuItems:n,showActivity:o,sudokuItem:s})}).catch(function(){i.setData({showActivity:!1,sudokuItems:[],sudokuItem:[]})})}}); 
 			}); 
		define("tpl/operation/global-component/main.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function loadModal(e){var n=e.app,o=e.page;n.$operation.activityModal||(n.$operation.activityModal={hasShowModal:!1}),o.activityModal=new ActivityModal({page:o}),o.getModalData().then(function(e){e&&o.guidFavourite&&o.guidFavourite()}).catch(function(e){return console.log(e)})}function loadSidebar(e){var n=(e.app,e.page);n.operationSidebar=new OperationSidebar({page:n}),n.getSidebarData().then().catch(function(e){return console.log(e)})}function getOperationConfig(e){return e.$operation?Promise.resolve(e.$operation):e.request().get("https://api.maoyan.com/operation/componentPages.json").header({"content-type":"application/json"}).query({channelId:e.channelId}).end().then(function(e){return e.body}).then(function(e){var n=e.success,o=e.data,t={};if(n&&o.success){var a=o.componentPagesMap;Object.keys(a).forEach(function(e){t[e]=a[e].map(function(e){return e.url})})}return t}).catch(function(e){return console.log(e),{}}).then(function(n){return e.$operation=n,e.$operation})}var _slicedToArray=function(){function e(e,n){var o=[],t=!0,a=!1,r=void 0;try{for(var i,c=e[Symbol.iterator]();!(t=(i=c.next()).done)&&(o.push(i.value),!n||o.length!==n);t=!0);}catch(e){a=!0,r=e}finally{try{!t&&c.return&&c.return()}finally{if(a)throw r}}return o}return function(n,o){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return e(n,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ActivityModal=require("./modal"),OperationSidebar=require("./sidebar"),loginScript=require("../../../scripts/login"),COMPONENTS_MAP={1:loadModal,4:loadSidebar};module.exports={onShow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.page,o=getApp();Promise.all([getOperationConfig(o),loginScript.openId()]).then(function(e){var t=_slicedToArray(e,2),a=t[0];t[1];Object.keys(a).forEach(function(e){COMPONENTS_MAP[e]&&a[e].indexOf("/"+n.route)>=0&&COMPONENTS_MAP[e]({app:o,page:n})})})},onLoad:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.page},onUnload:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.page;n.hideModal&&n.hideModal()},onHide:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.page;n.hideModal&&n.hideModal()}}; 
 			}); 
		define("tpl/operation/global-component/modal.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _asyncToGenerator(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){function i(n,r){try{var o=e[n](r),s=o.value}catch(t){return void a(t)}if(!o.done)return Promise.resolve(s).then(function(t){i("next",t)},function(t){i("throw",t)});t(s)}return i("next")})}}var Tpl=require("../../../scripts/tpl"),util=require("../../../scripts/utils"),MIN_VERSION="1.11.1",MODAL_TYPE={NORMAL:"normal",REDPACKET:"redpacket"};module.exports=Tpl.extends({key:"activityModal",data:{showModal:!1,type:"",modalData:{}},isFormSidebar:!1,bindEvent:function(){this.page.hideModal=this.hideModal.bind(this),this.page.getModalData=this.getModalData.bind(this),this.page.onTapRedpacketModal=this.onTapRedpacketModal.bind(this)},getModalData:function(){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var a,i,n,r,o,s,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.hideModal(),a=getApp(),i="/"+t.page.route,n=a.getPropSafely("$operation.activityModal.hasShowModal",a,!1)){e.next=23;break}return r=a.getPropSafely("$location.city.id",a,0),o=a.getPropSafely("$user.token",a,null),e.t0=a.$openId,e.t1=a.channelId,e.t2=a.scene,e.t3=r,e.next=13,a.uuidV2();case 13:return e.t4=e.sent,e.next=16,a.getFingerprint();case 16:return e.t5=e.sent,s={openId:e.t0,positionId:1,channelId:e.t1,scene:e.t2,cityId:e.t3,uuid:e.t4,clientType:9,wechatFingerprint:e.t5},o&&(s.token=o),s.pageUrl=i,d=a.version.substr(8),s.versionCompatible=util.compareVersion(d,MIN_VERSION)>=-1,e.abrupt("return",a.request().get("https://api.maoyan.com/operation/exhibition.json").header({"content-type":"application/json"}).query(s).end().then(function(t){return t.body}).then(function(e){var i=!0,n=e.data,r=n.exhibit,o=n.exhibitionContentMap,s=n.backgroundImageUrl;if(e.success&&r){i=!1;var d=a.system(),l=d.windowWidth,p=d.windowHeight;p/l<1.48&&(o.scale=375/l*p/555),o.data?t.renderRedpacketModal({backgroundImageUrl:s,exhibitionContentMap:o}):o.jumpUrl&&s&&t.renderNormalModal({backgroundImageUrl:s,exhibitionContentMap:o}),a.$operation.activityModal.hasShowModal=!0}return i}).catch(function(t){return console.log(t),!0}));case 23:return e.abrupt("return",Promise.resolve(!0));case 24:case"end":return e.stop()}},e,t)}))()},hideModal:function(){this.setData({showModal:!1})},renderRedpacketModal:function(t){var e=t.backgroundImageUrl,a=t.exhibitionContentMap,i=getApp();a.theme=a.theme?JSON.parse(a.theme):{},a.theme.headMap=a.theme.headMap||e,a.data=a.data.slice(0,3).map(function(t){return t.couponTheme&&(t.couponTheme=i.img(t.couponTheme,80,114)),t.priceLimit=t.priceLimit||"",t.value=t.value||"",0===t.value.indexOf("¥")?t.value=["¥",t.value.substr(1)]:t.value=[t.value],t}),a.val_lab=JSON.stringify({activity_id:a.businessActivityIdentity}),this.isFormSidebar?a.data.length>0?(a.use_val_bid="b_r443en50",a.view_btn_val_bid="b_lf4jw9zf",this.page.stats&&this.page.stats("b_z6mzx3cx",a.val_lab)):this.page.stats&&this.page.stats("b_g582v2go",a.val_lab):(a.use_val_bid="b_gvfdla37",a.view_btn_val_bid="b_03mb8sbe",this.page.stats&&this.page.stats("b_nod3z5jd",a.val_lab)),this.setData({showModal:!0,type:MODAL_TYPE.REDPACKET,modalData:a})},renderNormalModal:function(t){var e=this,a=t.backgroundImageUrl,i=void 0===a?"":a,n=t.exhibitionContentMap,r=n.mainText,o=void 0===r?"":r,s=n.jumpUrl,d=void 0===s?"":s,l=JSON.stringify({activity_id:n.activityId});o=this.renderText(o);var p={backgroundImageUrl:i,mainText:o,jumpUrl:d,val_bid:"b_pbljz47e",valLab:l};setTimeout(function(){e.setData({modalData:p,showModal:!0,type:MODAL_TYPE.NORMAL}),e.page.stats&&e.page.stats("b_kqs9pnxi",l),setTimeout(function(){e.hideModal()},9e3)},1e3)},onTapRedpacketModal:function(t){var e=t.currentTarget.dataset,a=e.url,i=e.val_bid,n=e.val_lab;a==="/"+this.page.route?(this.page.stats&&this.page.stats(i,n),this.hideModal()):this.page.onTapNavi(t)},renderText:function(t){var e=[],a=[],i=t.split("{");e.push(i.splice(0,1).join()),i.forEach(function(t){-1!==t.indexOf("}")?(t=t.split("}"),a.push(t[0]),e.push(t[1])):e.push(t)});for(var n=Math.max(e.length,a.length),r=[],o=0;o<n;o++){var s=e[o],d=a[o];s&&r.push({text:s,type:"normal",key:"normal_"+o}),d&&r.push({text:d,type:"important",key:"important"+o})}return r}}); 
 			}); 
		define("tpl/operation/global-component/sidebar.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _asyncToGenerator(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function a(i,r){try{var o=e[i](r),s=o.value}catch(t){return void n(t)}if(!o.done)return Promise.resolve(s).then(function(t){a("next",t)},function(t){a("throw",t)});t(s)}return a("next")})}}var _slicedToArray=function(){function t(t,e){var n=[],a=!0,i=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(t){i=!0,r=t}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Tpl=require("../../../scripts/tpl"),ActivityModal=require("./modal"),util=require("../../../scripts/utils"),TabBarPages=["/pages/movie/index","/pages/cinema/index","/wesai/indexpage/index","/pages/show/index/index","/pages/user/index"];module.exports=Tpl.extends({key:"operationSidebar",data:{showSideBar:!1,appId:"",navUseAPI:!1,path:"",jumpUrl:"",backgroundImageUrl:"",associationExhibitionId:"",activityId:"",version:"release",data:{}},bindEvent:function(){this.page.onTapSideBar=this.onTapSideBar.bind(this),this.page.getSidebarData=this.getSidebarData.bind(this)},getSidebarData:function(){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var n,a,i,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=getApp(),a="/"+t.page.route,i=n.getPropSafely("$location.city.id",n,0),r=n.getPropSafely("$user.token",n,null),e.t0=n.$openId,e.t1=n.channelId,e.t2=n.scene,e.t3=i,e.t4=a,e.next=11,n.uuidV2();case 11:return e.t5=e.sent,e.next=14,n.getFingerprint();case 14:return e.t6=e.sent,o={openId:e.t0,positionId:4,channelId:e.t1,scene:e.t2,cityId:e.t3,pageUrl:e.t4,versionCompatible:!0,uuid:e.t5,clientType:9,wechatFingerprint:e.t6},r&&(o.token=r),e.abrupt("return",n.request().get("https://api.maoyan.com/operation/exhibition.json").header({"content-type":"application/json"}).query(o).end().then(function(t){return t.body}).then(function(e){var i=e.data,r=i.exhibit,o=i.exhibitionContentMap,s=i.backgroundImageUrl;if(r){var c=n.system(),u=c.windowWidth,d=c.windowHeight;d/u<1.48&&(o.scale=375/u*d/555);var p=_extends({},o,{backgroundImageUrl:s});if(p.jumpUrl){var l=t._isNavToMiniProgram(p.jumpUrl),h=_slicedToArray(l,2),g=h[0],v=h[1];p.appId=g,p.path=v,p.version="release",p.navUseAPI=t.canUseNavAPI()}var b=JSON.stringify({activity_id:p.activityId});p.val_bid="b_2nkw3n2u",p.val_lab=b,p.showSideBar=!0,-1===TabBarPages.indexOf(a)&&(p.style="bottom: 184rpx;"),t.setData(p),t.page.stats&&t.page.stats("b_9m1jsd8k",b)}}).catch(function(t){console.log(t)}));case 18:case"end":return e.stop()}},e,t)}))()},getSidebarModal:function(){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var n,a,i,r,o,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.data,a=n.associationExhibitionId,i=n.businessActivityIdentity,i){e.next=3;break}return e.abrupt("return");case 3:return r=getApp(),o=r.getPropSafely("$user.token",r,null),s=r.getPropSafely("$location.city.id",r,0),e.t0=r.channelId,e.t1=a,e.t2=i,e.t3=s,e.next=12,r.uuidV2();case 12:return e.t4=e.sent,e.next=15,r.getFingerprint();case 15:return e.t5=e.sent,c={channelId:e.t0,exhibitionId:e.t1,businessActivityIdentity:e.t2,cityId:e.t3,uuid:e.t4,clientType:9,wechatFingerprint:e.t5},o&&(c.token=o),e.abrupt("return",r.request().get("https://api.maoyan.com/operation/getExhibitionById.json").header({"content-type":"application/json"}).query(c).end().then(function(t){return t.body}).catch(function(t){return console.log(t),{data:{exhibit:!1}}}).then(function(e){var n=e.data,a=n.exhibit,r=n.exhibitionContentMap,o=n.backgroundImageUrl;!1===a&&(r={data:[],businessActivityIdentity:i});var s=new ActivityModal({page:t.page});s.isFormSidebar=!0,r.data&&r.businessActivityIdentity&&s.renderRedpacketModal({backgroundImageUrl:o,exhibitionContentMap:r})}).catch(function(t){console.log(t)}).then(function(){t.setData({showSideBar:!1,appId:"",path:"",jumpUrl:"",backgroundImageUrl:"",associationExhibitionId:"",activityId:"",data:{}})}));case 19:case"end":return e.stop()}},e,t)}))()},onTapSideBar:function(){var t=getApp(),e=this.data,n=e.val_bid,a=e.val_lab,i=e.jumpUrl;this.data.associationExhibitionId?this.getSidebarModal():(this.page.stats&&this.page.stats(n,a),t.goto(i))},canUseNavAPI:function(){var t=getApp(),e=t.system().SDKVersion||"2.0.7";return util.compareVersion(e,"2.0.6")<1},_isNavToMiniProgram:function(t){var e=[],n=/\/(wx\w{16})(\/[\w\W]*$)/,a=t.match(n);return a&&a.length>=3&&(e=a.slice(1,3)),e},navToMiniProgram:function(){var t=this,e=this.data,n=e.val_bid,a=e.val_lab,i=e.version,r=e.appId,o=e.path;wx.navigateToMiniProgram({appId:r,path:o,envVersion:i,success:function(e){n&&a&&t.page.stats&&t.stats(n,a)}})}}); 
 			}); 
		define("tpl/order-item.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Tpl=require("../scripts/tpl"),app=getApp();module.exports=Tpl.extends({key:"orderItem",data:{},bindEvent:function(){this.page.onTapDetail=this.onTapDetail.bind(this),this.page.onErrorImage=this.onErrorImage},onTapDetail:function(e){var t=e.currentTarget.dataset,a=t.vorderId,r=t.gotoDetail,i=t.bidData,o=t.orderId,d=void 0===o?{}:o;i&&this.page.stats(i);var n=d.skuId,p=void 0===n?"":n,s=d.parentId,l=void 0===s?"":s,u=d.skuType,g=void 0===u?"":u,v=p;1==g&&(v=l);var c="";"gotoOrderDetail"===r?(c="/pages/vmall/vorder/order-detail?vorderId="+a,app.goto(c)):"gotoProductDetail"===r&&(c="/pages/vmall/product-detail?dealId="+v,app.goto(c))},onErrorImage:function(e){var t=this.data.faultImage,a=e.target.dataset.imageIndex,r=a.split("."),i=r[0],o=r.slice(-1)[0];r.slice(0,-1).reduce(function(e,t){return e[t]},this.data)[o]=t,this.setData(_defineProperty({},i,this.data[i]))}}); 
 			}); 
		define("tpl/papay-modal.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var Tpl=require("../scripts/tpl");module.exports=Tpl.extends({key:"papayModal",data:{showPapayModal:!1,papayCountDown:3},bindEvent:function(){this.page.showPapayModal=this.showPapayModal.bind(this),this.page.onPapayCancel=this.onPapayCancel.bind(this),this.page.onPapayConfirm=this.onPapayConfirm.bind(this)},showPapayModal:function(){var a=this;this.page.stats("b_ae85qlxz"),this.setData({showPapayModal:!0,papayCountDown:3}),clearInterval(this.papayTimeout),this.papayTimeout=setInterval(function(){var t=a.data.papayCountDown-1;0==t&&(a.page.stats("b_9mez7075"),a.onPapayConfirm()),a.setData({papayCountDown:t})},1e3)},onPapayCancel:function(){clearInterval(this.papayTimeout),this.setData({showPapayModal:!1})},onPapayConfirm:function(){clearInterval(this.papayTimeout),this.setData({showPapayModal:!1}),this.emit("payConfirm")}}); 
 			}); 
		define("tpl/rain.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var _slicedToArray=function(){function t(t,i){var n=[],e=!0,o=!1,r=void 0;try{for(var a,h=t[Symbol.iterator]();!(e=(a=h.next()).done)&&(n.push(a.value),!i||n.length!==i);e=!0);}catch(t){o=!0,r=t}finally{try{!e&&h.return&&h.return()}finally{if(o)throw r}}return n}return function(i,n){if(Array.isArray(i))return i;if(Symbol.iterator in Object(i))return t(i,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),tpl=require("../scripts/tpl"),app=getApp();module.exports=tpl.extends({key:"rain",NUM:20,DURATION:4e3,DELAY:2e3,TIMING_FUNCTION:"linear",main:0,height:0,width:0,photo_with:40,TRANSLATEX:.3,timer:null,HASRAIN:!1,IMG_MAP:{},previousCount:0,data:{points:[],show:!0},queueAnimation:function(t,i){var n=this;if(0!==this.main&&0!==this.height&&0!==this.width&&this.HASRAIN){this.timer&&clearTimeout(this.timer);var e=!1;this.previousCount>t&&(e=!0),this.previousCount=t;var o=this.data.points.map(function(t){return t.animation.option.transition.duration=0,t.animation.translate(0,0).step(),t.animationData=t.animation.export(),t});if(this.setData({points:o}),this.IMG_MAP[t]){var r=this.IMG_MAP[t],a=this.data.points.map(function(t){return t.animation.option.transition.duration=n.DURATION*t.animation.__y/n.main,t.animation.translate(t.animation.__x,t.animation.__y).step(),t.animationData=t.animation.export(),t.imgURL=r,t});this.timer=setTimeout(function(){n.setData({points:a,show:!0})},e||i?100:this.DELAY)}}},configRainAnimation:function(t,i,n){var e=this;return this.DELAY=i,this.IMG_MAP=n,this.HASRAIN=t&&Object.keys(n).length>0,this.HASRAIN?this.getPlayAreaHeight().then(function(t){var i=_slicedToArray(t,3),n=i[0],o=i[1],r=i[2];e.main=Number(n),e.height=Number(o),e.width=Number(r),e.photo_with=40*e.width/375;for(var a=[],h=0;h<e.NUM;h++){var s=e.getflooryRandInt(e.width-e.photo_with),u=-e.getflooryRandInt(e.main)-e.photo_with;a.push({left:s,top:u,animation:e.getAnimation(s,u)})}e.setData({points:a})}).catch(function(t){return console.log(t)}):void this.setData({show:!1})},getAnimation:function(t,i){var n=wx.createAnimation({timingFunction:this.TIMING_FUNCTION}),e=this.height-i,o=this.getflooryRandInt(this.width*this.TRANSLATEX);return o*=Math.random()>.5?1:-1,(o+t+this.photo_with>this.width||o+t<0)&&(o=-o),n.__x=o,n.__y=e,n},getflooryRandInt:function(t){return Math.floor(Math.random()*t)},getPlayAreaHeight:function(){return Promise.all([this.promiseifySelector(".seat-block"),this.promiseifySelector(".main")]).then(function(t){var i=_slicedToArray(t,2),n=i[0];return[i[1].height,n.height,n.width]})},promiseifySelector:function(t){return new Promise(function(i,n){wx.createSelectorQuery().select(t).boundingClientRect(function(t){var e=t.height,o=t.width;e&&o?i({height:e,width:o}):n(null)}).exec()})}}); 
 			}); 
		define("tpl/toast.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";module.exports=function(t,s,e){var o=this;return"string"!=typeof t?console.error("不允许toast非字符串",t):(this.setData({toast:t}),clearTimeout(this._toastTimer),this._toastTimer=setTimeout(function(){o.setData({toast:""}),e&&e()},s||2500),this)}; 
 			}); 
		define("vendors/finger.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function getLen(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function dot(t,i){return t.x*i.x+t.y*i.y}function getAngle(t,i){var s=getLen(t)*getLen(i);if(0===s)return 0;var e=dot(t,i)/s;return e>1&&(e=1),Math.acos(e)}function cross(t,i){return t.x*i.y-i.x*t.y}function getRotateAngle(t,i){var s=getAngle(t,i);return cross(t,i)>0&&(s*=-1),180*s/Math.PI}var Finger=function(t){this.preV={x:null,y:null},this.pinchStartLen=null,this.scale=1,this.isDoubleTap=!1,this.rotate=t.rotate||function(){},this.touchStart=t.touchStart||function(){},this.multipointStart=t.multipointStart||function(){},this.multipointEnd=t.multipointEnd||function(){},this.pinch=t.pinch||function(){},this.swipe=t.swipe||function(){},this.tap=t.tap||function(){},this.doubleTap=t.doubleTap||function(){},this.longTap=t.longTap||function(){},this.singleTap=t.singleTap||function(){},this.pressMove=t.pressMove||function(){},this.touchMove=t.touchMove||function(){},this.touchEnd=t.touchEnd||function(){},this.touchCancel=t.touchCancel||function(){},this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.touchTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}};Finger.prototype={start:function(t){if(t.touches){this.now=Date.now(),this.x1=t.touches[0].pageX,this.y1=t.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart(t),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var i=this.preV;if(t.touches.length>1){this._cancelLongTap();var s={x:t.touches[1].pageX-this.x1,y:t.touches[1].pageY-this.y1};i.x=s.x,i.y=s.y,this.pinchStartLen=getLen(i),this.multipointStart(t)}this.longTapTimeout=setTimeout(function(){this.longTap(t)}.bind(this),750)}},move:function(t){if(t.touches){var i=this.preV,s=t.touches.length,e=t.touches[0].pageX,n=t.touches[0].pageY;if(this.isDoubleTap=!1,s>1){var h={x:t.touches[1].pageX-e,y:t.touches[1].pageY-n};null!==i.x&&(this.pinchStartLen>0&&(t.scale=getLen(h)/this.pinchStartLen,this.pinch(t)),t.angle=getRotateAngle(h,i),this.rotate(t)),i.x=h.x,i.y=h.y}else null!==this.x2?(t.deltaX=e-this.x2,t.deltaY=n-this.y2):(t.deltaX=0,t.deltaY=0),this.pressMove(t);this.touchMove(t),this._cancelLongTap(),this.x2=e,this.y2=n,t.touches.length>1&&this._cancelLongTap()}},end:function(t){this._cancelLongTap();var i=this;t.touches.length<2&&this.multipointEnd(t),this.touchEnd(t),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.preV.y-this.y2)>30?(t.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout(function(){i.swipe(t)},0)):this.tapTimeout=setTimeout(function(){i.tap(t),i.isDoubleTap?(i.doubleTap(t),clearTimeout(i.touchTimeout),i.isDoubleTap=!1):i.touchTimeout=setTimeout(function(){i.singleTap(t)},250)},0),this.preV.x=0,this.preV.y=0,this.scale=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null},cancel:function(t){clearTimeout(this.touchTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout),this.preV.x=0,this.preV.y=0,this.scale=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null,this.touchCancel(t)},_cancelLongTap:function(){clearTimeout(this.longTapTimeout)},_swipeDirection:function(t,i,s,e){return Math.abs(t-i)>=Math.abs(s-e)?t-i>0?"Left":"Right":s-e>0?"Up":"Down"}},module.exports=Finger; 
 			}); 
		define("wesai/app.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_wepy=require("./npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_urls=require("./common/urls.js"),_urls2=_interopRequireDefault(_urls),_common=require("./common/common.js");require("./npm/wepy-async-function/index.js");var _default=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.config={pages:["indexpage/index","pages/index/index","pages/detail/detail","pages/noseat/noseat","pages/confirm/confirm","pages/me/me","pages/orderDetail/orderDetail","pages/seat/seat","pages/screening/screening","pages/search/search","pages/seatArea/seatArea","pages/webview/webview","pages/transfer/transfer"],window:{backgroundTextStyle:"dark",navigationBarBackgroundColor:"#000",navigationBarTitleText:"微赛体育",navigationBarTextStyle:"light"}},e.globalData={openId:null,userInfo:null,wxUserInfo:null,expiresIn:null,tokenTimer:null,systemInfo:null,windowWidth:0,windowHeight:0,wxSystem:wx.getSystemInfoSync(),_mobile:"",curUserId:"",jumpType:0,getTokenRunTimes:0,miniProgramData:{}},e.use("requestfix"),e.use("promisify");var n=getApp();n&&n.on&&n.on("show",function(t){if((t.scene&&"1037"==t.scene||"1038"==t.scene)&&(e.globalData.miniProgramData=t),t&&t.scene){var n=(0,_common.getStatisticsBaseInfo)(e);n.source=t.scene,(0,_common.statistics)(n)}});var r=wx.getSystemInfoSync();return e.globalData.isIPhoneX=/iPhone X/.test(r.model||"")?1:0,e}return _inherits(t,e),_createClass(t,[{key:"onLaunch",value:function(e){var t=e&&e.referrerInfo&&e.referrerInfo.extraData;if(t){var n=this.$root.$parent,r=t.passport_user_id,a=t.mobile;a&&(n.globalData._mobile=a),r&&(n.globalData.curUserId=r),t.type&&(n.globalData.jumpType=t.type)}}},{key:"onShow",value:function(e){}},{key:"pay",value:function(e){var t=this;return new Promise(function(n,r){if(1==e.paymentStatus)return void n(e);var a=e.pageParams;t.paymentParams=e,wx.requestPayment({timeStamp:a.timeStamp,nonceStr:a.nonceStr,package:a.packageStr,signType:a.signType,paySign:a.paySign,success:function(e){n(e)},complete:function(e){e&&e.errMsg&&"requestPayment:ok"===e.errMsg||r(e||null)}})})}}]),t}(_wepy2.default.app);module.exports = (require("./npm/wepy/lib/wepy.js").default.$createApp(_default,{})); 
 			}); 
		define("wesai/common/advertisingIds.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var homeSevenIds=exports.homeSevenIds={topAheadAdvertisingId:"558284530",secondAdvertisingId:"1343298839",thirdAdvertisingId:"157789284",fourthAdvertisingId:"699046329",fifthAdvertisingId:"307601069",sixthAdvertisingId:"437817488",sevenAdvertisingId:"459767898"},detailIds=exports.detailIds={detailBannerADId:"950876341",confirmBannerADId:"1471092643",orderDetailTopBannerADId:"826526061",orderDetailBottomBannerADId:"929790149"}; 
 			}); 
		define("wesai/common/binduser.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var n=e.apply(this,arguments);return new Promise(function(e,r){function t(a,o){try{var i=n[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){t("next",e)},function(e){t("throw",e)});e(u)}return t("next")})}}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,r,t){return r&&e(n.prototype,r),t&&e(n,t),n}}(),_common=require("./common.js"),_util=require("./util.js"),_navToMiniProgram=require("./navToMiniProgram.js"),_navToMiniProgram2=_interopRequireDefault(_navToMiniProgram),_urls=require("./urls.js"),_urls2=_interopRequireDefault(_urls),BindUser=function(){function e(){_classCallCheck(this,e),this.userInfo=null}return _createClass(e,[{key:"getUserInfo",value:function(){function e(){return n.apply(this,arguments)}var n=_asyncToGenerator(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_common.getMYOpenId)();case 2:if(n=e.sent){e.next=7;break}throw new Error("maoYanOpenId get fail");case 7:return e.next=9,_common.GetTheToken.init();case 9:if(r=wx.getStorageSync("wesaiToken")){e.next=13;break}throw new Error("token get fail");case 13:return e.abrupt("return",new Promise(function(e){(0,_common.ajax)(_urls2.default.getUserInfo,{jsonParams:{token:r,openId:n}}).then(function(n){e(n.data?n.data:null)}).catch(function(n){e(null)})}));case 14:case"end":return e.stop()}},e,this)}));return e}()},{key:"init",value:function(){function e(e){return n.apply(this,arguments)}var n=_asyncToGenerator(regeneratorRuntime.mark(function e(n){var r,t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.userInfo=wx.getStorageSync("wesaiUserInfo"),!this.userInfo||(0,_util.isEmptyObject)(this.userInfo)||!this.userInfo.user_id){e.next=4;break}return e.abrupt("return",this.userInfo);case 4:return e.next=6,this.getUserInfo();case 6:if(this.userInfo=e.sent,!this.userInfo||(0,_util.isEmptyObject)(this.userInfo)||!this.userInfo.user_id){e.next=12;break}return wx.setStorageSync("wesaiUserInfo",this.userInfo),e.abrupt("return",this.userInfo);case 12:return r=wx.getStorageSync("wesaiToken"),t=wx.getStorageSync("maoYanOpenId"),_navToMiniProgram2.default.navigateToMiniProgram({path:"pages/login/login",extraData:{token:r,maoYanOpenId:t,env:_urls2.default.env,type:n},envVersion:"trial"}),e.abrupt("return",!1);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0);case 21:case"end":return e.stop()}},e,this,[[0,18]])}));return e}()}]),e}();exports.default=new BindUser; 
 			}); 
		define("wesai/common/common.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,o){try{var i=t[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.statistics=exports.getStatisticsBaseInfo=exports.getMYOpenId=exports.gotoHome=exports.GetTheToken=exports.PUBLICKEY=exports.app_id=exports.app=exports.log=exports.localData=exports.urls=exports.ajax=void 0;var _util=require("./util.js"),_urls=require("./urls.js"),_urls2=_interopRequireDefault(_urls),_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_pageIdMap=require("./pageIdMap.js"),_pageIdMap2=_interopRequireDefault(_pageIdMap),APPID="wx1e22f26c099dec9d",PUBLICKEY="2d422d41-1b38-481e-bc16-43e9f9ad20e9",app_id="ff8080814a76ce16014a7a4fcbec0023",env=_urls2.default.env||"production",instance=function(){return _wepy2.default.$instance},page=function(){return instance().__prevPage__.$root},app=function(){return instance()},gotoHome=function(){var e=getCurrentPages(),t=e.findIndex(function(e){return e.route.indexOf("indexpage/index")>=0});if(t>=0){var n=e.length-1-t;wx.navigateBack({delta:n})}else wx.switchTab({url:"/wesai/indexpage/index"})},getMYOpenIdTotalTimes=0,getMYOpenId=function(){return new Promise(function(e){getApp().login?getApp().login().then(function(t){var n=getApp().getUser();n&&n.openId?(wx.setStorageSync("maoYanOpenId",n.openId),e(n.openId)):e("")}).catch(function(t){e("")}):e("")})},GetTheToken={init:function(e){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e&&(wx.removeStorageSync("wesaiToken"),wx.removeStorageSync("tokenExpires")),t.getTokenRunTimes=0,n.next=4,t.letTheTokenToBeEffective();case 4:case"end":return n.stop()}},n,t)}))()},getTokenRunTimes:0,Timer:null,makeSureTokenIsAlive:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.checkTokenIsOver()){t.next=9;break}return t.next=3,e.getToken();case 3:return n=t.sent,e.getTokenRunTimes++,t.abrupt("return",n);case 9:e.getTokenRunTimes=0;case 10:case"end":return t.stop()}},t,e)}))()},getToken:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={appId:app_id,publicKey:PUBLICKEY},t.next=3,e.getNewToken(n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,e)}))()},getNewToken:function(e){return new Promise(function(t){ajax(_urls2.default.getToken,{method:"POST",data:{data:JSON.stringify(e||{})}}).then(function(e){var n=e&&e.data&&e.data.token||null;wx.setStorageSync("wesaiToken",n),wx.setStorageSync("tokenExpires",(new Date).getTime()),wx.removeStorageSync("wesaiUserInfo"),t(e.data)}).catch(function(e){t(null)})})},timeout:function(e){var t=this;return this.Timer&&clearTimeout(this.Timer),new Promise(function(n){return t.Timer=setTimeout(n,e)})},sleep:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var o=this;return _asyncToGenerator(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.timeout(t||2e3);case 2:e.apply(void 0,r);case 3:case"end":return n.stop()}},n,o)}))()},letTheTokenToBeEffective:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.getTokenRunTimes>=2)){t.next=2;break}return t.abrupt("return");case 2:if(!e.checkTokenIsOver()){t.next=18;break}if(0!==e.getTokenRunTimes){t.next=14;break}return t.next=7,e.makeSureTokenIsAlive();case 7:if(!(n=t.sent)){t.next=10;break}return t.abrupt("return",n);case 10:return t.next=12,e.letTheTokenToBeEffective();case 12:t.next=18;break;case 14:return t.next=16,e.sleep(e.makeSureTokenIsAlive.bind(e));case 16:return t.next=18,e.letTheTokenToBeEffective();case 18:case"end":return t.stop()}},t,e)}))()},checkTokenIsOver:function(){var e=wx.getStorageSync("wesaiToken"),t=wx.getStorageSync("tokenExpires");if(e&&t){t=parseInt(t);if((new Date).getTime()-t>72e6)return!0}else if(!e||!t)return!0;return!1}},ajax=function e(t,n,r){n=n||{};var a=wx.getStorageSync("wesaiToken");if(n.url=t,n.jsonParams&&"dev"!==env){var o="";"string"==typeof n.jsonParams?o=n.jsonParams:(0,_util.isObject)(n.jsonParams)&&(o=JSON.stringify(n.jsonParams)),o=encodeURIComponent(o),n.url+=o,r&&(n.url+="?"+r)}n.url=n.url.replace("{{token}}",a);var i={APPID:APPID,"content-type":"application/x-www-form-urlencoded",REFERERR:"weSaiMaoYanWeChat","Accept-Language":"zh-CN"};return n.header&&Object.assign(i,n.header),new Promise(function(r,a){wx.request({url:n.url,data:n.data||{},header:i,method:n.method||"GET",complete:function(o){if(200==o.statusCode){var i=o.data;i.returnInfo?200===i.returnInfo.code?r(i):302===i.returnInfo.code?n.useHooker?a(i):""!=i.returnInfo.message&&page().showAlert(i.returnInfo.message,{callback:function(){}}):a(i.returnInfo):void 0!==i.error&&0==i.error?r(i):void 0!==i.code?200==i.code?r(i):406==i.code?GetTheToken.init(!0).then(function(o){o||wx.getStorageSync("wesaiToken")?e(t,n).then(function(e){r(e)}).catch(function(e){a(e)}):a("获取token失败")}).catch(function(e){a(e)}):10111===i.code?getMYOpenId().then(function(o){var i=wx.getStorageSync("wesaiToken");if(!i)throw new Error("token get fail");e(_urls2.default.getUserInfo,{jsonParams:{token:i,openId:o}}).then(function(o){o.data&&getMYOpenIdTotalTimes<2?(wx.setStorageSync("wesaiUserInfo",o.data),getMYOpenIdTotalTimes++,e(t,n).then(function(e){r(e)}).catch(function(e){a(e)})):(getMYOpenIdTotalTimes=0,a({message:"出错啦!"}))}).catch(function(e){getMYOpenIdTotalTimes=0,a({message:"出错啦!"})})}).catch(function(){getMYOpenIdTotalTimes=0,a({message:"出错啦!"})}):a(i):302===i.code?n.useHooker?a(i):""!=i.message&&page().showAlert(i.message,{callback:function(){}}):a(i)}else a({message:"出错啦!"})},fail:function(e){a({message:"出错啦!"})}})})},localData={set:function(e,t){if(!e&&!t)return null;try{wx.setStorageSync(e,JSON.stringify(t))}catch(e){}},get:function(e){var t=wx.getStorageSync(e);return t&&(t=JSON.parse(t)),t},remove:function(e){wx.removeStorageSync(e)},clear:function(){wx.clearStorageSync()}},log=function(){},getStatisticsBaseInfo=function(e){var t={route:"",pageId:"",model:"",windowWidth:"",windowHeight:"",system:"",language:"",version:"",batteryLevel:"",SDKVersion:"",platform:"",networkType:"",action:"",actionName:"",statisticsInfo:"",statisticsItemIndex:"",tm:"",par:"",pageName:"",pageStayTime:"",source:"",location:"",mobile:"",userId:"",wxGender:"",wxProvince:"",wxCountry:"",wxCity:"",token:"",maoYanOpenId:"",extend:""},n=wx.getSystemInfoSync();Object.keys(t).forEach(function(e){return t[e]=n[e]||""}),t.tm=(new Date).getTime();var r=e&&e.$wxpage&&e.$wxpage.route&&(0,_util.isString)(e.$wxpage.route)&&e.$wxpage.route||"";t.route=r.replace(/\//g,"|")||"",t.pageId=_pageIdMap2.default[r]||"",t.par=e&&e.$wxpage&&e.$wxpage._options&&!(0,_util.isEmptyObject)(e.$wxpage._options)&&e.$wxpage._options||"",t.pageName=e&&e.$name||"";var a=wx.getStorageSync("lastLocation");t.location=a&&a.city_id||"";var o=wx.getStorageSync("wesaiUserInfo")||"";return t.mobile=o&&o.mobile||"",t.userId=o&&o.user_id||"",t.token=wx.getStorageSync("wesaiToken")||"",t.maoYanOpenId=wx.getStorageSync("maoYanOpenId")||"",t},statistics=function(e){e.token&&ajax(_urls2.default.statisticsAdd,{method:"POST",header:{"content-type":"multipart/form-data"},data:e}).then(function(e){}).catch(function(e){})};exports.ajax=ajax,exports.urls=_urls2.default,exports.localData=localData,exports.log=log,exports.app=app,exports.app_id=app_id,exports.PUBLICKEY=PUBLICKEY,exports.GetTheToken=GetTheToken,exports.gotoHome=gotoHome,exports.getMYOpenId=getMYOpenId,exports.getStatisticsBaseInfo=getStatisticsBaseInfo,exports.statistics=statistics; 
 			}); 
		define("wesai/common/filter.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function itemStatusHeadTag(e){var t="";switch(e){case 1:t="不可售";break;case 2:case 3:t="售票中";break;case 4:t="预约";break;case 5:t="售票中";break;case 6:t="预约"}return t}function itemStatusFooterBtn(e){var t="";switch(e){case 1:t="不可售";break;case 2:case 3:t="立即购票";break;case 4:t="预约";break;case 5:t="立即购票";break;case 6:t="预约"}return t}function formatTime(e){return e<259200?Math.floor(e/3600)+"时"+Math.floor(e%3600/60)+"分"+Math.floor(e%60)+"秒":Math.floor(e/86400)+"天"+Math.floor(e%86400/3600)+"时"+Math.floor(e%86400%3600/60)+"分"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.itemStatusHeadTag=itemStatusHeadTag,exports.itemStatusFooterBtn=itemStatusFooterBtn,exports.formatTime=formatTime; 
 			}); 
		define("wesai/common/init.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var jsonToQuery=function(e){var r=[];for(var n in e)"env"!=n&&r.push(n+"="+e[n]);return r.join("&")},getQueryString=function(e){if(!e.url)throw new Error("need redirect url");return e.url=encodeURIComponent(e.url),e.failureUrl&&(e.failureUrl=encodeURIComponent(e.failureUrl)),e.showInfo&&(e.showInfo=encodeURIComponent(e.showInfo)),jsonToQuery(e)},WSSDK={getUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"http"+(e?"":"s")+"://ticket."+e+(e?".":"")+"wesai.com/wechat/"},pay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{env:"",appId:"",businessOrderNo:"",chanId:"",appSecret:"",moneyBaseFen:0,showInfo:"",url:"",failureUrl:"",orderSrc:"",encrypt:""},r=this.getUrl(e.env)+"payment?";if(e.encrypt,!e.appId)throw new Error("appId is required!");if(!e.businessOrderNo)throw new Error("businessOrderNo is required");return r+getQueryString(e)}};exports.default=WSSDK; 
 			}); 
		define("wesai/common/miniProgramAppIds.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={paymentMiniProgramAppId:"wx4bdabe11f8cc4335",dongTaiBiaoDanWXAppId:"wxd973539423b6ca58",QQSportAppId:"wxaaae13423503c410",huiDongSportAppId:"wx7a89301fa55bb6eb"}; 
 			}); 
		define("wesai/common/navToMiniProgram.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,a){for(var i=0;i<a.length;i++){var t=a[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(a,i,t){return i&&e(a.prototype,i),t&&e(a,t),a}}(),_urls=require("./urls.js"),_urls2=_interopRequireDefault(_urls),_miniProgramAppIds=require("./miniProgramAppIds.js"),_miniProgramAppIds2=_interopRequireDefault(_miniProgramAppIds),dongTaiBiaoDanWXAppId=_miniProgramAppIds2.default.dongTaiBiaoDanWXAppId,whiteListPath="pages/whiteList/whiteList",NavToMiniProgram=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validWhiteList",value:function(e){var a=e.path,i=void 0===a?whiteListPath:a,t=e.extraData,r=wx.getStorageSync("wesaiToken");return t=Object.assign({token:r},t),this.navigateToMiniProgram({path:i,extraData:t})}},{key:"navigateToMiniProgram",value:function(e){var a=e.appId,i=void 0===a?dongTaiBiaoDanWXAppId:a,t=e.path,r=e.extraData,n=e.envVersion,o=void 0===n?"trial":n;return r=Object.assign({env:_urls2.default.env},r),new Promise(function(e,a){if(wx.navigateToMiniProgram)wx.navigateToMiniProgram({appId:i,path:t,extraData:r,envVersion:o,success:function(a){e(a)}});else{var n="当前微信版本过低，无法使用该功能，请升级到最新微信版本后重试。";a(n),wx.showModal({title:"提示",content:n,showCancel:!1})}})}}]),e}();exports.default=new NavToMiniProgram; 
 			}); 
		define("wesai/common/pageIdMap.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={"wesai/indexpage/index":1,"wesai/pages/index/index":2,"wesai/pages/detail/detail":3,"wesai/pages/noseat/noseat":4,"wesai/pages/confirm/confirm":5,"wesai/pages/me/me":6,"wesai/pages/orderDetail/orderDetail":7,"wesai/pages/screening/screening":8,"wesai/pages/search/search":9,"wesai/pages/webview/webview":10,"wesai/pages/seatArea/seatArea":11,"wesai/pages/seat/seat":12}; 
 			}); 
		define("wesai/common/thirdInfo.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var piaoniuOrderStatusDict=exports.piaoniuOrderStatusDict={1:"订单创建成功",2:"订单待支付",3:"订单备票中",4:"订单待确认收票",5:"订单已完成",6:"订单已关闭",7:"订单已退款"},thirdChannelDict=exports.thirdChannelDict={piaoniu:500}; 
 			}); 
		define("wesai/common/urls.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},env="production",eapi=void 0,ad_host="http://mpintra.wesai.com/advertisement",ad_proxy="http://mpintra.wesai.com/AdProxy",cms_proxy=void 0;switch(env){case"dev":eapi="http://127.0.0.1:9999/";break;case"development":eapi="http://ticket.dev.wesai.com/api",cms_proxy="http://topics-cms.dev.wesai.com:8884/api";break;case"test":eapi="http://ticket.test.wesai.com/api",cms_proxy="http://topics-cms.test.wesai.com/api";break;case"production":eapi="https://ticket.wesai.com/api",cms_proxy="http://topics-cms.intra.wesai.com/api";break;case"pre":eapi="https://ticket-pre.wesai.com/api",cms_proxy="http://topics-cms.intra.wesai.com/api";break;default:eapi="https://ticket.wesai.com/api",cms_proxy="http://topics-cms.intra.wesai.com/api"}var token=function(){return"{{token}}"},url=function(){return eapi+"/rest/"+token()},urls={production:{detail:url()+"/Java/item/queryItemDetailInfo/",getConfirmation:url()+"/Cart/Cart/getConfirmation/%7B%7D",cityList:url()+"/Com/Location/getCompareCitiesList/%7B%7D",geo:url()+"/Com/Location/geo/",ip:url()+"/Com/Location/ip/%7B%7D",category:url()+"/Item/Item/getItemTypesByPid/%7B%7D",projectList:url()+"/Java/item/queryItem/",recommend:url()+"/Java/item/queryRecommendItems/",getUserOrderList:url()+"/Order/Order/getUserOrderList/",getUserYuPiaoOrderList:url()+"/Order/Order/getUserChannelOrderList/",cancelUserOrder:url()+"/Order/Order/cancelUserOrder/",orderDetail:url()+"/Order/Order/getUserOrderDetail/",userInfoUrl:url()+"/User/User/getUserInfo/",outStockUrl:url()+"/Java/item/recordOutstock/",checkMobileIsRegister:url()+"/User/User/checkMobileIsRegister/",sendSmsCode:url()+"/User/User/sendSmsCode/",setReservationUser:url()+"/User/User/setReservationUser/",noseat:url()+"/Java/item/queryItemScreeningsPrices/",ticketsDiscount:url()+"/Cart/Cart/getTicketsDiscount/",noseatTicketsUrl:url()+"/Cart/Cart/addNoSeatTickets/",seatScreening:url()+"/Java/item/queryItemScreenings/",seatArea:url()+"/Java/item/queryItemPriceAndSVG/",seatSvg:url()+"/Java/item/queryItemSeat/",seatAreaByUser:url()+"/Item/NItem/getShowInfoAndAreaSeatsByUser/",autoSeatAndAddCart:url()+"/Item/Seat/autoSeatAndAddCart/",userSeats:url()+"/Cart/Cart/getUserSeats/",selectSeat:url()+"/Cart/Cart/mtSeatTicket/",userBonus:url()+"/Marketing/Bonus/getUserBonusByPage/",getHotWords:url()+"/Item/Item/getHotWords/%7B%7D",getProvince:url()+"/Com/Location/getProvinces/%7B%7D",getCity:url()+"/Com/Location/getCitiesByProId/",getDistrict:url()+"/Com/Location/getDistrictsByCityId/",customAddressApi:url()+"/User/User/findPdasByUuid/%7B%7D",customSavePdaApi:url()+"/User/User/savePda/",customUpdatePdaApi:url()+"/User/User/updatePda/",customDelPdaApi:url()+"/User/User/delPda/",customisDefaultApi:url()+"/User/User/setDefaultDeliveryAddress/",createOrder:url()+"/Order/Order/createOrder/",getPaymentForm:url()+"/Order/Payment/getPaymentForm/",m_sendCodeMobile:eapi+"/sms/"+token()+"/sendCodeMobile/",m_verifyCodeMobile:eapi+"/sms/"+token()+"/verifyCodeMobile/",m_checkVerifyCode:eapi+"/sms/"+token()+"/checkVerifyCode/",m_findById:url()+"/User/User/findById/",bindMobileWithUser:url()+"/User/User/verifyCodeAndBindUser/",setOpenID:url()+"/User/wechat/setopenid/",getNativePaymentForm:url()+"/Order/Payment/getNativePaymentForm/",dynamicFormGetByOnlineId:url()+"/Com/DynamicForm/getByOnlineId/",uploadImage:eapi+"/upload/image/"+token(),checkSmsCode:url()+"/User/User/checkSmsCode/",bindUser:url()+"/User/User/bindUser/",getUseCard:url()+"/User/User/getUseCard/",bindWechatUser:url()+"/User/User/bindUser/",wechatRefreshToken:url()+"/User/wechat/setopenid/",getNewPaymentForm:url()+"/Order/Payment/getNewPaymentForm/",getItemADInfo:"https://mpintra.wesai.com/ad/get_item_ad_info/",getADInfo:"https://mpintra.wesai.com/ad/get_ad_info/",bindOAUser:url()+"/User/User/verifyCodeAndBindUser/",OARefreshToken:url()+"/User/wechat/setopenid/",BindWeiXinCard:url()+"/User/User/bindWeiXinCard/",setCardOpenId:url()+"/User/wechat/setCardOpenId/",getCardList:url()+"/User/User/getCardList/",activeCard:url()+"/User/User/activeCard/",deleteCard:url()+"/User/User/returnDeleteCard/",getCardConsumption:url()+"/Order/Order/getCardConsumption/",getCardDetail:url()+"/User/User/getCardDetail/",getMoneyVirtualcard:url()+"/Order/Order/getVirCardPayMoney/",getCardConsumptionDetail:url()+"/Order/Order/getCardConsumptionDetail/",getTicketCardByOrder:url()+"/Order/Order/getCadInfo/",getRecommendProducts:url()+"/Item/Item/getRecommendProducts/",getGoodsBusiness:url()+"/Item/Item/getGoodsBusiness/",createSubOrder:url()+"/Order/Order/createSubOrder/",getSubOrderPaymentForm:url()+"/Order/Payment/getSubOrderPaymentForm/",getSubOrderDetail:url()+"/Order/Order/getSubOrderDetail/",getInvoiceStatus:url()+"/Order/Invoice/getInvoiceStatus/",getInvoiceCode:url()+"/invoice/redirect/",getToken:eapi+"/rest/User/WeChat/miniAppInitToken",getUserInfo:url()+"/User/WeChat/UserInfoAndLogin/",proxyCurl:url()+"/Com/Helper/proxyCurl/",releaseURL:ad_host+"/adlist",viewURL:ad_host+"/view",clickURL:ad_host+"/click",wxclickURL:ad_proxy+"/wxxcx_click",getCategoryURL:cms_proxy+"/getCategoryByCityAndClient",statisticsAdd:eapi+"/rest/small/"+token()+"/User/WeChat/statisticsAdd/",getIndexVenueItems:url()+"/Item/Item/getIndexVenueItems/",allAdList:ad_host+"/all_adlist"},development:{detail:eapi+"detail/",category:eapi+"category/",getHotWords:eapi+"getHotWords/",geo:eapi+"geo/",cityList:eapi+"cityList/",ip:eapi+"ip/",categories:eapi+"categories/",recommend:eapi+"recommend/",projectList:eapi+"projectList/",noseat:eapi+"noseat/",ticketsDiscount:eapi+"getTicketsDiscount/",seatScreening:eapi+"seatscreentime/",seatArea:eapi+"seatArea/",seatSvg:eapi+"seatSvg/",seatAreaByUser:eapi+"getShowInfoAndAreaSeatsByUser/",autoSeatAndAddCart:eapi+"autoSeatAndAddCart/",userSeats:eapi+"userSeats/",selectSeat:eapi+"userSelectSeat/",getConfirmation:eapi+"getConfirmation/",getUserOrderList:eapi+"getUserOrderList/",orderDetail:eapi+"orderDetail/",getNativePaymentForm:eapi+"getNativePaymentForm/",dynamicFormGetByOnlineId:eapi+"getByOnlineId/",getUseCard:eapi+"getUseCard/",getRecommendProducts:eapi+"getRecommendProducts/",getGoodsBusiness:eapi+"getGoodsBusiness/",getSubOrderDetail:eapi+"getSubOrderDetail/",noseatTicketsUrl:eapi+"addNoSeatTickets/",createOrder:eapi+"createOrder/",getPaymentForm:eapi+"getPaymentForm/",getProvince:eapi+"getProvince/",getCity:eapi+"getCity",getDistrict:eapi+"getDistrict"}};Object.assign(urls.production,{bindMobile:eapi+"/sam/mobile",sendVerify:eapi+"/api/sendVerify",captchaSliderVerify:eapi+"/api/captchaSliderVerify",captchaSlider:eapi+"/api/captchaSlider"});var expUrl=urls["dev"===env?"development":"production"];if("dev"===env)for(var key in urls.production)expUrl[key]?expUrl[key]=expUrl[key]:expUrl[key]=urls.production[key];Object.assign(expUrl,{env:env}),exports.default=_extends({},expUrl); 
 			}); 
		define("wesai/common/util.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function calcIDCardCode(e,t){if(17!=t.length)return"";for(var n=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],r=e?["1","0","X","9","8","7","6","5","4","3","2"]:["1","0","5","9","8","7","6","5","4","3","2"],o=0,i=0;i<t.length;i++)o+=t.substr(i,1)*n[i];return r[o%11]}function check18IDCard(e,t){if(e&&18!=t.length)return!1;if(!e&&14!=t.length)return!1;var n=t.substr(0,17),r=t.substr(17,1).toUpperCase();return calcIDCardCode(e,n)==r}function find(e,t){return e.filter(t)[0]}function deepCopy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(null===e||"object"!==(void 0===e?"undefined":_typeof(e)))return e;var n=find(t,function(t){return t.original===e});if(n)return n.copy;var r=Array.isArray(e)?[]:{};return t.push({original:e,copy:r}),Object.keys(e).forEach(function(n){r[n]=deepCopy(e[n],t)}),r}function isObject(e){return null!==e&&"object"===(void 0===e?"undefined":_typeof(e))}function merge(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.assign.apply(Object,[{}].concat(t))}function isPromise(e){return e&&"function"==typeof e.then}function assert(e,t){if(!e)throw new Error("[vuex] "+t)}function isEmptyObject(e){var t=void 0;for(t in e)return!1;return!0}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};exports.calcIDCardCode=calcIDCardCode,exports.check18IDCard=check18IDCard,exports.deepCopy=deepCopy,exports.isObject=isObject,exports.merge=merge,exports.isPromise=isPromise,exports.assert=assert,exports.isEmptyObject=isEmptyObject;var fixedEncodeURIComponent=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})};!function(){"function"!=typeof Array.prototype.find&&(Array.prototype.find=function(e){for(var t=0;t<this.length;t++){var n=this[t];if(e.call(this,n))return n}}),"function"!=typeof Array.prototype.findIndex&&(Array.prototype.findIndex=function(e){for(var t=0;t<this.length;t++){var n=this[t];if(e.call(this,n))return t}return-1})}();var getTimeStamp=exports.getTimeStamp=function(e){return((new Date).getTime()+"").substring(0,e-1||10)},sortByKey=exports.sortByKey=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];for(var r in e)n.push(r);n.sort();var o=[];return n.length>0?(n.forEach(function(n){o.push([t?fixedEncodeURIComponent(n):n,t?fixedEncodeURIComponent(e[n]):e[n]].join("="))}),o.join("")):""},json2search=exports.json2search=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&"):Object.keys(e).map(function(t){return t+"="+e[t]}).join("&")},search2json=exports.search2json=function(e){return("?"===e.slice(0,1)?e.substring(1):e).split("&").reduce(function(e,t){var n=t.split("=");return n[0]&&(e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])),e},{})},once=exports.once=function(e,t){var n=void 0;return function(){return e&&(n=e.apply(t||this,arguments),e=null),n}},isString=exports.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},extendQuery=exports.extendQuery=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.split("?")[1]&&e.split("?")[1].split("#")[0]||"",o=e.split("#")[1]||"",i=search2json(r);return Object.assign(i,t),e.split("?")[0]+"?"+json2search(i,n)+(o?"#"+o:"")},ObjectValues=exports.ObjectValues=function(e){return Object.keys(e).map(function(t){return e[t]})}; 
 			}); 
		define("wesai/components/ad/ad.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_common=require("./../../common/common.js"),_mixin=require("./../../mixin.js"),_mixin2=_interopRequireDefault(_mixin),_navToMiniProgram=require("./../../common/navToMiniProgram.js"),_navToMiniProgram2=_interopRequireDefault(_navToMiniProgram),_miniProgramAppIds=require("./../../common/miniProgramAppIds.js"),_miniProgramAppIds2=_interopRequireDefault(_miniProgramAppIds),_advertisingIds=require("./../../common/advertisingIds.js"),AD=function(e){function t(){var e,n,r,o;_classCallCheck(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.data={indicatorDots:!1,indicatorColor:"rgba(255, 255, 255, 0.4)",indicatorActiveColor:"rgba(255, 255, 255, 0.9)",autoplay:!0,interval:5e3,duration:1e3,linkPrefix:"",adHeight:"73px",sysRes:{},swiperActiveIndex:0},r.mixins=[_mixin2.default],r.props={advertisingId:{type:String,required:!0,default:""},adViewPostStatus:{type:Boolean,required:!0,default:!0},advertisingList:{type:Array,required:!0,default:[]},config:{type:Object,required:!0,default:{indicatorDots:!1,indicatorColor:"",indicatorActiveColor:""}}},r.methods={swiperItemTap:function(e,t,n){var r=this;return _asyncToGenerator(regeneratorRuntime.mark(function o(){var i,a,s,c,u,d,m;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(i=wx.getStorageSync("selectCity"),a=wx.getStorageSync("wesaiToken"),s=wx.getStorageSync("maoYanOpenId"),0!=t||s||r.advertisingId!==_advertisingIds.homeSevenIds.topAheadAdvertisingId){o.next=7;break}return o.next=6,(0,_common.getMYOpenId)();case 6:s=o.sent;case 7:c=n.currentTarget.dataset.frame,u=r.sysRes,d=encodeURIComponent(encodeURIComponent(_common.urls.clickURL)),m={screen:u.windowWidth+"*"+u.windowHeight,referrer:"",ua:"wechat_miniprogram|"+u.platform+"|"+u.system+"|wechat_version_"+u.version+"|"+u.brand+"|"+u.model,token:a,advertisingId:r.advertisingId,cityName:i.name||"",city:i.city_id||-1,advertisementId:e.advertisementId||"",frame:c+1,materialId:e.materialId||"",advertisementUuid:e.advertisementUuid||"",url:e.url||"",openId:s},(0,_common.ajax)(_common.urls.proxyCurl,{jsonParams:{url:d,param:m}}).then(function(t){if(t.code&&200===t.code&&t.data){var n=t.data;n.response&&0===n.response.error&&e.url&&r.wxxcxClick(e.url)}}).catch(function(e){});case 13:case"end":return o.stop()}},o,r)}))()},bindSwiperChange:function(e){var t=e.detail.current;this.swiperActiveIndex=t||0}},r.watch={},o=n,_possibleConstructorReturn(r,o)}return _inherits(t,e),_createClass(t,[{key:"onLoad",value:function(){this.sysRes=wx.getSystemInfoSync()}},{key:"wxxcxClick",value:function(e){var t=this,n=encodeURIComponent(encodeURIComponent(_common.urls.wxclickURL)),r=encodeURIComponent(encodeURIComponent(e)),o=wx.getStorageSync("maoYanOpenId"),i={url:r||"",openid:o||""};(0,_common.ajax)(_common.urls.proxyCurl,{jsonParams:{url:n,param:i}}).then(function(n){200==n.code&&n.data&&n.data.response&&n.data.response.data&&t.tapToNavigate(e)}).catch(function(e){})}},{key:"init",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{this.$apply()}catch(e){}this.$apply();case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"loadADs",value:function(){var e=this;return new Promise(function(t){var n=wx.getStorageSync("selectCity"),r=wx.getStorageSync("wesaiToken"),o=wx.getStorageSync("maoYanOpenId"),i=e.sysRes,a=encodeURIComponent(encodeURIComponent(_common.urls.releaseURL)),s={screen:i.windowWidth+"*"+i.windowHeight,referrer:"",ua:"wechat_miniprogram|"+i.platform+"|"+i.system+"|wechat_version_"+i.version+"|"+i.brand+"|"+i.model,token:r,advertisingId:e.advertisingId,cityName:n.name||"",city:n.city_id||-1,openId:o};(0,_common.ajax)(_common.urls.proxyCurl,{jsonParams:{url:a,param:s}}).then(function(n){if(n.code&&200===n.code&&n.data){var r=n.data;r.response&&r.response.advertising&&r.response.advertising.advertisements&&(e.advertisingList=r.response.advertising.advertisements)}e.$apply(),t(e.advertisingList)}).catch(function(e){t(null)})})}},{key:"adViewFirstAtatistics",value:function(e,t){var n=wx.getStorageSync("selectCity"),r=wx.getStorageSync("wesaiToken"),o=wx.getStorageSync("maoYanOpenId");e||(e=this.advertisingList[0]);var i=this.sysRes,a=encodeURIComponent(encodeURIComponent(_common.urls.viewURL)),s={screen:i.windowWidth+"*"+i.windowHeight,referrer:"",ua:"wechat_miniprogram|"+i.platform+"|"+i.system+"|wechat_version_"+i.version+"|"+i.brand+"|"+i.model,token:r,advertisingId:this.advertisingId,cityName:n.name||"",city:n.city_id||-1,advertisementId:e.advertisementId,frame:t||1,materialId:e.materialId,advertisementUuid:e.advertisementUuid,openId:o};(0,_common.ajax)(_common.urls.proxyCurl,{jsonParams:{url:a,param:s}}).then(function(e){}).catch(function(e){})}},{key:"show",value:function(){}}]),t}(_wepy2.default.component);exports.default=AD; 
 			}); 
		define("wesai/components/ad/bannerad.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_mixin=require("./../../mixin.js"),_mixin2=_interopRequireDefault(_mixin),_common=require("./../../common/common.js"),bannerAD=function(e){function t(){var e,n,r,o;_classCallCheck(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.data={ADInfo:{},sysRes:{},onlineId:""},r.mixins=[_mixin2.default],r.props={advertisingId:{type:String,required:!0,default:""}},r.methods={tapToNav:function(){this.bindADClick(this.ADInfo,this.advertisingId,this.onlineId)}},r.watch={},o=n,_possibleConstructorReturn(r,o)}return _inherits(t,e),_createClass(t,[{key:"onLoad",value:function(){this.sysRes=wx.getSystemInfoSync()}},{key:"loadTheADs",value:function(e){var t=this;this.onlineId=e;var n=wx.getStorageSync("selectCity"),r=wx.getStorageSync("wesaiToken"),o=wx.getStorageSync("maoYanOpenId"),i=wx.getSystemInfoSync(),a=encodeURIComponent(encodeURIComponent(_common.urls.allAdList)),s={token:r,openId:o,advertisingId:this.advertisingId,screen:i.windowWidth+"*"+i.windowHeight,referrer:"",ua:"wechat_miniprogram|"+i.platform+"|"+i.system+"|wechat_version_"+i.version+"|"+i.brand+"|"+i.model,cityName:n.name||"",city:n.id||n.city_id||-1,online_id:e||"",channel:2};(0,_common.ajax)(_common.urls.proxyCurl,{jsonParams:{url:a,param:s}}).then(function(e){if(e.code&&200===e.code&&e.data){var n=e.data;if(n.response&&n.response.advertising){var r=n.response.advertising;r&&r[t.advertisingId]&&r[t.advertisingId].advertisements&&r[t.advertisingId].advertisements[0]&&(t.ADInfo=r[t.advertisingId].advertisements[0]||"")}}t.$apply()}).catch(function(e){})}}]),t}(_wepy2.default.component);exports.default=bannerAD; 
 			}); 
		define("wesai/components/category/category.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_common=require("./../../common/common.js"),_mixin=require("./../../mixin.js"),_mixin2=_interopRequireDefault(_mixin),getDefaultData=function(){return{categories:[],toView:"ID-0",id:0,categoryName:""}},Category=function(e){function t(){var e,r,n,o;_classCallCheck(this,t);for(var i=arguments.length,a=Array(i),c=0;c<i;c++)a[c]=arguments[c];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.data=getDefaultData(),n.mixins=[_mixin2.default],n.props={id:{type:Number,default:0},categoryName:{type:String,default:""}},n.methods={changeCategory:function(e){this.id=e&&e.id||0,this.categoryName=e&&e.name||"",this.$emit("categoryChange",{categoryName:this.categoryName,itemTypePid:this.id})}},o=r,_possibleConstructorReturn(n,o)}return _inherits(t,e),_createClass(t,[{key:"onLoad",value:function(){}},{key:"init",value:function(e){var t=this,r=e.categoryName,n=e.itemTypePid;(0,_common.ajax)(_common.urls.category).then(function(e){t.categories=e.data.itemTypes;var o=-1;o=r?t.categories.findIndex(function(e){return e.name===r}):t.categories.findIndex(function(e){return e.id===n}),o<0?t.id=0:(t.id=n||0,t.toView="ID-"+(o+1)),t.categoryName=r||"",t.$emit("categoryInit",{categoryName:r,itemTypePid:n}),t.$apply()}).catch(function(e){t.$emit("categoryError",null)})}}]),t}(_wepy2.default.component);exports.default=Category; 
 			}); 
		define("wesai/components/citypanel/citypanel.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_class,_temp2,_initialiseProps,_util=require("./../../common/util.js"),_mixin=require("./../../mixin.js"),_mixin2=_interopRequireDefault(_mixin),_wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_common=require("./../../common/common.js"),getDefaultData=function(){return{isHide:!0,focused:!1,location:null,locationText:"定位中...",showList:!0,useInput:!1,cityId:0,searchKey:"",searchResult:[],searchResultNoData:!1,lastcity:[],allCities:{},hotCities:[],showLocationFailed:!1,nationalInfo:{id:0,name:"全国",city_name:"全国"}}},CityPanel=(_temp2=_class=function(t){function e(){var t,i,n,o;_classCallCheck(this,e);for(var c=arguments.length,a=Array(c),s=0;s<c;s++)a[s]=arguments[s];return i=n=_possibleConstructorReturn(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),_initialiseProps.call(n),o=i,_possibleConstructorReturn(n,o)}return _inherits(e,t),_createClass(e,[{key:"changeCity",value:function(t){if(this.allCities&&!(0,_util.isEmptyObject)(this.allCities)){var e={name:t.city_name||t.name,id:t.city_id||t.id,city_id_movie:t.city_id_movie||t.id,city_name:t.city_name,city_name_en:t.city_name_en,city_code:t.city_code};this.searchKey="",this.searchResult=[],this.showList=!0,this.useInput=!1,this.isHide=!0,this.selectCity=e,this.$apply();var i=this._check(e);e.issame=i,wx.setStorageSync("selectCity",e),this.$emit("cityChange",e)}}},{key:"getCitiesListInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};(0,_common.ajax)(_common.urls.cityList).then(function(e){var i=e.data;t(i)}).catch(function(t){e(t)})}},{key:"_check",value:function(t){var e=!1;if("全国"==t.name&&(e=!0),this.allCities&&!(0,_util.isEmptyObject)(this.allCities))for(var i in this.allCities)for(var n=this.allCities[i].length;n>0;n--)if(this.allCities[i][n-1].city_name==t.name){e=!0;break}return e}},{key:"getCityList",value:function(){}},{key:"getGeoCityInfo",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){if(e)t.$emit("cityError");else{t.locationText="定位失败",t.showLocationFailed=!0,t.$apply();var i=getApp().$location;if(i&&i.city){var n=i.city,o=n;n.name=n.nm,n.issame=t._check(n),o=n,t.$emit("cityChange",o)}else t.$emit("cityChange",{name:"全国",id:0})}};getApp().checkLocationAuth().then(function(){wx.getLocation({success:function(n){(0,_common.ajax)(_common.urls.geo,{jsonParams:{lat:n.latitude,long:n.longitude}}).then(function(i){t.showLocationFailed=!1;var o=i.data;t.location=o||null,t.locationText=o.name||"",wx.setStorageSync("lastLocation",o);var c=t._check(o);o.issame=c;var a=getApp().$location,s=wx.getStorageSync("selectCity");if(t.selectCity=s||t.selectCity,a&&a.city){var l=a.city,r=l;return l.name=l.nm,l.issame=t._check(l),r=l,t.selectCity&&t.selectCity.city_name&&r&&r.nm&&t.selectCity.city_name!=r.nm?(t.selectCity.issame=!0,r=t.selectCity):t.selectCity=r,r.city_code=o.city_code||0,wx.setStorageSync("selectCity",r),void t.$emit("cityChange",r)}t.selectCity&&!t.selectCity.city_code&&0!==t.selectCity.city_code&&(t.selectCity.city_code=o.city_code||0),t.selectCity=t.selectCity||o,wx.setStorageSync("selectCity",t.selectCity),t.$emit("cityChange",o),t.$apply(),e({data:o,locationInfo:n})}).catch(function(e){t.showLocationFailed=!1,i()})},fail:function(t){i()}})}).catch(function(t){i()})}},{key:"geoToSwitchCity",value:function(t){var e=this;return new Promise(function(i,n){var o=e,c=wx.getStorageSync("selectCity"),a=wx.getStorageSync("lastLocation");t&&a&&t.city_id!==a.city_id?wx.showModal({title:"",content:"定位的城市为"+t.name+"，是否切换",cancelText:"取消",confirmText:"确定",success:function(e){e.confirm?i({newLocation:t,oldLocation:a}):e.cancel&&n({newLocation:t,oldLocation:a})},fail:function(){n({newLocation:t,oldLocation:a})}}):!a&&c&&t&&t.city_id!==c.city_id?wx.showModal({title:"",content:"定位的城市为"+t.name+"，是否切换",cancelText:"取消",confirmText:"确定",success:function(e){e.confirm?i({newLocation:t,oldLocation:a}):e.cancel&&n({newLocation:t,oldLocation:a})},fail:function(){n({newLocation:t,oldLocation:a})}}):a||c||!t||(wx.setStorageSync("lastLocation",t),o.location=t)})}},{key:"onLoad",value:function(){}},{key:"init",value:function(){var t=this;this.getCitiesListInfo(function(e){t.allCities=e.allCities,t.hotCities=e.hotCities,t.getGeoCityInfo(),t.$apply()},function(e){t.getGeoCityInfo(),t.$apply()})}},{key:"show",value:function(t){this.isHide=!1,this.$apply()}}]),e}(_wepy2.default.component),_initialiseProps=function(){this.data=getDefaultData(),this.components={},this.methods={__city_panel_close:function(){this.isHide=!0},__city_panel_searcherFocus:function(){this.focused=!0},__city_panel_searcherFocus_cancel:function(){this.focused=!1,this.searchKey="",this.showList=!0,this.searchResult=[]},__city_panel_clearText:function(){var t=this;setTimeout(function(){t.searchKey="",t.showList=!0,t.searchResult=[],t.$apply()},0)},__city_panel_searcher:function(t){var e=t.detail.value,i=this.allCities;this.showList=0===e.length,this.searchKey=e;var n=[];for(var o in i){for(var c=i[o],a=[],s=0;s<c.length;s++){var l=c[s];(l.city_name.toLowerCase().indexOf(e.toLowerCase())>=0||l.city_name_en.toLowerCase().indexOf(e.toLowerCase())>=0)&&a.push(l)}n=n.concat(a)}this.searchResult=n,this.searchResultNoData=0===this.searchResult.length},__city_panel_chooseItem:function(t){var e=t.currentTarget.dataset.cityItem;e&&this.changeCity(e)},__city_panel_refreshGeo:function(){var t=this;this.showLocationFailed&&this.getGeoCityInfo(function(){t.isHide=!0,t.$apply()})}},this.events={appMsg:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i]}}},_temp2);exports.default=CityPanel; 
 			}); 
		define("wesai/components/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_layer=require("./layer/layer.js"),_layer2=_interopRequireDefault(_layer),_pubClass=require("./pubClass/pubClass.js"),_pubClass2=_interopRequireDefault(_pubClass),Comp=function(e){function t(){var e,r,n,o;_classCallCheck(this,t);for(var a=arguments.length,u=Array(a),l=0;l<a;l++)u[l]=arguments[l];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.components={Layer:_layer2.default,pubClass:_pubClass2.default},o=r,_possibleConstructorReturn(n,o)}return _inherits(t,e),_createClass(t,[{key:"alert",value:function(e){this.$invoke("Layer","alert",e)}},{key:"confirm",value:function(e){this.$invoke("Layer","confirm",e)}}]),t}(_wepy2.default.component);exports.default=Comp; 
 			}); 
		define("wesai/components/layer/layer.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),_wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),getDefaultConfig=function(){return{showLayer:!1,showLayerTimer:!1,showBtns:!0,showTitle:!0,showContent:!0,layerType:0,title:"",content:"",custom:"",linkUrl:"",cancelText:"取消",confirmText:"确定",customContent:"",alertText:"我知道了",callback:function(){},confirmCallback:function(){},cancelCallback:function(){}}},Layer=function(t){function e(){var t,n,o,r;_classCallCheck(this,e);for(var a=arguments.length,c=Array(a),i=0;i<a;i++)c[i]=arguments[i];return n=o=_possibleConstructorReturn(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(c))),o.data=getDefaultConfig(),o.methods={tapFun:function(){this.showLayer=!1,this.$apply(),this.callback()},cancelFun:function(){this.showLayer=!1,this.$apply(),this.cancelCallback()},confirmFun:function(){this.showLayer=!1,this.$apply(),this.confirmCallback()}},r=n,_possibleConstructorReturn(o,r)}return _inherits(e,t),_createClass(e,[{key:"alert",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},getDefaultConfig(),t);this.layerType=0,this.showLayer=!0,this.title=e.title,this.content=e.content,this.callback=e.callback,this.alertText=e.alertText,this.$apply()}},{key:"confirm",value:function(t){var e=Object.assign({showLayer:!0,title:"",content:"",custom:"",linkUrl:"",customContent:"",alertText:"我知道了",callback:function(){}},t);this.showLayer=!0,this.layerType=1,this.title=e.title,this.content=e.content,this.cancelCallback=e.cancelCallback,this.confirmCallback=e.confirmCallback,this.cancelText=e.cancelText,this.confirmText=e.confirmText,this.$apply()}},{key:"show",value:function(){}}]),e}(_wepy2.default.component);exports.default=Layer; 
 			}); 
		define("wesai/components/loginpanel/logindefaultdata.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function getDefaultData(){return{isShow:!1,phoneNum:"",verifyPhone:!1,verifyCode:"",verifyText:"获取验证码",phoneClass:"",phoneErrorClass:!1,vcodeClass:"",vcodeErrorClass:!1,labelClass:"",labelImgSrc:"normal",freshClass:"",verifyCodeClass:"",verifyCodePlaceholder:"请填写验证码",loadingVerifyBg:!1,labelDragging:!1,hideSliderTips:!0,sliderImgOk:!1,timeDiff:0,errMsg:"拖动滑块将悬浮图像正确拼合",veriPicHeight:0,veriPicBg:"",veriIconBg:"",slideIconLeft:0,hideVeriIcon:!0,veriPicPosTop:0,__lgpanel_timer:null,__lgpanel_countDown:60,slideMin:0,slideMax:200,_configs:{sendCode:null,closeCode:null,login:null}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getDefaultData; 
 			}); 
		define("wesai/components/loginpanel/loginpanel.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_logindefaultdata=require("./logindefaultdata.js"),_logindefaultdata2=_interopRequireDefault(_logindefaultdata),_urls=require("./../../common/urls.js"),_urls2=_interopRequireDefault(_urls),LoginPanel=function(e){function t(){var e,i,n,o;_classCallCheck(this,t);for(var a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];return i=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),n.data=(0,_logindefaultdata2.default)(),n.components={},n.methods={__lgpanel_phoneInput:function(e){this.phoneNum=e.detail.value,this.verifyPhone=this.validPhone(e.detail.value),11!=this.phoneNum.length||this.verifyPhone?this.phoneErrorClass=!1:this.phoneErrorClass=!0},__lgpanel_vcodeInput:function(e){this.verifyCode=e.detail.value,this.verifyCode.length>0&&4!=this.verifyCode.length?this.vcodeErrorClass=!0:this.vcodeErrorClass=!1},__lgpanel_login:function(){var e=this;if(!this.sliderImgOk||!this.verifyPhone)return!1;var t=this.phoneNum,i=this.verifyCode;_wepy2.default.request({url:_urls2.default.bindMobile,method:"POST",data:{mobile:t,code:i,verify:"riddle"}}).then(function(n){200!=+n.code?(e.verifyCodeClass="redFouce",e.verifyCodeText="短信验证码有误",n.err?e.$invoke("Toast","show",n.err+""):e.$invoke("Toast","show","绑定失败，请重试")):(e.isShow=!1,e.verifyCodeClass="",e.verifyCodeText="请填写验证码",e.loginClose(),e.$apply(),e.$emit("loginSuccess",t,i,n&&n.data||{}))}).catch(function(e){})},__lgpanel_phoneFocus:function(e){this.phoneClass="focus"},__lgpanel_phoneBlur:function(e){this.phoneClass=""},__lgpanel_vcodeFocus:function(e){this.vcodeClass="focus"},__lgpanel_vcodeBlur:function(e){this.vcodeClass=""},__lgpanel_sendCode:function(){this.__lgpanel_countDown<60||this.validPhone(this.data.phoneNum)&&this.getVerifyCodeImg(!0)},__lgpanel_close:function(){this.loginClose()},__lgpanel_clearPhoneNum:function(){var e=this;setTimeout(function(){e.phoneNum="",e.$apply()},0)},__lgpanel_clearVerifyCode:function(){var e=this;setTimeout(function(){e.verifyCode="",e.$apply()})},__lgpanel_verify_icon_start:function(e){var t=this;this.lableIndex=e.touches[0].pageX-e.target.offsetLeft,this.captchaData.time_start=(new Date).getTime();var i={slideIconLeft:0,hideSliderTips:!0,labelDragging:!0,hideVeriIcon:!1};Object.keys(i).forEach(function(e){t[e]=i[e]})},__lgpanel_verify_icon_move:function(e){var t=this,i=e.touches[0].pageX-this.lableIndex;i<0&&(i=0),i>this.slideMax&&(i=this.slideMax),this.captchaData.position=i;var n={slideIconLeft:i,labelDragging:!0,labelImgSrc:"move"};Object.keys(n).forEach(function(e){t[e]=n[e]})},__lgpanel_verify_icon_end:function(e){var t=this,i=2*(this.slideIconLeft+10),n={indentify:this.captchaData.indentify,time_start:this.captchaData.time_start,time_stop:(new Date).getTime(),position:i,_:Math.floor(1e14*Math.random())};this.labelDragging=!1,_wepy2.default.request({url:_urls2.default.captchaSliderVerify,data:n}).then(function(e){if(0===e.code){t.sendVerifyCode();var i={hideSliderTips:!1,veriPicBg:t.captchaData.done,sliderImgOk:!0,slideIconLeft:0,hideVeriIcon:!0,labelImgSrc:"done",timeDiff:(n.time_stop-n.time_start)/1e3};Object.keys(i).forEach(function(e){t[e]=i[e]}),t.$apply()}else t.resetVerifyImg(!0,e)}).catch(function(e){t.resetVerifyImg(!0,e)})}},o=i,_possibleConstructorReturn(n,o)}return _inherits(t,e),_createClass(t,[{key:"onLoad",value:function(){}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(this._configs,e),this.$emit("controlScroll",!0),this.isShow=!0,this.$apply()}},{key:"loginClose",value:function(){var e=this;clearInterval(this.__lgpanel_timer),this.$emit("controlScroll",!1);var t=(0,_logindefaultdata2.default)();Object.keys(t).forEach(function(i){e[i]=t[i]})}},{key:"validPhone",value:function(e){return/^1[3|4|5|8|7][0-9]\d{8}$/.test(e)}},{key:"sendVerifyCode",value:function(){var e=this;_wepy2.default.request({url:_urls2.default.sendVerify,data:{mobile:this.data.phoneNum,indentify:this.captchaData.indentify,verify:"riddle"}}).then(function(t){0===t.error&&(e.__lgpanel_timer=setInterval(function(){if(--e.__lgpanel_countDown<=0)return clearInterval(e.__lgpanel_timer),e.__lgpanel_countDown=60,e.verifyText="重新获取",void e.$apply();e.verifyText=e.__lgpanel_countDown+"s",e.$apply()},1e3),setTimeout(function(){e.veriPicHeight=0,setTimeout(function(){e.resetVerifyImg(),e.sliderImgOk=!0,e.$apply()},2e3),e.$apply()},2e3),"function"==typeof e._configs.sendCode&&e._configs.sendCode(),e.$apply())})}},{key:"resetVerifyImg",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t){var n={labelClass:"animte label_moveOut",hideSliderTips:!1,hideVeriIcon:!0,sliderImgOk:!1,slideIconLeft:0};Object.keys(n).forEach(function(t){e[t]=n[t]}),-8===i.code&&i.msg?this.errMsg=i.msg:this.errMsg="拖动滑块将悬浮图像正确拼合",this.getVerifyCodeImg(),setTimeout(function(){e.labelClass="",e.labelImgSrc="normal",e.$apply()},500)}else{var o={labelClass:"",labelImgSrc:"normal",hideSliderTips:!0,sliderImgOk:!1,timeDiff:0,veriPicHeight:0,veriPicBg:"",veriIconBg:"",slideIconLeft:0,hideVeriIcon:!0};Object.keys(o).forEach(function(t){e[t]=o[t]})}}},{key:"getVerifyCodeImg",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_wepy2.default.request({url:_urls2.default.captchaSlider,data:{user_key:this.phoneNum,project_key:"wsPicked",_:Math.floor(1e14*Math.random())}}).then(function(i){if(0===i.code){e.captchaData=i.data;var n={veriPicHeight:"178px",freshClass:"freshAni",loadingVerifyBg:!0,veriPicBg:i.data.bg,veriIconBg:i.data.icons,veriPicPosTop:i.data.top/2,slideIconLeft:0,hideVeriIcon:!0};Object.keys(n).forEach(function(t){e[t]=n[t]}),t&&(e.hideSliderTips=!0),setTimeout(function(){e.freshClass="",e.loadingVerifyBg=!1,e.$apply()},300),e.$apply()}else i.msg&&e.$invoke("Toast","show",i.msg+"")}).catch(function(t){-8===t.code&&(0===e.veriPicHeight?e.$invoke("Toast","show",t.msg+""):e.errMsg=t.msg,e.$apply())})}},{key:"sendCode",value:function(){}}]),t}(_wepy2.default.component);exports.default=LoginPanel; 
 			}); 
		define("wesai/components/modal/bankADActivity.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_common=require("./../../common/common.js"),_navToMiniProgram=require("./../../common/navToMiniProgram.js"),_navToMiniProgram2=_interopRequireDefault(_navToMiniProgram),_miniProgramAppIds=require("./../../common/miniProgramAppIds.js"),_miniProgramAppIds2=_interopRequireDefault(_miniProgramAppIds),_mixin=require("./../../mixin.js"),_mixin2=_interopRequireDefault(_mixin),bankADActivity=function(e){function t(){var e,i,n,o;_classCallCheck(this,t);for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];return i=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.data={show:!1,isSelect:-1,itemInfo:[],ADType:1},n.mixins=[_mixin2.default],n.events={},n.methods={showBankAD:function(e){this.itemInfo=e.map(function(e){var t=[e.rule]||[];return t=e.rule&&e.rule.indexOf("\r\n")>0?e.rule.split("\r\n"):e.rule.split("\n"),Object.assign({},e,{rule:t})}),this.ADType=1,this.$emit("controlScroll",!0),this.show=!0},showBank:function(){this.itemInfo=this.$parent.itemInfo.bankDiscount,this.ADType=0,this.$emit("controlScroll",!0),this.show=!0},hide:function(){this.$emit("controlScroll",!1),this.show=!1},toggleItem:function(e){var t=this.isSelect;this.isSelect=t==e?-1:e},ADItemTap:function(e){var t=decodeURIComponent(e);if(/http/g.test(t)){var i=wx.getStorageSync("wesaiToken"),n=wx.getStorageSync("maoYanOpenId");_navToMiniProgram2.default.navigateToMiniProgram({appId:_miniProgramAppIds2.default.dongTaiBiaoDanWXAppId,path:"pages/webview/webview",extraData:{token:i,maoYanOpenId:n,webViewUrl:e||"",env:_common.urls.env},envVersion:"trial"})}else wx.navigateTo({url:t})},bindADImgLoaded:function(e,t){var i=t.detail.width,n=t.detail.height;this.itemInfo[e].width=i/n*44,this.$apply()}},o=i,_possibleConstructorReturn(n,o)}return _inherits(t,e),t}(_wepy2.default.component);exports.default=bankADActivity; 
 			}); 
		define("wesai/components/modal/reResult.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),reservation=function(e){function t(){var e,o,s,r;_classCallCheck(this,t);for(var n=arguments.length,i=Array(n),c=0;c<n;c++)i[c]=arguments[c];return o=s=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),s.data={mobile:"",mask:!1,show:!1,isActive:!0,msg:"",success:!0},s.methods={hide:function(){this.$emit("controlScroll",!1),this.mask=!1,this.show=!1,this.mobile="",this.msg="",this.success=!0},show:function(e){this.$emit("controlScroll",!0),this.mask=!0,this.show=!0,this.mobile=e.mobile,this.msg=e.msg,-1!=e.msg.indexOf("失败")&&(this.success=!1)}},r=o,_possibleConstructorReturn(s,r)}return _inherits(t,e),t}(_wepy2.default.component);exports.default=reservation; 
 			}); 
		define("wesai/components/modal/stock.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),_wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_common=require("./../../common/common.js"),_urls=require("./../../common/urls.js"),_urls2=_interopRequireDefault(_urls),stock=function(t){function e(){var t,i,s,o;_classCallCheck(this,e);for(var r=arguments.length,n=Array(r),c=0;c<r;c++)n[c]=arguments[c];return i=s=_possibleConstructorReturn(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(n))),s.data={title:"",mask:!1,clear:!1,desc:"",btn_active:"",show:!1,mobile:"",isActive:!1,toast:!1,toastMsg:"",showSuc:!1,showSuc2:!1,showErr:!1,bookSrc:"",screeningsId:"",priceId:"",itemStatus:""},s.watch={mask:function(t){t?this.$emit("controlScroll",!0):this.$emit("controlScroll",!1)}},s.methods={mobileInput:function(t){var e=t.detail.value;e.length>1?11==e.length&&(this.mobile=e,this.checkMobileNum(this.mobile)?this.isActive=!0:(this.isActive=!1,this.showToast("请填写正确的手机号码")),this.clear=!0):this.clear=!1},hide:function(){this.mask=!1,this.show=!1,this.showSuc=!1,this.showSuc2=!1,this.showErr=!1},show:function(t){this.bookSrc=t.bookSrc,this.screeningsId=t.screeningsId,this.priceId=t.priceId,this.itemStatus=t.itemStatus,this.itemInfo=t.itemInfo,this.mask=!0,1==this.itemStatus||4==this.itemStatus?(this.title="开票提醒",this.desc="温馨提示： 我们会记录您的基本信息，待到货后我们会第一时间通知您。"):(this.title="缺货登记",this.desc="本票价已经售罄。是否帮您做缺货登记？我们将记录您的信息，并在有票时通知您。"),this.show=!0;var e=wx.getStorageSync("wesaiUserInfo");this.mobile=e.mobile||"",this.checkMobileNum(this.mobile)&&(this.isActive=!0)},resetValue:function(){this.mobile="",this.isActive=""},submit:function(t){var e=this;if(this.isActive){var i={};i=1==this.itemInfo.itemStatus?{mobile:this.mobile,itemId:this.itemInfo.itemId,priceId:"",showId:"",bookType:this.itemInfo.itemStatus,bookSrc:this.bookSrc}:{mobile:this.mobile,itemId:this.itemInfo.itemId,priceId:this.priceId,showId:this.screeningsId,bookType:this.itemInfo.itemStatus,bookSrc:this.bookSrc},(0,_common.ajax)(_urls2.default.outStockUrl,{jsonParams:i}).then(function(t){200==t.returnInfo.code?1==e.itemInfo.itemStatus||4==e.itemInfo.itemStatus?e.suc():e.suc2():e.err()}).catch(function(t){})}}},o=i,_possibleConstructorReturn(s,o)}return _inherits(e,t),_createClass(e,[{key:"checkMobileNum",value:function(t){return/^1[3|4|5|8|7][0-9]\d{8}$/.test(t)}},{key:"showToast",value:function(t){var e=this;this.toast=!0,this.toastMsg=t,setTimeout(function(){e.toast=!1,e.$apply()},2e3)}},{key:"hide",value:function(){this.mask=!1,this.show=!1}},{key:"suc",value:function(){var t=this;this.show=!1,this.showSuc=!0,setTimeout(function(){t.hide(),t.showSuc=!1,t.$apply()},2e3),this.$apply()}},{key:"suc2",value:function(){var t=this;this.show=!1,this.showSuc2=!0,setTimeout(function(){t.hide(),t.showSuc2=!1,t.$apply()},2e3),this.$apply()}},{key:"err",value:function(){var t=this;this.show=!1,this.showErr=!0,setTimeout(function(){t.hide(),t.showErr=!1,t.$apply()},2e3)}}]),e}(_wepy2.default.component);exports.default=stock; 
 			}); 
		define("wesai/components/nav/nav-stretch.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_common=require("./../../common/common.js"),_mixin=require("./../../mixin.js"),_mixin2=_interopRequireDefault(_mixin),reservation=function(e){function t(){var e,o,n,r;_classCallCheck(this,t);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return o=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.data={isIPhoneX:(0,_common.app)().globalData.isIPhoneX},n.mixins=[_mixin2.default],n.methods={gotoHome:function(){(0,_common.gotoHome)()}},r=o,_possibleConstructorReturn(n,r)}return _inherits(t,e),t}(_wepy2.default.component);exports.default=reservation; 
 			}); 
		define("wesai/components/projectlist/projectlist.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,i){function r(n,s){try{var a=t[n](s),o=a.value}catch(e){return void i(e)}if(!a.done)return Promise.resolve(o).then(function(e){r("next",e)},function(e){r("throw",e)});e(o)}return r("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),_util=require("./../../common/util.js"),_mixin=require("./../../mixin.js"),_mixin2=_interopRequireDefault(_mixin),_wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_common=require("./../../common/common.js"),_miniProgramAppIds=require("./../../common/miniProgramAppIds.js"),_miniProgramAppIds2=_interopRequireDefault(_miniProgramAppIds),getDefaultData=function(){return{isHide:!0,netError:!1,list:[],recommendData:[],recommendList:[],noData:!1,defaultNoData:!1,curPage:1,maxPage:1,showTipBar:!1,useSearchFlag:!1,showRecommendList:!1,showScrollLoading:!1,isLoading:!1,insertADInfo:null,insertADInfoSuccess:!1,sysRes:{}}},sportsQueryObj=function(){return{itemQuery:{allPlatform:!1,cityName:"全国",itemTypeId:null,itemTypePid:null,keyword:null,onlineId:null,showStartTime:null,showEndTime:null,venueId:"",orderType:null,curpage:1,pagesize:10}}},ProjectList=function(e){function t(){for(var e,i,r,n,s=arguments.length,a=Array(s),o=0;o<s;o++)a[o]=arguments[o];return _classCallCheck(this,t),i=r=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.data=getDefaultData(),r.sportsQueryObj=sportsQueryObj(),r.props={itemTypePid:{type:Number,default:0},categoryName:{type:String,default:""},city:{type:Object,default:null},pageSize:{type:Number,default:10},keyword:{type:String,default:""},useSearch:{type:Boolean,default:!1},useOutLoad:{type:Boolean,default:!1},recommendData:{type:Array,default:[]},loadMore:{type:Number,default:0},loadFlag:{type:Number,default:0}},r.mixins=[_mixin2.default],r.methods={detailUrl:function(e,t){var i=this;return _asyncToGenerator(regeneratorRuntime.mark(function r(){var n,s,a,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.detailUrl){r.next=18;break}if(n=e.detailUrl,!/https:\/\/ticket.wesai.com\/wechat\/zwy/g.test(n)){r.next=10;break}return r.next=7,i.checkBindUser();case 7:if(s=r.sent){r.next=10;break}return r.abrupt("return");case 10:if(/m(beta)?.piaoniu.com/g.test(n)&&(a=n.split("?")[1]?(0,_util.search2json)(n.split("?")[1]):{},Object.assign(a,{noAppLink:!0}),n=n.split("?")[0]+"?"+(0,_util.json2search)(a)),!(e.businessId&&"8a8283ed61510bce0162d1551d9f7378"===e.businessId||/https:\/\/huidong.bjsia.cn/g.test(n))){r.next=15;break}return o=_miniProgramAppIds2.default.huiDongSportAppId,i.tapToNavThirdWeApp({miniPath:n,appId:o}),r.abrupt("return");case 15:i.tapToNavigate(n),r.next=19;break;case 18:i.gotoDetail(t.currentTarget.dataset.onlineId);case 19:case"end":return r.stop()}},r,i)}))()},changeCity:function(){this.$emit("changeCity")},reload:function(){this.reset(),this.loadData()},bindADItemTap:function(){this.bindADClick.apply(this,arguments)},ADImageLoadedView:function(){this.bindADView.apply(this,arguments)},goToGetBonus:function(e){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function i(){var r,n,s,a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.checkBindUser();case 2:if(r=i.sent){i.next=5;break}return i.abrupt("return");case 5:n=wx.getStorageSync("selectCity"),s={resId:e.bonusId||"",chanId:4,wesaiToken:wx.getStorageSync("wesaiToken"),wesaiUserId:r&&r.user_id||"",cityCode:n&&n.city_code||0,itemId:e.itemId||""},a="https://ticket.wesai.com/wechat/coupon/"+(0,_util.extendQuery)("",s),t.tapToNavigate(a);case 9:case"end":return i.stop()}},i,t)}))()}},r.projectList=[],r.events={},n=i,_possibleConstructorReturn(r,n)}return _inherits(t,e),_createClass(t,[{key:"getYouhuiTag",value:function(e){var t=e.tags,i=!1;if(t&&t.length>0)for(var r=0;r<t.length;r++){var n=t[r];if(n.value&&1==n.value){i=!0;break}}return i}},{key:"gotoDetail",value:function(e){this.$root.$navigate("/wesai/pages/detail/detail",{onlineId:e})}},{key:"loadMoreData",value:function(e){this.lock||(this.curPage<=this.maxPage?(this.lock=!0,this.loadData(!1,e)):(this.lock=!1,this.$emit("listLoaded")))}},{key:"reset",value:function(){this.useSearchFlag=this.useSearch,this.noData=!1,this.netError=!1,this.defaultNoData=!1,this.showTipBar=!1,this.cityId=this.city?this.city.id:null,this.cityName=this.city?this.city.name:null,this.hasCity=this.city?this.city.issame:null,this.hasCity||this.useSearch||(this.cityName="全国",this.cityId=0),this.list=[],this.curPage=1,this.maxPage=1,this.showRecommendList=!1,this.insertADInfoSuccess=!1,this.$apply()}},{key:"filterRecommend",value:function(){var e=this;this.categoryName?this.recommendList=this.recommendData.filter(function(t){return t&&t.itemTypePName&&t.itemTypePName.indexOf(e.categoryName)>=0}):this.itemTypePid?this.recommendList=this.recommendData.filter(function(t){return t.itemTypePid==e.itemTypePid}):this.recommendList=this.recommendData,this.recommendList.forEach(function(e){e.itemPicUrl=e.itemPicUrl.indexOf("http")>=0?e.itemPicUrl:"http:"+e.itemPicUrl}),this.$apply()}},{key:"loadData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,i=arguments[1],r=arguments[2];this.showTipBar=!1,this.isLoading=!0,this.$apply();var n=function(i){1==t.curPage?t.noData=0==i.length:t.noData=!1,e&&(t.list=[]),i.forEach(function(e){e.itemPicUrl=e.itemPicUrl.indexOf("http")>=0?e.itemPicUrl:"http:"+e.itemPicUrl}),t.list=t.list.concat(i),t.projectList=t.projectList.concat(i),t.lock=!1,t.noData?(t.defaultNoData=t.noData,t.useOutLoad||t.recommendData.length>0&&t.filterRecommend()):t.useOutLoad||(t.defaultNoData=!1)};this.noData=!1,this.useSearch&&(this.itemTypePid=null,this.categoryName=null),this.sportsQueryObj=sportsQueryObj(),this.sportsQueryObj.itemQuery=(0,_util.merge)(this.sportsQueryObj.itemQuery,{excludeTypeId:"8a8283eb5bd2a290015bfc38b011006d,8a8283eb5bd2a290015bfc38b0110066",curpage:this.curPage,pagesize:this.pageSize,cityName:this.cityName},!this.categoryName&&this.itemTypePid?{itemTypePid:0==this.itemTypePid?null:this.itemTypePid,keyword:this.keyword||null}:{keyword:this.keyword||this.categoryName||null},i&&(0,_util.isObject)(i)&&!(0,_util.isEmptyObject)(i)?i:{}),(this.categoryName||this.keyword)&&this.sportsQueryObj.itemQuery&&this.sportsQueryObj.itemQuery.itemTypePid&&delete this.sportsQueryObj.itemQuery.itemTypePid,"undefined"==this.sportsQueryObj.itemQuery.cityId&&(this.sportsQueryObj.itemQuery.cityId=0),this.curPage<=1?(this.showScrollLoading=!0,this.bottomShow=!0):this.useSearch||(this.showScrollLoading=!0),(0,_common.ajax)(_common.urls.projectList,{jsonParams:this.sportsQueryObj}).then(function(e){r&&(t.list=[],t.$apply()),n(e.itemResult.items),t.$emit("loadProjectList",e.itemResult),t.maxPage=e.itemResult.totalpage,t.maxPage<=t.curPage&&(t.showScrollLoading=!1),t.$emit("update",e.itemResult.totalItem),t.lock=!1,t.curPage++,t.$apply(),t.curPage>t.maxPage&&(t.filterRecommend(),t.recommendList.forEach(function(e){delete e.idx}),t.recommendList.length>0&&(t.recommendList[0].idx=0),t.list=t.list.concat(t.recommendList),t.showRecommendList=!0,t.$apply()),t.useOutLoad&&(t.itemTypePid||(t.showTipBar=!t.hasCity||t.defaultNoData&&t.showRecommendList&&t.recommendList.length>0)),t.isLoading=!1,t.$apply(),t.insertTheADInfo(),r&&t.$emit("triggerProjectListInited",!0),t.$apply()}).catch(function(i){e&&(t.list=[],t.noData=!0),t.isLoading=!1,t.showScrollLoading=!1,t.netError=!0,t.$apply(),n([]),t.$emit("loadProjectList"),t.lock=!1,t.useOutLoad&&t.$emit("ProjectListLoaded"),t.$apply()}),this.$apply()}},{key:"onLoad",value:function(){}},{key:"init",value:function(){this.isHide=!1,this.sysRes=wx.getSystemInfoSync(),this.$apply(),this.loadData()}},{key:"getInsertADInfo",value:function(e){this.insertADInfo=e||null,this.$apply()}},{key:"insertTheADInfo",value:function(){!this.insertADInfoSuccess&&this.insertADInfo&&this.list&&this.list.length>0&&(this.list.length>3?this.list.splice(3,0,this.insertADInfo):this.list.push(this.insertADInfo),this.insertADInfoSuccess=!0),this.$apply()}}]),t}(_wepy2.default.component);exports.default=ProjectList; 
 			}); 
		define("wesai/components/pubClass/pubClass.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),pubClass=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),t}(_wepy2.default.component);exports.default=pubClass; 
 			}); 
		define("wesai/components/searchpanel/searchpanel.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),_wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_projectlist=require("./../projectlist/projectlist.js"),_projectlist2=_interopRequireDefault(_projectlist),_common=require("./../../common/common.js"),_mixin=require("./../../mixin.js"),_mixin2=_interopRequireDefault(_mixin),getDefaultData=function(){return{netError:!1,listResultNothing:!1,showPage:!0,useSearch:!0,focus:!1,bindThirdType:7,latitude:0,longitude:0,timer:0,selectCity:null,location:null,projectShowListFlags:[],searcherHistory:[],searchKey:"",getSearchHotWords:[],showSearchResult:!1,searchResultsTotalNum:0,showTheCurrentCityResults:!1}},SearchPanel=function(e){function t(){var e,r,i,s;_classCallCheck(this,t);for(var o=arguments.length,n=Array(o),a=0;a<o;a++)n[a]=arguments[a];return r=i=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(n))),i.data=getDefaultData(),i.mixins=[_mixin2.default],i.$repeat={},i.$props={ProjectList:{"xmlns:v-bind":"","v-bind:city.sync":"selectCity","v-bind:keyword.sync":"searchKey","v-bind:useSearch.once":"useSearch"}},i.$events={},i.components={ProjectList:_projectlist2.default},i.props={city:{type:Object,default:{id:"0",name:"全国"}}},i.methods={bindLoadMore:function(){this.$invoke("ProjectList","loadMoreData"),this.$apply()},changeUseCity:function(e){this.showTheCurrentCityResults=!this.showTheCurrentCityResults,this.showTheCurrentCityResults?this.selectCity=this.city:this.selectCity={id:"0",name:"全国"},this.$apply(),this.$invoke("ProjectList","reset"),this.$invoke("ProjectList","loadData")},bindSearchAlreadyExistsKeyWords:function(e){var t=e.currentTarget.dataset.keyWord;this.searchKey=t,this.getSearchResult(t)},bindCancelSearchAndGoBack:function(){wx.navigateBack()},bindSearchInput:function(e){var t=this;clearTimeout(this.timer),this.timer=setTimeout(function(){var r=e.detail.value;t.searchKey=r,""!==r?t.getSearchResult(r):t.clearSearch(),t.$apply()},500)},bindToGetSearcherHistory:function(e){var t=this;clearTimeout(this.data.timer),this.timer=setTimeout(function(){var r=t.searcherHistory,i=e.detail.value;""!==i.trim()&&(r&&6===r.length&&r.pop(),r.findIndex(function(e){return i===e})<0&&(r.unshift(i),t.searcherHistory=r,t.$apply(),wx.setStorageSync("searcherHistory",t.searcherHistory)),t.getSearchResult(i))},500)},bindClearSearcherHistory:function(){this.searcherHistory=[],wx.setStorageSync("searcherHistory",[])},bindClearSearchInput:function(){this.clearSearch()}},i.events={loadProjectList:function(e){this.showSearchResult=!0,this.searchResultsTotalNum=e.totalItem,this.$apply()}},s=r,_possibleConstructorReturn(i,s)}return _inherits(t,e),_createClass(t,[{key:"clearSearch",value:function(){this.searchKey="",this.showSearchResult=!1,this.listResultNothing=!1,this.venueList=[],this.showLoadMore=!1,this.showLoadMoreIcon=!1,this.$apply()}},{key:"getSearchResult",value:function(e){this.searchKey=e,this.$apply(),this.$invoke("ProjectList","reset"),this.$invoke("ProjectList","loadData")}},{key:"onLoad",value:function(){}},{key:"init",value:function(){this.searcherHistory=wx.getStorageSync("searcherHistory")||[],this.location=wx.getStorageSync("lastLocation")}},{key:"getHotWords",value:function(){var e=this;(0,_common.ajax)(_common.urls.getHotWords).then(function(t){e.getSearchHotWords=t.data,e.$apply()})}},{key:"show",value:function(e){this.showPage=!0,this.init(),this.getHotWords(),this.focus=!0,this.$apply()}}]),t}(_wepy2.default.component);exports.default=SearchPanel; 
 			}); 
		define("wesai/components/seats/seats.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),_wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),Seats=function(e){function t(){var e,a,i,s;_classCallCheck(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=i=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),i.data={seats:[],seatContainerWidth:710,seatContainerHeight:640,seatContainerWidthOfMovableView:710,seatContainerHeightOfMovableView:640,seatCellWidth:40,seatCellHeight:40,movableViewX:0,movableViewY:0,seatTapAble:!0},i.computed={},i.props={scaleTimes:{type:Number,required:!1,default:1},animateCss:{type:String,required:!1,default:""},visible:{type:Boolean,required:!1,default:!0},maxColumnIndex:{type:Number,required:!1,default:0},maxRowIndex:{type:Number,required:!1,default:0},maps:{type:Array,required:!0,default:[]},max:{type:Number,required:!1,default:0},scaleTransition:{type:String,required:!1,default:"none"},touchStart:{type:Boolean,required:!1,default:!0}},i.methods={bindSeatTap:function(e){if(this.seatTapAble){this.seatTapAble=!1,this.$apply();var t=e.currentTarget.dataset.seatData,a=e.currentTarget.dataset.seatIndex,i=e.currentTarget.dataset.statusId;this.$emit("seatTap",t,a,i)}}},i.watch={maps:function(e,t){this.seats=this.getData().maps,this.seatCellWidth=Math.floor((this.seatContainerWidth-8*(this.maxColumnIndex+1))/(this.maxColumnIndex+4)),this.seatCellHeight=Math.floor((this.seatContainerHeight-8*this.maxRowIndex)/(this.maxRowIndex+1)),this.seatCellWidth>this.seatCellHeight?this.seatCellWidth=this.seatCellHeight:this.seatCellHeight=this.seatCellWidth,this.seatContainerWidthOfMovableView=this.seatContainerWidth,this.seatContainerHeightOfMovableView=this.seatContainerHeight,this.seatCellWidth<40&&(this.seatCellWidth=40,this.seatContainerWidthOfMovableView=this.seatCellWidth*(this.maxColumnIndex+4)+8*(this.maxColumnIndex+1),this.seatContainerHeightOfMovableView=this.seatCellWidth*(this.maxRowIndex+1)+8*this.maxRowIndex,this.movableViewX=(this.seatContainerWidth-this.seatContainerWidthOfMovableView)/4,this.movableViewY=(this.seatContainerHeight-this.seatContainerHeightOfMovableView)/4),this.$apply()}},s=a,_possibleConstructorReturn(i,s)}return _inherits(t,e),_createClass(t,[{key:"onLoad",value:function(){}},{key:"hide",value:function(){if(this.removed)return!1;this.removed=!0,this.setHidden()}},{key:"show",value:function(){if(this.removed)return!1;this.setVisible()}},{key:"setSeatTapAble",value:function(){this.seatTapAble=!0,this.$apply()}},{key:"getData",value:function(){for(var e=this.maps,t=this.maxColumnIndex,a=this.maxRowIndex,i={seats:[],maps:[]},s=0;s<a;s++)!function(t){i.seats[t]=[],e.forEach(function(e,a){t+1===e.rowIndex&&i.seats[t].push(Object.assign(e,{seatIndex:a}))})}(s);return i.seats.forEach(function(e,a){i.maps[a]=[];for(var s=0;s<t;s++){for(var n=0;n<e.length;n++)if(s+1===e[n].columnIndex){i.maps[a].push(Object.assign({space:!1},e[n]));break}i.maps[a][s]||i.maps[a].push(Object.assign({space:!0}))}}),i}},{key:"disabled",value:function(e){var t=this.seats,a=e.length;t.forEach(function(t,i){t.forEach(function(t,i){for(var s=0;s<a;s++)if(t.id==e[s]){t.disabled=!0;break}})}),this.seats=t}}]),t}(_wepy2.default.component);exports.default=Seats; 
 			}); 
		define("wesai/components/toast/toast.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function t(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,o,r){return o&&t(e.prototype,o),r&&t(e,r),e}}(),_wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),Toast=function(t){function e(){var t,o,r,n;_classCallCheck(this,e);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return o=r=_possibleConstructorReturn(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.data={showStatus:!1},r.props={toastshow:{type:Boolean,required:!1,default:function(){return!1}},toasttext:{type:String,required:!1,default:function(){return"no message"}},duration:{type:Number,default:3e3,required:!1}},r.methods={},r.watch={toastshow:function(t){var e=this;this._timeout&&clearTimeout(this._timeout),t&&this.duration&&(this.showStatus=t,this._timeout=setTimeout(function(){e.showStatus=!1,e.$apply()},this.duration))}},n=o,_possibleConstructorReturn(r,n)}return _inherits(e,t),_createClass(e,[{key:"onLoad",value:function(){}},{key:"show",value:function(t){var e=this;this.showStatus=!0,this.toasttext=t,this._timeout&&clearTimeout(this._timeout),this.duration&&(this._timeout=setTimeout(function(){e.showStatus=!1,e.$apply()},this.duration)),this.$apply()}}]),e}(_wepy2.default.component);exports.default=Toast; 
 			}); 
		define("wesai/mixin.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_wepy=require("./npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_common=require("./common/common.js"),_binduser=require("./common/binduser.js"),_binduser2=_interopRequireDefault(_binduser);require("./npm/wepy-async-function/index.js");var _navToMiniProgram=require("./common/navToMiniProgram.js"),_navToMiniProgram2=_interopRequireDefault(_navToMiniProgram),_urls=require("./common/urls.js"),_urls2=_interopRequireDefault(_urls),_miniProgramAppIds=require("./common/miniProgramAppIds.js"),_miniProgramAppIds2=_interopRequireDefault(_miniProgramAppIds),_util=require("./common/util.js"),confirmDefault={title:"提示",content:"",customContent:"",confirmText:"确定",cancelText:"取消",confirmCallback:function(){},cancelCallback:function(){}},mixin=function(e){function t(){var e,n,r,o;_classCallCheck(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.newGetToken=null,o=n,_possibleConstructorReturn(r,o)}return _inherits(t,e),_createClass(t,[{key:"showAlert",value:function(e,t){"object"==(void 0===e?"undefined":_typeof(e))?t=t?Object.assign(e,t):e:"string"==typeof e&&(t||(t={}),t.content=e),this.$invoke("Comp","alert",t)}},{key:"showConfirm",value:function(e,t){"object"==(void 0===e?"undefined":_typeof(e))?t=t?Object.assign(e,t):e:"string"==typeof e&&(t?t.content=e:t={content:e});var n=Object.assign(confirmDefault,t);this.$invoke("Comp","confirm",n)}},{key:"getToken",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.newGetToken){e.next=4;break}return this.newGetToken=1,e.next=4,_common.GetTheToken.init();case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"checkBindUser",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_binduser2.default.init(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"refreshPage",value:function(){this.$wxpage.hideErrorPage()}},{key:"toast",value:function(e){this.$wxpage.toast(e)}},{key:"pageLoading",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$wxpage.loading(e)}},{key:"showErrorPage",value:function(e){this.$wxpage.showErrorPage&&this.$wxpage.showErrorPage(e)}},{key:"checkToLol",value:function(e,t){var n=wx.getStorageSync("wesaiToken"),r=wx.getStorageSync("maoYanOpenId"),o={token:n,maoYanOpenId:r,env:_urls2.default.env,onlineId:t};e.message?_wepy2.default.showModal({title:"提示",content:e.message}).then(function(t){t.confirm?"mine"==e.data.redirectType?_wepy2.default.redirectTo({url:e.data.redirectUrl}):_navToMiniProgram2.default.navigateToMiniProgram({appId:e.data.appId,path:e.data.redirectUrl,extraData:o,envVersion:"trial"}):t.cancel}).catch(function(e){}):"mine"==e.data.redirectType?_wepy2.default.redirectTo({url:e.data.redirectUrl}):_navToMiniProgram2.default.navigateToMiniProgram({appId:e.data.appId,path:e.data.redirectUrl,extraData:o,envVersion:"trial"})}},{key:"bindADClick",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=wx.getStorageSync("selectCity"),i=wx.getStorageSync("wesaiToken"),a=wx.getStorageSync("maoYanOpenId"),s=this.sysRes,c=encodeURIComponent(encodeURIComponent(_urls2.default.clickURL)),u={screen:s.windowWidth+"*"+s.windowHeight,referrer:"",ua:"wechat_miniprogram|"+s.platform+"|"+s.system+"|wechat_version_"+s.version+"|"+s.brand+"|"+s.model,token:i,advertisingId:t,cityName:o.name||"",city:o.city_id||-1,advertisementId:e.advertisementId||"",materialId:e.materialId||"",advertisementUuid:e.advertisementUuid||"",url:e.url||"",openId:a,online_id:r&&(0,_util.isString)(r)?r:""};(0,_common.ajax)(_urls2.default.proxyCurl,{jsonParams:{url:c,param:u}}).then(function(t){if(t.code&&200===t.code&&t.data){var r=t.data;r.response&&0===r.response.error&&e.url&&n.tapToNavigate(e.url)}}).catch(function(e){})}},{key:"bindADView",value:function(e,t){var n=wx.getStorageSync("selectCity"),r=wx.getStorageSync("wesaiToken"),o=wx.getStorageSync("maoYanOpenId"),i=this.sysRes,a=encodeURIComponent(encodeURIComponent(_urls2.default.viewURL)),s={screen:i.windowWidth+"*"+i.windowHeight,referrer:"",ua:"wechat_miniprogram|"+i.platform+"|"+i.system+"|wechat_version_"+i.version+"|"+i.brand+"|"+i.model,token:r,advertisingId:t,cityName:n.name||"",city:n.city_id||-1,advertisementId:e.advertisementId,materialId:e.materialId,advertisementUuid:e.advertisementUuid,openId:o};(0,_common.ajax)(_urls2.default.proxyCurl,{jsonParams:{url:a,param:s}}).then(function(e){}).catch(function(e){})}},{key:"tapToNavigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=wx.getStorageSync("wesaiToken"),r=wx.getStorageSync("maoYanOpenId"),o=wx.getStorageSync("wesaiUserInfo"),i=wx.getStorageSync("selectCity"),a={wesaiToken:n,wesaiUserId:o.user_id||"",maoYanOpenId:r,cityCode:i&&i.city_code||0};if(/http/g.test(e))if(/^https:\/\/ticket.wesai.com\/wechat\/zwy/g.test(e)&&(t=!0),/needOpenId=true/g.test(e)&&(a.needOpenId=!0),!t&&(/ticket.wesai.com/g.test(e)||/redpacket.wesai.com/g.test(e)||/open-web.wesai.com/g.test(e)||/mini.wesai.com/g.test(e)||/wxproxy-t.wesai.com/g.test(e)))/ticket.wesai.com\/wechat/g.test(e)&&(e=decodeURIComponent(e),e=(0,_util.extendQuery)(e,a)),this.$root.$navigate("/wesai/pages/webview/webview",{url:encodeURIComponent(e)});else{var s=Object.assign({url:encodeURIComponent(e)},a);_navToMiniProgram2.default.navigateToMiniProgram({appId:_miniProgramAppIds2.default.dongTaiBiaoDanWXAppId,path:"/pages/webview/webview?"+(0,_util.json2search)(s),extraData:{token:n,maoYanOpenId:r,webViewUrl:encodeURIComponent(e)||"",env:_urls2.default.env},envVersion:"trial"})}else if(e=decodeURIComponent(e),/^wssport:\/\//.test(e)){var c=e.split(/\{\{(.*)\}\}/);if(c[1]&&c[2]){var u=c[1],p=c[2];p=decodeURIComponent(p),p=(0,_util.extendQuery)(p,{extraData:JSON.stringify({wesaiUserId:o.user_id||"",mobile:o.mobile||""}),envVersion:"trial"},!0),_navToMiniProgram2.default.navigateToMiniProgram({appId:u,path:p,envVersion:"trial"})}}else wx.navigateTo({url:decodeURIComponent(e)})}},{key:"tapToNavThirdWeApp",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,r,o,i=t.miniPath,a=t.appId;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkBindUser();case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:r=wx.getStorageSync("wesaiUserInfo"),o="/pages/transfer/transfer?path="+encodeURIComponent(i)+"&appId="+a+"&extraData="+JSON.stringify({wesaiUserId:r.user_id||"",mobile:r.mobile||""})+"&envVersion=trial",_navToMiniProgram2.default.navigateToMiniProgram({path:o,envVersion:"trial"});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"onLoad",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,r,o,i,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this)||t.$isComponent){e.next=10;break}if(n=wx.getStorageSync("wesaiToken")||""){e.next=6;break}return e.next=6,_common.GetTheToken.init();case 6:r=(0,_common.getStatisticsBaseInfo)(this),o=getApp().getUser(),o&&(i=o.wxUserInfo&&o.wxUserInfo.userInfo||{},Object.assign(r,{wxGender:i.gender||"",wxProvince:i.province||"",wxCountry:i.country||"",wxCity:i.city||""})),wx.getNetworkType({success:function(e){r.networkType=e.networkType.toUpperCase(),r.action="pageLoad",(0,_common.statistics)(r)}});case 10:t&&t.methods&&!(0,_util.isEmptyObject)(t.methods)&&Object.getOwnPropertyNames(t.methods).forEach(function(e){a.$mixins[0].methods[e]=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if(e&&("bindSwiperChange"===e||"bindScroll"===e))return"";var o=(0,_common.getStatisticsBaseInfo)(a),i=n.filter(function(e){return e&&(0,_util.isObject)(e)&&!(0,_util.isEmptyObject)(e)&&e.currentTarget})[0];o.action=i.type||"",o.actionName=e||"";var s=i.currentTarget&&i.currentTarget.dataset||{};o.statisticsInfo=encodeURIComponent(s.statisticsInfo||""),o.statisticsItemIndex=s.statisticsItemIndex||0,wx.getNetworkType({success:function(e){o.networkType=e.networkType.toUpperCase(),(0,_common.statistics)(o)}})}});case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"onShow",value:function(){var e=this;e&&!e.$isComponent&&(this._onLoadTime=(new Date).getTime())}},{key:"onHide",value:function(){var e=this;this.pageSendStatistics(this,function(t){var n=(0,_common.getStatisticsBaseInfo)(e);n.networkType=t.networkType.toUpperCase(),n.action="pageHide",n.pageStayTime=(new Date).getTime()-e._onLoadTime||0,(0,_common.statistics)(n)})}},{key:"onUnload",value:function(){var e=this;this.pageSendStatistics(this,function(t){var n=(0,_common.getStatisticsBaseInfo)(e);n.networkType=t.networkType.toUpperCase(),n.action="pageHide",n.pageStayTime=(new Date).getTime()-e._onLoadTime||0,(0,_common.statistics)(n)})}},{key:"pageSendStatistics",value:function(e,t){e&&!e.$isComponent&&wx.getNetworkType({success:function(e){t(e)}})}},{key:"getLocation",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){getApp().checkLocationAuth().then(function(){wx.getLocation({success:function(t){e(t)},fail:function(t){e(null)}})}).catch(function(t){e(null)})}));case 1:case"end":return e.stop()}},e,this)}));return e}()}]),t}(_wepy2.default.mixin);exports.default=mixin; 
 			}); 
		define("wesai/npm/promise-polyfill/promise.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
!function(e){function t(){}function n(e,t){return function(){e.apply(t,arguments)}}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],a(e,this)}function i(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,o._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?r:u)(t.promise,e._value);var o;try{o=n(e._value)}catch(e){return void u(t.promise,e)}r(t.promise,o)})}function r(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if(t instanceof o)return e._state=3,e._value=t,void f(e);if("function"==typeof i)return void a(n(i,t),e)}e._state=1,e._value=t,f(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,f(e)}function f(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)i(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function a(e,t){var n=!1;try{e(function(e){n||(n=!0,r(t,e))},function(e){n||(n=!0,u(t,e))})}catch(e){if(n)return;n=!0,u(t,e)}}var s=setTimeout;o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,n){var o=new this.constructor(t);return i(this,new c(e,n,o)),o},o.all=function(e){var t=Array.prototype.slice.call(e);return new o(function(e,n){function o(r,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var f=u.then;if("function"==typeof f)return void f.call(u,function(e){o(r,e)},n)}t[r]=u,0==--i&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var i=t.length,r=0;r<t.length;r++)o(r,t[r])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var o=0,i=e.length;o<i;o++)e[o].then(t,n)})},o._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){s(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console},o._setImmediateFn=function(e){o._immediateFn=e},o._setUnhandledRejectionFn=function(e){o._unhandledRejectionFn=e},"undefined"!=typeof module&&module.exports?module.exports=o:e.Promise||(e.Promise=o)}(this); 
 			}); 
		define("wesai/npm/regenerator-runtime/runtime.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
!function(t){"use strict";function r(t,r,e,o){var i=r&&r.prototype instanceof n?r:n,a=Object.create(i.prototype),c=new l(o||[]);return a._invoke=u(t,e,c),a}function e(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach(function(r){t[r]=function(t){return this._invoke(r,t)}})}function c(r){function n(t,o,i,a){var c=e(r[t],r,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==typeof h&&g.call(h,"__await")?Promise.resolve(h.__await).then(function(t){n("next",t,i,a)},function(t){n("throw",t,i,a)}):Promise.resolve(h).then(function(t){u.value=t,i(u)},a)}a(c.arg)}function o(t,r){function e(){return new Promise(function(e,o){n(t,r,e,o)})}return i=i?i.then(e,e):e()}"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n));var i;this._invoke=o}function u(t,r,n){var o=j;return function(i,a){if(o===O)throw new Error("Generator is already running");if(o===k){if("throw"===i)throw a;return y()}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=h(c,n);if(u){if(u===G)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===j)throw o=k,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=O;var s=e(t,r,n);if("normal"===s.type){if(o=n.done?k:_,s.arg===G)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=k,n.method="throw",n.arg=s.arg)}}}function h(t,r){var n=t.iterator[r.method];if(n===d){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=d,h(t,r),"throw"===r.method))return G;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return G}var o=e(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,G;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=d),r.delegate=null,G):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,G)}function s(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function f(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function l(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(s,this),this.reset(!0)}function p(t){if(t){var r=t[w];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,n=function r(){for(;++e<t.length;)if(g.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=d,r.done=!0,r};return n.next=n}}return{next:y}}function y(){return{value:d,done:!0}}var d,v=Object.prototype,g=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},w=m.iterator||"@@iterator",L=m.asyncIterator||"@@asyncIterator",x=m.toStringTag||"@@toStringTag",b="object"==typeof module,E=t.regeneratorRuntime;if(E)return void(b&&(module.exports=E));E=t.regeneratorRuntime=b?module.exports:{},E.wrap=r;var j="suspendedStart",_="suspendedYield",O="executing",k="completed",G={},N={};N[w]=function(){return this};var P=Object.getPrototypeOf,S=P&&P(P(p([])));S&&S!==v&&g.call(S,w)&&(N=S);var F=i.prototype=n.prototype=Object.create(N);o.prototype=F.constructor=i,i.constructor=o,i[x]=o.displayName="GeneratorFunction",E.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===o||"GeneratorFunction"===(r.displayName||r.name))},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,x in t||(t[x]="GeneratorFunction")),t.prototype=Object.create(F),t},E.awrap=function(t){return{__await:t}},a(c.prototype),c.prototype[L]=function(){return this},E.AsyncIterator=c,E.async=function(t,e,n,o){var i=new c(r(t,e,n,o));return E.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},a(F),F[x]="Generator",F[w]=function(){return this},F.toString=function(){return"[object Generator]"},E.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},E.values=p,l.prototype={constructor:l,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(f),!t)for(var r in this)"t"===r.charAt(0)&&g.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=d)},stop:function(){this.done=!0;var t=this.tryEntries[0],r=t.completion;if("throw"===r.type)throw r.arg;return this.rval},dispatchException:function(t){function r(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=d),!!n}if(this.done)throw t;for(var e=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=g.call(o,"catchLoc"),c=g.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&g.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,G):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),G},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),f(e),G}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;f(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:p(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=d),G}}}("object"==typeof global?global:"object"==typeof window?window:"object"==typeof self?self:this); 
 			}); 
		define("wesai/npm/wepy-async-function/global.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
var global=module.exports="undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:this; 
 			}); 
		define("wesai/npm/wepy-async-function/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
var g=require("./global.js");g.Promise=require("./../promise-polyfill/promise.js"),g.regeneratorRuntime=require("./../regenerator-runtime/runtime.js"); 
 			}); 
		define("wesai/npm/wepy/lib/app.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_native=require("./native.js"),_native2=_interopRequireDefault(_native),RequestMQ={map:{},mq:[],running:[],MAX_REQUEST:5,push:function(e){for(e.t=+new Date;this.mq.indexOf(e.t)>-1||this.running.indexOf(e.t)>-1;)e.t+=10*Math.random()>>0;this.mq.push(e.t),this.map[e.t]=e},next:function(){var e=this;if(0!==this.mq.length&&this.running.length<this.MAX_REQUEST-1){var t=this.mq.shift(),n=this.map[t],r=n.complete;return n.complete=function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];e.running.splice(e.running.indexOf(n.t),1),delete e.map[n.t],r&&r.apply(n,i),e.next()},this.running.push(n.t),wx.request(n)}},request:function(e){return e=e||{},e="string"==typeof e?{url:e}:e,this.push(e),this.next()}},_class=function(){function e(){_classCallCheck(this,e),this.$addons={},this.$interceptors={},this.$pages={}}return _createClass(e,[{key:"$init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$initAPI(e,t.noPromiseAPI),this.$wxapp=getApp()}},{key:"use",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];"string"==typeof e&&this[e]?(this.$addons[e]=1,this[e](n)):this.$addons[e.name]=new e(n)}},{key:"intercept",value:function(e,t){this.$interceptors[e]=t}},{key:"promisify",value:function(){}},{key:"requestfix",value:function(){}},{key:"$initAPI",value:function(e,t){var n=this,r={stopRecord:!0,pauseVoice:!0,stopVoice:!0,pauseBackgroundAudio:!0,stopBackgroundAudio:!0,showNavigationBarLoading:!0,hideNavigationBarLoading:!0,createAnimation:!0,createContext:!0,createCanvasContext:!0,createSelectorQuery:!0,createAudioContext:!0,createInnerAudioContext:!0,createVideoContext:!0,createCameraContext:!0,createMapContext:!0,pageScrollTo:!0,onBLEConnectionStateChange:!0,onBLECharacteristicValueChange:!0,hideKeyboard:!0,stopPullDownRefresh:!0};if(t)if(Array.isArray(t))t.forEach(function(e){return r[e]=!0});else for(var i in t)r[i]=t[i];Object.keys(wx).forEach(function(t){r[t]||"on"===t.substr(0,2)||/\w+Sync$/.test(t)?(Object.defineProperty(_native2.default,t,{get:function(){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return wx[t].apply(wx,n)}}}),e[t]=_native2.default[t]):(Object.defineProperty(_native2.default,t,{get:function(){return function(e){if(e=e||{},n.$interceptors[t]&&n.$interceptors[t].config){var r=n.$interceptors[t].config.call(n,e);if(!1===r)return n.$addons.promisify?Promise.reject("aborted by interceptor"):void(e.fail&&e.fail("aborted by interceptor"));e=r}if("request"===t&&(e="string"==typeof e?{url:e}:e),"string"==typeof e)return wx[t](e);if(n.$addons.promisify)return new Promise(function(r,i){var o={};["fail","success","complete"].forEach(function(a){o[a]=e[a],e[a]=function(e){n.$interceptors[t]&&n.$interceptors[t][a]&&(e=n.$interceptors[t][a].call(n,e)),"success"===a?r(e):"fail"===a&&i(e)}}),n.$addons.requestfix&&"request"===t?RequestMQ.request(e):wx[t](e)});var i={};["fail","success","complete"].forEach(function(r){i[r]=e[r],e[r]=function(e){n.$interceptors[t]&&n.$interceptors[t][r]&&(e=n.$interceptors[t][r].call(n,e)),i[r]&&i[r].call(n,e)}}),n.$addons.requestfix&&"request"===t?RequestMQ.request(e):wx[t](e)}}}),e[t]=_native2.default[t])})}}]),e}();exports.default=_class; 
 			}); 
		define("wesai/npm/wepy/lib/base.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _event=require("./event.js"),_event2=_interopRequireDefault(_event),_util=require("./util.js"),_util2=_interopRequireDefault(_util),PAGE_EVENT=["onLoad","onReady","onShow","onHide","onUnload","onPullDownRefresh","onReachBottom","onShareAppMessage"],APP_EVENT=["onLaunch","onShow","onHide","onError"],$bindEvt=function e(n,t,o){t.$prefix=_util2.default.camelize(o||""),Object.getOwnPropertyNames(t.components||{}).forEach(function(a){var r=t.components[a],i=new r;i.$initMixins(),i.$name=a;var p=o?o+i.$name+"$":"$"+i.$name+"$";t.$com[a]=i,e(n,i,p)}),Object.getOwnPropertyNames(t.constructor.prototype||[]).forEach(function(e){"constructor"!==e&&-1===PAGE_EVENT.indexOf(e)&&(n[e]=function(){t.constructor.prototype[e].apply(t,arguments),t.$apply()})});var a=Object.getOwnPropertyNames(t.methods||[]);return t.$mixins.forEach(function(e){a=a.concat(Object.getOwnPropertyNames(e.methods||[]))}),a.forEach(function(e,o){n[t.$prefix+e]=function(n){for(var o=arguments.length,a=Array(o>1?o-1:0),r=1;r<o;r++)a[r-1]=arguments[r];var i=new _event2.default("system",this,n.type);i.$transfor(n);var p=[],c=0,s=void 0,u=void 0,f=void 0;if(n.currentTarget&&n.currentTarget.dataset){for(s=n.currentTarget.dataset;void 0!==s["wpy"+e.toLowerCase()+(u=String.fromCharCode(65+c++))];)p.push(s["wpy"+e.toLowerCase()+u]);void 0!==s.comIndex&&(f=s.comIndex)}if(void 0!==f){f=(""+f).split("-");for(var h=f.length,l=h;h-- >0;){l=h;for(var $=t;l-- >0;)$=$.$parent;$.$setIndex(f.shift())}}a=a.concat(p);var d=void 0,v=void 0,_=t.methods[e];return _&&(d=_.apply(t,a.concat(i))),t.$mixins.forEach(function(n){n.methods[e]&&(v=n.methods[e].apply(t,a.concat(i)))}),t.$apply(),_?d:v}}),n};exports.default={$createApp:function(e,n){var t={},o=new e;return this.$instance||(o.$init(this,n),this.$instance=o),2===arguments.length&&!0===arguments[1]&&(t.$app=o),o.$wxapp=getApp(),APP_EVENT.forEach(function(e){t[e]=function(){for(var n=arguments.length,t=Array(n),a=0;a<n;a++)t[a]=arguments[a];var r=void 0;return o[e]&&(r=o[e].apply(o,t)),r}}),t},$createPage:function(e,n){var t=this,o={},a=new e;return"string"==typeof n&&(this.$instance.$pages["/"+n]=a),a.$initMixins(),("boolean"==typeof n&&n||3===arguments.length&&!0===arguments[2])&&(o.$page=a),o.onLoad=function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];a.$name=e.name||"unnamed",a.$init(this,t.$instance,t.$instance);var i=t.$instance.__prevPage__,p={};p.from=i||void 0,i&&Object.keys(i.$preloadData).length>0&&(p.preload=i.$preloadData,i.$preloadData={}),a.$prefetchData&&Object.keys(a.$prefetchData).length>0&&(p.prefetch=a.$prefetchData,a.$prefetchData={}),o.push(p),a.onLoad&&a.onLoad.apply(a,o),a.$mixins.forEach(function(e){e.onLoad&&e.onLoad.apply(a,o)}),a.$apply()},o.onShow=function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];t.$instance.__prevPage__=a,a.onShow&&a.onShow.apply(a,n),a.$mixins.forEach(function(e){e.onShow&&e.onShow.apply(a,n)});var r=getCurrentPages(),i=r[r.length-1].__route__;t.$instance.__route__!==i&&(t.$instance.__route__=i,a.onRoute&&a.onRoute.apply(a,n),a.$mixins.forEach(function(e){e.onRoute&&e.onRoute.apply(a,n)})),a.$apply()},PAGE_EVENT.forEach(function(e){"onLoad"!==e&&"onShow"!==e&&(o[e]=function(){for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];var r=void 0;return a[e]&&(r=a[e].apply(a,t)),"onShareAppMessage"===e?r:(a.$mixins.forEach(function(n){n[e]&&n[e].apply(a,t)}),a.$apply(),r)})}),a.onShareAppMessage||delete o.onShareAppMessage,$bindEvt(o,a,"")}}; 
 			}); 
		define("wesai/npm/wepy/lib/component.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function getEventsFn(t,e){var i=t.events?t.events[e]:t.$events[e]?t.$events[e]:void 0,n=void 0===i?"undefined":_typeof(i),o=void 0;if("string"===n){var a=t.methods&&t.methods[i];"function"==typeof a&&(o=a)}else("function"===n||Array.isArray(i))&&(o=i);return o}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_event=require("./event.js"),_event2=_interopRequireDefault(_event),_util=require("./util.js"),_util2=_interopRequireDefault(_util),Props={check:function(t,e){switch(t){case String:return"string"==typeof e;case Number:return"number"==typeof e;case Boolean:return"boolean"==typeof e;case Function:return"function"==typeof e;case Object:return"object"===(void 0===e?"undefined":_typeof(e));case Array:return"[object Array]"===toString.call(e);default:return e instanceof t}},build:function(t){var e={};return"string"==typeof t?e[t]={}:"[object Array]"===toString.call(t)?t.forEach(function(t){e[t]={}}):Object.keys(t).forEach(function(i){"function"==typeof t[i]?e[i]={type:[t[i]]}:"[object Array]"===toString.call(t[i])?e[i]={type:t[i]}:e[i]=t[i],e[i].type&&"[object Array]"!==toString.call(e[i].type)&&(e[i].type=[e[i].type])}),e},valid:function(t,e,i){var n=this,o=!1;if(t[e]){if(t[e].type)return t[e].type.some(function(t){return n.check(t,i)});o=!0}return o},getValue:function(t,e,i){var n;return n=void 0!==i&&this.valid(t,e,i)?i:"function"==typeof t[e].default?t[e].default():t[e].default,t[e].coerce?t[e].coerce(n):n}},_class=function(){function t(){_classCallCheck(this,t),this.$com={},this.$events={},this.$mixins=[],this.$isComponent=!0,this.$prefix="",this.$mappingProps={},this.data={},this.methods={}}return _createClass(t,[{key:"$init",value:function(t,e,i){var n=this;this.$wxpage=t,this.$isComponent&&(this.$root=e||this.$root,this.$parent=i||this.$parent,this.$wxapp=this.$root.$parent.$wxapp),this.props&&(this.props=Props.build(this.props));var o=void 0,a={},s=this.props,r=void 0,p=void 0,f=void 0,h=!1,u=void 0;if(void 0===this.$initData?this.$initData=_util2.default.$copy(this.data,!0):this.data=_util2.default.$copy(this.$initData,!0),this.$props)for(r in this.$props)for(f in this.$props[r])/\.sync$/.test(f)&&(this.$mappingProps[this.$props[r][f]]||(this.$mappingProps[this.$props[r][f]]={}),this.$mappingProps[this.$props[r][f]][r]=f.substring(7,f.length-5));if(s)for(r in s)p=void 0,i&&i.$props&&i.$props[this.$name]&&(p=i.$props[this.$name][r],f=i.$props[this.$name]["v-bind:"+r+".once"]||i.$props[this.$name]["v-bind:"+r+".sync"],f?"object"===(void 0===f?"undefined":_typeof(f))?function(){s[r].repeat=f.for,s[r].item=f.item,s[r].index=f.index,s[r].key=f.key,s[r].value=f.value,h=!0;var t=f.for,e=i;t.split(".").forEach(function(t){e=e?e[t]:{}}),!e||"object"!==(void 0===e?"undefined":_typeof(e))&&"string"!=typeof e||(u=Object.keys(e)[0]),n.$mappingProps[r]||(n.$mappingProps[r]={}),n.$mappingProps[r].parent={mapping:f.for,from:r}}():(p=i[f],s[r].twoWay&&(this.$mappingProps[r]||(this.$mappingProps[r]={}),this.$mappingProps[r].parent=f)):"object"===(void 0===p?"undefined":_typeof(p))&&void 0!==p.value&&(this.data[r]=p.value)),this.data[r]||s[r].repeat||(p=Props.getValue(s,r,p),this.data[r]=p);"function"==typeof this.data&&(this.data=this.data.apply(this.data));for(o in this.data)a[""+this.$prefix+o]=this.data[o],this[o]=this.data[o];if(this.$data=_util2.default.$copy(this.data,!0),h&&void 0!==u&&this.$setIndex(u),this.computed)for(o in this.computed){var c=this.computed[o];a[""+this.$prefix+o]=c.call(this),this[o]=_util2.default.$copy(a[""+this.$prefix+o],!0)}this.setData(a);var $=Object.getOwnPropertyNames(this.$com);$.length&&$.forEach(function(t){n.$com[t].$init(n.getWxPage(),e,n),n.$com[t].onLoad&&n.$com[t].onLoad(),n.$com[t].$mixins.forEach(function(e){e.onLoad&&e.onLoad.call(n.$com[t])}),n.$com[t].$apply()})}},{key:"$initMixins",value:function(){var t=this;this.mixins?"function"==typeof this.mixins&&(this.mixins=[this.mixins]):this.mixins=[],this.mixins.forEach(function(e){var i=new e;i.$init(t),t.$mixins.push(i)})}},{key:"onLoad",value:function(){}},{key:"setData",value:function(t,e){if("string"==typeof t){if(e){var i={};i[t]=e,t=i}else{var n={};n[t]=this.data[""+t],t=n}return this.$wxpage.setData(t)}var o=null,a=new RegExp("^"+this.$prefix.replace(/\$/g,"\\$"),"ig");for(o in t){var s=o.replace(a,"");this.$data[s]=_util2.default.$copy(t[o],!0)}return this.$wxpage.setData(t)}},{key:"getWxPage",value:function(){return this.$wxpage}},{key:"getCurrentPages",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return getCurrentPages()})},{key:"$setIndex",value:function(t){var e=this;this.$index=t;var i=this.props,n=this.$parent,o=void 0,a=void 0,s=void 0;if(i){for(o in i)a=void 0,n&&n.$props&&n.$props[this.$name]&&(a=n.$props[this.$name][o],(s=n.$props[this.$name]["v-bind:"+o+".once"]||n.$props[this.$name]["v-bind:"+o+".sync"])&&"object"===(void 0===s?"undefined":_typeof(s))&&function(){var r=s.for,p=n;r.split(".").forEach(function(t){p=p?p[t]:{}}),t=Array.isArray(p)?+t:t,a=i[o].value===i[o].item?p[t]:i[o].value===i[o].index?t:i[o].value===i[o].key?t:n[i[o].value],e.$index=t,e.data[o]=a,e[o]=a,e.$data[o]=_util2.default.$copy(e[o],!0)}());for(o in this.$com)this.$com[o].$index=void 0}}},{key:"$getComponent",value:function(t){var e=this;if("string"==typeof t){if(-1===t.indexOf("/"))return this.$com[t];if("/"===t)return this.$parent;t.split("/").forEach(function(i,n){0===n?t=""===i?e.$root:"."===i?e:".."===i?e.$parent:e.$getComponent(i):i&&(t=t.$com[i])})}return"object"!==(void 0===t?"undefined":_typeof(t))?null:t}},{key:"$invoke",value:function(t,e){if(!(t=this.$getComponent(t)))throw new Error("Invalid path: "+t);for(var i=t.methods?t.methods[e]:"",n=arguments.length,o=Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];if("function"==typeof i){var s=new _event2.default("",this,"invoke"),r=i.apply(t,o.concat(s));return t.$apply(),r}if("function"==typeof(i=t[e]))return i.apply(t,o);throw new Error("Invalid method: "+e)}},{key:"$broadcast",value:function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(var o=this,a="string"==typeof t?new _event2.default(t,this,"broadcast"):a,s=[o];s.length&&a.active;){var r=s.shift();for(var p in r.$com){if("break"===function(e){e=r.$com[e],s.push(e);var n=getEventsFn(e,t);if(n&&e.$apply(function(){n.apply(e,i.concat(a))}),!a.active)return"break";p=e}(p))break}}}},{key:"$emit",value:function(t){for(var e=this,i=arguments.length,n=Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];var a=this,s=this,r=new _event2.default(t,s,"emit");if(n=n.concat(r),this.$parent&&this.$parent.$events&&this.$parent.$events[this.$name]){var p=this.$parent.$events[this.$name]["v-on:"+t];if(p&&this.$parent.methods){var f=this.$parent.methods[p];if("function"==typeof f)return void this.$parent.$apply(function(){f.apply(e.$parent,n)});throw new Error("Invalid method from emit, component is "+this.$parent.$name+", method is "+p+". Make sure you defined it already.\n")}}for(;a&&void 0!==a.$isComponent&&r.active;)!function(){var e=a,i=getEventsFn(e,t);i&&("function"==typeof i?e.$apply(function(){i.apply(e,n)}):Array.isArray(i)&&(i.forEach(function(t){t.apply(e,n)}),e.$apply())),a=e.$parent}()}},{key:"$on",value:function(t,e){var i=this;if("string"==typeof t)(this.$events[t]||(this.$events[t]=[])).push(e);else if(Array.isArray(t))t.forEach(function(t){i.$on(t,e)});else if("object"===(void 0===t?"undefined":_typeof(t)))for(var n in t)this.$on(n,t[n]);return this}},{key:"$once",value:function(t,e){var i=this,n=function n(){i.$off(t,n),e.apply(i,arguments)};n.fn=e,this.$on(t,n)}},{key:"$off",value:function(t,e){var i=this;if(void 0===t)this.$events={};else if("string"==typeof t)if(e){for(var n=this.$events[t],o=n.length;o--;)if(e===n[o]||e===n[o].fn){n.splice(o,1);break}}else this.$events[t]=[];else Array.isArray(t)&&t.forEach(function(t){i.$off(t,e)});return this}},{key:"$apply",value:function(t){"function"==typeof t?(t.call(this),this.$apply()):this.$$phase?this.$$phase="$apply":this.$digest()}},{key:"$digest",value:function(){var t=this,e=void 0,i=this.$data;for(this.$$phase="$digest";this.$$phase;){var n={};if(this.computed)for(e in this.computed){var o=this.computed[e],a=o.call(this);_util2.default.$isEqual(this[e],a)||(n[this.$prefix+e]=a,this[e]=_util2.default.$copy(a,!0))}for(e in i)if(!_util2.default.$isEqual(this[e],i[e])){if(this.watch&&this.watch[e]&&("function"==typeof this.watch[e]?this.watch[e].call(this,this[e],i[e]):"string"==typeof this.watch[e]&&"function"==typeof this.methods[e]&&this.methods[e].call(this,this[e],i[e])),n[this.$prefix+e]=this[e],this.data[e]=this[e],i[e]=_util2.default.$copy(this[e],!0),this.$repeat&&this.$repeat[e]){var s=this.$repeat[e];this.$com[s.com].data[s.props]=this[e],this.$com[s.com].$setIndex(0),this.$com[s.com].$apply()}this.$mappingProps[e]&&Object.keys(this.$mappingProps[e]).forEach(function(i){var n=t.$mappingProps[e][i];"object"===(void 0===n?"undefined":_typeof(n))?t.$parent.$apply():"parent"!==i||_util2.default.$isEqual(t.$parent.$data[n],t[e])?"parent"===i||_util2.default.$isEqual(t.$com[i].$data[n],t[e])||(t.$com[i][n]=t[e],t.$com[i].data[n]=t[e],t.$com[i].$apply()):(t.$parent[n]=t[e],t.$parent.data[n]=t[e],t.$parent.$apply())})}Object.keys(n).length&&this.setData(n),this.$$phase="$apply"===this.$$phase&&"$digest"}}}]),t}();exports.default=_class; 
 			}); 
		define("wesai/npm/wepy/lib/event.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_class=function(){function e(t,n,a){_classCallCheck(this,e),this.active=!0,this.name=t,this.source=n,this.type=a}return _createClass(e,[{key:"$destroy",value:function(){this.active=!1}},{key:"$transfor",value:function(e){var t=0;for(t in e)this[t]=e[t]}}]),e}();exports.default=_class; 
 			}); 
		define("wesai/npm/wepy/lib/mixin.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),_class=function(){function t(){_classCallCheck(this,t),this.data={},this.components={},this.methods={},this.events={}}return _createClass(t,[{key:"$init",value:function(t){var e=this;Object.getOwnPropertyNames(this).concat(Object.getOwnPropertyNames(Object.getPrototypeOf(this))).forEach(function(n){n[0]+n[1]!=="on"&&"constructor"!==n&&(t[n]||(t[n]=e[n]))}),["data","events","components"].forEach(function(n){Object.getOwnPropertyNames(e[n]).forEach(function(o){"init"===o||t[n][o]||(t[n][o]=e[n][o])})})}}]),t}();exports.default=_class; 
 			}); 
		define("wesai/npm/wepy/lib/native.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={}; 
 			}); 
		define("wesai/npm/wepy/lib/page.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),_get=function t(e,r,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,r);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,r,o)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(o)},_native=require("./native.js"),_native2=_interopRequireDefault(_native),_component2=require("./component.js"),_component3=_interopRequireDefault(_component2),_util=require("./util.js"),_util2=_interopRequireDefault(_util),_class=function(t){function e(){var t,r,o,n;_classCallCheck(this,e);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return r=o=_possibleConstructorReturn(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),o.$isComponent=!1,o.$preloadData={},o.$prefetchData={},n=r,_possibleConstructorReturn(o,n)}return _inherits(e,t),_createClass(e,[{key:"$init",value:function(t,r){this.$parent=r,this.$root=this,r.$wxapp||(r.$wxapp=getApp()),this.$wxapp=r.$wxapp,_get(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"$init",this).call(this,t,this)}},{key:"onLoad",value:function(){_get(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onLoad",this).call(this)}},{key:"$preload",value:function(t,e){if("object"===(void 0===t?"undefined":_typeof(t))){var r=void 0;for(r in t)this.$preload(r,t[r])}else this.$preloadData[t]=e}},{key:"$route",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof e){var o=e+"?";if(r){var n=void 0;for(n in r)o+=n+"="+r[n]+"&"}o=o.substring(0,o.length-1),e={url:o}}else r=_util2.default.$getParams(e.url);this.$parent.__route__||(this.$parent.__route__=getCurrentPages()[0].__route__);var i="/"!==this.$parent.__route__[0]?"/"+this.$parent.__route__:this.$parent.__route__,a=_util2.default.$resolvePath(i,e.url.split("?")[0]),u=this.$parent.$pages[a];if(u&&u.onPrefetch){var l=this.$parent.__prevPage__,p={};l&&Object.keys(l.$preloadData).length>0&&(p=l.$preloadData),u.$prefetchData=u.onPrefetch(r,{from:this,preload:p})}return _native2.default[t](e)}},{key:"$redirect",value:function(t,e){return this.$route("redirectTo",t,e)}},{key:"$navigate",value:function(t,e){return this.$route("navigateTo",t,e)}},{key:"$switch",value:function(t){return"string"==typeof t&&(t={url:t}),_native2.default.switchTab(t)}},{key:"$back",value:function(t){var e=t||{};return"number"==typeof e&&(e={delta:e}),e.delta||(e.delta=1),_native2.default.navigateBack(e)}}]),e}(_component3.default);exports.default=_class; 
 			}); 
		define("wesai/npm/wepy/lib/util.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};exports.default={$isEmpty:function(t){return 0===Object.keys(t).length},$isEqual:function(t,e,r,o){if(t===e)return 0!==t||1/t==1/e;if(t!==t)return e!==e;if(!t||!e)return t===e;var n=void 0===t?"undefined":_typeof(t);return("function"===n||"object"===n||"object"===(void 0===e?"undefined":_typeof(e)))&&this.$isDeepEqual(t,e,r,o)},$isDeepEqual:function(t,e,r,o){var n=this,i=toString.call(t);if(i!==toString.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":var c="undefined"!=typeof Symbol?Symbol.prototype:null;return c.valueOf.call(t)===c.valueOf.call(e)}var u="[object Array]"===i;if(!u){if("object"!==(void 0===t?"undefined":_typeof(t))||"object"!==(void 0===e?"undefined":_typeof(e)))return t===e;var a=t.constructor,f=e.constructor;if(a!==f&&!("function"==typeof a&&a instanceof a&&"function"==typeof f&&f instanceof f)&&"constructor"in t&&"constructor"in e)return!1}r=r||[],o=o||[];for(var s=r.length;s--;)if(r[s]===t)return o[s]===e;if(r.push(t),o.push(e),u){if((s=t.length)!==e.length)return!1;for(;s--;)if(!n.$isEqual(t[s],e[s],r,o))return!1}else{var l,p=Object.keys(t);if(s=p.length,Object.keys(e).length!==s)return!1;for(;s--;)if(l=p[s],!n.$has(e,l)||!n.$isEqual(t[l],e[l],r,o))return!1}return r.pop(),o.pop(),!0},$has:function(t,e){if("[object Array]"!==toString.call(e))return t&&hasOwnProperty.call(t,e);for(var r=e.length,o=0;o<r;o++){var n=e[o];if(!t||!hasOwnProperty.call(t,n))return!1;t=t[n]}return!!r},$extend:function(){var t,e,r,o,n,i,c=arguments[0]||{},u=1,a=arguments.length,f=!1,s=this;for("boolean"==typeof c&&(f=c,c=arguments[u]||{},u++),"object"!==(void 0===c?"undefined":_typeof(c))&&"function"!=typeof c&&(c={}),u===a&&(c=this,u--);u<a;u++)if(t=arguments[u])for(e in t)r=c[e],o=t[e],c!==o&&(f&&o&&(s.$isPlainObject(o)||(n=Array.isArray(o)))?(n?(n=!1,i=r&&Array.isArray(r)?r:[]):i=r&&s.$isPlainObject(r)?r:{},c[e]=s.$extend(f,i,o)):c[e]=o);return c},$copy:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Array.isArray(t)?this.$extend(e,[],t):""+t=="null"?t:"object"===(void 0===t?"undefined":_typeof(t))?this.$extend(e,{},t):t},$isPlainObject:function(t){var e,r;return!(!t||"[object Object]"!==Object.prototype.toString.call(t))&&(!(e=Object.getPrototypeOf(t))||"function"==typeof(r=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor)&&Object.prototype.hasOwnProperty.toString.call(r)===Object.prototype.hasOwnProperty.toString.call(Object))},$resolvePath:function(t,e){if(!e)return t;if("/"===e[0])return e=e.substr(1),this.$resolvePath("",e);if("."!==e[0])return this.$resolvePath(t,"./"+e);var r=t.split("/");return"."===e[0]&&"/"===e[1]?(e=e.substr(2),"."!==e[0]?(r.length?r[r.length-1]=e:r=[e],1===r.length?"/"+r[0]:r.join("/")):this.$resolvePath(r.join("/"),e)):"."===e[0]&&"."===e[1]&&"/"===e[2]?(e=e.replace(/^\.*/gi,""),r.pop(),this.$resolvePath(r.join("/"),"."+e)):"."===e[0]?this.$resolvePath(t,e.substr(1)):void 0},$getParams:function(t){var e={},r=t.indexOf("?");if(-1!==r){var o=t.substr(r+1),n=void 0;o.split("&").forEach(function(t){n=t.split("="),e[n[0]]=decodeURIComponent(n[1])})}return e},hyphenate:function(t){return t.replace(/([^-])([A-Z])/g,"$1-$2").replace(/([^-])([A-Z])/g,"$1-$2").toLowerCase()},camelize:function(t){return t.replace(/-(\w)/g,function(t,e){return e?e.toUpperCase():""})}}; 
 			}); 
		define("wesai/npm/wepy/lib/wepy.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _app=require("./app.js"),_app2=_interopRequireDefault(_app),_page=require("./page.js"),_page2=_interopRequireDefault(_page),_component=require("./component.js"),_component2=_interopRequireDefault(_component),_event=require("./event.js"),_event2=_interopRequireDefault(_event),_base=require("./base.js"),_base2=_interopRequireDefault(_base),_util=require("./util.js"),_util2=_interopRequireDefault(_util),_mixin=require("./mixin.js"),_mixin2=_interopRequireDefault(_mixin);exports.default={event:_event2.default,app:_app2.default,component:_component2.default,page:_page2.default,mixin:_mixin2.default,$createApp:_base2.default.$createApp,$createPage:_base2.default.$createPage,$isEmpty:_util2.default.$isEmpty,$isEqual:_util2.default.$isEqual,$isDeepEqual:_util2.default.$isDeepEqual,$has:_util2.default.$has,$extend:_util2.default.$extend,$isPlainObject:_util2.default.$isPlainObject,$copy:_util2.default.$copy}; 
 			}); 
		define("wesai/plugins/htmlparser.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function HTMLParser(e,t){function a(e,a,s,n){if(a=a.toLowerCase(),block[a])for(;l.last()&&inline[l.last()];)r("",l.last());if(closeSelf[a]&&l.last()==a&&r("",a),n=empty[a]||!!n,n||l.push(a),t.start){var i=[];s.replace(attr,function(e,t){var a=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:fillAttrs[t]?t:"";i.push({name:t,value:a,escaped:a.replace(/(^|[^\\])"/g,'$1\\"')})}),t.start&&t.start(a,i,n)}}function r(e,a){if(a)for(var r=l.length-1;r>=0&&l[r]!=a;r--);else var r=0;if(r>=0){for(var s=l.length-1;s>=r;s--)t.end&&t.end(l[s]);l.length=r}}var s,n,i,l=[],o=e;for(l.last=function(){return this[this.length-1]};e;){if(n=!0,l.last()&&special[l.last()])e=e.replace(new RegExp("([\\s\\S]*?)</"+l.last()+"[^>]*>"),function(e,a){return a=a.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),t.chars&&t.chars(a),""}),r("",l.last());else if(0==e.indexOf("\x3c!--")?(s=e.indexOf("--\x3e"))>=0&&(t.comment&&t.comment(e.substring(4,s)),e=e.substring(s+3),n=!1):0==e.indexOf("</")?(i=e.match(endTag))&&(e=e.substring(i[0].length),i[0].replace(endTag,r),n=!1):0==e.indexOf("<")&&(i=e.match(startTag))&&(e=e.substring(i[0].length),i[0].replace(startTag,a),n=!1),n){s=e.indexOf("<");var c=s<0?e:e.substring(0,s);e=s<0?"":e.substring(s),t.chars&&t.chars(c)}if(e==o)throw"Parse Error: "+e;o=e}r()}function makeMap(e){for(var t={},a=e.split(","),r=0;r<a.length;r++)t[a[r]]=!0;return t}var startTag=/^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag=/^<\/([-A-Za-z0-9_]+)[^>]*>/,attr=/([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,empty=makeMap("area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr"),block=makeMap("a,address,code,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),inline=makeMap("abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),closeSelf=makeMap("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),fillAttrs=makeMap("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),special=makeMap("wxxxcode-style,script,style,view,scroll-view,block");module.exports=HTMLParser; 
 			}); 
		define("wesai/plugins/timer-countdown.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _classCallCheck(_,e){if(!(_ instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp,_initialiseProps,TimerCountDown=(_temp=_class=function _(e){_classCallCheck(this,_),_initialiseProps.call(this),this.reset(e)},_initialiseProps=function(){this.on=function(_,e){var t=this;if("function"==typeof e&&(_==t.EVENT_LOOP||_==t.EVENT_STOP))return void t.__delegates__.push({type:_,delegate:e});t.log("TimerCountDown->on: 参数不合法!!")},this.off=function(_,e){var t=this;t.log("TimerCountDown->off: type: "+_+"; delegate: "+e);for(var i=0,s=t.__delegates__.length;i<s;i++){var n=t.__delegates__[i];n.type==_&&n.delegate==e&&t.__delegates__.splice(i,1)}},this.getMs=function(){return this.__ms__},this.getSec=function(){return this.__sec__},this.getMin=function(){return this.__min__},this.getHr=function(){return this.__hr__},this.run=function(){var _=this,e=function e(){_.__ms__-=1e3,_.reset(_.__ms__/1e3),_.__fire__(_.EVENT_LOOP),_.__ms__>0?_.__time__=setTimeout(e,1e3):_.stop(!0)};_.__time__=setTimeout(e,0),_.log("TimerCountDown->run: 启动计时器")},this.stop=function(_){var e=this;e.log("TimerCountDown->stop: 停止计时器"),clearTimeout(e.__time__),_&&(this.__fire__(e.EVENT_STOP),this.destroy())},this.reset=function(_){var e=this;if((_="number"==typeof _?_:0)<0)return void e.log("TimerCountDown->reset: sec 参数不合法",_);var t=_%60,i=parseInt(_/60);e.__ms__=1e3*_,e.__sec__=0==t?0:t,e.__min__=i,e.__hr__=parseInt(i/60),e.log(JSON.stringify({ms:e.__ms__,sec:e.__sec__,min:i,hr:e.__hr__}))},this.destroy=function(){var _=this;clearTimeout(_.__time__),_.__time__=0;for(var e=0,t=_.__delegates__.length;e<t;e++){var i=this.__delegates__[e];this.__delegates__.slice(e,1),i.type=null,i.delegate=null,delete i.type,delete i.delegate,i=null}_.log("TimerCountDown->destroy: 销毁实例对象;",_.__delegates__)},this.__fire__=function(_){for(var e=this,t=0,i=e.__delegates__.length;t<i;t++){var s=e.__delegates__[t];s.type==_&&s.delegate.call(e)}},this.log=function(){this.debug},this.__ms__=0,this.__sec__=0,this.__min__=0,this.__hr__=0,this.__time__=0,this.__delegates__=[],this.EVENT_LOOP="event-loop",this.EVENT_STOP="event-stop",this.debug=!1},_temp);exports.default=TimerCountDown; 
 			}); 
		define("wesai/plugins/wxDiscode.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function strNumDiscode(e){return e=e.replace(/&forall;/g,"∀"),e=e.replace(/&part;/g,"∂"),e=e.replace(/&exists;/g,"∃"),e=e.replace(/&empty;/g,"∅"),e=e.replace(/&nabla;/g,"∇"),e=e.replace(/&isin;/g,"∈"),e=e.replace(/&notin;/g,"∉"),e=e.replace(/&ni;/g,"∋"),e=e.replace(/&prod;/g,"∏"),e=e.replace(/&sum;/g,"∑"),e=e.replace(/&minus;/g,"−"),e=e.replace(/&lowast;/g,"∗"),e=e.replace(/&radic;/g,"√"),e=e.replace(/&prop;/g,"∝"),e=e.replace(/&infin;/g,"∞"),e=e.replace(/&ang;/g,"∠"),e=e.replace(/&and;/g,"∧"),e=e.replace(/&or;/g,"∨"),e=e.replace(/&cap;/g,"∩"),e=e.replace(/&cap;/g,"∪"),e=e.replace(/&int;/g,"∫"),e=e.replace(/&there4;/g,"∴"),e=e.replace(/&sim;/g,"∼"),e=e.replace(/&cong;/g,"≅"),e=e.replace(/&asymp;/g,"≈"),e=e.replace(/&ne;/g,"≠"),e=e.replace(/&le;/g,"≤"),e=e.replace(/&ge;/g,"≥"),e=e.replace(/&sub;/g,"⊂"),e=e.replace(/&sup;/g,"⊃"),e=e.replace(/&nsub;/g,"⊄"),e=e.replace(/&sube;/g,"⊆"),e=e.replace(/&supe;/g,"⊇"),e=e.replace(/&oplus;/g,"⊕"),e=e.replace(/&otimes;/g,"⊗"),e=e.replace(/&perp;/g,"⊥"),e=e.replace(/&sdot;/g,"⋅")}function strGreeceDiscode(e){return e=e.replace(/&Alpha;/g,"Α"),e=e.replace(/&Beta;/g,"Β"),e=e.replace(/&Gamma;/g,"Γ"),e=e.replace(/&Delta;/g,"Δ"),e=e.replace(/&Epsilon;/g,"Ε"),e=e.replace(/&Zeta;/g,"Ζ"),e=e.replace(/&Eta;/g,"Η"),e=e.replace(/&Theta;/g,"Θ"),e=e.replace(/&Iota;/g,"Ι"),e=e.replace(/&Kappa;/g,"Κ"),e=e.replace(/&Lambda;/g,"Λ"),e=e.replace(/&Mu;/g,"Μ"),e=e.replace(/&Nu;/g,"Ν"),e=e.replace(/&Xi;/g,"Ν"),e=e.replace(/&Omicron;/g,"Ο"),e=e.replace(/&Pi;/g,"Π"),e=e.replace(/&Rho;/g,"Ρ"),e=e.replace(/&Sigma;/g,"Σ"),e=e.replace(/&Tau;/g,"Τ"),e=e.replace(/&Upsilon;/g,"Υ"),e=e.replace(/&Phi;/g,"Φ"),e=e.replace(/&Chi;/g,"Χ"),e=e.replace(/&Psi;/g,"Ψ"),e=e.replace(/&Omega;/g,"Ω"),e=e.replace(/&alpha;/g,"α"),e=e.replace(/&beta;/g,"β"),e=e.replace(/&gamma;/g,"γ"),e=e.replace(/&delta;/g,"δ"),e=e.replace(/&epsilon;/g,"ε"),e=e.replace(/&zeta;/g,"ζ"),e=e.replace(/&eta;/g,"η"),e=e.replace(/&theta;/g,"θ"),e=e.replace(/&iota;/g,"ι"),e=e.replace(/&kappa;/g,"κ"),e=e.replace(/&lambda;/g,"λ"),e=e.replace(/&mu;/g,"μ"),e=e.replace(/&nu;/g,"ν"),e=e.replace(/&xi;/g,"ξ"),e=e.replace(/&omicron;/g,"ο"),e=e.replace(/&pi;/g,"π"),e=e.replace(/&rho;/g,"ρ"),e=e.replace(/&sigmaf;/g,"ς"),e=e.replace(/&sigma;/g,"σ"),e=e.replace(/&tau;/g,"τ"),e=e.replace(/&upsilon;/g,"υ"),e=e.replace(/&phi;/g,"φ"),e=e.replace(/&chi;/g,"χ"),e=e.replace(/&psi;/g,"ψ"),e=e.replace(/&omega;/g,"ω"),e=e.replace(/&thetasym;/g,"ϑ"),e=e.replace(/&upsih;/g,"ϒ"),e=e.replace(/&piv;/g,"ϖ"),e=e.replace(/&middot;/g,"·")}function strcharacterDiscode(e){return e=e.replace(/&nbsp;/g," "),e=e.replace(/&quot;/g,'"'),e=e.replace(/&amp;/g,"&"),e=e.replace(/&lt;/g,"<"),e=e.replace(/&gt;/g,">")}function strOtherDiscode(e){return e=e.replace(/&OElig;/g,"Œ"),e=e.replace(/&oelig;/g,"œ"),e=e.replace(/&Scaron;/g,"Š"),e=e.replace(/&scaron;/g,"š"),e=e.replace(/&Yuml;/g,"Ÿ"),e=e.replace(/&fnof;/g,"ƒ"),e=e.replace(/&circ;/g,"ˆ"),e=e.replace(/&tilde;/g,"˜"),e=e.replace(/&ensp;/g,""),e=e.replace(/&emsp;/g,""),e=e.replace(/&thinsp;/g,""),e=e.replace(/&zwnj;/g,""),e=e.replace(/&zwj;/g,""),e=e.replace(/&lrm;/g,""),e=e.replace(/&rlm;/g,""),e=e.replace(/&ndash;/g,"–"),e=e.replace(/&mdash;/g,"—"),e=e.replace(/&lsquo;/g,"‘"),e=e.replace(/&rsquo;/g,"’"),e=e.replace(/&sbquo;/g,"‚"),e=e.replace(/&ldquo;/g,"“"),e=e.replace(/&rdquo;/g,"”"),e=e.replace(/&bdquo;/g,"„"),e=e.replace(/&dagger;/g,"†"),e=e.replace(/&Dagger;/g,"‡"),e=e.replace(/&bull;/g,"•"),e=e.replace(/&hellip;/g,"…"),e=e.replace(/&permil;/g,"‰"),e=e.replace(/&prime;/g,"′"),e=e.replace(/&Prime;/g,"″"),e=e.replace(/&lsaquo;/g,"‹"),e=e.replace(/&rsaquo;/g,"›"),e=e.replace(/&oline;/g,"‾"),e=e.replace(/&euro;/g,"€"),e=e.replace(/&trade;/g,"™"),e=e.replace(/&larr;/g,"←"),e=e.replace(/&uarr;/g,"↑"),e=e.replace(/&rarr;/g,"→"),e=e.replace(/&darr;/g,"↓"),e=e.replace(/&harr;/g,"↔"),e=e.replace(/&crarr;/g,"↵"),e=e.replace(/&lceil;/g,"⌈"),e=e.replace(/&rceil;/g,"⌉"),e=e.replace(/&lfloor;/g,"⌊"),e=e.replace(/&rfloor;/g,"⌋"),e=e.replace(/&loz;/g,"◊"),e=e.replace(/&spades;/g,"♠"),e=e.replace(/&clubs;/g,"♣"),e=e.replace(/&hearts;/g,"♥"),e=e.replace(/&diams;/g,"♦")}function strMoreDiscode(e){return e=e.replace(/\r\n/g,""),e=e.replace(/\n/g,""),e=e.replace(/code/g,"wxxxcode-style")}function strDiscode(e){return e=strNumDiscode(e),e=strGreeceDiscode(e),e=strcharacterDiscode(e),e=strOtherDiscode(e),e=strMoreDiscode(e)}function urlToHttpUrl(e,r){return new RegExp("^//").test(e)&&(e=r+":"+e),e}module.exports={strDiscode:strDiscode,urlToHttpUrl:urlToHttpUrl}; 
 			}); 
		define("app.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function cpsReport(e){var t=e.query,r=e.scene,n=t.redirect,o=void 0===n?"":n,i=t.cps_package;if(o.indexOf("1000088")>0&&!i){var s=this.owl.error;s&&s.addError("cpspackage is null","query: "+JSON.stringify(t)+", scene: "+r)}}function limit(){var e="",t=null;return function(r,n){r!==e&&(clearTimeout(t),goto.call(this,r,n),e=r,t=setTimeout(function(){e=""},300))}}function goto(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0!==e){var r=this.pages();if(-1===e)wx.navigateBack();else{var n=e.match(/\/(wx\w{16})\/([\w\W]*$)/);if(n&&n.length>=3)wx.navigateToMiniProgram({appId:n[1],path:n[2],envVersion:"trail"});else{var o=t?wx.redirectTo:wx.navigateTo;["/pages/movie/index","/pages/cinema/index","/wesai/indexpage/index","/pages/show/index/index","/pages/user/index"].includes(e.split("?")[0])?o=wx.switchTab:r.length>=10&&(o=wx.redirectTo,e=e+(e.includes("?")?"&":"?")+"_redirect=1"),0===e.indexOf("http")&&wx.canIUse("web-view")&&(e="/pages/webview/webview?url="+encodeURIComponent(e)),o({url:e})}}return this}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_base=require("./components/base"),_base2=_interopRequireDefault(_base),stats=require("./scripts/stats.js"),stats2=require("./scripts/stats2.js"),config=require("./config/wallet"),checkUpdate=require("./scripts/update");require("./scripts/polyfill");var promisify=require("./scripts/promisify"),store=require("./scripts/store"),attach=require("./scripts/attach"),user=require("./scripts/user"),request=require("./scripts/request"),MoviePage=require("./scripts/page"),openPlatform=require("./scripts/open-platform"),loginScript=require("./scripts/login"),locationModel=require("./models/location"),event=require("./scripts/event"),cps=require("./scripts/cps"),risk=require("./scripts/risk"),finger=require("./scripts/risk-finger"),actionSheet=require("./scripts/action-sheet"),apiConfig=require("./scripts/api-config"),uuid=require("./scripts/uuid"),_require=require("./scripts/owl/index.js"),owl=_require.owl,api=apiConfig.getApiUrl(),version="wallet-v1.19.11";cps.setExpired(7776e3);var pageSpeed=owl.pageSpeed,error=owl.error,resource=owl.resource,launchTime=void 0,reportErrorArr=[],reportTimer=void 0,app={onLaunch:function(e){var t=this;launchTime=new Date,this.channelId=config.channelId,this.appName=config.name,this.lxAppname=config.lxAppname,this.clientType="wechat_small_program",this.clientTypeId=9,this.$location=locationModel._data,this.$user={},this.$debug=!1,this.$theme="my",this.url="https://wx.maoyan.com",this.appId=config.appid,this.config=config,this.version=version,this.scene=e.scene.toString(),this.imageSrcPrefix="https://static.meituan.net/bs/MYFE/wxapp-wallet/file",this.$uuidV2="",this.isIphoneX=!1,event.attach(this);try{var r=wx.getSystemInfoSync();this.isIphoneX=/iphone\s{0,1}x/gi.test(r.model),this.isIphone=/iphone/gi.test(r.model)}catch(e){}this.getUser(this),setTimeout(function(){t.uuid(),t.systemInfo(),t.uuidV2(),checkUpdate()},0),this.openPlatform=openPlatform(this),this.stats=function(e){stats({channel:"movie",appnm:config.lxAppname||config.name,url:"https://report.meituan.com/",uid:function(){return t.$user.userId},utm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.utm_campaign){var r=t.openPlatform.get();if(r){var n=r.extChannelId,o=r.extSubChannel;e.utm_campaign="openPlatform="+[n,o].filter(function(e){return!!e}).join("-")}}return e},injectFilter:function(e){var t=!0;return t=t&&!/^(fetch|countDown|onPullDownRefresh|format|getMovie|getShowDates|getCinemas|getShows|getDealList|touchstart|touchend|formSubmit|submitOrder|fill|changeCity|onTouchStartSubmit|movieChange|touchmove|getHotMovie|getSearchHistory|getPhotos|secondsToTime|numberToHumanReadable|getNetworkType|listenNetwork|getTypes|getTicketOrders|getGoodsOrders|getMyCoupons|getMyCards|getWishList|getWatchedMovies|getEgg|applyRefund|doNothing|check|onPageScroll|getKeyword|onBannerChagne|checkSaleTime|getLeftTime|setLeftTime|changeToSale|getParameterByName|getId|initTopBannerViewDot|bannerClickDot|onBannerChange|onScrollView|commonShowDot|catchtouch)/.test(e)}})(e),stats2({injectFilter:function(e){return!/^(fetch|countDown|onPullDownRefresh|format|getMovie|getShowDates|getCinemas|getShows|getDealList|touchstart|touchend|formSubmit|submitOrder|fill|changeCity|onTouchStartSubmit|movieChange|touchmove|getHotMovie|getSearchHistory|getPhotos|secondsToTime|numberToHumanReadable|getNetworkType|listenNetwork|getTypes|getTicketOrders|getGoodsOrders|getMyCoupons|getMyCards|getWishList|getWatchedMovies|getEgg|applyRefund|doNothing|check|onPageScroll|getKeyword|onBannerChagne|checkSaleTime|getLeftTime|setLeftTime|changeToSale|getParameterByName|getId|initTopBannerViewDot|bannerClickDot|onBannerChange|onScrollView|commonShowDot|catchtouch)/.test(e)}})(e)};var n={val_cid:"app"};this.stats(n),n.stats("appOnload",e),this.tabStats={val_cid:"c_pn4xa5d"},this.stats(this.tabStats),this.clearOutdate(),locationModel.on("locationChange",function(e){t._cityToastDisabled=!0}),this.models={location:locationModel};var o=store.get("city");o&&locationModel.changeCity(o),this.store=store,this.owl=owl,this.listenShaking();try{var i=Date.now();pageSpeed.appLaunch(i)}catch(e){console.log("onLaunch error:"+e.stack||e)}try{this.owl.start({project:"maoyan-wxapp-wallet",devMode:this.$debug,wxAppVersion:wx.version&&wx.version.version})}catch(e){console.log("Start Error: "+(e.stack||e))}try{wx.request({method:"GET",url:"https://wx.maoyan.com/logger/logLaunch",header:{"Content-Type":"application/json"}})}catch(e){console.error("上报启动失败："+(e.stack||e))}var s=store.get("crash")||[];0!==s.length&&this.reportCrash(s),store.set("crash",[]);var a=this;try{wx.request({method:"GET",url:"https://wx.maoyan.com/reportErrorConfig",success:function(e){a.EXCLUDE_ERROR=e.data}})}catch(e){error.addError("读取数据库出错",e)}},reportCrash:function(e){e.forEach(function(e){try{error.pushError({sec_category:"页面崩溃",content:{sec_category:"页面崩溃",content:e},level:"warn",category:"jsError"},!0)}catch(e){console.error("上报页面崩溃出错: "+(e.stack||e))}});try{wx.request({method:"GET",url:"https://wx.maoyan.com/logger/logLaunch",data:{crash:!0},header:{"Content-Type":"application/json"}})}catch(e){console.error("上报crash失败："+(e.stack||e))}},onShow:function(){for(var t=this,r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];this.emit.apply(this,["show"].concat(n));var i=n[0].scene;i&&(this.scene=i.toString());var s={val_cid:"app"};this.stats(s),s.stats.apply(s,["appOnshow"].concat(n));try{cpsReport.call(this,n[0]);var a=owl.newMetric();a.setTags({version:version}),a.setMetric("app-version",1),a.report()}catch(t){console.error("上报app-version失败："+(e.stack||e))}setTimeout(function(){t.silentLogin(),t.$user.token&&loginScript.addPrivilege()},0)},onHide:function(){try{error.report(),resource.report()}catch(e){console.log("onHide catch:"+e.stack||e)}for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this.emit.apply(this,["hide"].concat(t))},onError:function(){for(var e=new Date-launchTime,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];try{reportErrorArr.push(r[0]),this.EXCLUDE_ERROR||e>5e3?this.reportError(reportErrorArr):e<5e3&&(reportTimer&&clearTimeout(reportTimer),reportTimer=setTimeout(this.reportError.bind(this,reportErrorArr),5e3-e))}catch(e){console.log("onError catch:"+e.stack||e)}this.emit.apply(this,["error"].concat(r))},reportError:function(e){var t=this;try{if(!Array.isArray(e))throw new Error("reportError 参数需要为数组！");e.forEach(function(e){var r=["appServiceSDKScriptError*undefined is not an object (evaluating *USER_DATA_PATH","webviewSDKScriptError*Failed get storage group metadata"];(t.EXCLUDE_ERROR?t.EXCLUDE_ERROR.push(r):r).some(function(t){return t.split("*").every(function(t){return-1!==e.indexOf(t)})})||error.onError(e)}),e.splice(0,e.length)}catch(e){console.log("reportError catch: "+e.stack||e)}},onPageNotFound:function(e){try{e&&error.addError("page not found",e.path)}catch(e){console.log("onPageNotFound catch:"+e.stack||e)}},num:function(e){return e>1e4&&(e/=1e4,e=e.toFixed(1)+"万"),e},system:function(e){if("function"==typeof e)this.wx2callback(wx.getSystemInfo)(e);else try{return wx.getSystemInfoSync()}catch(e){console.error("app.system",e)}},goto:limit(),checkLocationAuth:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.modalOpt,n=t.silence;return wx.getSetting?new Promise(function(t,o){e.wx2promiseify(wx.getNetworkType).then(function(e){"none"===e.networkType&&t(!0)}).catch(function(e){return o(e)}),e.wx2promiseify(wx.getSetting).then(function(t){if(t.authSetting){var o=t.authSetting["scope.userLocation"];if(n){if(!0===o)return!0;throw Error("用户未授权定位")}if(!1!==o)return!0}if(n)throw Error("用户拒绝打开定位");return e.wx2promiseify(wx.showModal,_extends({content:"需要先授权定位才可获取您的位置信息",showCancel:!0,confirmText:"打开定位"},r||{})).then(function(t){if(t.confirm)return e.wx2promiseify(wx.openSetting);throw Error("用户拒绝打开定位")}).then(function(e){if(e.authSetting&&e.authSetting["scope.userLocation"])return!0;throw Error("获取定位授权失败")})}).then(function(e){return t(e)}).catch(function(e){return o(e)})}):Promise.resolve(!0)},star:function(e){for(var t=[];t.length<parseInt(e,10);)t.push("full");for(e>parseInt(e,10)&&t.push("half");t.length<5;)t.push("empty");return t},queryStringify:function(e){return e?Object.keys(e).map(function(t){return t+"="+(e[t]?encodeURIComponent(e[t]):"")}).join("&"):""},shareParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={utm_source:"share_"+config.name};return t=_extends({},t,e),this.queryStringify(t)},shareAfter:function(e,t){this.request().get(api+"/sns/user/share.json").header({token:this.$user.token}).query({shareUrl:e,channelId:this.channelId,commentId:t}).end().then(function(e){}).catch(function(e){return reject(e)})},pages:function(){return getCurrentPages()},page:function(e){var t=this.pages();return e=e||-1,e<0&&(e=t.length+e),t[e]},title:function(e){return"string"==typeof e?(this.$title=e,this.wx2promiseify(wx.setNavigationBarTitle,{title:e})):this.$title},network:function(e){return"function"==typeof e?this.wx2callback(wx.getNetworkType)(function(t,r){e(t,r.networkType)}):this.wx2promiseify(wx.getNetworkType).then(function(e){return e.networkType})},require:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return require("./"+e)}),uuid:function(e){var t=this;return new Promise(function(r,n){return t.$uuid?(e&&e(t.$uuid),r(t.$uuid)):(t.$uuid=store.get("uuid"),t.$uuid?(e&&e(t.$uuid),r(t.$uuid)):void t.request().post("https://apimobile.meituan.com/uuid/v1/register").end().then(function(e){return e.body.uuid}).then(function(o){o?(r(o),store.set("uuid",t.$uuid=o),e&&e(null,o)):(n(o),e&&e(o))}).catch(n))})},uuidV2:function(){var e=this;return new Promise(function(t){if(e.$uuidV2=e.$uuidV2||store.get("uuidV2"),e.$uuidV2)return t(e.$uuidV2);Promise.all([e.systemInfo(),e.openid()]).then(function(r){var n=r[0].brand+" "+r[0].model+" "+r[1];return e.$uuidV2=uuid.genUuid(n),store.set("uuidV2",e.$uuidV2),t(e.$uuidV2)})})},systemInfo:function(){var e=this;return this.$systemInfo?Promise.resolve(this.$systemInfo):this.wx2promiseify(wx.getSystemInfo).then(function(t){return e.$systemInfo=t,t})},rpx2px:function(e){var t=void 0;return this.$systemInfo&&(t=this.$systemInfo.screenWidth?this.$systemInfo.screenWidth:this.$systemInfo.windowWidth),t=t||375,e*t/750},sendMessage:function(e){this.$user.openId&&this.request().post("/wechat/wxapp/message").header("content-type","application/json").send(_extends({appid:this.appId,touser:this.$user.openId},e)).end()},distance:function(e,t){var r=e.lat*Math.PI/180,n=t.lat*Math.PI/180,o=r-n,i=e.lng*Math.PI/180-t.lng*Math.PI/180,s=12756.274*Math.asin(Math.sqrt(Math.pow(Math.sin(o/2),2)+Math.cos(r)*Math.cos(n)*Math.pow(Math.sin(i/2),2)));return Math.round(10*s)/10},img:function(e,t,r){if(!e)return e;e=e.replace("/w.h/","/"),e=e.split("@")[0],void 0===t&&(t={}),"number"==typeof t&&(t={w:t,h:r}),t=_extends({l:1,e:1,c:1},t);var n=this.$systemInfo?this.$systemInfo.pixelRatio:2;return t.w&&(t.w=parseInt(t.w/2*n,10)),t.h&&(t.h=parseInt(t.h/2*n,10)),"object"===(void 0===t?"undefined":_typeof(t))&&(e+="@",e+=Object.keys(t).filter(function(e){return!!t[e]}).map(function(e){return t[e]+e}).join("_")),e},price:function(e){return isNaN(e)?e:Number(Number(e).toFixed(2))},code:function(e){if(!e||!e.length)return e;for(var t=e.length,r=0,n=[];r<t;)n.push(e.slice(r,r+4)),r+=4;return n.join(" ")},noRepeatPromise:function(e){var t=void 0;return function(){function r(){t=null}if(t)return t;for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];t=e.apply(this,o),t&&t.then?t.then(r,r):t=null,setTimeout(function(){t=null},1e4)}},wx2promiseify:promisify.wx2promise,request:request,wx2callback:function(e){var t=this;return function(r,n){if(r=r||{},"function"==typeof r&&(n=r,r={}),"function"!=typeof n)throw new TypeError("callback must be a function");return r.success=function(e){return n(null,e)},r.fail=function(e){return n(e)},e(r),t}},deviceInfoByQQ:function(e){return e&&"object"===(void 0===e?"undefined":_typeof(e))&&(e=JSON.stringify(e)),JSON.stringify({identityInfo:{appid:this.appId,openid:this.$user?this.$user.openId:""},user_type:"wx",wechatRiskParams:e})},collectFormId:function(e,t){this.$user.openId&&this.request().post("/wxapp/formId").header("content-type","application/json").send({appId:this.appId,openId:this.$user.openId,formId:e,count:t}).end()},updateCode:function(){var e=this;return this.wx2promiseify(wx.login).then(function(t){return e._code=t.code,e._code})},getCode:function(){return this._code},setCode:function(e){var t=this;wx.checkSession({success:function(){t._code||(t._code=e)},fail:function(){t._code=e}})},getPropSafely:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e.split(".").reduce(function(e,t){return e&&e[t]?e[t]:r},t)},getFingerprint:function(){return new Promise(function(e){finger.g(function(t){return e(t)})})},riskWrapper:function(e,t){return Promise.all([t&&t.noLoginCode?Promise.resolve(""):this.wx2promiseify(wx.login,{timeout:2e3}),new Promise(function(e){risk.params(null,e)}),this.getFingerprint()]).then(e)},listenShaking:function(){var e=this;this.$debug&&wx.onAccelerometerChange(function(t){var r=t.x,n=t.y,o=t.z;!e.isActionSheetActive&&(r>1||n>1||o>1)&&(e.isActionSheetActive=!0,e.showDebugActions())})},showDebugActions:function(){var e=this;this.$debug&&wx.showActionSheet({itemList:actionSheet.getActionSheet(),success:function(t){actionSheet.invokeAction(t.tapIndex),e.isActionSheetActive=!1},fail:function(){e.isActionSheetActive=!1}})},getApiEnv:function(){return this.$debug?apiConfig.getApiEnv():"prod"},downloadFile:function(e){return app.wx2promiseify(wx.downloadFile,{url:this.$debug?e:e.replace("http:","https:")}).then(function(e){return e.tempFilePath})},uploadImage:function(e){return app.wx2promiseify(wx.uploadFile,{url:"https://wx.maoyan.com/proxy/file/mmdb/photos/upload.json?_v_=yes",header:{"x-host":"http://maoyantouch.vip.sankuai.com","X-Requested-With":"wxapp"},filePath:e,name:"file"}).then(function(e){var t="";try{t=JSON.parse(e.data).data[0].olink}catch(e){}return t})}};attach(app,store),attach(app,user),attach(app,{MoviePage:MoviePage}),attach(app,{MovieComponent:_base2.default}),cps.App(app),require("./wesai/app.js"); 
 			}); 	require("app.js");
 		__wxRoute = 'components/bannerAd/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/bannerAd/index.js';	define("components/bannerAd/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var _extends=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},app=getApp(),u=function(t){return"https://ad.maoyan.com/api"+t},stats=require("../../scripts/stats.js"),_require=require("../../scripts/banner"),maoyanBanner=_require.maoyanBanner,statsChannel="rediantong",tap_bid="b_xmm5sgjk",display_bid="b_cy70t5em",val_cid="c_hw1gt8n5";Component({externalClasses:["custom-class"],properties:{url:{type:String,value:"defaultValue"},adId:{type:String,value:"1081"},domain:{type:String,value:"defaultDomain"}},data:{indicatorDots:!0,val_cid:"c_hw1gt8n5",reportedAd:[],show:!1},methods:{getAd:function(){var t=this,a={clientType:app.clientType||"",channelId:app.channelId||""},e=app.getPropSafely("$location.city.id",app,0),n=this.properties.adId,r=app.getPropSafely("$user.userId",app,0);maoyanBanner(e,n,r,a).then(function(a){a&&a.length>0?(t.setData({banners:a,show:!0}),t.triggerEvent("showBanner",{showBanner:!0}),t.onShow(0),t.data.reportedAd.push(t.data.banners[0])):(t.triggerEvent("showBanner",{showBanner:!1}),t.setData({show:!1}))}).catch(function(a){t.triggerEvent("showBanner",{showBanner:!1}),t.setData({show:!1})})},onBannerChange:function(t){this.data.banners.length>this.data.reportedAd.length&&(this.data.reportedAd.push(this.data.banners[t.detail.current]),this.onShow(t.detail.current))},goToAdDetail:function(t){var a=t.currentTarget.dataset.idx,e=this.data.banners[a];this.data.stats(tap_bid,{positionId:this.properties.adId,ad_id:e.adId,materialId:e.materialId}),this.data.reportedAd=[],app.goto(e.link)},send:function(t,a){stats(t,_extends({},a))},onShow:function(t){this.data.stats(display_bid,{positionId:this.properties.adId,ad_id:this.data.banners[t].adId,materialId:this.data.banners[t].materialId})},emptyList:function(){this.data.reportedAd=[]}},pageLifetimes:{hide:function(){this.data.reportedAd=[]}},ready:function(){stats({channel:statsChannel,appnm:app.lxAppname||app.appName,noPending:!0})(this.data),this.getAd()}}); 
 			}); 	require("components/bannerAd/index.js");
 		__wxRoute = 'components/dialog/_index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/dialog/_index.js';	define("components/dialog/_index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};Component({externalClasses:["custom-class","custom-btn-group","custom-btn-main","custom-btn-secondary"],options:{multipleSlots:!0},properties:{isShow:{type:Boolean,value:!1},isShowCloseBtn:{type:Boolean,value:!0},titleText:{type:String,value:""},buttons:{type:Array,value:[]},hideCallback:{type:null,value:null}},methods:{_buttonClicked:function(t){var e=t.currentTarget.dataset.index;if(e||0===e){var n=this.data.buttons[e],o=n.clickFunc;n.bid;o&&"function"==typeof o&&o()}},_handleClose:function(){this.hide({fromClick:!0})},hide:function(t){var e=this.data.hideCallback;this.setData({isShow:!1},function(){e&&"function"==typeof e&&e(t)})},show:function(t){this.setData(_extends({isShow:!0},t))}}}); 
 			}); 	require("components/dialog/_index.js");
 		__wxRoute = 'components/singleImageAd/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/singleImageAd/index.js';	define("components/singleImageAd/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var app=getApp(),u=function(a){return"https://ad.maoyan.com/api"+a},stats=require("../../scripts/stats.js"),_require=require("../../scripts/banner"),maoyanBanner=_require.maoyanBanner,statsChannel="rediantong",tap_bid="b_xmm5sgjk",display_bid="b_cy70t5em",val_cid="c_hw1gt8n5";Component({externalClasses:["custom-class"],properties:{url:{type:String,value:"defaultValue"},adId:{type:String,value:"1082"},domain:{type:String,value:"defaultDomain"}},data:{val_cid:"c_hw1gt8n5"},methods:{getAd:function(){var a=this,t={clientType:app.clientType||"",channelId:app.channelId||""},n=app.getPropSafely("$location.city.id",app,0),e=this.properties.adId,i=app.getPropSafely("$user.userId",app,0);maoyanBanner(n,e,i,t).then(function(t){t&&t.length>0&&(a.setData({ad:t[0],show:!0}),a.onShow(display_bid),a.triggerEvent("showBanner",{showBanner:!0}))}).catch(function(t){a.triggerEvent("showBanner",{showBanner:!1}),a.setData({show:!1}),console.log(t)})},goToAdDetail:function(){this.onShow(tap_bid);var a=this.data.ad;app.goto(a.link)},onShow:function(a){this.data.stats(a,{positionId:this.properties.adId,ad_id:this.data.ad.adId,materialId:this.data.ad.materialId})}},attached:function(){this.getAd(),stats({channel:statsChannel,appnm:app.lxAppname||app.appName,noPending:!0})(this.data)}}); 
 			}); 	require("components/singleImageAd/index.js");
 		__wxRoute = 'components/switch/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/switch/index.js';	define("components/switch/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({externalClasses:["custom-class"],properties:{checked:{type:Boolean,value:!1},loading:{type:Boolean,value:!1},disabled:{type:Boolean,value:!1}},methods:{handleSwitchChange:function(){if(!this.data.loading&&!this.data.disabled){var e=!this.data.checked;this.triggerEvent("change",{checked:e,loading:this.data.loading})}}}}); 
 			}); 	require("components/switch/index.js");
 		__wxRoute = 'components/yoda-sdk/component/slider/slider';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/yoda-sdk/component/slider/slider.js';	define("components/yoda-sdk/component/slider/slider.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _sliderSDK=require("./sliderSDK"),_sliderSDK2=_interopRequireDefault(_sliderSDK),_sliderAPI=require("./sliderAPI"),_sliderAPI2=_interopRequireDefault(_sliderAPI),_config=require("../../utils/config"),app=getApp();Component({properties:{title:{type:String,value:"验证"},imgTitle:{type:String,value:"请输入图片中的内容"},imgButton:{type:String,value:"验证"}},data:{isShow:!1},attached:function(){console.log("attached")},moved:function(){console.log("moved")},detached:function(){console.log("detached")},ready:function(){console.log("ready")},methods:{showSlider:function(e){var t=this,i=e.requestCode,a=e.showCloseBtn;_config.rohr.i(_config.rohrConfig.i),_sliderAPI2.default.getPageData(i).then(function(e){var o=new _sliderSDK2.default({requestCode:i,pageData:e});app.$loginPage=t,t.setData({sdk:o,moveWidth:0,codeImage:"",requestCode:i,sliderCode:"",isShow:!0,validStep:"slider",slideStatusClass:"",animationData:{},pageData:e,showCloseBtn:a})}).catch(function(e){t.triggerEvent("sliderEvent",{status:0,code:99999},{bubbles:!0,composed:!0})});var o=wx.createAnimation({transformOrigin:"50% 50%",duration:500,timingFunction:"ease",delay:0});this.animation=o},sliderVerifySuccess:function(e){var t=getApp().$loginPage,i="";e&&(i=e.response_code);var a=t.data.requestCode;wx.showToast({title:"验证成功",complete:function(){t.setData({isShow:!1}),t.triggerEvent("sliderEvent",{status:1,requestCode:a,responseCode:i},{bubbles:!0,composed:!0})}})},sliderTouchStart:function(e){this.data.sdk.sliderTouchStart(e)},sliderTouchMove:function(e){var t=this.data.sdk,i=t.sliderTouchMove(e),a=i.deltaX,o=i.isDone,s="";o&&(s="slider-boxLoading"),this.setData({moveWidth:a,slideStatusClass:s})},sliderTouchEnd:function(e){var t=this.data.sdk;t.isDone?this.setData({slideStatusClass:"slider-boxLoading"}):(t.sliderTouchEnd(e),this.setData({moveWidth:0}))},sliderClose:function(){this.setData({isShow:!1}),this.triggerEvent("sliderEvent",{status:0,code:33333},{bubbles:!0,composed:!0})},sliderValideCode:function(e){var t=this,i=this.data,a=i.sliderCode,o=i.pageData,s=i.sdk.requestCode;_sliderAPI2.default.verfiyCode({captchacode:a,action:o.action,id:1,requestCode:s}).then(function(e){var i=e.status,a=e.error,o=e.data;1===i?t.sliderVerifySuccess(o):0===i&&121020===a.code?(wx.showToast({title:a.message,icon:"loading"}),t.sliderUpdataCaptch()):wx.showToast({title:a.message,icon:"none",duration:2e3,complete:function(){t.triggerEvent("sliderEvent",{status:0,code:a.code},{bubbles:!0,composed:!0})}})},function(e){t.triggerEvent("sliderEvent",{status:0,code:99999},{bubbles:!0,composed:!0})})},sliderUpdataCaptch:function(){var e=this.data,t=e.requestCode,i=e.pageData;this.setData({codeImage:_config.baseUrl+"/v2/captcha?request_code="+t+"&action="+i.action+"&captchaHash="+Number(new Date),sliderCode:""})},sliderValideCodeInput:function(e){var t=e.detail.value;this.setData({sliderCode:t})},bindSliderInputFocus:function(e){var t=this.data.animationData;this.animation.top(200).step(),t=this.animation.export(),this.setData({animationData:t})},bingSliderInputBlur:function(e){var t=this.data.animationData;this.animation.top(300).step(),t=this.animation.export(),this.setData({animationData:t})},onTapPage:function(e){_config.rohr.t(e)},onTouchMovePage:function(e){_config.rohr.m(e)}}}); 
 			}); 	require("components/yoda-sdk/component/slider/slider.js");
 		__wxRoute = 'pages/fansClub/tpl/input/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/fansClub/tpl/input/index.js';	define("pages/fansClub/tpl/input/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({behaviors:["wx://form-field"],externalClasses:["clear-class","container-class","input-class","label-class","surface-class","tip-class"],options:{multipleSlots:!0},properties:{adjustPosition:{type:Boolean,value:!0},clearable:{type:Boolean,value:!1},confirmHold:{type:Boolean,value:!1},confirmType:{type:String,value:"done"},cursor:{type:Number},cursorSpacing:null,disabled:{type:Boolean,value:!1},focus:{type:Boolean,value:!1},label:{type:String,value:""},maxlength:{type:Number,value:140},password:{type:Boolean,value:!1},placeholder:{type:String,value:""},placeholderStyle:{type:String,value:""},radius:{type:String,value:"0"},required:{type:Boolean,value:!1},selectionStart:{type:Number,value:-1},selectionEnd:{type:Number,value:-1},tip:{type:String,value:""},type:{type:String,value:"text"}},data:{showClear:!1},created:function(){this.focused=!1},methods:{onInput:function(e){var t=e.detail||{},a=t.value,l=void 0===a?"":a;this.triggerEvent("input",l),this.setData({value:l,showClear:this.getShowClear(l)})},onFocus:function(){this.triggerEvent("focus"),this.focused=!0,this.setData({showClear:this.getShowClear()})},onBlur:function(){this.focused=!1,this.triggerEvent("blur"),this.setData({showClear:this.getShowClear()})},getShowClear:function(e){return e=void 0===e?this.data.value:e,this.data.clearable&&this.focused&&e},onClear:function(){this.setData({value:"",showClear:this.getShowClear("")}),this.triggerEvent("input","")},onConfirm:function(){this.triggerEvent("confirm",this.data.value)}}}); 
 			}); 	require("pages/fansClub/tpl/input/index.js");
 		__wxRoute = 'pages/fansClub/tpl/modal/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/fansClub/tpl/modal/index.js';	define("pages/fansClub/tpl/modal/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var app=getApp();Component({onCancel:function(){},onConfirm:function(){},externalClasses:["modal-content-class","confirm-class"],data:{showModal:!1,cancelText:"删除",confirmText:"确定",showCancel:!0},methods:{onTapCancel:function(){var n=this;this.setData({showModal:!1},function(){"function"==typeof n.onCancel&&n.onCancel()})},onTapConfirm:function(){var n=this;this.setData({showModal:!1},function(){"function"==typeof n.onConfirm&&n.onConfirm()})},showModal:function(n){var o=n.cancelText,t=void 0===o?"":o,a=n.confirmText,i=void 0===a?"":a,e=n.onCancel,s=n.onConfirm,c=n.showCancel,l=void 0===c||c;this.setData({showModal:!0,cancelText:t,confirmText:i,showCancel:l}),this.onCancel=e,this.onConfirm=s},hideModal:function(){this.setData({showModal:!1})}},created:function(){app.on("SHOW_MODAL",this.showModal.bind(this)),app.on("HIDE_MODAL",this.hideModal.bind(this))}}); 
 			}); 	require("pages/fansClub/tpl/modal/index.js");
 		__wxRoute = 'pages/fansClub/tpl/select-group/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/fansClub/tpl/select-group/index.js';	define("pages/fansClub/tpl/select-group/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var _extends=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Component({behaviors:["wx://form-field"],externalClasses:["container-class","group-class","node-class"],properties:{source:Array,sLabel:{type:String,value:"label"},sValue:{type:String,value:"value"},label:String},methods:{emitChange:function(e){this.triggerEvent("change",e)},onChange:function(e){this.setData({value:e.value}),this.emitChange(e)},onClick:function(e){var a=e.currentTarget.dataset;this.data.value!==a.value&&this.onChange(_extends({},a,{name:this.data.name}))}}}); 
 			}); 	require("pages/fansClub/tpl/select-group/index.js");
 		__wxRoute = 'pages/fansClub/tpl/stepper/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/fansClub/tpl/stepper/index.js';	define("pages/fansClub/tpl/stepper/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var MAX=2147483647;Component({behaviors:["wx://form-field"],externalClasses:["container-class","label-class","stepper-class","plus-class","minus-class","value-class"],properties:{disabled:Boolean,label:String,min:{type:null,value:1},max:{type:null,value:MAX},step:{type:null,value:1}},created:function(){this.setData({value:this.limitRange(this.data.value||this.data.min)})},methods:{limitRange:function(t){var a=this.data,e=a.min,s=a.max;return Math.max(Math.min(s,t),e)},onChange:function(t){if(this.data[t+"Disabled"])return void this.triggerEvent("overlimit",t);var a="minus"===t?-this.data.step:+this.data.step,e=this.limitRange(Math.round(100*(this.data.value+a))/100);this.data.value!==e&&(this.setData({value:e}),this.triggerEvent("change",{type:t,value:e}),this.triggerEvent(t,e))},onMinus:function(){this.onChange("minus")},onPlus:function(){this.onChange("plus")}}}); 
 			}); 	require("pages/fansClub/tpl/stepper/index.js");
 		__wxRoute = 'pages/fansClub/tpl/tabbar/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/fansClub/tpl/tabbar/index.js';	define("pages/fansClub/tpl/tabbar/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({properties:{active:{type:Number,value:0},isIphoneX:{type:Boolean,value:!1}},methods:{onTap:function(e){var t=e.currentTarget.dataset,o=(t.index,t.url),r=getCurrentPages();o!=="/"+r[r.length-1].route&&getApp().goto(o,!0)}}}); 
 			}); 	require("pages/fansClub/tpl/tabbar/index.js");
 		__wxRoute = 'pages/show/components/address/address-edit';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/components/address/address-edit.js';	define("pages/show/components/address/address-edit.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _asyncToGenerator(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,i){function n(r,o){try{var a=e[r](o),s=a.value}catch(t){return void i(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}return n("next")})}}var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},_slicedToArray=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),app=getApp(),DCM=["110000","310000","120000","500000"],defaultPicker=[0,0,0],emojiReg=/([\uE000-\uF8FF]|\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDDFF])/g,formValidate={recipientName:{reg:/^.{2,50}$/,required:!0,tips:"亲~姓名长度需在2至50个字之间~"},recipientMobileNo:{reg:/^1\d{10}$/,required:!0,tips:"亲~ 手机号须是1开头的11位数字~"},detailedAddress:{reg:/^.{3,200}$/,required:!0,tips:"亲~ 请正确填写您的详细地址哦~"}};Component({properties:{info:{type:Object,value:{},observer:function(){this.init()}}},data:{isShowRegionPicker:!1,region:{},picker:defaultPicker,regionText:"",provinceList:[],cityList:[],districtList:[],input:{inputName:"",inputTel:"",inputAddress:"",submitable:!1}},attached:function(){this.init()},methods:{init:function(){if(this.getRegions(),this.data.info){var t=this.data.info,e=t.recipientName,i=void 0===e?"":e,n=t.recipientMobileNo,r=void 0===n?"":n,o=t.detailedAddress,a=void 0===o?"":o;this.setData({"input.inputName":i,"input.inputTel":r,"input.inputAddress":a,"input.submitable":!!(a&&r&&i)})}},showPicker:function(){this.buildPickerContent(this.data.picker),this.setData({isShowRegionPicker:!0})},closePicker:function(){this.setData({isShowRegionPicker:!1,picker:defaultPicker})},onLocalityTap:function(){this.showPicker()},onRegionTap:function(t){var e=t.detail.value;this.buildPickerContent(e)},echoRegionText:function(){this.setData({regionText:this.data.selectedProvince.text+" "+this.data.selectedCity.text+" "+this.data.selectedDistrict.text}),this.checkSubmitable()},onPickerConfirmTap:function(){this.echoRegionText(),this.closePicker()},onPickerCancelTap:function(){this.closePicker()},getRegions:function(){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,app.request().config("loading",1).get("https://wx.maoyan.com/maoyansh/myshow/ajax/region/allRegion").query({sellChannel:7,wxOpenId:app.$user.openId,token:app.$user.token}).end().then(function(t){return t.body.data});case 2:i=e.sent,t.setData({region:i},function(){t.data.info&&(t.rebuildPicker(),t.buildPickerContent(t.data.picker))});case 4:case"end":return e.stop()}},e,t)}))()},buildPickerContent:function(t,e){var i=_slicedToArray(t,3),n=i[0],r=void 0===n?0:n,o=i[1],a=void 0===o?0:o,s=i[2],c=void 0===s?0:s,u=_slicedToArray(this.data.picker,3),d=u[0],l=u[1];u[2];r!==d?(a=0,c=0):a!==l&&(c=0);var h=this.data.region,p=h.province,f=h.province[r],v=void 0,g=void 0,m=void 0,y=void 0;DCM.includes(f.value)?(v=[f],g=h.city[f.value]):(v=h.city[f.value],g=h.district[v[a].value]),m=v[a],y=g[c],this.setData({selectedProvince:f,selectedCity:m,selectedDistrict:y,provinceList:p,cityList:v,districtList:g,picker:[r,a,c]},e)},rebuildPicker:function(){var t=this,e=this.data.info,i=e.provinceRegionCode,n=e.cityRegionCode,r=e.districtRegionCode;if(i||n||r){var o=this.data.region,a=o.province,s=o.city,c=o.district,u=this.findPicker("provinceRegionCode",a),d=void 0,l=void 0;DCM.includes(i)?(d=0,l=this.findPicker("districtRegionCode",s[i])):(d=this.findPicker("cityRegionCode",s[i]),l=this.findPicker("districtRegionCode",c[n])),this.setData({picker:[u,d,l]},function(){t.buildPickerContent(t.data.picker,function(){return t.echoRegionText()})})}},findPicker:function(t,e){var i=this;return e.findIndex(function(e){return e.value===i.data.info[t]})},onFormSubmit:function(t){var e=this,i=t.detail.value;if(this.validateFromData(i)){var n=this.data,r=n.selectedProvince,o=n.selectedDistrict,a=n.selectedCity,s=Object.assign({},this.data.info,i,{provinceName:r.text,provinceRegionCode:r.value,cityName:a.text,cityRegionCode:a.value,districtName:o.text,districtRegionCode:o.value,isDefault:i.isDefault?1:0});app.request().config("loading",1).post("https://wx.maoyan.com/maoyansh/myshow/ajax/address/saveAddress").query(_extends({},s,{token:app.$user.token,sellChannel:7})).end().then(function(t){return t.body}).then(function(t){var i=(t.data,t.code),n=t.msg;200!==i?e.triggerEvent("submitError",n):e.triggerEvent("submitSuccess",n)})}},validateFromData:function(t){try{return Object.keys(t).forEach(function(e){var i=formValidate[e];if(i){var n=t[e];if("function"==typeof n.trim&&(n=n.trim()),(i.required||!i.required&&""!==n)&&!i.reg.test(n))throw new Error(i.tips)}}),!0}catch(t){return wx.showToast({title:t.message,icon:"none"}),!1}},onNameInput:function(t){var e=t.detail.value;e.length>=20&&wx.showToast({title:"姓名最多为20个字",icon:"none"});var i=e.replace(emojiReg,"");return this.setData({"input.inputName":i},this.checkSubmitable),i},onTelInput:function(t){var e=t.detail.value;this.setData({"input.inputTel":e},this.checkSubmitable)},onAddressInput:function(t){var e=t.detail.value;e.length>=50&&wx.showToast({title:"详细地址最多为50个字",icon:"none"});var i=e.replace(emojiReg,"");return this.setData({"input.inputAddress":i},this.checkSubmitable),i},checkSubmitable:function(){var t=this.data.input,e=t.inputName,i=t.inputAddress,n=t.inputTel;this.setData({"input.submitable":!!(e&&i&&n&&this.data.regionText)})}}}); 
 			}); 	require("pages/show/components/address/address-edit.js");
 		__wxRoute = 'pages/show/components/address/address-list';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/components/address/address-list.js';	define("pages/show/components/address/address-list.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _user=require("../../../../scripts/show/user"),_user2=_interopRequireDefault(_user),store=require("../../../../scripts/store"),app=getApp();Component({properties:{selected:{type:Object,value:null,observer:function(){}}},attached:function(){this.getAddresses()},data:{maxAddrCount:5},methods:{onAddTap:function(e){var t=this.data,s=t.addressList,r=t.maxAddrCount;s&&s.length>=r?this.triggerEvent("submitError","最多添加5个地址，若需新增，请删除或修改"):this.triggerEvent("addressAdd",e)},onEditTap:function(e){var t=e.currentTarget.dataset.index;this.triggerEvent("addressEdit",this.data.addressList[t])},onDelTap:function(e){var t=this,s=e.currentTarget.dataset.index;return app.wx2promiseify(wx.showModal,{title:"提示",content:"确定删除此用户？",cancelText:"取消",confirmText:"确定"}).then(function(e){e.confirm&&app.request().config("loading",1).post("https://wx.maoyan.com/maoyansh/myshow/ajax/address/deleteAddress").query({recipientAddressId:t.data.addressList[s].recipientAddressId,token:app.$user.token,sellChannel:7}).end().then(function(e){return e.body}).then(function(e){var r=(e.data,e.code),a=e.msg;200!==r?(t.setData({errorTips:a}),setTimeout(function(){return t.setData({errorTips:!1})},3e3)):(t.data.addressList.splice(s,1),t.setData({addressList:t.data.addressList}))})})},getAddresses:function(){var e=this;app.request().config("loading",1).get("https://wx.maoyan.com/maoyansh/myshow/ajax/address/allAddressList").query({token:app.$user.token,userId:app.$user.id,userType:app.$user.type,sellChannel:7}).end().then(function(e){return e.body.data}).then(function(t){t=t.map(function(e){return e.recipientNameDisplay=e.recipientName.length>10?e.recipientName.slice(0,10)+"...":e.recipientName,e}),e.setData({addressList:t.slice(0,e.data.maxAddrCount)})})}}}); 
 			}); 	require("pages/show/components/address/address-list.js");
 		__wxRoute = 'pages/show/components/address/address-select';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/components/address/address-select.js';	define("pages/show/components/address/address-select.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _user=require("../../../../scripts/show/user"),_user2=_interopRequireDefault(_user),store=require("../../../../scripts/store"),app=getApp();Component({properties:{selected:{type:Object,value:{}}},attached:function(){this.getAddresses()},data:{maxAddrCount:5,addressList:[],selectedAddr:null},methods:{onSubmit:function(e){var t=this.data.addressList.find(function(e){return e.isChecked});this.triggerEvent("submit",t)},onAddTap:function(e){if(this.data.addressList.length>=this.data.maxAddrCount)wx.showToast({title:"最多添加 5 个地址，若需新增，请删除或修改",icon:"none"});else{e.currentTarget.dataset.index;this.triggerEvent("addressAdd")}},onEditTap:function(e){var t=e.currentTarget.dataset.index;this.triggerEvent("addressEdit",this.data.addressList[t])},onDelTap:function(e){var t=this,s=e.currentTarget.dataset.index,d=this.data.addressList[s];return app.wx2promiseify(wx.showModal,{title:"提示",content:"确定删除此用户？",cancelText:"取消",confirmText:"确定"}).then(function(e){e.confirm&&app.request().config("loading",1).post("https://wx.maoyan.com/maoyansh/myshow/ajax/address/deleteAddress").query({recipientAddressId:d.recipientAddressId,token:app.$user.token,sellChannel:7}).end().then(function(e){return e.body}).then(function(e){var a=(e.data,e.code),r=e.msg;200!==a?(t.setData({errorTips:r}),setTimeout(function(){return t.setData({errorTips:!1})},3e3)):(t.data.addressList.splice(s,1),t.data.selectedAddr&&d.recipientAddressId===t.data.selectedAddr.recipientAddressId&&t.setData({selectedAddr:null}),t.setData({addressList:t.data.addressList}),t.triggerEvent("addressDel",d))})})},getAddresses:function(){var e=this;app.request().config("loading",1).get("https://wx.maoyan.com/maoyansh/myshow/ajax/address/allAddressList").query({token:app.$user.token,userId:app.$user.id,userType:app.$user.type,sellChannel:7}).end().then(function(e){return e.body.data}).then(function(t){var s=void 0,d=void 0;t=t.map(function(t){return t.recipientNameDisplay=t.recipientName.length>10?t.recipientName.slice(0,10)+"...":t.recipientName,e.data.selected&&e.data.selected.recipientAddressId===t.recipientAddressId?s=t:t.isDefault&&(d=t),t}),s?s.isChecked=!0:d?d.isChecked=!0:t&&t[0]&&(t[0].isChecked=!0);var a=e.data.selected||app.get("address")||t.find(function(e){return e.isDefault})||t[0];e.setData({addressList:t.slice(0,e.data.maxAddrCount),defaultAddress:a,selectedAddr:a})})},onAddrTap:function(e){var t=this.data.addressList[e.target.dataset.index];if(t.isChecked)t.isChecked=!1,this.setData({addressList:this.data.addressList,selectedAddr:null});else{this.data.addressList.some(function(e){return e.isChecked})&&(this.data.addressList=this.data.addressList.map(function(e){return e.isChecked=!1,e})),t.isChecked=!0,this.setData({addressList:this.data.addressList,selectedAddr:t})}}}}); 
 			}); 	require("pages/show/components/address/address-select.js");
 		__wxRoute = 'pages/show/components/count-down/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/components/count-down/index.js';	define("pages/show/components/count-down/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(n){return n&&n.__esModule?n:{default:n}}function _toConsumableArray(n){if(Array.isArray(n)){for(var t=0,e=Array(n.length);t<n.length;t++)e[t]=n[t];return e}return Array.from(n)}var _extends=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},_countdown=require("../../../../scripts/countdown"),_countdown2=_interopRequireDefault(_countdown);Component({properties:{timeStamp:{type:Number,value:0},uiShow:{type:Boolean,value:!0}},data:{name:"countDown",millSecond:0,second:0,minutes:0,hour:0},ready:function(){this.initCountDown(this.data.timeStamp)},detached:function(){this.clearCountDown()},methods:{initCountDown:function(n){var t=this;_countdown2.default.initObj(this.data.name,{endTime:n},["endTime"],function(n){var e=n.endTime_cd,o=e.millSecond,r=e.second,a=e.minutes,u=e.hour,i={millSecond:o,second:r,minutes:a,hour:u%24,day:Math.floor(u/24)};!0===n.endTime_over&&t.clearCountDown(),t.setData.apply(t,_toConsumableArray(i)),t.triggerEvent("countDownEvent",_extends({},i))},!1,100)},clearCountDown:function(){_countdown2.default.clear(this.data.name)}}}); 
 			}); 	require("pages/show/components/count-down/index.js");
 		__wxRoute = 'pages/show/components/error-handler/components/expired-err-page/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/components/error-handler/components/expired-err-page/index.js';	define("pages/show/components/error-handler/components/expired-err-page/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({properties:{show:{type:Boolean,value:!1}}}); 
 			}); 	require("pages/show/components/error-handler/components/expired-err-page/index.js");
 		__wxRoute = 'pages/show/components/error-handler/components/network-err-page/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/components/error-handler/components/network-err-page/index.js';	define("pages/show/components/error-handler/components/network-err-page/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({properties:{show:{type:Boolean,value:!1}},methods:{tap:function(){this.triggerEvent("reloadButtonTap")}}}); 
 			}); 	require("pages/show/components/error-handler/components/network-err-page/index.js");
 		__wxRoute = 'pages/show/components/error-handler/components/unknown-err-page/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/components/error-handler/components/unknown-err-page/index.js';	define("pages/show/components/error-handler/components/unknown-err-page/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({properties:{show:{type:Boolean,value:!0}}}); 
 			}); 	require("pages/show/components/error-handler/components/unknown-err-page/index.js");
 		__wxRoute = 'pages/show/components/error-handler/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/components/error-handler/index.js';	define("pages/show/components/error-handler/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var isNetWork=/Network/,isExpired=/expired/,isUnknown=/unknown/,isServer=/Server/,errorDefaultMap={noError:"",network:"小喵提醒您，请切换网络重试",expired:"小喵提醒您，网络超时",unknown:"小喵提醒您，请稍后再试"};Component({properties:{errorInfo:{type:Object,observer:function(r){var e=r.err,o=void 0===e?"noError":e,t=r.type,n=r.msg,i=void 0===n?"":n;r&&o&&(isNetWork.test(o)?o="network":isExpired.test(o)?(o="expired",this.errorModal(i)):(o="unknown",this.errorModal(i||"系统君刚刚走神了～稍后再试试")),this.setData({pageError:o,pageErrorMSG:i,hintType:t||"page"},function(){"toast"===t&&wx.showToast({title:i||errorDefaultMap[o],icon:"none"})}))}}},data:{},methods:{reload:function(){this.triggerEvent("reload"),this.setData({pageError:null,pageErrorMSG:null,hintType:null})},errorModal:function(r){var e=getApp().pages();wx.showModal({content:r||"项目不存在或已下架",showCancel:!1,confirmText:e.length>1?"返回":"更多精彩",success:function(r){r.confirm&&(1===e.length?wx.switchTab({url:"/pages/show/index/index"}):wx.navigateBack())}})}}}); 
 			}); 	require("pages/show/components/error-handler/index.js");
 		__wxRoute = 'pages/show/components/error-page/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/components/error-page/index.js';	define("pages/show/components/error-page/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({properties:{showPage:{type:Boolean,value:!1},btnText:String},data:{},methods:{onMaskTap:function(){this.setData({showPage:!1}),this.triggerEvent("btnTap")}}}); 
 			}); 	require("pages/show/components/error-page/index.js");
 		__wxRoute = 'pages/show/components/getphone-button/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/components/getphone-button/index.js';	define("pages/show/components/getphone-button/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({options:{multipleSlots:!0},properties:{isGetPhoneButton:{type:Boolean,value:!1}},methods:{onGetPhoneNumber:function(t){this.triggerEvent("getPhoneNumber",t)},onNormalButtonTap:function(t){this.triggerEvent("normalButtonTap",t)}}}); 
 			}); 	require("pages/show/components/getphone-button/index.js");
 		__wxRoute = 'pages/show/components/login-button/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/components/login-button/index.js';	define("pages/show/components/login-button/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({options:{multipleSlots:!0},externalClasses:["login-button-class"],properties:{isLogin:Boolean},methods:{noop:function(){},onGetUserInfo:function(o){this.triggerEvent("userinfo",o.detail)}}}); 
 			}); 	require("pages/show/components/login-button/index.js");
 		__wxRoute = 'pages/show/components/popup/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/components/popup/index.js';	define("pages/show/components/popup/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var _user=require("../../../../scripts/show/user"),_user2=_interopRequireDefault(_user),store=require("../../../../scripts/store"),app=getApp();Component({options:{multipleSlots:!0},properties:{info:{type:Object,value:null,observer:function(t){var e=this.data.history,s=e[e.length-1];(s&&s.type)!==t.type&&(e.push(t),this.setData({history:e}))}}},data:{hasMask:!0,history:[]},methods:{onBackTap:function(){var t=this.data.history;t.pop(),this.setData({history:t}),this.triggerEvent("flip",this._getTopOfHistory())},onCloseTap:function(){this.triggerEvent("tapclose"),this._clearHistory()},_clearHistory:function(){this.setData({history:[]})},_getTopOfHistory:function(){return this.data.history[this.data.history.length-1]}}}); 
 			}); 	require("pages/show/components/popup/index.js");
 		__wxRoute = 'pages/show/components/realname/add';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/components/realname/add.js';	define("pages/show/components/realname/add.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},store=require("../../../../scripts/store"),app=getApp(),formValidate={userName:{reg:/^.{2,50}$/,required:!0,tips:"亲~姓名长度需在2至50个字之间~"},idNumber:{reg:/^(\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$/,required:!0,tips:"亲~ 请输入正确的身份证号哦~"}};Component({properties:{},data:{PREFIX:"https://wx.maoyan.com/maoyansh/myshow/ajax",token:"c5XjtNrzEWlch8g_2W610k2O9FsMAAAA1gMAAPRyYhsMVmEh2GIyBwe_bTQ2ElBv511DpsfMevTW7itUDYoAt118fPGfiVB29VCo3g",userName:"",idNumber:"",disabled:!0,switched:!1},created:function(){},ready:function(){this.initEditInfo()},methods:{initEditInfo:function(){var e=store.get("_realname_edit_info");e&&this.setData(_extends({},e,{disabled:!1,switched:e.default}))},formSubmit:function(e){var t=e.detail.value;try{Object.keys(t).forEach(function(e){var r=formValidate[e],a=t[e].trim(),i=r.reg;if((r.required||!r.required&&""!==a)&&!i.test(a))throw new Error(r.tips)})}catch(e){return this.triggerEvent("submitError",e.message),!1}this.saveRealNameUser(t)},saveRealNameUser:function(e){var t=this,r=this.data.PREFIX,a={id:this.data.id?this.data.id:0,idType:1,userName:e.userName,idNumber:e.idNumber,default:this.data.switched,idNumberDisplay:e.idNumber,userNameDisplay:e.userName};app.request().post(r+"/realName/saveRealNameUser").query({token:app.$user.token,sellChannel:7}).send(_extends({},a)).end().then(function(e){return e.body}).then(function(e){var r=e.code,i=e.data,s=e.msg;200!==r?t.triggerEvent("submitError",s):(a.id=i,t.triggerEvent("submitSuccess",a))})},handleChange:function(e){var t=e.currentTarget.id,r=e.detail.value;this.setData(_defineProperty({},t,r));var a=!this.inputValidate(t,r);this.setData({disabled:a})},inputValidate:function(e,t){var r=this.data,a=r.userName,i=r.idNumber,s=void 0;switch(e){case"userName":t?i&&i.length>0&&(s=!0):s=!1;break;case"idNumber":if(!t){s=!1;break}a&&(s=!0)}return s},handleSwitch:function(e){this.setData({switched:!this.data.switched})}}}); 
 			}); 	require("pages/show/components/realname/add.js");
 		__wxRoute = 'pages/show/components/realname/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/components/realname/index.js';	define("pages/show/components/realname/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var store=require("../../../../scripts/store"),app=getApp();Component({properties:{selected:{type:Boolean,value:!1},pid:{type:String,value:"0"}},data:{realNameList:[],selectedNameList:[],PREFIX:"https://wx.maoyan.com/maoyansh/myshow/ajax",realNameListLoading:!0},ready:function(){this.getUserRealNameList(),this.initStore()},methods:{initStore:function(){store.get("_realname_edit_info")&&store.set("_realname_edit_info",null)},getUserRealNameList:function(){var e=this,t=this.data.PREFIX;wx.showToast({icon:"loading",title:"加载中..."}),app.request().get(t+"/realName/allRealNameUserList").query({token:app.$user.token,sellChannel:7}).end().then(function(e){return e.body}).then(function(t){var a=t.data,i=t.code,r=t.msg;if(200===i&&a){var s=e.formatRealName(a);e.setData({realNameList:s,realNameListLoading:!1}),e.triggerEvent("getRealNameList",s)}else e.triggerEvent("submitError",r);e.setData({realNameListLoading:!1}),wx.hideToast()})},formatRealName:function(e){if(!!e)return e.map(function(e){var t=e.idNumber,a=e.userName;return e.id,e.idNumberDisplay=t,e.userNameDisplay=a,e})},selectRealName:function(e){if(this.data.selected){var t=e.currentTarget.dataset.index,a=this.data.realNameList[t].isSelected;this.data.realNameList[t].isSelected=!a,this.setData({realNameList:this.data.realNameList}),this.triggerEvent("selectEvent",this.data.realNameList[t])}},handelRemove:function(e){var t=this;return app.wx2promiseify(wx.showModal,{title:"提示",content:"确定删除此用户？",cancelText:"取消",confirmText:"确定"}).then(function(a){a.confirm&&t.deleteRealnameItem(e)})},deleteRealnameItem:function(e){var t=this,a=e.currentTarget.dataset.index,i=this.data.PREFIX;wx.showToast({icon:"loading",title:"删除中..."}),app.request().post(i+"/realName/deleteRealNameUser").query({sellChannel:7,token:app.$user.token}).send({id:this.data.realNameList[a].id}).end().then(function(e){return e.body}).then(function(e){var i=e.code,r=e.msg;wx.hideToast(),200!==i?t.triggerEvent("submitError",r):(t.data.realNameList.splice(a,1),t.setData({realNameId:0,realNameList:t.data.realNameList}),t.triggerEvent("getRealNameList",t.data.realNameList))})},editRealName:function(e){var t=this,a=e.currentTarget.dataset.index;store.set("_realname_edit_info",{id:this.data.realNameList[a].id,userName:this.data.realNameList[a].userName,idNumber:this.data.realNameList[a].idNumber,default:this.data.realNameList[a].default}),this.triggerEvent("editRealName",e),setTimeout(function(){wx.navigateTo({url:"/pages/showsubs/general-info/realname?id="+t.data.pid+"&activeTab=1"})},100)}}}); 
 			}); 	require("pages/show/components/realname/index.js");
 		__wxRoute = 'pages/show/components/realname/realname-select';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/components/realname/realname-select.js';	define("pages/show/components/realname/realname-select.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _user=require("../../../../scripts/show/user"),_user2=_interopRequireDefault(_user),app=getApp();Component({properties:{count:{type:Number,value:1},list:{type:Array,value:[]},selected:{type:Array,value:[],observer:function(e){this.setData({selectedIDList:this.data.list.map(function(t){return e.some(function(e){return e.id===t.id})?t.isSelected=!0:t.isSelected&&delete t.isSelected,t})})}}},data:{max:10,selectedIDList:[]},methods:{onSubmit:function(e){var t=this.data,a=t.selected,n=t.list;if(a.length<this.data.count)return wx.showToast({title:"请提交 "+this.data.count+" 位购票人",icon:"none"});this.triggerEvent("submit",{selectedRealnameList:a,realnameList:n})},onAddTap:function(e){this.data.selectedIDList.length>=this.data.max?wx.showToast({title:"最多添加 10 个购票人，若需新增，请删除或修改",icon:"none"}):this.triggerEvent("realnameAdd")},onEditTap:function(e){var t=e.currentTarget.dataset.index;this.triggerEvent("realnameEdit",this.data.list[t])},onDelTap:function(e){var t=this,a=e.currentTarget.dataset.index;return app.wx2promiseify(wx.showModal,{title:"提示",content:"确定删除此用户？",cancelText:"取消",confirmText:"确定"}).then(function(e){e.confirm&&app.request().config("loading",1).post("https://wx.maoyan.com/maoyansh/myshow/ajax/realName/deleteRealNameUser").query({sellChannel:7,token:app.$user.token}).send({id:t.data.list[a].id}).end().then(function(e){return e.body}).then(function(e){var n=e.code,i=e.msg;wx.hideToast(),200!==n?wx.showToast({icon:"loading",title:i}):t.triggerEvent("realnameDel",a)})})},isSelected:function(e){return this.data.selectedIDList.some(function(t){return t.id===e&&t.isSelected})},onRealnameSelect:function(e){var t=e.currentTarget.dataset.index,a=this.data.list[t];this.isSelected(a.id)?this.setData({selected:this.data.selected.filter(function(e){return e.id!==a.id})}):this.data.selected.length>=this.data.count?wx.showToast({title:"购票人已经选满了~",icon:"none"}):this.setData({selected:this.data.selected.concat(a)})}}}); 
 			}); 	require("pages/show/components/realname/realname-select.js");
 		__wxRoute = 'pages/show/components/realname/realname-wrapper';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/components/realname/realname-wrapper.js';	define("pages/show/components/realname/realname-wrapper.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _user=require("../../../../scripts/show/user"),_user2=_interopRequireDefault(_user),app=getApp();Component({properties:{list:{type:Array,value:[],observer:function(e){var t=this;this.setData({selectedIDList:e.map(function(e){return t.data.selected.some(function(t){return t.id===e.id})&&(e.isSelected=!0),e})})}},selected:{type:Array,value:[],observer:function(e){this.setData({selected:e,selectedIDList:this.data.list.map(function(t){return e.some(function(e){return e.id===t.id})&&(t.isSelected=!0),t})})}},count:{type:Number,value:1}},data:{selectedIDList:[]},methods:{onModifyClick:function(e){this.triggerEvent("modify")},onRealnameSelect:function(e){var t=e.currentTarget.dataset.index,i=this.data.list[t].id;this.data.selected.find(function(e){return e.id===i})?this.triggerEvent("unselectRealname",t):this.data.selected.length>=this.data.count?wx.showToast({title:"购票人已经选满了~",icon:"none"}):this.triggerEvent("selectRealname",t)}}}); 
 			}); 	require("pages/show/components/realname/realname-wrapper.js");
 		__wxRoute = 'pages/show/components/session-list/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/components/session-list/index.js';	define("pages/show/components/session-list/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({properties:{selected:Number,stockout:Boolean,sessions:{type:Array,value:[]}},methods:{onSessionItemClick:function(e){var s=e.currentTarget.dataset.index;this.triggerEvent("tapsession",this.data.sessions[s])},noop:function(){},onSessionCloseClick:function(e){this.triggerEvent("close")}}}); 
 			}); 	require("pages/show/components/session-list/index.js");
 		__wxRoute = 'pages/show/components/share-modal/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/components/share-modal/index.js';	define("pages/show/components/share-modal/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function n(r,i){try{var s=t[r](i),o=s.value}catch(e){return void a(e)}if(!s.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}return n("next")})}}var _canvasBlur=require("../../../../scripts/canvas-blur"),_utils=require("../../../../scripts/utils"),app=getApp(),PREFIX="https://wx.maoyan.com/maoyansh/myshow/ajax";Component({properties:{qrUrl:{type:String,value:"",observer:function(e,t){}},showFlag:Number,performance:Object,shareId:Number},data:{shareImgUrl:"",backgroundHeight:468,backgroundWidth:270,useDrawCallback:!1},methods:{closeShareModal:function(){this.triggerEvent("close"),this.setData({shareImgUrl:""})},emptyFunc:function(){},checkSetting:function(e){wx.getSetting({success:function(t){t&&"getSetting:ok"===t.errMsg&&(!1===t.authSetting["scope.writePhotosAlbum"]?wx.showModal({content:"检测到您未打开微信图片保存授权开启授权，即可保存图片",confirmText:"去开启",confirmColor:"#2FB922",success:function(e){e.confirm&&wx.openSetting({success:function(e){}})}}):e())}})},saveShareImg:function(){var e=this;this.checkSetting(function(){wx.saveImageToPhotosAlbum({filePath:e.data.shareImgUrl,success:function(){e.saveShareImgStatus(),e.closeShareModal(),wx.showToast({title:"图片已保存到相册，去分享到朋友圈/好友",icon:"none"})}})})},shareToFriend:function(){this.closeShareModal()},startDraw:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark(function t(){var a,n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=app.getPropSafely("$systemInfo.SDKVersion",app),n=a&&1==(0,_utils.compareVersion)(a,"1.7.0")&&app.isIphone,r=(0,_utils.compareVersion)(a,"1.9.90")>=0,wx.canIUse("canvasGetImageData")&&r){t.next=6;break}return wx.showModal({title:"提示",content:"当前微信版本过低，无法使用该功能，请升级到最新微信版本后重试。"}),t.abrupt("return");case 6:return e.setData({generatingImg:!0,useDrawCallback:n}),e.triggerEvent("drawImage"),wx.showLoading({title:"正在生成图片…",mask:!0}),t.prev=9,t.next=12,e.drawShareImg();case 12:t.next=20;break;case 14:t.prev=14,t.t0=t.catch(9),wx.hideLoading(),wx.showToast({title:"喵呜~  图片生成失败，请重试",icon:"none"}),e.setData({generatingImg:!1}),e.closeShareModal();case 20:case"end":return t.stop()}},t,e,[[9,14]])}))()},drawShareImg:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark(function t(){var a,n,r,i,s,o,c,h,u,d,g,f,l,p,w,m,x,v,I,b,S,k,T,y;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.properties.performance,t.next=3,app.systemInfo();case 3:return n=t.sent,r=n.pixelRatio,i=n.screenWidth,s=n.screenHeight,s>1.775*i&&(s=1.775*i),o=app.rpx2px,c=["https://p1.meituan.net/moviesh/6da5051ad3c1200fe3b3ca972e2bc4b613284.png","https://p0.meituan.net/moviesh/daedffa6c87e08ebd61f5192f2869d0c13090.png","https://p1.meituan.net/moviesh/3ee84c68ef6f108d819d758a196f1a8a11856.png","https://p0.meituan.net/moviesh/acbac8c127d64ff25600de40f87f19f612263.png"],h=a.posterUrl,u=a.posterUrl,!/@/.test(h)&&/\.meituan\.(com|net)/.test(h)&&(u=h+"@270w_486h_1c_1e",h+="@540w_696h_1c_1e"),d=[u,"https://p1.meituan.net/moviesh/4aeecc2a1d788e435dda0607574de5c4344112.jpg","https://p1.meituan.net/moviesh/e6c23d1faee7410721373ecfb9b339611641.png","https://p1.meituan.net/moviesh/6da5051ad3c1200fe3b3ca972e2bc4b613284.png","https://p0.meituan.net/moviesh/cdb7d4c3f3a93aa43d8ff4a0d0bcdf695898.png","https://p0.meituan.net/moviesh/4046e44e9a1c55e64c94ca818d1f0b45637.png",h],d[3]=c[Math.floor(100*Math.random())%4],t.next=17,app.request().get(PREFIX+"/wxapp/qrcode").query({width:174,page:"pages/show/detail/index",scene:"utm_source=wxps&id="+e.properties.shareId,appId:app.appId}).end().then(function(e){return e.body.data});case 17:if(!(g=t.sent)){t.next=22;break}d[1]=g,t.next=23;break;case 22:throw new Error("获取小程序码失败");case 23:return f=d.map(function(t){return e.downloadFile(t)}),t.next=26,Promise.all(f);case 26:return l=t.sent,p=wx.createCanvasContext("my-canvas",e),e.setData({screenWidth:i,screenHeight:s,width:i*r,height:s*r}),t.next=31,e.drawGaussBlurImg(l[0]);case 31:return w=t.sent,p.drawImage(w.tempFilePath,0,0,i,s),p.drawImage(l[5],0,0,i,s),p.beginPath(),p.moveTo(o(30),o(24)),p.lineTo(o(722),o(24)),p.lineTo(o(722),o(1172)),p.lineTo(o(662),o(1232)),p.lineTo(o(30),o(1232)),p.closePath(),p.setFillStyle("white"),p.fill(),p.setFontSize(o(32)),p.setFillStyle("#000000"),m=e.textOverflow(p,a.name,o(544)),p.fillText(m,o(106),o(124),o(544)),p.setFontSize(o(24)),p.setFillStyle("#666666"),p.fillText(a.showTimeRange,o(106),o(166)),p.drawImage(l[2],o(48),o(166),o(66),o(64)),p.drawImage(l[6],o(106),o(194),o(540),o(696)),t.prev=52,t.next=55,e.getShareNumber();case 55:x=t.sent,t.next=60;break;case 58:t.prev=58,t.t0=t.catch(52);case 60:if(!((v=app.$user)&&v.wxUserInfo&&v.wxUserInfo.userInfo)){t.next=74;break}return I=app.$user.wxUserInfo.userInfo,b=I.avatarUrl,S=I.nickName,t.next=65,e.downloadFile(b);case 65:return k=t.sent,t.next=68,e.drawAvatarImg(k);case 68:T=t.sent,p.drawImage(T.tempFilePath,o(106),o(922),o(50),o(50)),p.setFontSize(o(28)),p.setFillStyle("#4C6072"),y=e.textOverflow(p,S,o(248)),p.fillText(y,o(164),o(958),o(248));case 74:p.drawImage(l[3],o(106),o(1014),o(320),o(112)),p.setFontSize(o(24)),p.setFillStyle("#F03D37"),p.fillText("长按识别去购票",o(466),o(1138)),p.drawImage(l[1],o(464),o(934),o(174),o(174)),p.drawImage(l[4],o(30),o(1256),o(174),o(48)),e.ctxDraw(p,!1,function(){wx.canvasToTempFilePath({canvasId:"my-canvas",destWidth:i*r,destHeight:s*r,success:function(t){e.setData({shareImgUrl:t.tempFilePath,generatingImg:!1}),wx.hideLoading()},fail:function(e){throw e}},e)});case 81:case"end":return t.stop()}},t,e,[[52,58]])}))()},ctxDraw:function(e,t,a){if(this.data.useDrawCallback)try{e.draw(t,a)}catch(e){}else e.draw(t),setTimeout(a,200)},downloadFile:function(e){return new Promise(function(t,a){wx.downloadFile({url:e,success:function(e){var a=e.tempFilePath;t(a)},fail:a})})},drawGaussBlurImg:function(e){var t=this;return new Promise(function(a,n){wx.getImageInfo({src:e,success:function(r){var i=wx.createCanvasContext("background",t);i.width=67,i.height=121,t.setData({backgroundHeight:i.height,backgroundWidth:i.width}),setTimeout(function(){i.drawImage(e,0,0,i.width,i.height),t.ctxDraw(i,!1,function(){wx.canvasGetImageData({canvasId:"background",x:0,y:0,width:i.width,height:i.height,success:function(e){var r=(0,_canvasBlur.gaussBlur)(e);wx.canvasPutImageData({canvasId:"background",x:0,y:0,width:i.width,height:i.height,destWidth:2*i.width,destHeight:2*i.height,data:r.data,success:function(e){t.ctxDraw(i,!0,function(){wx.canvasToTempFilePath({canvasId:"background",width:i.width,height:i.height,destWidth:2*i.width,destHeight:2*i.height,success:function(e){a(e)},fail:function(e){n(e)}},t)})}},t)},fail:function(e){n(e)}},t)})},100)},fail:function(e){n(e)}})})},drawAvatarImg:function(e){var t=this;return new Promise(function(a,n){wx.getImageInfo({src:e,success:function(r){t.setData({backgroundHeight:r.height,backgroundWidth:r.width}),setTimeout(function(){var i=wx.createCanvasContext("background",t);i.width=r.width,i.height=r.height,i.save(),i.beginPath(),i.arc(r.width/2,r.height/2,r.height/2,0,2*Math.PI),i.clip(),i.drawImage(e,0,0,r.width,r.height),i.restore(),t.ctxDraw(i,!1,function(){wx.canvasToTempFilePath({canvasId:"background",width:r.width,height:r.height,destWidth:r.width,destHeight:r.width,success:function(e){a(e)},fail:function(e){n(e)}},t)})},200)},fail:function(e){n(e)}})})},getShareNumber:function(){return app.request().post(PREFIX+"/share/addShareRecord").query({token:app.$user.token,sellChannel:7}).header("content-type","application/json").send({performanceId:this.properties.shareId}).end().then(function(e){return e.body.data})},textOverflow:function(e,t,a){var n=e.measureText(t).width;if(n<a)return t;for(;n>a;)t=t.substring(0,t.length-1),n=e.measureText(t).width;return t+"..."},saveShareImgStatus:function(){this.triggerEvent("saveImage")}}}); 
 			}); 	require("pages/show/components/share-modal/index.js");
 		__wxRoute = 'pages/show/components/v-mask/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/components/v-mask/index.js';	define("pages/show/components/v-mask/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({data:{showMask:!0},methods:{onMaskTap:function(){this.setData({showMask:!1})},noop:function(){}}}); 
 			}); 	require("pages/show/components/v-mask/index.js");
 		__wxRoute = 'pages/show/components/yoda/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/components/yoda/index.js';	define("pages/show/components/yoda/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({externalClasses:["my-class"],options:{addGlobalClass:!0},properties:{requestCode:{type:String,value:"",observer:function(e,s){e!==s&&this.initYodaSlider()}}},data:{showCloseBtn:!0},methods:{initYodaSlider:function(){var e=this.data,s=e.requestCode,t=e.showCloseBtn;this.Slider=this.selectComponent("#slider"),this.Slider.showSlider({requestCode:s,showCloseBtn:t})}}}); 
 			}); 	require("pages/show/components/yoda/index.js");
 		__wxRoute = 'pages/show/detail/components/compose-button/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/compose-button/index.js';	define("pages/show/detail/components/compose-button/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({options:{multipleSlots:!0},methods:{noop:function(){}}}); 
 			}); 	require("pages/show/detail/components/compose-button/index.js");
 		__wxRoute = 'pages/show/detail/components/crowded-err-page/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/crowded-err-page/index.js';	define("pages/show/detail/components/crowded-err-page/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({properties:{show:{type:Boolean,value:!1},text:{type:String,value:""}},methods:{onback:function(){this.triggerEvent("back")}}}); 
 			}); 	require("pages/show/detail/components/crowded-err-page/index.js");
 		__wxRoute = 'pages/show/detail/components/crowded-toast/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/crowded-toast/index.js';	define("pages/show/detail/components/crowded-toast/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({properties:{show:{type:Boolean,value:!1},count:{type:Number,value:5}},data:{number:5},ready:function(){this.runInterval()},detached:function(){this.interval&&clearInterval(this.interval)},methods:{noop:function(){},minus:function(t){var e=t-1;this.setData({number:e})},runInterval:function(){var t=this,e=setInterval(function(){var n=t.data.number;n>0?t.minus(n):(clearInterval(e),t.triggerEvent("close"))},1e3);this.interval=e}}}); 
 			}); 	require("pages/show/detail/components/crowded-toast/index.js");
 		__wxRoute = 'pages/show/detail/components/discount-detail/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/discount-detail/index.js';	define("pages/show/detail/components/discount-detail/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({properties:{promotional:{type:Object,observer:function(t){var o=t.discountList,s=t.setTicketList,i=t.projectGiftVO;this.setData({discountList:o,setTicketList:s,projectGiftVO:i})}}},data:{discountList:null,setTicketList:null,projectGiftVO:null,showBottom:!0,scrollTop:0,trueTop:0},methods:{shutDown:function(){this.triggerEvent("shutDiscountDetail")},toLower:function(t){this.setData({showBottom:!1,trueTop:this.data.scrollTop})},toTop:function(t){this.setData({showBottom:!0})},onScroll:function(t){var o=t.detail,s=o.scrollTop;o.scrollHeight;this.setData({scrollTop:s})}}}); 
 			}); 	require("pages/show/detail/components/discount-detail/index.js");
 		__wxRoute = 'pages/show/detail/components/discount-information/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/discount-information/index.js';	define("pages/show/detail/components/discount-information/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({properties:{promotional:{type:Object,observer:function(t){var i=t.discountList,s=t.setTicketList,e=t.projectGiftVO;i||s||e?this.setData({discountList:i,setTicketList:s,projectGiftVO:e,isShow:!0}):this.setData({isShow:!1})}}},data:{isShow:!1,discountList:null,setTicketList:null,projectGiftVO:null},methods:{lookMore:function(t){this.triggerEvent("popupDiscountDetail")}},attached:function(){this.triggerEvent("statsView")}}); 
 			}); 	require("pages/show/detail/components/discount-information/index.js");
 		__wxRoute = 'pages/show/detail/components/expired-err-page/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/expired-err-page/index.js';	define("pages/show/detail/components/expired-err-page/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({properties:{show:{type:Boolean,value:!1}}}); 
 			}); 	require("pages/show/detail/components/expired-err-page/index.js");
 		__wxRoute = 'pages/show/detail/components/fill-info/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/fill-info/index.js';	define("pages/show/detail/components/fill-info/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({properties:{flag:{type:Boolean,value:!1},pid:{type:Number,value:0}},ready:function(){},methods:{openFillInfo:function(){wx.navigateTo({url:"/pages/showsubs/general-info/index?id="+this.data.pid})}},attached:function(){this.triggerEvent("statsView")}}); 
 			}); 	require("pages/show/detail/components/fill-info/index.js");
 		__wxRoute = 'pages/show/detail/components/header-info/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/header-info/index.js';	define("pages/show/detail/components/header-info/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({externalClasses:["header-info-class"],properties:{performance:Object,pixelRatio:Number}}); 
 			}); 	require("pages/show/detail/components/header-info/index.js");
 		__wxRoute = 'pages/show/detail/components/loading-page/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/loading-page/index.js';	define("pages/show/detail/components/loading-page/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({}); 
 			}); 	require("pages/show/detail/components/loading-page/index.js");
 		__wxRoute = 'pages/show/detail/components/login-getphone-button/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/login-getphone-button/index.js';	define("pages/show/detail/components/login-getphone-button/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({options:{multipleSlots:!0},properites:{isLogin:{type:Boolean,value:!1},isGetPhoneButton:{type:Boolean,value:!1}},methods:{onGetUserInfo:function(t){this.triggerEvent("getUserInfo",t.detail)},onGetPhoneNumber:function(t){this.triggerEvent("getPhoneNumber",t.detail)},onNormalButtonTap:function(t){this.triggerEvent("normalButtonTap",t)}}}); 
 			}); 	require("pages/show/detail/components/login-getphone-button/index.js");
 		__wxRoute = 'pages/show/detail/components/middle-bar/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/middle-bar/index.js';	define("pages/show/detail/components/middle-bar/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var _utils=require("../../../../../scripts/utils"),_utils2=_interopRequireDefault(_utils);Component({properties:{saleStatus:{type:Number,observer:function(t){this.setShowStatus(t)}},beforeSaleStatus:{type:Object,observer:function(t){this.setHasOnSaleTime(t),this.formatOnSaleTime(t),this.fomatRemainText(this.data.mistiming,this.data.currentTime,t)}},tagStatus:{type:Number,value:2,observer:function(t){this.setHasTag(t)}},mistiming:{type:Number,observer:function(t){this.fomatRemainText(t,this.data.currentTime,this.data.beforeSaleStatus)}},currentTime:{type:Number,observer:function(t){this.fomatRemainText(this.data.mistiming,t,this.data.beforeSaleStatus)}},isNeedOnSaleRemind:{type:Number,value:0}},data:{show:!1,hasOnSaleTime:!1,hasTag:!1,onSaleTime:"",remainText:"",remainInfo:null},attached:function(){this.setShowStatus(this.data.saleStatus),this.setHasOnSaleTime(this.data.beforeSaleStatus),this.setHasTag(this.data.tagStatus),this.formatOnSaleTime(this.data.beforeSaleStatus),this.fomatRemainText(this.data.mistiming,this.data.currentTime,this.data.beforeSaleStatus)},methods:{noop:function(){},setShowStatus:function(t){this.setData({show:1===t})},setHasOnSaleTime:function(t){t&&this.setData({hasOnSaleTime:!!t.onSaleTime})},setHasTag:function(t){this.setData({hasTag:0===t||1==t})},formatOnSaleTime:function(t){if(t){var e=t.onSaleTime;if(e){var a=new Date(e),s=a.getMonth()+1,i=a.getDate(),n=a.getHours(),o=a.getMinutes(),u=a.getSeconds(),r=s,l=i,m=n>9?n:"0"+n,f=o>9?o:"0"+o,h=u>9?u:"0"+u,S=r+"月"+l+"日 "+m+" : "+f+" : "+h;this.setData({onSaleTime:S,onSaleTimeInfo:{monthText:r,dayText:l,hourText:m,minuteText:f,secondText:h}})}}},fomatRemainText:function(t,e,a){if(e>0&&a&&a.onSaleTime){var s=e-t,i=a.onSaleTime-s,n=this.calculateLeftDays(a.onSaleTime,s),o=this.fomatLeftTime(i),u=o.leftHours,r=o.leftMinutes,l=o.leftSeconds,m=o.allHours;this.setData({remainInfo:{allHours:m,leftDays:n,leftHours:u,leftMinutes:r,leftSeconds:l}})}},fomatLeftTime:function(t){return{allHours:t/1e3/60/60,leftHours:this._pad(parseInt(t/1e3/60/60%24,10)),leftMinutes:this._pad(parseInt(t/1e3/60%60,10)),leftSeconds:this._pad(parseInt(t/1e3%60,10))}},calculateLeftDays:function(t,e){var a=_utils2.default.formatDate(new Date(t),"yyyy/MM/dd"),s=_utils2.default.formatDate(new Date(e),"yyyy/MM/dd");return(Date.parse(a)-Date.parse(s))/864e5},_pad:function(t){return t=+t,t<10&&t>=0?"0"+t:t}}}); 
 			}); 	require("pages/show/detail/components/middle-bar/index.js");
 		__wxRoute = 'pages/show/detail/components/network-err-page/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/network-err-page/index.js';	define("pages/show/detail/components/network-err-page/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({properties:{show:{type:Boolean,value:!1}},methods:{tap:function(){this.triggerEvent("reloadButtonTap")}}}); 
 			}); 	require("pages/show/detail/components/network-err-page/index.js");
 		__wxRoute = 'pages/show/detail/components/prior-button/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/prior-button/index.js';	define("pages/show/detail/components/prior-button/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({methods:{tap:function(){this.triggerEvent("tap")}}}); 
 			}); 	require("pages/show/detail/components/prior-button/index.js");
 		__wxRoute = 'pages/show/detail/components/remind-modal-with-price/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/remind-modal-with-price/index.js';	define("pages/show/detail/components/remind-modal-with-price/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({properties:{show:{type:Boolean,value:!1},tags:{type:Array,value:[],observer:function(e){var t=this.data.phoneNumber,i=this.judgeDisable(e,t);this.setData({disable:i})}},phoneNumber:{type:String,value:"",observer:function(e){var t=this.data.tags,i=this.judgeDisable(t,e);this.setData({disable:i})}},isIphoneX:{type:Boolean,value:!1},isIphone:{type:Boolean,value:!1}},data:{disable:!1,focus:!1},methods:{noop:function(){},onSubmit:function(e){var t=e.detail,i=t.formId;this.triggerEvent("submit",{formId:i})},closeModal:function(){this.triggerEvent("close")},oninputChange:function(e){var t=e.detail,i=t.value;this.triggerEvent("inputchange",i)},onselect:function(e){var t=e.currentTarget,i=t.dataset,n={ticketPriceId:i.tid,ticketPriceValue:i.price};this.triggerEvent("priceselect",n)},judgeDisable:function(e,t){var i=e.filter(function(e){return!!e.selected}),n=i.length,a=t.length;return!(n>0&&11===a)},setFocus:function(){this.setData({focus:!0})},unSetFocus:function(){this.setData({focus:!1})}}}); 
 			}); 	require("pages/show/detail/components/remind-modal-with-price/index.js");
 		__wxRoute = 'pages/show/detail/components/remind-modal/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/remind-modal/index.js';	define("pages/show/detail/components/remind-modal/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({properties:{show:{type:Boolean,value:!1},phoneToRegist:{type:String,value:"",observer:function(e){this.setData({allowSubmit:11===e.length})}}},data:{allowSubmit:!1},methods:{noop:function(){},closeRemind:function(){this.triggerEvent("closeRemind")},phoneInput:function(e){var t=e.detail.value;this.triggerEvent("phoneinputChange",t)},registerPhone:function(e){var t=e.detail.formId;this.triggerEvent("registerPhone",t)}}}); 
 			}); 	require("pages/show/detail/components/remind-modal/index.js");
 		__wxRoute = 'pages/show/detail/components/session-list/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/session-list/index.js';	define("pages/show/detail/components/session-list/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({properties:{selected:Number,stockout:Boolean,sessions:{type:Array,value:[]},isIphone:Boolean},methods:{onSessionItemClick:function(e){var s=e.currentTarget.dataset.index;this.triggerEvent("tapsession",this.data.sessions[s])},noop:function(){},onSessionCloseClick:function(e){this.triggerEvent("close")}}}); 
 			}); 	require("pages/show/detail/components/session-list/index.js");
 		__wxRoute = 'pages/show/detail/components/show-detail/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/show-detail/index.js';	define("pages/show/detail/components/show-detail/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({properties:{detail:{type:String,observer:function(t){this.formatDetail(t)}},seatUrl:{type:String}},data:{showDetail:[]},methods:{noop:function(){},formatDetail:function(t){var e=[];try{e=JSON.parse(t)||[]}catch(t){e=[]}e.forEach(function(t){var e=t.content;2==t.type&&!/@/.test(e)&&/\.meituan\.(com|net)/.test(e)&&(t.content=e+"@720w")}),this.setData({showDetail:e})},bindImgLoaded:function(t){var e=t.detail,a=e.width,i=e.height,n=t.target.dataset.index,o=this.data.showDetail;o[+n].w=a,o[+n].h=i,this.setData({showDetail:o})},onTapPhoto:function(t){var e=this.properties.seatUrl;e&&e.length>0&&wx.previewImage({current:e,urls:[e]}),this.triggerEvent("statsView")}}}); 
 			}); 	require("pages/show/detail/components/show-detail/index.js");
 		__wxRoute = 'pages/show/detail/components/ticketing-information/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/ticketing-information/index.js';	define("pages/show/detail/components/ticketing-information/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({properties:{ticketNotes:{type:String}},data:{richText:wx.canIUse("rich-text")},methods:{noop:function(){}}}); 
 			}); 	require("pages/show/detail/components/ticketing-information/index.js");
 		__wxRoute = 'pages/show/detail/components/unknown-err-page/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/unknown-err-page/index.js';	define("pages/show/detail/components/unknown-err-page/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({properties:{show:{type:Boolean,value:!0}}}); 
 			}); 	require("pages/show/detail/components/unknown-err-page/index.js");
 		__wxRoute = 'pages/show/detail/components/venue-address/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/venue-address/index.js';	define("pages/show/detail/components/venue-address/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var store=require("../../../../../scripts/store");Component({properties:{name:{type:String,value:" "},address:{type:String,value:" "},city:{type:String,value:""},guide:{type:Boolean},latitude:{type:Number},longitude:{type:Number}},data:{show:!1},methods:{handleTap:function(){return this.data.guide?(this.setGuideInfo(),this.openGuide()):this.openMap()},openGuide:function(){this.triggerEvent("statsOpenGuide"),wx.showToast({icon:"loading",title:"加载中..."}),setTimeout(function(){wx.navigateTo({url:"/pages/showsubs/guide/index"})},100)},openMap:function(){var e=this.data,t=e.latitude,i=e.longitude,n=e.name,a=e.address;t&&i&&wx.openLocation({latitude:t,longitude:i,name:n,address:a}),this.triggerEvent("statsOpenMap")},setGuideInfo:function(){var e=this.data,t=e.latitude,i=e.longitude,n=e.name,a=e.address,s=e.guide;store.set("_guide_info",{name:n,address:a,latitude:t,longitude:i,guide:s})}}}); 
 			}); 	require("pages/show/detail/components/venue-address/index.js");
 		__wxRoute = 'pages/show/detail/components/video-modal/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/video-modal/index.js';	define("pages/show/detail/components/video-modal/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({properties:{projectVideoInfo:{type:Object,value:{}}},methods:{noop:function(){},goToVideo:function(){this.triggerEvent("openVideo")}},attached:function(){this.triggerEvent("statsView")}}); 
 			}); 	require("pages/show/detail/components/video-modal/index.js");
 		__wxRoute = 'pages/show/detail/components/willsell-btn-noremind/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/willsell-btn-noremind/index.js';	define("pages/show/detail/components/willsell-btn-noremind/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({properties:{priorBuyStatus:{type:Number},btnText:{type:String}},methods:{normalTap:function(){this.triggerEvent("normalTap")},priorTap:function(){this.triggerEvent("priorTap")}}}); 
 			}); 	require("pages/show/detail/components/willsell-btn-noremind/index.js");
 		__wxRoute = 'pages/show/detail/components/willsell-btn-remind/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/willsell-btn-remind/index.js';	define("pages/show/detail/components/willsell-btn-remind/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({properties:{priorBuyStatus:{type:Number},btnText:{type:String}},methods:{normalTap:function(){this.triggerEvent("normalTap")},priorTap:function(){this.triggerEvent("priorTap")}}}); 
 			}); 	require("pages/show/detail/components/willsell-btn-remind/index.js");
 		__wxRoute = 'pages/show/detail/components/willsell-btn/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/willsell-btn/index.js';	define("pages/show/detail/components/willsell-btn/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({properties:{saleStatus:{type:Number},beforeSaleStatus:{type:Object},priorBuyStatus:{type:Number}},methods:{noop:function(){}}}); 
 			}); 	require("pages/show/detail/components/willsell-btn/index.js");
 		__wxRoute = 'pages/show/detail/components/willsell-noremind-btn/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/willsell-noremind-btn/index.js';	define("pages/show/detail/components/willsell-noremind-btn/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({properties:{btnText:{type:String,value:""}},methods:{ontap:function(){this.triggerEvent("tap")}}}); 
 			}); 	require("pages/show/detail/components/willsell-noremind-btn/index.js");
 		__wxRoute = 'pages/show/detail/components/willsell-remind-btn/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/components/willsell-remind-btn/index.js';	define("pages/show/detail/components/willsell-remind-btn/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Component({properties:{btnText:{type:String,value:""}},methods:{ontap:function(){this.triggerEvent("tap")}}}); 
 			}); 	require("pages/show/detail/components/willsell-remind-btn/index.js");
 		__wxRoute = 'tpl/navigator';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'tpl/navigator.js';	define("tpl/navigator.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var _slicedToArray=function(){function t(t,r){var i=[],a=!0,e=!1,n=void 0;try{for(var s,o=t[Symbol.iterator]();!(a=(s=o.next()).done)&&(i.push(s.value),!r||i.length!==r);a=!0);}catch(t){e=!0,n=t}finally{try{!a&&o.return&&o.return()}finally{if(e)throw n}}return i}return function(r,i){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return t(r,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),app=getApp(),util=require("../scripts/utils");Component({properties:{val_bid:String,val_lab:String,url:String,version:String,externalStyle:String,pageUrl:String,needLogin:Boolean,isLogin:Boolean},data:{navToMiniProgramByAPI:util.compareVersion(app.system().SDKVersion||"2.0.7","2.0.6")<1,appId:"",path:""},attached:function(){if(this.properties.url){var t={val_cid:this.properties.pageUrl};app.stats(t),this.stats=t.stats;var r=this._isNavToMiniProgram(),i=_slicedToArray(r,2),a=i[0],e=i[1];a&&this.setData({appId:a,path:e})}},methods:{navToMiniProgram:function(t){var r=this,i=this.properties,a=i.val_bid,e=i.val_lab,n=i.version,s=this.data,o=s.appId,p=s.path;wx.navigateToMiniProgram({appId:o,path:p,envVersion:n,success:function(t){a&&e&&r.stats(a,e)}})},onTapNavigator:function(){var t=this.properties,r=t.val_bid,i=t.val_lab;r&&i&&this.stats(r,i)},normalNav:function(){var t=this.properties,r=t.val_bid,i=t.val_lab,a=t.url;r&&app.stats&&this.stats(r,i),app.goto(a)},getuserinfo:function(t){this.triggerEvent("getuserinfo",t)},_isNavToMiniProgram:function(t){var r=[],i=/\/(wx\w{16})(\/[\w\W]*$)/,a=this.properties.url.match(i);return a&&a.length>=3&&(r=a.slice(1,3)),r}}}); 
 			}); 	require("tpl/navigator.js");
 		__wxRoute = 'pages/movie/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/movie/index.js';	define("pages/movie/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var _extends=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},app=getApp(),_app$require=app.require("scripts/movie"),hotV4=_app$require.hotV4,moreHotList=_app$require.moreHotList,version=_app$require.version,store=require("../../scripts/store"),searchBar=require("../search/_search-bar"),AdBanner=require("../../tpl/ad-banner"),loginScript=require("../../scripts/login"),MovieRemindModal=require("../../tpl/movie-remind-modal"),MovieRemindCard=require("../../tpl/movie-remind-card"),SpecialTopic=require("../../tpl/operation/embedded-component/special-topic"),favouriteAPI=require("../../scripts/favourite"),advertHandler=require("../../scripts/advert"),MYT=require("../../constant/myt"),mge_bid=MYT.mge_bid,mpt_bid=MYT.mpt_bid;app.MoviePage(_extends({},searchBar,{needCity:!0,hasShownRedirect:!1,hasShowModal:!1,scrollTop:null,hasShowPassAd:!1,data:_extends({},searchBar.data,{limit:10,activeTab:"hot",movies:app.get("_cache-hot-movies"),hasFetchMovies:!1,mostExpected:[],coming:[],hotMovieIds:[],comingMovieIds:[],showGameEntry:!1,isShowSigninVideo:!1,showGuid:!1,showScore:!1,hasShowButton:!1,firstLogin:!1,passAd:[],showAddMiniRemind:!1}),onLoad:function(t){wx.hideShareMenu();var i=this.options,e=i.activeTab,o=i.redirect;return this.options=t,this.specialTopic=new SpecialTopic({page:this}),this.adBanner=new AdBanner({page:this,positionIds:"1034",params:{movieId:t.movieId}}),this.movieRemindModal=new MovieRemindModal({page:this}),this.movieRemindCard=new MovieRemindCard({page:this}),e&&this.setData({activeTab:e}),o?this.indexRedirect(t):t.scene?this.bargainLogic():(this.initCity(t),void this.setShowTopRemind(!0))},onShow:function(){var t=this;this.setData({showGuid:!1,showScore:!1,firstLogin:!1});var i=this.data.city,e=(app.models.location.get()||{}).city;this.adBanner||(this.adBanner=new AdBanner({page:this,positionIds:"1034"}));var o=function(){var o=i&&i.id!==e.id;t.setCity(e),t.data.hasFetchMovies&&!o||(t.data.movies||t.loading(),t.onPullDownFetchData());var a={cityId:app.getPropSafely("$location.city.id",app,1),userId:(app.getUser()||{}).userId||""};t.adBanner.render(a),loginScript.openId().then(function(){t.getOperationPositions()}),t.getGameEntry()};e?o():this.hasShownRedirect&&(this.initCity(this.options),o()),wx.showShareMenu(),MYT.initStats(app),advertHandler.fetch({positionIds:1135},function(i){i.length&&(MYT.props.stats(mpt_bid,{positionId:1135,ad_id:i[0].adId,materialId:i[0].materialId}),t.setData({adsHeaderBg:i}))}),app.$user.token&&this.isFirstLogin(),this.growthDeal(),this.getPassAds(),app.$user.token&&this.movieRemindCard.init()},onHide:function(){this.movieRemindCard.clearAllInterval(),this.closeSigninVideo()},growthDeal:function(){var t=store.get("growth-activeTab");""!=t?(store.remove("growth-activeTab"),"hot"==t?this.switchToHot():"coming"==t&&this.switchToComing(),this.setData({hasShowButton:!0}),wx.pageScrollTo&&wx.pageScrollTo({scrollTop:0})):this.setData({hasShowButton:!1})},indexRedirect:function(t){var i=this;this.stats("b_j9ygxrr8");var e=this.options,o=e.redirect,a=e.widgetData,s=e.wxParamData,n=decodeURIComponent(o);if(a&&s){var r="widgetData="+a+"&wxParamData="+s,d=/\S\?\S*=/,h=/\?/;n=o+(d.test(n)?"&":h.test(n)?"":"?")+r}return wx.navigateTo({url:n,complete:function(){i.needCity=!1,i.hasShownRedirect=!0}})},bargainLogic:function(){var t=this.options,i=decodeURIComponent(t.scene);i="?"+i;var e=function(t,i){return new RegExp("[?&]"+t+"=([^&#]*)","gim").test(i)?RegExp.$1:""},o=e("activity_id",i),a=e("goods_id",i),s=e("employment",i);if(o&&a){this.stats("b_p2vrshy3");var n="/pages/bargain/detail/index?activity_id="+o+"&goods_id="+a;t.redirect=encodeURIComponent(n),this.indexRedirect(t)}else s&&(t.redirect=encodeURIComponent("/pages/employment/index/index"),this.indexRedirect(t))},onTapAdBanner:function(t){this.adBanner.onTapAdBanner(t)},onBannerChagne:function(t){this.adBanner.onBannerChagne(t.detail.current)},getPassAds:function(){var t=this;advertHandler.fetch({positionIds:1086},function(i){i.length?(t.hasShowPassAd=!1,t.setData({passAd:i})):t.setData({passAd:[]})})},onPageScroll:function(t){var i=t.scrollTop;if(!this.hasShowPassAd&&this.data.passAd.length&&i>500){var e=this.data.passAd;this.hasShowPassAd=!0,MYT.initStats(app),MYT.props.stats(MYT.mpt_bid,{positionId:1086,ad_id:e[0].adId,materialId:e[0].materialId})}this.setData({showPassAd:i>100&&i<2e3,showAddMiniRemind:!(i>100)&&this.data.showAddMiniRemind}),this.adBanner.onPageScroll(i)},onUnload:function(){this.offCityEvent(),this.movieRemindCard.hideCardModal()},onTapAds:function(t){MYT.props.stats(MYT.mge_bid,{positionId:1086,ad_id:this.data.passAd[0].adId,materialId:this.data.passAd[0].materialId}),this.onTapNavi(t)},getGameEntry:function(){var t=this;app.request().get("/hideActivityModal").end().then(function(i){var e=i.body.scene;Array.isArray(e)?e.includes("all")||e.includes(app.scene)?t.setData({showGameEntry:!1}):(t.stats("b_r4950pi2"),t.setData({showGameEntry:!0})):t.setData({showGameEntry:!1})}).catch(function(i){t.setData({showGameEntry:!1})})},onReachBottom:function(){"hot"===this.data.activeTab?this.data.movies&&this.data.movies.length&&this.fetchMovies():this.data.comingMovieIds.length>0&&this.getMoreComingMovies()},onPullDownRefresh:function(){this.setData({showPassAd:!1}),this.onPullDownFetchData(),this.getOperationPositions(),this.getPassAds(),this.setShowTopRemind()},onPullDownFetchData:function(){if(!app.$location.city)return this.loading(!1),wx.stopPullDownRefresh();this.fetchMovies(0),"coming"===this.data.activeTab&&(this.getMostExpectedMovies(),this.getComingMovies()),this.adBanner.refresh()},fetchMovies:function(t){function i(){o.loading(!1),wx.stopPullDownRefresh()}var e=this,o=this,a=this.data,s=a.hotMovieIds,n=a.city,r=a.limit;if(void 0!==n&&(void 0===t&&(t=this.data.offset||0),0===t&&(this.data.movies&&(this.data.movies=[]),this.data.hasMore=!0),this.data.hasMore)){var d=void 0;if(0===t)d=hotV4(n.id).then(function(t){var i=t.hot,o=t.movieIds,a=void 0===o?[]:o;return e.setData({hotMovieIds:a,offset:i.length,hasMore:a.length>i.length}),i});else{var h=s.slice(t,t+r);d=moreHotList(h.join(","),n.id).then(function(i){var o=i.movies;return t+=o.length,e.setData({offset:t,hasMore:s.length>t}),o})}d.then(function(t){i();var o=e.formatJumpUrl((e.data.movies||[]).concat(t));app.set("_cache-hot-movies",o.slice(0,r)),e.setData({movies:o,hasFetchMovies:!0}),e.timeoutID&&(clearTimeout(e.timeoutID),e.timeoutID=null,setTimeout(function(){e.setData({firstLogin:!1})},2e3))}).catch(function(t){i(),e.handleError(t)})}},formatJumpUrl:function(t){return t?t.map(function(t){return t.itemJumpUrl=t.vodPlay?"/pages/vod/detail/index?movieId="+t.id:"",t}):t},onShareAppMessage:function(){var t={cityId:this.data.city.id,cityName:this.data.city.nm};return{title:"最近上映的这些电影你都看了吗？",path:"pages/movie/index?"+app.shareParams(_extends({},this.options,t,{activeTab:this.data.activeTab}))}},switchToHot:function(){this.switchTab("hot")},switchToComing:function(){this.switchTab("coming")},switchTab:function(t){var i=(app.models.location.get()||{}).city;"coming"===t&&!this.data.mostExpected.length&&i&&(this.getMostExpectedMovies(),this.getComingMovies()),this.data.activeTab===t||this.setData({activeTab:t})},getMostExpectedMovies:function(){var t=this;this.loading(!0),app.request().get("/mmdb/movie/v1/list/wish/order/coming.json").query({ci:this.data.city?this.data.city.id:1,limit:30,offset:0}).header({token:app.$user.token}).end().then(function(t){return t.body.data}).then(function(i){t.loading(!1),wx.stopPullDownRefresh(),i.coming.map(function(t){t.img=app.img(t.img,170,230),t.date=t.comingTitle.replace(" ","").split("周")[0]}),t.setData({mostExpected:i.coming})}).catch(function(i){t.loading(!1),t.data.mostExpected.length?t.handleError(i):t.handleError(i,"page")})},getComingMovies:function(){var t=this;this.loading(!0),app.request().get("/mmdb/movie/v2/list/rt/order/coming.json").query({ci:this.data.city?this.data.city.id:1,limit:10}).header({token:app.$user.token}).end().then(function(t){return t.body.data}).then(function(i){t.loading(!1),wx.stopPullDownRefresh(),t.setData({coming:t.groupMoviesByDate(i.coming,!0),comingMovieIds:(i.movieIds||[]).slice(10)})}).catch(function(i){t.loading(!1),t.data.coming.length?t.handleError(i):t.handleError(i,"page")})},getMoreComingMovies:function(){var t=this,i=this.data,e=i.comingMovieIds,o=i.city,a=e.slice(0,10).join(",");moreHotList(a,o.id).then(function(i){e.splice(0,10),t.setData({coming:t.groupMoviesByDate(i.movies),comingMovieIds:e})}).catch(function(i){t.handleError(i)})},groupMoviesByDate:function(t,i){var e=i?[]:this.data.coming,o=e.length-1;return t.map(function(t){t.version=version(t.ver),t.img=app.img(t.img,128,180),t.showInfo="",t.showTimeInfo="",t.score=parseFloat(t.sc).toFixed(1),0===e.length?e[++o]={comingTitle:t.comingTitle,movies:[].concat(t)}:t.comingTitle===e[o].comingTitle?e[o].movies.push(t):e[++o]={comingTitle:t.comingTitle,movies:[].concat(t)}}),e},toggleWishFromComing:function(t){this.toggleWishStatus(t)},toggleWishFromMostExpected:function(t){this.toggleWishStatus(t)},toggleWishStatus:function(t){var i=this,e=t.currentTarget.dataset,o=e.wishst,a=e.movieid,s=e.index,n=e.subindex,r=this.data,d=r.mostExpected,h=r.coming;app.checkLogin({warn:"添加想看前请先登录",ignoreLogin:!0,success:function(){var t={MAOYAN:1,MEITUAN:2},e={userId:app.$user.userId,token:app.$user.token,type:1^o,business:t.MEITUAN,clientType:"touch",channelId:app.channelId},r=e.type?"post":"delete";"post"===r&&wx.vibrateShort({});var c=e.type?"已标记想看":"已取消想看";app.request(r,"/hostproxy/mmdb/user/movie/"+a+"/wish.json").send("post"===r?e:{}).header({token:app.$user.token,"x-host":"http://maoyanapi.vip.sankuai.com"}).query({channelId:app.channelId,uuid:app.$uuid,ci:app.$location.city?app.$location.city.id:0}).end().then(function(t){return t.body.data.id}).then(function(t){if(t===a){var o=void 0;o=void 0!==n?h[s].movies[n]:d[s],o.wishst=e.type,e.type?o.wish++:o.wish--,i.setData({coming:h,mostExpected:d}),wx.hideToast(),wx.showToast({title:c,icon:"success",duration:1e3})}}).catch(function(t){i.handleError(t)})}})},checkVisitSignin:function(){var t=this;app.get("isVisitedSignin")||!1||this.setData({isShowSigninVideo:!0,disableScroll:"fixed"},function(){"pages/movie/index"===app.page().is&&(t.signinVideoCtx=wx.createVideoContext("signInVideo"),t.dialogSigninVideo=t.selectComponent("#dialogSigninVideo"),t.dialogSigninVideo&&t.dialogSigninVideo.show({hideCallback:function(i){i&&i.fromClick&&t.stats("b_ifda504n"),t.setData({disableScroll:"relative"})},buttons:[{text:"去签到",clickFunc:function(){t.closeSigninVideo(),app.goto("/pages/signin/detail/index"),t.stats("b_118nqivb")}}]}),t.signinVideoCtx.play(),t.stats("b_9ffjk9mu"),app.set("isVisitedSignin",!0))})},closeSigninVideo:function(){this.dialogSigninVideo&&this.dialogSigninVideo.hide(),this.setData({isShowSigninVideo:!1,disableScroll:"relative"})},closeFavourite:function(){this.setData({showGuid:!1})},isFirstLogin:function(){var t=this;this.isToday(new Date)||(store.set("firstLoginDate",(new Date).toLocaleDateString()),this.setData({firstLogin:!0}),this.timeoutID=setTimeout(function(){t.setData({firstLogin:!1})},2e3))},isToday:function(t){var i=store.get("firstLoginDate"),t=new Date(t).toLocaleDateString();return i==t},closeRemind:function(){var t=this;this.stats("b_j60qxkub"),app.set("isNotFirstComeIn",!0),this.setData({closeRemind:!0}),setTimeout(function(){t.setData({showAddMiniRemind:!1})},750)},setShowTopRemind:function(t){app.get("isNotFirstComeIn")||(t&&this.stats("b_5em48stt"),this.setData({showAddMiniRemind:!0}))}})); 
 			}); 	require("pages/movie/index.js");
 		__wxRoute = 'pages/movie/movie';__wxRouteBegin = true; 	define("pages/movie/movie.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}return Array.from(t)}var _domainSet=require("./../../scripts/domainSet"),_utils=require("../../scripts/utils"),_utils2=_interopRequireDefault(_utils),_axios=require("../../scripts/axios"),_api=require("../../scripts/activity/api"),AdBanner=require("../../tpl/ad-banner"),store=require("../../scripts/store"),apiConfig=require("../../scripts/api-config"),app=getApp(),api=apiConfig.getApiUrl(),_app$require=app.require("scripts/movie"),movie=_app$require.movie,celebrity=_app$require.celebrity,comment=_app$require.comment,commentv2=_app$require.commentv2,commentv2_layered=_app$require.commentv2_layered,delComment=_app$require.delComment,format=_app$require.format,egg=_app$require.egg,tips=_app$require.tips,_require=require("./_comment"),formatComments=_require.formatComments,approveRequest=_require.approveRequest,setShareShow=_require.setShareShow,screen=_require.screen,recordAudioContext=wx.createInnerAudioContext(),advertHandler=require("../../scripts/advert"),stats=require("../../scripts/stats"),CREDITS_TYPE={1:"演员",2:"导演",3:"副导演",4:"编剧",5:"制片人",6:"监制",7:"原创音乐",8:"摄影",9:"剪辑",10:"艺术指导",11:"美术设计",12:"服装设计",13:"化妆",14:"特效",15:"视觉效果",16:"武术指导",17:"翻译",18:"特别顾问"},statsChannel="rediantong",mge_bid="b_xmm5sgjk",mpt_bid="b_cy70t5em",SCORE_TEXT=["超烂啊","超烂啊","超烂啊","比较差","比较差","一般般","一般般","比较好","比较好","棒极了","完美"],TYPE_NAME=["自定义跳转","无跳转","彩蛋"];app.MoviePage({data:{screenHeight:"100%",collapse:!0,theme:app.$theme,collapseTip:!0,tags:[],showCard:!1,cardInfo:null,showType:"init",playStatus:"ready",time:"",orderInfo:null},tipShowCount:0,props:{val_cid:"c_hw1gt8n5"},initStats:function(){this.hasReportedAds=[],stats({channel:statsChannel,appnm:app.lxAppname||app.appName,noPending:!0,uid:function(){return app.$user.userId}})(this.props)},onLoad:function(t){var e=this;this.options=t,this.loading(),t.utm_source&&(app._forceMovieCinemaLocate=!0),"wechat_search"===t.utm_source&&t.cityId&&(app.$location.city={id:Number(t.cityId),nm:t.cityName});var o=app.system();this.setData({screenHeight:o.windowHeight+100+"px"}),this.modal=this.createModal("myModalDialog",{overlay:!0}),movie(t.movieId).then(format).then(function(t){return e.setData({scopeData:{service_type:19,movie_name:t.nm,release_time:t.rt,is_on_sale:!!t.buy}}),t.img=app.img(t.img),t.scoreText=t.mysc+"分，"+SCORE_TEXT[t.mysc],t.snum=app.num(t.snum),t.proScoreNum=app.num(t.proScoreNum),t.wish=t.wish+(t.wishst?1:0),t.globalReleased?t.sc&&t.proScore?t.scoreStyle="movie-score-style8":t.sc?t.scoreStyle="movie-score-style6":t.proScore?t.scoreStyle="movie-score-style7":t.proScore&&t.sc||(t.scoreStyle="movie-score-style5"):t.proScore&&t.sc?t.scoreStyle="movie-score-style4":t.sc?t.scoreStyle="movie-score-style2":t.proScore?t.scoreStyle="movie-score-style3":t.proScore&&t.sc||(t.scoreStyle="movie-score-style1"),tips(t.id).then(function(o){var a=[],i=[];if(o.length>0){o.filter(function(t){return TYPE_NAME.indexOf(t.tipName)>-1}).splice(0,4).forEach(function(t){t.tipJumpURL?a.push(t):i.push(t)})}var n=i.concat(a);e.setData({tips:n}),n.length&&e.stats("b_19q1qzot",{movie_id:t.id,tip_type:n[0].tipName})}),t.egg&&egg(t.id).then(function(t){return e.setData({egg:t})}),e.loading(!1),t}).then(function(t){e.setData({movie:t}),t&&t.vodPlay&&e.getVodPlayDetail()}).catch(this.handleError.bind(this,"page")).then(this.getPhotos.bind(this)),celebrity(t.movieId).then(function(t){var e=-1;return t=[].concat.apply([],t).filter(function(t){return!!~[1,2].indexOf(t.cr)}).map(function(t){return t.showType=t.cr!==e,e=t.cr,t.type=CREDITS_TYPE[t.cr],t.avatar=app.img(t.avatar,{e:1}),t.cnm=(t.cnm||"").trim(),t.enm=(t.enm||"").trim(),t.roles=(t.roles||"").trim(),t})}).then(function(t){return e.setData({celebrities:t})}).catch(this.handleError.bind(this)),app.request().get(api+"/mmdb/comments/pro/movie/"+t.movieId+".json").query({limit:3}).end().then(function(t){var o=t.body.data;o=formatComments(o),e.setData({procomments:o,proTotal:t.body.paging.total})}).catch(this.handleError.bind(this)),app.request().get(api+"/mmdb/movie/"+t.movieId+"/feature/v1/mbox.json").end().then(function(t){return t.body}).then(function(t){var e=t.mbox,o=t.globalRelease,a={lastDayRank:"昨日票房排行",firstWeekBox:"首周票房(万)",sumBox:o?"累计票房(万)":"点映票房(万)",firstWeekOverSeaBox:"海外首周末票房(万美元)",sumOverSeaBox:"海外累计票房(万美元)"},i=Object.keys(a).map(function(t){return{text:a[t],rank:e[t]}});return e.sumBox+e.sumOverSeaBox>0?e.sumBox?i.slice(~~!e.lastDayRank,3):i.slice(3):[]}).then(function(t){return e.setData({mbox:t})}).catch(this.handleError.bind(this)),this.adBanner=new AdBanner({page:this,positionIds:"1036",params:{movieId:t.movieId}}),this.setData({ci:app.$location.city?app.$location.city.id:0}),this.options.cardId&&app.request().get(_axios.sevenDayDomain+"/qixi/card/"+this.options.cardId+".json?movieId="+this.options.movieId).header({token:app.$user.token,"content-type":"application/json"}).end(function(t,o){o.body.success&&e.setData({cardInfo:o.body.data,orderInfo:o.body.order,time:(0,_axios.formatTime)(o.body.data.created,"Y-M-D")},function(){setTimeout(function(){e.setData({showCard:!0},function(){o.body.data.audioUrl&&e.playAudio()})},2e3)})}).catch(function(t){console.log(t)}),this.loadMovieActivity(),app.request().get(_domainSet.reserveEntriceDomain+"/vod/video/detailEntrance.json").query({movieId:this.options.movieId,channelId:app.channelId}).end(function(t,o){var a=o.body;a&&a.success&&a.data.bindId&&e.setData({reserveEntryData:a.data})})},getVodPlayDetail:function(){var t=this;app.request().get("/mmdb/vod/video/combination.json").header({token:_utils2.default.safeGet(app,"$user.token",""),ci:_utils2.default.getCityAlter().id,clientType:"wechat_small_program",channel:app.channelId,uuid:app.$uuid}).query({movieId:this.data.movie.id,channelId:app.channelId}).end().then(function(e){var o=e.body;o.data&&o.data.buyButton&&o.data.groupButton&&t.setData({buyButton:o.data.buyButton,groupButton:o.data.groupButton,available:o.data.available})}).catch(function(t){console.log("error",t)})},loadMovieActivity:function(){var t=this,e=this.options.movieId,o=void 0===e?0:e;o>0&&_api.activityApi.getMovieActivity(o).then(function(e){var o=e.data;t.setData({activityList:o.slice(0,3)})})},activityItemTap:function(t){var e=t.currentTarget.dataset.position,o=this.data.activityList;if(o){var a=o[e];a&&_api.activityGoto.gotoActivity(a)}},gotoMoreActivityTap:function(t){_api.activityGoto.gotoActivityList()},onBuyFormSubmit:function(t){this.collectFormIds(t),this.onTapNavi(t)},onShow:function(){var t=this;this.setData({uId:app.$user.userId||""});var e=this.options.movieId,o=(app.models.location.get()||{}).city;if(e&&this.getComments(),this.getTags(),o){var a={cityId:app.getPropSafely("$location.city.id",app,1),userId:(app.getUser()||{}).userId||"",params:{movieId:this.options.movieId}};this.adBanner.render(a)}this.initStats(),advertHandler.fetch({positionIds:1079,movieId:this.options?this.options.movieId:0},function(e){e.length>0&&(t.props.stats(mpt_bid,{movie_id:t.options.movieId,positionId:1079,ad_id:e[0].adId,materialId:e[0].materialId}),t.setData({adsMiddle:e}))}),advertHandler.fetch({positionIds:1080,movieId:this.options?this.options.movieId:0},function(e){e.length>0&&(t.props.stats(mpt_bid,{movie_id:t.options.movieId,positionId:1080,ad_id:e[0].adId,materialId:e[0].materialId}),t.setData({adsHang:e}))})},getComments:function(t){var e=this,o={movieId:this.options.movieId,level:1,userId:app.$user.userId,type:3,containSelfComment:!0,tag:0,ts:0,offset:0,limit:10};commentv2_layered(o).then(function(o){var a=o.data,i=a.myComment,n=a.hotComments,r=a.comments,s=a.total,d=a.t2total,c=s-d,p=i&&0!==parseInt(i.movieId,10)&&0!==parseInt(i.userId,10),m=null;p&&i.score>0&&(m=i,m.scoreText=m.score+"分，"+SCORE_TEXT[m.score]);var u=p&&""!=i.content;if(u&&(i=formatComments(i)),!t){if(n.length>=3)r=n;else{r=[].concat(_toConsumableArray(n),_toConsumableArray(r)),u&&(r=screen(i.userId,r));var h=[],l=!0,v=!1,y=void 0;try{for(var f,g=r[Symbol.iterator]();!(l=(f=g.next()).done);l=!0){var I=f.value,_=!1,S=!0,b=!1,w=void 0;try{for(var T,C=h[Symbol.iterator]();!(S=(T=C.next()).done);S=!0){T.value.id===I.id&&(_=!0)}}catch(t){b=!0,w=t}finally{try{!S&&C.return&&C.return()}finally{if(b)throw w}}_||h.push(I)}}catch(t){v=!0,y=t}finally{try{!l&&g.return&&g.return()}finally{if(v)throw y}}r=h}return r=formatComments(r.slice(0,3)),e.setData({comments:r,myComment:i,isHasMyComment:u,total:s,t1total:c,t2total:d,commentScore:m}),r}e.setData({myComment:i,commentScore:m}),t&&t(i)}).catch(this.handleError.bind(this))},getTags:function(){var t=this;return app.request().get(api+"/review/v2/comments/movie/tag.json").header({token:app.$user.token}).query({movieId:this.options.movieId}).end().then(function(e){t.setData({tags:e.body.data})})},onTapMovieImage:function(){var t=this.data.movie;t.vd||wx.previewImage({urls:[t.img]})},onTapIntro:function(t){this.setData({collapse:!this.data.collapse})},onTapTip:function(t){var e=this;this.data.collapseTip&&this.data.tips.forEach(function(t,o){o>0&&e.stats("b_19q1qzot",{movie_id:e.data.movie.id,tip_type:t.tipName})}),this.data.collapseTip&&this.setData({collapseTip:!this.data.collapseTip})},onTapLike:function(t){var e=this;this.collectFormIds(t),app.checkLogin({ignoreLogin:!0,warn:"添加想看前请先登录",success:function(){if(e.data.commentScore)return void e.dialog({title:"是否取消看过？",content:"若取消看过，你的评分和讨论内容都将被删除",confirmText:"确认删除",callback:function(t,o){o.confirm&&delComment(e.data.commentScore.id).then(function(t){e.data.movie.mysc=0,e.getComments(),e.setData({movie:e.data.movie})})}});e.getComments();var t={MAOYAN:1,MEITUAN:2},o={userId:app.$user.id,token:app.$user.token,type:1^e.data.movie.wishst,business:t.MEITUAN,clientType:"touch",uuid:app.$uuid},a=o.type?"post":"delete";"post"===a&&wx.vibrateShort({}),app.request(a,"/hostproxy/mmdb/user/movie/"+e.data.movie.id+"/wish.json").query({clientType:"wechat_small_program",channelId:app.channelId,ci:app.$location.city?app.$location.city.id:0,uuid:app.$uuid}).send("post"===a?o:{}).header({token:app.$user.token,"x-host":"http://maoyanapi.vip.sankuai.com"}).end().then(function(t){return t.body.data.id}).then(function(t){var a=e.data.movie;t===a.id?(a.wishst=o.type,a.wish=a.wish+(a.wishst?1:-1),e.setData({movie:a}),wx.hideToast(),wx.showToast({title:"已"+(o.type?"标记":"取消")+"想看",icon:"success",duration:1e3})):e.toast((o.type?"标记":"取消")+"想看失败",1e3)})}})},onTapCelebrity:function(t){var e=t.currentTarget.dataset;this.setData({celebrity:e}),this.modal.show()},onTapPhoto:function(t){void 0!==this.data.photos&&wx.previewImage({current:this.data.photos[t.currentTarget.dataset.index],urls:this.data.photos})},onTapAdBanner:function(t){this.adBanner.onTapAdBanner(t)},onTapAd:function(t){var e=this.data.movie;this.stats("b_2zj514c4",{movie_id:e.id,tip_type:t.currentTarget.dataset.name}),this.onTapNavi(t)},onTapAdsMiddle:function(t){this.props.stats(mge_bid,{positionId:1079,ad_id:this.data.adsMiddle[0].adId,materialId:this.data.adsMiddle[0].materialId}),this.onTapNavi(t)},onTapAdsHang:function(t){this.props.stats(mge_bid,{positionId:1080,ad_id:this.data.adsHang[0].adId,materialId:this.data.adsHang[0].materialId}),this.onTapNavi(t)},onMge:function(t){var e=this.data.movie;this.stats("b_2zj514c4",{movie_id:e.id,tip_type:t.currentTarget.dataset.name})},onBannerChagne:function(t){this.adBanner.onBannerChagne(t.detail.current)},photoStats:function(){var t=this,e=wx.getSystemInfoSync().windowWidth;wx.createSelectorQuery().selectAll(".img-photo-stats").boundingClientRect().exec(function(o){if(!o[0])return!1;o[0].forEach(function(o,a){var i=o.width/2;o.left>0-i&&o.left<e-i&&!t.photosStatsMap[a]&&(t.stats("b_1otr2f42",{movie_id:t.options.movieId}),t.photosStatsMap[a]=!0)})})},getPhotos:function(){var t=this;return app.request().get(api+"/mmdb/movie/photos/"+this.options.movieId+"/list.json").query({}).end().then(function(e){var o=e.body.data.photos.map(function(t){return app.img(t.olink)}).slice(0,t.data.movie.photos.length);t.data.movie.photos=o.map(function(t){return app.img(t,220,190)}),t.setData({photos:o,movie:t.data.movie})}).catch(this.handleError.bind(this))},approveCollect:function(t){this.collectFormIds(t)},toggleApprove:function(t){var e=this,o=t.currentTarget.dataset,a=o.cid,i=o.likedbycurrentuser,n=o.index,r=o.type;this.tipShowCount>0?this.setShare(a,"",!0):app.checkLogin({warn:"点赞前请先登录",success:function(){approveRequest(t);var o=void 0;o=parseInt(n,10)>=0?e.data[r][n]:e.data[r],o.likedByCurrentUser=!i,o.likedByCurrentUser&&wx.vibrateShort({}),o.likedByCurrentUser?(o.upCount+=1,"procomments"===r&&app.set("pro-comment-"+o.id+"-approved",1,{expires:604800})):(o.upCount>=1&&(o.upCount-=1),"procomments"===r&&app.remove("pro-comment-"+o.id+"-approved")),o.animation=!0,e.setData({myComment:"myComment"===r?o:e.data.myComment,comments:e.data.comments,procomments:e.data.procomments})}})},onScroll:function(t){var e=t.detail.scrollTop;app.title(e>220?this.data.movie.nm:"影片详情")},onShareAppMessage:function(){var t=this.data.movie,e=t.nm,o=t.sc,a=t.proScore,i=t.wish,n=t.pubDesc,r=t.globalReleased,s=[],d=o?"观众评分"+o.toFixed(1):"",c=a?"专业评分"+a.toFixed(1):"";if(r&&(d||c))s=[d,c];else{s=[i?i+"人想看":"",n]}var p="/pages/movie/movie?movieId="+this.options.movieId+"&"+app.shareParams();p=encodeURIComponent(p);var m="pages/movie/index?redirect="+p;return{title:"《"+e+"》"+s.filter(function(t){return!!t}).join("，"),path:m}},collectFormIds:function(t){app.collectFormId(t.detail.formId)},onImageLoaded:function(t){},setShare:function(t,e,o){var a=this.data,i=a.comments,n=a.myComment;o?(i=setShareShow(i,t,o,this),n=setShareShow(n,t,o,this),this.setData({myComment:n,comments:i})):"comments"===e?(i=setShareShow(i,t,o,this),this.setData({comments:i})):(n=setShareShow(n,t,o,this),this.setData({myComment:n}))},toggleShowShare:function(t){var e=t.currentTarget.dataset,o=e.cid,a=e.type;this.tipShowCount>0?this.setShare(o,"",!0):this.setShare(o,a)},shareTap:function(t){var e=this;app.checkLogin({warn:"操作前请先登录",success:function(){var o=t.currentTarget.dataset,a=o.cid,i=o.index,n=o.type;if("1"===o.tag)e.getComments(),e.setShare(a,n),e.dialog("提示","确定举报当前评论吗",function(t,o){o.confirm&&app.request().post(api+"/review/v1/comment/spamreport.json").header({token:app.$user.token,uuid:app.$uuid}).send({userId:app.$user.userId,commentId:a,channelId:app.channelId,ci:app.$location.city?app.$location.city.id:0}).end().then(function(t){e.toast("举报成功")}).catch(e.handleError.bind(e))});else{var r={};if(r="myComment"===n?e.data.myComment:e.data[n][i]){if(0===parseInt(r.score,10))return void e.toast("此评论暂无评分，暂不支持分享呦");store.set("_share_comment",r),setTimeout(function(){e.setShare(a,n),wx.navigateTo({url:"/pages/reviewsub/review-share?movieId="+e.options.movieId+"&source=list"})},100)}}}})},gotoComment:function(t){var e=t.currentTarget.dataset,o=e.cid,a=e.relay;this.tipShowCount>0?this.setShare(o,"",!0):wx.navigateTo({url:"/pages/commentsub/comment-detail?cid="+o+"&mname="+this.data.movie.nm+(a?"&relay=1":"")})},myReplyTap:function(t){var e=this;if(this.tipShowCount>0)return void this.setShare("","",!0);wx.getNetworkType({success:function(t){"none"!=t.networkType?void 0!=e.data.diy?wx.navigateTo({url:e.data.diy.reviewPage+"?movieId="+e.data.movie.id+"&required=comment"}):app.checkLogin({warn:"写短评前请先登录",success:function(){e.getComments(function(t){wx.navigateTo({url:"/pages/reviewsub/review?movieId="+e.data.movie.id+"&required=comment"})})}}):e.toast("网络异常，请检查网络")}})},tagTap:function(t){this.tipShowCount>0?this.setShare("","",!0):this.onTapNavi(t)},closeCard:function(){var t=this;this.setData({showCard:!1},function(){t.stopPlayRecord()})},playAudio:function(){var t=this.data,e=t.cardInfo;"ready"===t.playStatus?(recordAudioContext.src=e.audioUrl,recordAudioContext.obeyMuteSwitch=!1,recordAudioContext.play()):recordAudioContext.stop()},changeShowType:function(){"init"===this.data.showType?(this.playAudio(),this.setData({showType:"surprise"})):this.setData({showType:"init"})},closeTip:function(){this.tipShowCount>0&&this.setShare("","",!0)},stopPlayRecord:function(){recordAudioContext&&(recordAudioContext.stop(),recordAudioContext.destroy(),recordAudioContext=null)},onHide:function(){this.stopPlayRecord()},buyOnlineVideo:function(t){var e=t.detail.target.dataset.url;app.goto(e)}}); 
 			}); 	require("pages/movie/movie.js");
 		__wxRoute = 'pages/movie/comment';__wxRouteBegin = true; 	define("pages/movie/comment.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}return Array.from(t)}var _movie=require("../../scripts/movie"),store=require("../../scripts/store"),apiConfig=require("../../scripts/api-config"),app=getApp(),api=apiConfig.getApiUrl(),_require=require("./_comment"),formatComments=_require.formatComments,approveRequest=_require.approveRequest,setShareShow=_require.setShareShow,screen=_require.screen,SCORE_TEXT=["超烂啊","超烂啊","超烂啊","比较差","比较差","一般般","一般般","比较好","比较好","棒极了","完美"];app.MoviePage({data:{tag:0,theme:app.$theme,topTipShow:!1,firstComing:!1,fixedClass:"",isHasNothingTag:!1},backupComments:[],tipShowCount:0,onLoad:function(t){this.options=t,this.setData({movieId:t.movieId,movieName:t.movieName,tag:t.tag}),wx.setNavigationBarTitle({title:"精选讨论-"+t.movieName})},onShow:function(){this.setData({ci:app.$location.city.id||0,uId:app.$user.userId||""}),this.getTags(),this.showLoading(),this.changeTagGetdata(this.data.tag)},getComments:function(t,e){var o=this,a=this.data,s=a.movieId,i=a.offset,n=void 0===i?t:i,r=a.limit,m=void 0===r?10:r,h=a.ts,d=void 0===h?0:h,p=a.tag,c=void 0===p?0:p,u={movieId:s,level:1,userId:app.$user.userId,type:3,containSelfComment:!0,tag:c,ts:0===n?0:d,offset:n,limit:m};(0,_movie.commentv2_layered)(u).then(function(a){wx.hideLoading(),store.get("firstComing")||(store.set("firstComing",!0),o.stats("b_o6f1qe6y",{movieId:s}),o.setData({firstComing:!0,fixedClass:"_fixed"})),wx.stopPullDownRefresh();var i=a.data,n=i.myComment,r=i.hotComments,m=i.comments,h=i.total,d=i.t2total,p=a.paging,c=p.hasMore,v=p.offset,g=p.limit,f=h-d,C=a.ts;u.offset>0&&(n=o.data.myComment);var l=n&&0!==parseInt(n.movieId,10)&&0!==parseInt(n.userId,10)&&""!=n.content;l&&(n.scoreText=n.score+"分，"+SCORE_TEXT[n.score],n=formatComments(n));var w=!(f>0||l);e?(o.setData({myComment:n,isHasNothingTag:w}),e(n)):(0===t&&o.setData({total:o.data.tag?o.data.total:h,t1total:f,t2total:d,isHasNothingTag:w}),l&&(r=screen(n.userId,r),m=screen(n.userId,m)),r=formatComments(r),m=formatComments(m),o.backupComments=[].concat(_toConsumableArray(o.backupComments),_toConsumableArray(m)),v>0&&(m=[].concat(_toConsumableArray(o.data.comments),_toConsumableArray(m))),o.setData({myComment:n,isHasMyComment:l,comments:m,hotComments:r,offset:v+g,ts:C,limit:g,hasMore:c}),e&&e())}).catch(function(t){o.data.comments.length?o.handleError(t):o.handleError(t,"page")})},onPullDownRefresh:function(){this.getTags(),this.setData({ts:0,offset:0}),this.backupComments=[],this.getComments(0)},onReachBottom:function(){this.data.hasMore&&this.getComments()},changeTag:function(t){if(this.tipShowCount>0)return void this.setShare("","",!0);if(this.data.topTipShow)return void this.setTopTipShow();this.showLoading();var e=t.currentTarget.dataset.tag;this.changeTagGetdata(e)},changeTagGetdata:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.setData({tag:parseInt(t,10),hasMore:!1,offset:0,ts:0}),this.getComments(0)},getTags:function(){var t=this;return app.request().get(api+"/review/v2/comments/movie/tag.json").header({token:app.$user.token}).query({movieId:this.options.movieId}).end().then(function(e){t.setData({tags:e.body.data})})},setMycomment:function(t){t?this.getComments(0,t,!0):this.getComments()},onShareAppMessage:function(){return{title:"看完《"+this.options.movieName+"》，猫眼观众这样说",path:"pages/movie/comment?"+app.shareParams(this.options)}},setShare:function(t,e,o){if(o){var a=setShareShow(this.data.myComment,t,o,this),s=setShareShow(this.data.hotComments,t,o,this),i=setShareShow(this.data.comments,t,o,this);this.setData({myComment:a,hotComments:s,comments:i})}else if("hotComments"===e){var n=setShareShow(this.data.hotComments,t,o,this);this.setData({hotComments:n})}else if("comments"===e){var r=setShareShow(this.data.comments,t,o,this);this.setData({comments:r})}else{var m=setShareShow(this.data.myComment,t,o,this);this.setData({myComment:m})}},toggleShowShare:function(t){if(this.data.topTipShow)return void this.setTopTipShow();var e=t.currentTarget.dataset,o=e.cid,a=e.type;this.tipShowCount>0?this.setShare(o,"",!0):this.setShare(o,a)},approveCollect:function(t){app.collectFormId(t.detail.formId)},toggleApprove:function(t){var e=this,o=t.currentTarget.dataset,a=o.cid,s=o.likedbycurrentuser,i=o.index,n=o.type;return this.tipShowCount>0?void this.setShare(a,"",!0):this.data.topTipShow?void this.setTopTipShow():void app.checkLogin({warn:"点赞前请先登录",success:function(){approveRequest(t);var o=void 0;o=parseInt(i,10)>=0?e.data[n][i]:e.data[n],o.likedByCurrentUser=!s,o.likedByCurrentUser&&wx.vibrateShort({}),o.likedByCurrentUser?o.upCount+=1:o.upCount>=1&&(o.upCount-=1),o.animation=!0,e.setData({myComment:"myComment"===n?o:e.data.myComment,comments:e.data.comments,hotComments:e.data.hotComments})}})},shareTap:function(t){var e=this;app.checkLogin({warn:"操作前请先登录",success:function(){var o=t.currentTarget.dataset,a=o.cid,s=o.type,i=o.index;if("1"===o.tag)e.setMycomment(),e.setShare(a,s),e.dialog("提示","确定举报当前评论吗",function(t,o){o.confirm&&app.request().post(api+"/review/v1/comment/spamreport.json").header({token:app.$user.token,uuid:app.$uuid}).send({userId:app.$user.userId,commentId:a,channelId:app.channelId,ci:app.$location.city.id||0}).end().then(function(t){e.toast("举报成功")}).catch(e.handleError.bind(e))});else{var n={};if(n="myComment"===s?e.data.myComment:e.data[s][i]){var r=parseInt(n.score);if(isNaN(r)||0===r)return void e.toast("此评论暂无评分，暂不支持分享呦");store.set("_share_comment",n),setTimeout(function(){e.setShare(a,s),wx.navigateTo({url:"/pages/reviewsub/review-share?movieId="+e.data.movieId+"&source=list"})},100)}}}})},gotoComment:function(t){var e=t.currentTarget.dataset,o=e.cid,a=e.relay;return this.tipShowCount>0?void this.setShare(o,"",!0):this.data.topTipShow?void this.setTopTipShow():void wx.navigateTo({url:"/pages/commentsub/comment-detail?cid="+o+"&mname="+this.options.movieName+(a?"&relay=1":"")})},myReplyTap:function(t){var e=this;return this.tipShowCount>0?void this.setShare("","",!0):this.data.topTipShow?void this.setTopTipShow():void wx.getNetworkType({success:function(t){"none"!=t.networkType?void 0!=e.data.diy?wx.navigateTo({url:e.data.diy.reviewPage+"?movieId="+e.data.movieId+"&required=comment"}):app.checkLogin({warn:"写短评前请先登录",success:function(){wx.navigateTo({url:"/pages/reviewsub/review?movieId="+e.data.movieId+"&required=comment"})}}):e.toast("网络异常，请检查网络")}})},showTip:function(){if(this.tipShowCount>0)return void this.setShare("","",!0);this.setTopTipShow()},setTopTipShow:function(){var t=this.data.movieId;this.stats(this.data.topTipShow?"b_3m3zd3mr":"b_o6f1qe6y",{movieId:t}),this.setData({fixedClass:this.data.topTipShow?"":"_fixed",topTipShow:!this.data.topTipShow})},closePop:function(){var t=this.data.movieId;this.stats("b_3m3zd3mr",{movieId:t}),this.setData({topTipShow:!1,firstComing:!1,fixedClass:""})},closeTip:function(){this.tipShowCount>0&&this.setShare("","",!0)},showLoading:function(){wx.showLoading({title:"数据加载中",mask:!0})}}); 
 			}); 	require("pages/movie/comment.js");
 		__wxRoute = 'pages/movie/photo';__wxRouteBegin = true; 	define("pages/movie/photo.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var apiConfig=require("../../scripts/api-config"),app=getApp(),api=apiConfig.getApiUrl();app.MoviePage({val_cid:"c_yfd14z7p",data:{types:[],index:0,type:0,photosMap:{}},onLoad:function(t){this.options=t,wx.setNavigationBarTitle({title:t.movieName}),this.setData({movieId:this.options.movieId}),this.loading(!0),this.getTypes(),this.getPhotos()},onPullDownRefresh:function(){this.getTypes(),this.getPhotos()},typeChangeHandler:function(t){var e=t.currentTarget.dataset.index||t.detail.current;e=+e||0,this.setData({index:e,type:this.data.types[e].type}),this.data.photosMap[this.data.type]||this.getPhotos()},getTypes:function(){var t=this;return app.request().get(api+"/mmdb/movie/photos/"+this.options.movieId+"/types.json").query({}).end().then(function(e){t.setData({types:e.body.data.types})}).catch(this.handleError.bind(this,"page"))},getPhotos:function(){var t=this;return app.request().get(api+"/mmdb/movie/photos/"+this.options.movieId+"/list.json").query({type:this.data.type}).end().then(function(e){t.loading(!1),wx.stopPullDownRefresh(),t.data.photosMap[t.data.type]=e.body.data.photos.map(function(t){return t.tlink=app.img(t.tlink,100,100),t.olink=t.olink.replace(/\/w\.h/,""),t}),t.setData({index:t.data.index,photosMap:t.data.photosMap})}).catch(this.handleError.bind(this))},imagePreview:function(t){var e=t.currentTarget.dataset.url;wx.previewImage({current:e,urls:this.data.photosMap[this.data.type].map(function(t){return t.olink})})}}); 
 			}); 	require("pages/movie/photo.js");
 		__wxRoute = 'pages/movie/preview';__wxRouteBegin = true; 	define("pages/movie/preview.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var apiConfig=require("../../scripts/api-config"),app=getApp(),api=apiConfig.getApiUrl(),PREVIEW_TYPE_MAP={1:"预告片",2:"制作特辑",3:"MV",4:"片段/彩蛋"},BUTTON_TYPE_MAP={3:{type:"sell",text:"特惠购票"},4:{type:"presell",text:"预售"}};app.MoviePage({data:{hadAlertNetworkType:void 0},onLoad:function(e){var t=this;this.options=e,e.utm_source&&(app._forceMovieCinemaLocate=!0),this.setData(e),app.request().get(api+"/mmdb/movie/"+this.data.movieId+"/videos.json").query({videoId:this.data.videoId,token:app.$user.token}).end().then(function(e){var i=e.body,o=0;i.vlist=i.vlist.map(function(e,i){return e.img=app.img(e.img,{w:150,h:100}),e.tm=t.secondsToTime(e.tm),e.count=t.numberToHumanReadable(e.count),e.type=PREVIEW_TYPE_MAP[e.type],t.data.videoId&&e.id==t.data.videoId&&(o=i),e});var n=i.movieVO.showSt,a=i.movieVO.ver;i.movieVO.version=t.version(a),BUTTON_TYPE_MAP[n]?(i.movieVO.buttonText=BUTTON_TYPE_MAP[n].text,i.movieVO.buttonType=BUTTON_TYPE_MAP[n].type):i.movieVO.buttonType="wish",t.data.videoId||(o=0),t.setData({movieVO:i.movieVO,previews:i.vlist,current:o,videoId:i.vlist[o].id}),t.setTitle()}).catch(this.handleError.bind(this,"page")),app.systemInfo().then(function(e){t.setData({height:e.windowHeight-225})})},version:function(e){var t=["3D","IMAX 2D","IMAX 3D"];return(e||"").split("/").filter(function(e){return!!~t.indexOf(e)}).sort(function(e,i){return t.indexOf(i)-t.indexOf(e)}).map(function(e){return e.replace(/IMAX (\d)D/,function(e,t){return t+"D IMAX"}).replace(/(\d)D/,function(e,t){return"v"+t+"d"}).toLowerCase()})[0]||""},onHide:function(){this.pauseVideo(),this.noListenNetwork()},numberToHumanReadable:function(e){return e>1e4?(e/1e4).toFixed(1)+"万":e},secondsToTime:function(e){var t=function(e){return e<10?"0"+e:e.toString()};return t(parseInt(e/60))+":"+t(parseInt(e%60))},buyOrWish:function(){var e=this,t=this.data,i=t.movieVO,o=t.movieId;"wish"==i.buttonType?app.checkLogin(function(){app.request()[i.wishst?"delete":"post"]("/hostproxy/mmdb/user/movie/"+e.data.movieId+"/wish.json").header({token:app.$user.token,"x-host":"http://maoyanapi.vip.sankuai.com"}).query({channelId:app.channelId,uuid:app.$uuid,ci:app.$location.city?app.$location.city.id:0}).end().then(function(t){if(t.body.data&&t.body.data.id&&t.body.data.id==e.data.movieId)i.wishst=(i.wishst+1)%2,e.setData({movieVO:i});else if(t.body.error)throw e.toastError(t.body.error.message)}).catch(e.handleError.bind(e))}):(this.options.share?wx.navigateTo:wx.redirectTo)({url:"/pages/cinema/movie?movieId="+o})},changeVideo:function(e){this.changeCurrent(e.currentTarget.dataset.index)},changeCurrent:function(e){this.setData({current:e,videoId:this.data.previews[e].id}),this.setTitle()},setTitle:function(){wx.setNavigationBarTitle({title:this.data.movieVO.name+" "+this.data.previews[this.data.current].tl})},playEvent:function(){console.log("playevent"),this.listenNetwork()},endedEvent:function(){console.log("endedEvent");var e=1+parseInt(this.data.current);e<this.data.previews.length&&this.changeCurrent(e)},pauseEvent:function(){console.log("pauseEvent")},errorEvent:function(){console.log("errorEvent")},playVideo:function(){wx.createVideoContext("previewVideo").play()},pauseVideo:function(){wx.createVideoContext("previewVideo").pause()},listenNetwork:function(){var e=this;this.data.hadAlertNetworkType||this.getNetworkType(),this.data.interval||(this.data.interval=setInterval(function(){e.data.hadAlertNetworkType?e.noListenNetwork():e.getNetworkType()},3e3))},noListenNetwork:function(){clearInterval(this.data.interval)},getNetworkType:function(){var e=this;wx.getNetworkType({success:function(t){var i=t.networkType;e.data&&e.data.networkType&&"wifi"!=e.data.networkType.toLowerCase()||"wifi"==i.toLowerCase()||(e.pauseVideo(),e.noListenNetwork(),wx.showModal({title:"网络提示",content:"当前正在使用移动网络，继续播放将消耗流量。",confirmText:"继续播放",cancelText:"取消播放",confirmColor:"my"==app.$theme?"#333":"#02BB00",success:function(t){t.confirm&&e.playVideo()},complete:function(){e.setData({hadAlertNetworkType:!0})}})),e.setData({networkType:i})}})},onShareAppMessage:function(){var e=this.data,t=e.movieId,i=e.videoId,o=this.data.movieVO,n=o.name,a=o.wish,r=o.pubdesc,s=this.data.previews[this.data.current],d=a?a+"人想看":"",p=(s.tl,s.img),u="/pages/movie/preview?movieId="+t+"&videoId="+i+"&share=1&"+app.shareParams();return{title:["《"+n+"》预告片",d,r].filter(function(e){return!!e}).join("，"),path:u,imageUrl:app.img(p,{w:430,h:336,l:void 0})}}}); 
 			}); 	require("pages/movie/preview.js");
 		__wxRoute = 'pages/cinema/movie';__wxRouteBegin = true; 	define("pages/cinema/movie.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},app=getApp(),Date2=require("../../scripts/date2.js"),searchBar=require("../search/_search-bar"),selectBar=require("./_select-bar"),LocateBanner=require("../../tpl/locate-banner"),AccessLimit=require("../../tpl/access-limit"),apiConfig=require("../../scripts/api-config"),api=apiConfig.getApiUrl(),xHost=apiConfig.getApiUrl("cinema"),_app$require=app.require("scripts/movie"),commentv2=_app$require.commentv2,delComment=_app$require.delComment,egg=_app$require.egg,defaultPaging={offset:0,limit:10,hasMore:!0},SCORE_TEXT=["超烂啊","超烂啊","超烂啊","比较差","比较差","一般般","一般般","比较好","比较好","棒极了","完美"];app.MoviePage(_extends({},searchBar,selectBar,{needCity:!0,data:_extends({},searchBar.data,selectBar.data,{movie:{},dates:void 0,cinemas:null,day:null,pagingMap:{},paging:defaultPaging,selectBarFixed:!1,ci:255}),onLoad:function(e){var t=this;this.options=e,this.movieId=e.movieId,this.isLogin=!(!app.$user||!app.$user.token),app._forceMovieCinemaLocate?(app.checkLocationAuth().catch(function(){}).then(function(){t.initCity(e)}),delete app._forceMovieCinemaLocate):this.initCity(e),this.on("toggleSelectBar",function(e){e&&!t.data.selectBarFixed&&t.scrollToTop()}),this.on("refreshCinemas",function(e){t.getCinemas()}),this.locateBanner=new LocateBanner({page:this,show:!1}),this.locateBanner.render(),this.accessLimit=new AccessLimit({page:this}),this.accessLimit.onConfirm=this.onPullDownRefresh.bind(this),wx.hideShareMenu&&wx.hideShareMenu(),this.onPullDownRefresh=this.onPullDownRefresh.bind(this),app.models.location.on("locationChange",this.onPullDownRefresh),this.setData({ci:app.$location.city?app.$location.city.id:254})},onUnload:function(){this.offCityEvent(),app.models.location.off("locationChange",this.onPullDownRefresh)},onShow:function(){var e=app.$location.city,t=this.data.city||{id:this.options.cityId,nm:this.options.cityName};e||!this.isLogin&&app.$user&&app.$user.token?(wx.showShareMenu&&wx.showShareMenu(),!this.data.cinemas||t.id!==e.id||!this.isLogin&&app.$user&&app.$user.token?(this.isLogin=!(!app.$user||!app.$user.token),this.onPullDownRefresh()):(this.getMovie(),this.fetchComment()),this.setCity(e)):wx.hideShareMenu&&wx.hideShareMenu()},getMyCommentListAndDeleteComment:function(){var e=this;app.request().header({token:app.$user.token}).get("/review/v1/comments/mine.json").query({limit:1e3}).host("api").end().then(function(t){var i=t.body,a=i.data,n=e.data.movie.id;if(a&&a.length)for(var o=0,s=a.length;o<s;o++)a[o].movieId==n&&delComment(a[o].id)}).then(function(){e.data.movie.mysc=0,e.setData({icm:!1,movie:e.data.movie})}).catch(function(){e.toast("网络错误")})},onTapLike:function(e){var t=this;app.checkLogin({warn:"添加想看前请先登录",ignoreLogin:!0,success:function(){if(t.data.icm)return void t.dialog({title:"是否取消看过？",content:"若取消看过，你的评分和讨论内容都将被删除",confirmText:"确认删除",callback:function(e,i){i.confirm&&t.getMyCommentListAndDeleteComment()}});var e={MAOYAN:1,MEITUAN:2},i={userId:app.$user.id,token:app.$user.token,type:1^t.data.movie.wishst,business:e.MEITUAN,clientType:"touch",uuid:app.$uuid},a=i.type?"post":"delete";"post"===a&&wx.vibrateShort({}),app.request(a,"/hostproxy/mmdb/user/movie/"+t.data.movie.id+"/wish.json").query({clientType:"wechat_small_program",channelId:app.channelId,ci:app.$location.city?app.$location.city.id:0,uuid:app.$uuid}).send("post"==a?i:{}).header({token:app.$user.token,"x-host":xHost}).end().then(function(e){return e.body.data.id}).then(function(e){var a=t.data.movie;e===a.id?(a.wishst=i.type,a.wish=a.wish+(a.wishst?1:-1),t.setData({movie:a}),wx.hideToast(),wx.showToast({title:"已"+(i.type?"标记":"取消")+"想看",icon:"success",duration:1e3})):t.toast((i.type?"标记":"取消")+"想看失败",1e3)})}})},scrollToTop:function(){wx.pageScrollTo&&wx.pageScrollTo({scrollTop:app.rpx2px(444)})},onPageScroll:function(e){var t=e.scrollTop,i=this.data.selectBarFixed;t>=220?!i&&this.setData({selectBarFixed:!0}):i&&this.setData({selectBarFixed:!1})},dayChangeHandler:function(e){var t=e.currentTarget.dataset,i=t.date,a=t.index;this.setData({day:i,paging:this.data.pagingMap[i]||defaultPaging,dateScrollLeft:app.rpx2px(190*a-250)}),this.closeModal(),this.getCinemas(!1),this.getSelectItemsByDate(i)},getMovie:function(){var e=this;app.request().get("/mmdb/movie/v5/"+this.movieId+".json").header({token:app.$user.token}).host("api").query({ci:app.$location.city?app.$location.city.id:1}).end().then(function(t){if(200===t.statusCode&&t.body.data){var i=t.body.data.movie;app.title(i.nm);var a=null;i.mysc&&(a={},a.score=i.mysc,a.scoreText=i.mysc+"分，"+SCORE_TEXT[i.mysc]),i.egg?egg(i.id).then(function(t){i.eggInfo=t,e.setData({movie:e.formatMovie(i),icm:a})}).catch(function(){e.setData({movie:e.formatMovie(i),icm:a})}):e.setData({movie:e.formatMovie(i),icm:a})}}).catch(function(e){})},formatMovie:function(e){return e.img=app.img(e.img,220,300),e["3d"]=/3D/.test(e.ver),e.imax=/IMAX/.test(e.ver),e.sc&&(e.sc=e.sc.toFixed(1),e.snum&&(e.scDesc=e.snum>9999?(e.snum/1e4).toFixed(1)+"万人评":e.snum+"人评")),e},getShowDates:function(e){var t=this,i=app.$location,a=app.$user;app.request().get("/mmcs/show/v1/movie/showdays.json").query({cityId:i.city?i.city.id:1,movieId:this.movieId,channelId:app.channelId}).proxyhost("api").header({token:a.token}).end().then(function(i){if(200===i.statusCode&&i.body.data){var a=i.body.data.dates,n=a.map(function(e){return e.date}),o=t.options.day,s=n.indexOf(o);-1===s&&(o=n[0],s=0),t.setData({dates:t.formatDates(a),day:o,dateScrollLeft:app.rpx2px(190*s)}),e()}}).catch(function(e){var i=AccessLimit.getAttachFromError(e);if(i)return t.accessLimit.render(i),void t.accessLimit.show();t.handleError(e,"page")})},getCinemas:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.data,n=a.day,o=a.pagingMap,s=app.$location,c=app.$user,r=o[n]||defaultPaging;i||(r=defaultPaging,this.loading(t));var d=_extends({ci:s.city?s.city.id:1,cityId:s.city?s.city.id:1,movieId:this.movieId,channelId:app.channelId,showDate:n||void 0,offset:r.offset,limit:r.limit,userid:c.userId,utm_term:7.5,client:"iphone"},this.data.selectedItems);s&&s.latitude&&(d.lng=s.longitude,d.lat=s.latitude),app.request().get("/mmcs/cinema/v1/select/movie/cinemas.json").query(d).proxyhost("api").header({token:c.token}).end().then(function(t){if(e.loading(!1),200===t.statusCode&&t.body.data){var a=t.body.data,o=e.data.cinemas||[],s=e.formatCinemas(a.cinemas);o=i?o.concat(s):s,a.paging.offset+=a.paging.limit,e.data.pagingMap[n]=a.paging,e.setData({cinemas:o,paging:a.paging})}else 200===t.statusCode&&108===t.body.code&&e.setData({cinemas:[]})}).catch(function(t){if(!i){var a=AccessLimit.getAttachFromError(t);if(a)return e.accessLimit.render(a),void e.accessLimit.show()}e.handleError(t,i?void 0:"page")})},tapShow:function(e){var t=e.currentTarget.dataset,i=t.seqno;if(!t.status)return this.toast("因系统原因，该场次暂停售票，请稍后再试",1500);app.goto("seat?seqNo="+i)},formatDates:function(e){return e.map(function(e,t){return{isPredate:e.isPredate,day:e.date,text:new Date2(e.date).toString("EM月d日")}})},formatCinemas:function(e){var t=app.$location;return e.map(function(e){return e.showPrice=!!+e.sellPrice,t.locationCity&&t.city&&t.city.id===t.locationCity.id?parseFloat(e.distance)<1&&(e.distance=1e3*parseFloat(e.distance)+"m"):delete e.distance,e.labels&&e.labels.forEach(function(t){"超级会员"===t.name&&(e.tag.svip="超级会员")}),e})},fetchComment:function(){var e=this,t=this.data.movie;t&&t.id&&commentv2(t.id).then(function(t){var i=t.icm;i.score*=2,i.scoreText=i.score+"分，"+SCORE_TEXT[i.score],e.setData({icm:i})})},getSelectItemsByDate:function(e){this.getSelectItems(this.movieId,e)},onPullDownRefresh:function(){var e=this;this.getMovie(),this.getShowDates(function(){e.getCinemas(!1),e.getSelectItemsByDate(e.data.dates[0].day)})},onReachBottom:function(){this.getCinemas(!1,!0)},onShareAppMessage:function(){var e=this.data.day,t=app.$location.city,i={cityId:t.id,cityName:t.nm},a="/pages/cinema/movie?"+app.shareParams(_extends({},this.options,{day:e},i));a=encodeURIComponent(a);var n="pages/movie/index?redirect="+a;return{title:"《"+this.data.movie.nm+"》上映啦，赶紧抢票吧！",desc:"猫眼小程序特惠选座，一起看电影吧",path:n}}})); 
 			}); 	require("pages/cinema/movie.js");
 		__wxRoute = 'pages/cinema/index';__wxRouteBegin = true; 	define("pages/cinema/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},app=getApp(),_require=require("./_cinema-item"),formatCinemas=_require.formatCinemas,searchBar=require("../search/_search-bar"),AdBanner=require("../../tpl/ad-banner"),selectBar=require("./_select-bar"),LocateBanner=require("../../tpl/locate-banner"),AccessLimit=require("../../tpl/access-limit");app.MoviePage(_extends({},searchBar,selectBar,{needCity:!0,data:_extends({},searchBar.data,selectBar.data,{selectBarFixed:!1,searchBarFixed:!1,cinemas:{},paging:{hasMore:!0,limit:12,offset:0}}),getCinemas:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t||(this.data.paging.offset=0);var a=app.$location,n=app.$user,i=_extends({cityId:a.city?a.city.id:1,limit:this.data.paging.limit,offset:this.data.paging.offset,channelId:app.channelId,userid:n.userId},this.data.selectedItems);return a&&a.longitude&&(i.lng=a.longitude,i.lat=a.latitude),app.request().get("/hostproxy/mmcs/cinema/v1/select/cinemas.json").config("key","cinemaslist").query(i).header({token:n.token,"x-host":"http://maoyanapi.vip.sankuai.com"}).end().then(function(e){return e.body.data}).then(function(a){if(wx.stopPullDownRefresh(),a&&a.cinemas){var n=formatCinemas(a.cinemas);e.setData({cinemas:t?e.data.cinemas.concat(n):n,paging:a.paging}),e.data.paging.offset+=e.data.paging.limit}else e.setData({cinemas:[],paging:{hasMore:!0,limit:12,offset:0}})}).catch(function(a){var n=AccessLimit.getAttachFromError(a);if(n)return e.accessLimit.render(n),void e.accessLimit.show();e.handleError(a,t?"":"page")})},onReachBottom:function(){this.data.cinemas.length&&this.getCinemas(!0),this.getSelectItems()},indexRedirect:function(e){this.stats("b_j9ygxrr8");var t=this.options,a=t.redirect,n=t.widgetData,i=t.wxParamData,s=decodeURIComponent(a);if(n&&i){var r="widgetData="+n+"&wxParamData="+i,o=/\S\?\S*=/,c=/\?/;s=a+(o.test(s)?"&":c.test(s)?"":"?")+r}return wx.navigateTo({url:s})},onLoad:function(e){var t=this;if(this.isLogin=!(!app.$user||!app.$user.token),wx.hideShareMenu&&wx.hideShareMenu(),this.initCity(e),this.adBanner=new AdBanner({page:this,positionIds:"1035"}),this.on("refreshCinemas",function(){t.getCinemas()}),this.locateBanner=new LocateBanner({page:this}),this.locateBanner.render(),this.accessLimit=new AccessLimit({page:this}),this.accessLimit.onConfirm=this.onPullDownRefresh.bind(this),this.accessLimit.hideOnBack=!0,this.options.redirect)return this.indexRedirect(e)},bindEvent:function(){this.bindCityEvent(),app.models.location.on("locationChange",this.onPullDownRefresh)},offEvent:function(){this.offCityEvent(),app.models.location.off("locationChange",this.onPullDownRefresh)},onHide:function(){this.closeModal(),this.offEvent()},onShow:function(){var e=this.data.city||{},t=app.$location.city;t?wx.showShareMenu&&wx.showShareMenu():wx.hideShareMenu&&wx.hideShareMenu(),(!this.data.cinemas.length||e.id!==t.id||!this.isLogin&&app.$user&&app.$user.token)&&(this.isLogin=!(!app.$user||!app.$user.token),this.data.cinemas.length||this.loading(!0),this.onPullDownRefresh()),e.id!==t.id&&this.resetSelectedItems();var a={cityId:app.getPropSafely("$location.city.id",app,1),userId:(app.getUser()||{}).userId||""};this.adBanner.render(a),this.setCity(t),this.offEvent(),this.bindEvent()},onTapAdBanner:function(e){this.adBanner.onTapAdBanner(e)},onBannerChagne:function(e){this.adBanner.onBannerChagne(e.detail.current)},onPageScroll:function(e){var t=e.scrollTop,a=this.data,n=a.searchBarFixed,i=a.selectBarFixed,s=a.AdBanner,r=s&&s.banner&&s.banner.length?app.rpx2px(175):0;this.adBanner.onPageScroll(t),t>0?!n&&this.setData({searchBarFixed:!0}):n&&this.setData({searchBarFixed:!1}),t>r?!i&&this.setData({selectBarFixed:!0}):i&&this.setData({selectBarFixed:!1})},onPullDownRefresh:function(e){var t=this;this.data.paging={hasMore:!0,limit:12,offset:0},app.checkLocationAuth({silence:!0}).then(function(){return!t.data.cinemas.length&&app.models.location.fetch()}).catch(function(){wx.stopPullDownRefresh()}).then(function(e){return app.$location.city&&Promise.all([t.getCinemas(),t.getSelectItems().catch(function(){}),t.adBanner.refresh()])}).catch(function(a){if(!e&&"networkError"===a.errType)return t.handleError(a,"page");t.data.cinemas&&0!==t.data.cinemas.length?t.handleError(a):t.handleError(a,"page")}).then(function(){t.loading(!1)})},onShareAppMessage:function(){var e=app.$location.city,t={cityId:e.id,cityName:e.nm};return{title:"快来看看附近的电影院",path:"pages/cinema/index?"+app.shareParams(_extends({},this.options,t))}}})); 
 			}); 	require("pages/cinema/index.js");
 		__wxRoute = 'pages/cinema/cinema';__wxRouteBegin = true; 	define("pages/cinema/cinema.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function migrateWarnMid(t){var e=this,a=t.currentTarget.dataset.migrateWarn;return this.options.sourceOrderId&&a?new Promise(function(t,a){wx.showModal({content:"确定要退出本次改签",showCancel:!0,success:function(i){i.confirm?(delete e.options.sourceOrderId,delete e.options.seatCount,e.setData({sourceOrderId:"",seatCount:""}),t(!0)):a()},fail:function(){a()}})}):Promise.resolve(!0)}var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},app=getApp(),Date2=app.require("scripts/date2"),Finger=app.require("vendors/finger"),modal=app.require("scripts/modal"),AccessLimit=require("../../tpl/access-limit"),_require=require("./_cinema-item"),formatCinemas=_require.formatCinemas,Deal=require("../../tpl/deal.js"),dealListTopingDisplayBid="b_5cyzd9xw",dealListTopingClickBid="b_dq1utycd",dealListDisplayBid="b_fn1y31i6",dealClickBid="b_a605z3gu",buyBtnClickBid="b_lpafj9nw",pictureClickBid="b_l5q1qwd7",drawerLookBid="b_r3tbr1ta",drawerClickBid="b_e64owniy",copyWrittingBid="b_qs95cx2t",copyWrittingClickBid="b_yxelsqzg",dealCenterBid="b_pazycdhh";app.MoviePage({val_cid:"pages/cinema/cinema",data:{movie:{},movies:[],cinema:{},vipInfo:void 0,cityCardInfo:[],dates:[],show:{},plist:[],scrollLeft:0,animation:!1,dealList:[],preInfo:[],preDetail:{},showPage:!1,recommendNumMap:{1:"单人",2:"双人",3:"三人"},logined:!0,bid:{dealClickBid:dealClickBid,dealListTopingClickBid:dealListTopingClickBid,buyBtnClickBid:buyBtnClickBid,pictureClickBid:pictureClickBid,drawerClickBid:drawerClickBid,copyWrittingClickBid:copyWrittingClickBid},showingAllDealList:!0,couponListIsLastPage:!1},nextPageNum:1,onLoad:function(t){var e=this;this.setData({needLogin:!0,isLogin:!(!app.$user||!app.$user.token)}),this.options=t;var a=this;this.movieId=+t.movieId,this.cinemaId=+t.cinemaId,this.data.day=t.day,this.accessLimit=new AccessLimit({page:this}),this.deal=new Deal({page:this}),this.accessLimit.onConfirm=this.onShow.bind(this),app.$user&&app.$user.token||this.setData({logined:!1}),app.systemInfo().then(function(i){e.baseSize=app.$systemInfo.windowWidth/375*(375===app.$systemInfo.windowWidth?100:99),e.finger=new Finger({pressMove:function(t){a.setData({scrollLeft:Math.floor(a.data.scrollLeft+t.deltaX),animation:!1}),this.timeStamp&&(this.speed=t.deltaX/(t.timeStamp-this.timeStamp)),this.timeStamp=t.timeStamp},touchEnd:function(t){this.speed=this.speed||0;var e=parseInt((-1*(a.data.scrollLeft+60*this.speed)+a.baseSize/2)/a.baseSize,10);this.speed=0,a.movieChange(e)}}),modal(e,{activityListModal:{height:"auto"},activityDetailModal:{height:"auto"},couponListModal:{height:"auto"}}),t.sourceOrderId&&e.setData({sourceOrderId:t.sourceOrderId,source:t.source,seatCount:t.seatCount}),e.loading(!0)}),this.options.sourceOrderId||this.getDealList()},onShow:function(){this.getCinema(),this.getShows(),this.getCouponList()},onPullDownRefresh:function(){this.onShow()},showMap:function(){wx.openLocation({latitude:this.data.cinema.lat,longitude:this.data.cinema.lng,name:this.data.cinema.nm,address:this.data.cinema.addr})},showActivityCell:function(){if(this.data.preInfo.length>1)this.activityListModal.show();else{var t=this.data.preInfo[0].preInfoUrl;this.getPreInfoDetail(t)}},hideActivityListModal:function(){this.activityListModal.hide()},showCouponListCell:function(){this.couponListModal.show()},hideCouponListModal:function(){this.couponListModal.hide()},hideActivityDetailModal:function(){this.activityDetailModal.hide()},tapMovie:function(t){var e=parseInt(-1*this.data.scrollLeft/this.baseSize+.5,10),a=parseInt((t.detail.x+60)/app.$systemInfo.windowWidth*375/100,10)-2;this.setData({dateScrollLeft:0}),0!==a&&this.movieChange(e+a)},movieChange:function(t){t<0&&(t=0),t>this.data.movies.length-1&&(t=this.data.movies.length-1);var e=this.data.movies[t];this.movieId=e.id;var a=e.shows[0].showDate,i=e.shows[0];this.setData({scrollLeft:-1*this.baseSize*t,animation:!0,movie:e,preInfo:i.preInfo||[],dates:this.formatDates(e.shows),plist:this.formatPlist(i.plist,e.dur,a),day:a})},getCinema:function(){var t=this,e=app.$user;app.request().get("/hostproxy/mmcs/cinema/v1/cinema.json").query({cinemaId:this.cinemaId,channelId:app.channelId}).header("token",e.token).header("x-host","http://maoyanapi.vip.sankuai.com").end().then(function(e){if(t.loading(!1),200===e.statusCode&&e.body.success){var a=e.body.data;if(a.sc=a.s.toFixed(1),a.saleInfo&&t.stats("b_wg7uov9b",{cinemaid:a.cinemaId}),a.saleInfo&&a.saleInfo.content&&a.saleInfo.specialContent){var i=a.saleInfo.content.indexOf(a.saleInfo.specialContent);i>=0&&(a.saleInfo.content=a.saleInfo.content.slice(0,i))}t.setData({cinema:a}),t.data.cinema.sell||t.getRecommendcinema(),wx.setNavigationBarTitle({title:e.body.data.nm})}}).catch(function(e){t.loading(!1)})},getRecommendcinema:function(){var t=this,e=app.$user,a=app.$location;app.request().get("/hostproxy/mmcs/cinema/v1/recommend/cinemas.json").query({cityId:a.city?a.city.id:1,channelId:app.channelId,cinemaId:this.cinemaId}).header({token:e.token,"x-host":"http://maoyanapi.vip.sankuai.com"}).end().then(function(e){200===e.statusCode&&e.body.success&&t.setData({cinemas:formatCinemas(e.body.data.cinemas),showPage:!0})})},getShows:function(){var t=this,e=app.$location,a=app.$user;app.request().get("/hostproxy/mmcs/show/v2/cinema/shows.json").query({cinemaId:this.cinemaId,ci:e.city?e.city.id:1,uuid:app.$uuid,channelId:app.channelId,userid:app.$user.userId}).header({token:a.token,"x-host":"http://maoyanapi.vip.sankuai.com"}).end().then(function(e){if(t.loading(!1),wx.stopPullDownRefresh(),200===e.statusCode&&e.body.success&&e.body.data.sell){var a=e.body.data.movies,i=a[0],n=0,o=new Date2(Date.now()).toString("yyyy-MM-dd"),s=[];a.forEach(function(e,a){if(e.img=app.img(e.img,180,250),e.shows[0].showDate>o&&(e.shows=[{hasShow:!1,plist:[],showDate:o,preferential:0}].concat(e.shows)),e.id===t.movieId&&(i=e,n=a),e.hasScore=0!==parseFloat(e.sc),a<10){var d={service_type:19,cinema_name:t.data.cinema.nm,movie_name:e.nm,is_on_sale:!0};s.push(d)}});var d=void 0,r=void 0,c=void 0,p=void 0;i&&(d=i.shows[0].showDate,r=i.shows[0],i.shows.forEach(function(e,a){e.showDate===t.data.day&&(r=e,d=t.data.day,c=a)}),p=r.preInfo||[]),t.setData({movies:e.body.data.movies,movie:i,vipInfo:e.body.data.vipInfo&&e.body.data.vipInfo.map(function(t){"wallet"===app.appName&&(t.url=encodeURIComponent(t.url));var e=/membercard%2Fdetail%2F(\d+)%3F_v_/.exec(t.url);return e&&(t.id=e[1]),t}),cityCardInfo:e.body.data.cityCardInfo&&e.body.data.cityCardInfo.map(function(t){"wallet"===app.appName&&(t.url=encodeURIComponent(t.url)),t.title&&(t.title=t.title.split(/[{|}]/));var e=/cityCardId%3D(\d+)%26/.exec(t.url);return e&&e.length>1&&(t.cityCardId=e[1]),t}),scrollLeft:-1*t.baseSize*n,animation:!0,dates:i&&t.formatDates(i.shows),preInfo:p,plist:i&&t.formatPlist(r.plist,i.dur,d),show:r,day:d,dateScrollLeft:app.rpx2px(190*c),showPage:!0},function(){t.setData({scopeDataList:s})})}}).catch(function(e){if(t.loading(!1),t.data.movies&&0!==t.data.movies.length)t.handleError(e);else{var a=AccessLimit.getAttachFromError(e);if(a)return t.accessLimit.render(a),void t.accessLimit.show();t.handleError(e,"page")}})},getCouponList:function(){var t=this,e=app.$location;this.data.couponListIsLastPage||app.request().get("/proxy/market/coupon/center/cinema/list.json").header({token:app.$user.token,"x-ta":1,"x-host":"http://maoyanapi.vip.sankuai.com"}).query({channelId:app.channelId,ci:e.city?e.city.id:1,cinemaId:this.cinemaId,platformType:1,enterType:1,pageNum:this.nextPageNum}).end().then(function(e){var a=e.body,i=a.data;if(a.success&&(i.lastPage?t.setData({couponListIsLastPage:!0}):t.nextPageNum+=1,i.list.length>0)){var n=i.list.map(function(t){var e=new Date(t.endTime);return t.endTime=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),t}),o=(t.data.couponList||[]).concat(n);t.setData({couponList:o})}})},drawCoupon:function(t){var e=this,a=app.$location,i=t.currentTarget.dataset,n=i.aid,o=i.acode,s=i.index;app.getFingerprint().then(function(t){app.request().post("/proxy/market/user/center/draw.json").header({"x-host":"http://maoyanapi.vip.sankuai.com",uuid:app.$uuidV2}).send({channelId:app.channelId,token:app.$user.token,ci:a.city?a.city.id:1,enterType:1,activityCode:o,activityId:n,clientType:9,version:app.version,fingerprint:t}).end().then(function(t){var a=t.body,i=a.success,n=a.errMsg,o=a.code,d=e.data.couponList;i?(d[s].status=1,e.toast("领取成功")):7==o?e.toast("你不是新客哦～"):6==o||4==o?(e.toast("券已抢光，下次赶早哦~"),d[s].status=2):1==o||3==o||9==o?e.toast(n):e.toast("领取失败"),e.setData({couponList:d})}).catch(function(t){e.handleError(t)})})},gotoUse:function(){this.hideCouponListModal()},dayChangeHandler:function(t){var e=this,a=t.currentTarget.dataset,i=a.date,n=a.index;this.data.movie.shows.forEach(function(t){t.showDate===i&&e.setData({day:t.showDate,show:t,dateScrollLeft:app.rpx2px(190*n-250),preInfo:t.preInfo||[],plist:e.formatPlist(t.plist,e.data.movie.dur,t.showDate)})})},formatDates:function(t){return t.map(function(t,e){return{day:t.showDate,preferential:t.preferential,text:new Date2(t.showDate).toString("EM月d日")}})},formatPlist:function(t,e,a){return t.map(function(t){var i=t.tm.split(":"),n=+i[1]+ +e,o=+i[0]+parseInt(n/60,10);return n%=60,o%=24,n<10&&(n="0"+n),o<10&&(o="0"+o),t.etm=o+":"+n,t.nextDay=a!==t.dt,t.showId=+t.seqNo.slice(8),t.seqNo=t.seqNo,t})},onTapNavigator:function(t){var e=t.currentTarget.dataset.tip;e?this.toast(e,1e3):this.onTapNavi(t)},touchstart:function(t){this.finger.start(t)},touchmove:function(t){this.finger.move(t)},touchend:function(t){this.finger.end(t)},touchcancel:function(t){this.finger.cancel(t)},getDealList:function(){var t=this,e=app.$user,a=app.$location;app.request().get("/hostproxy/goods/queryDealList.json").query({cinemaId:this.cinemaId,channel:12,channelId:app.channelId,uuid:app.$uuid,ci:a.city?a.city.id:1,userid:e.userId}).header({token:e.token,"x-host":"http://maoyanapi.vip.sankuai.com"}).end().then(function(e){if(200===e.statusCode&&e.body.success&&e.body.data.dealList){var a=t.cinemaId,i=[];e.body.data.divideDealList&&t.changeDealData(e.body.data.divideDealList,e.body.data.totalCount,i);var n=e.body.data.dealList.filter(function(t){return!t.groupDealFlag}).map(function(e,i){return e.imageUrl=app.img(e.imageUrl,190,190),t.stats("b_h9y71d6k",{index:i,cinemaid:a}),e});e.body.data.activity&&e.body.data.activity.jumpUrl&&t.stats(copyWrittingBid,{cinemaid:a}),e.body.data.activity&&e.body.data.activity.cinemaChannelBanner&&e.body.data.activity.cinemaChannelBanner.imageUrl&&t.stats("b_wvrzcnyy",{cinemaid:a}),i.forEach(function(e){"推荐"==e?t.stats(dealListTopingDisplayBid,{cinemaid:a,maipin_category:e}):t.stats(dealListDisplayBid,{cinemaid:a,maipin_category:e})}),i.length||t.stats(dealListDisplayBid,{cinemaid:a}),t.setData(_extends({},e.body.data,{dealList:n}))}})},changeDealData:function(t,e,a){var i=this;t.forEach(function(t){a.push(t.title),t.restTitle=t.title.slice(0,-1),t.dealList=t.dealList.filter(function(t){return!t.groupDealFlag}).map(function(t,e){return t.imageUrl=app.img(t.imageUrl,190,190),t}),t.sliceList=[],e>7&&t.total>t.showCount&&(i.stats(drawerLookBid,{cinemaid:i.data.cinema.cinemaId,maipin_category:t.title}),t.sliceList=t.dealList.slice(0,t.showCount))})},tapCell:function(t){var e=t.currentTarget.dataset,a=e.url,i=e.tip;e.redirect;a?app.goto(a):this.toast(i||"很抱歉，无法进入在线选座")},gotoDealCenter:function(t){var e=t.currentTarget.dataset.valLab;this.stats(dealCenterBid,e),app.goto("/pages/dealsub/deal-center?cinemaId="+this.cinemaId)},showActDetail:function(t){var e=t.currentTarget.dataset.url;this.getPreInfoDetail(e)},getPreInfoDetail:function(t){t=t.replace("http://","https://"),wx.canIUse("web-view")?app.goto(t):this.toast("微信版本过低，请升级后查看")},naviMiddlewares:[migrateWarnMid],doNothing:function(){},onShareAppMessage:function(){var t=this.data,e=t.day,a=t.movie,i=t.cinema,n=a.id,o="/pages/cinema/cinema?"+app.shareParams(_extends({},this.options,{day:e,movieId:n}));o=encodeURIComponent(o);var s="pages/movie/index?redirect="+o;return{title:"想去"+i.nm+"看个电影，一起吗？",path:s}}}); 
 			}); 	require("pages/cinema/cinema.js");
 		__wxRoute = 'pages/cinema/seat';__wxRouteBegin = true; 	define("pages/cinema/seat.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function getCpsPackage(){var e=app.store.get("__cps_package__"),t=app.store.get("__cps_write_time__"),a=Date.now();if(e&&t&&a-t<7776e6)return e}function calcSeatSize(){for(var e=seatData.regions,t=0,a=0,i=0;i<e.length;i++){var s=e[i];t+=s.rowSize,a=a<s.columnSize?s.columnSize:a}return{seatHeight:45*t,seatWidth:45*a}}function calcSeatPos(e){var t=calcSeatSize(),a=t.seatHeight,i=t.seatWidth;return{seatTop:(a+100)*(1-e.scaleTo)*originX/100,seatLeft:(i+100)*(1-e.scaleTo)*originY/100}}function calcSelectedSeatOffset(e){for(var t=e.region,a=e.row,i=e.column,s=0,n=0,r=0;r<seatData.regions.length;r++){var o=seatData.regions[r];if(t===o.regionId){for(var c=0;c<o.rows.length;c++){var l=o.rows[c];if(l.rowNum===a){s+=1;for(var d=0;d<l.seats.length;d++){if(l.seats[d].columnId===i){n+=1;break}n+=1}break}s+=1}break}s+=o.rowSize}return{top:45*s,left:45*n}}function translateToRightPosition(e,t,a){var i,s,n=calcSeatSize(),r=n.seatHeight,o=n.seatWidth,c=getContainerInfo().content,l=c.width,d=c.height,u=(o+100)*a,h=(r+100)*a,g=u-l,f=h-d,m=e<l/2?0:(e+22.5+30-l/2)*a,p=t<d/2?0:(t+16-d/2)*a;return i=m>g?g:m,s=p>f?f:p,{translateX:i,translateY:s}}function handleScale(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=e.data,n=s.seatWidth,r=s.seatHeight,o=s.content;if(0===i.length){i=[o.width/2,o.height/2]}var c=void 0,l=void 0,d=t.scaleTo===t.scaleMin,u=d?t.scaleMax:t.scaleMin;originX=i[0]/(n*u)*100,originY=i[1]/(r*u)*100,originX=originX>99?100:originX,originY=originY>99?100:originY,originX=originX<0?0:originX,originY=originY<0?0:originY,d?(l=0,c=0):(l=(n-o.width+40)*(originX/100),c=(r+205-o.scrollHeight)*(originY/100),c=c<0?0:c,l=l<0?0:l),t.scaleFrom=t.scaleTo,t.seatTop=c,t.seatLeft=l,e.setData({scaleFrom:t.scaleTo,scaleInfo:t,allowScroll:a,originX:originX,originY:originY})}function scaleThumb(e,t){var a=e.data.seatWidth,i=e.data.seatHeight,s=e.data.content.width,n=e.data.content.height,r=(e.data.translateX,e.data.translateY,e.data.thumbInitScale),o=s*r/t,c=n*r/t;o>a*r&&(o=a*r),c>i*r&&(c=i*r);var l=s/a,d=n/i,u=e.data.aliasX,h=e.data.aliasY;u=u?u*l:a/2*r-o/2,h=h?h*d:i/2*r-c/2,drawRedRect(u,h,o,c),e.setData({aliasX:u,aliasY:h})}function drawRedRect(e,t,a,i){var s=wx.createContext();s.setStrokeStyle("#dd403b"),s.setLineWidth(1),s.rect(e,t,a,i),s.stroke(),wx.drawCanvas({canvasId:"red-react",actions:s.getActions()})}function translateThumb(e){var t=e.data.scaleInfo,a=e.data.thumbInitScale,i=(e.data.aliasX+e.data.translateX)*a,s=(e.data.aliasY+e.data.translateY)*a;drawRedRect(i,s,e.data.content.width*a/t.scaleTo,e.data.content.height*a/t.scaleTo),e.setData({aliasX:i,aliasY:s})}function objPick(e,t){return t.reduce(function(t,a){return void 0!==e[a]&&(t[a]=e[a]),t},{})}function seatDataMemery(e){var t=void 0,a=getApp().page(),i=seatData;return function(){return t&&i===seatData?t:(i=seatData,t=e(),a=getApp().page(),t)}}function getAllColumns(){var e;return(e=[]).concat.apply(e,_toConsumableArray(seatData.regions.map(function(e){return e.rows})))}function getAllSeats(){var e;return(e=[]).concat.apply(e,_toConsumableArray(getAllColumns().map(function(e){return e.seats.forEach(function(t){t.rowNum=e.rowNum}),e.seats})))}function getSeatMap(){var e={};return seatData.regions.forEach(function(t){var a=objPick(t,["colSize","rowSize","regionId","regionName"]);t.rows.forEach(function(e){var t=objPick(e,["rowId","rowNum"]);e.seats.forEach(function(e){e.columnId&&(t[e.columnId]=e)}),a[e.rowId]=t}),e[t.regionId]=a}),e}function getSeatNoMap(){return(getAllSeatsMem()||[]).reduce(function(e,t){return t.seatNo&&(e[t.seatNo]=t),e},{})}function getSelectedBg(){return""}function getSeatBg(e){var t=seatData,a=t.section,i=t.sections,s=a[e.sectionId],n=seatData.image.soldImages,r=i.length;if(e.seatStatus===stMap.N){if("N"===e.seatType)return r>1?s.sectionNormalImage:"";if("L"===e.seatType||"R"===e.seatType)return r>1?s.sectionLoverImage:""}else if(-1!==stMap.LK.indexOf(e.seatStatus)){var o=n.length;if(o)return n[lockSeatIndex++%o]}return""}function selectSeatItem(e,t){var a=getAllSeatsMem(),i=a.indexOf(e),s=void 0,n=void 0;t=void 0===t?!e.selected:t,"L"===e.seatType?n=a[i+1]:"R"===e.seatType&&(n=a[i-1]),e.selected=t,s=e.selected?"N"===e.seatType?getSelectedBg():"":getSeatBg(e),e.style=s?"background-image: url("+s+")":"",n&&(n.selected=t,n.style=s?"background-image: url("+s+")":"")}function selectSeat(e){var t=e.rowNum||e.row,a=e.seatNo||e.no,i=seatData.regions.filter(function(t){return t.regionId===e.region||t.regionId===e.regionId});if(0===i.length)return!1;i=i[0].rows;for(var s=0,n=i.length;s<n;s++)if(t===i[s].rowNum){for(var r=i[s].seats,o=0;o<r.length;o++)if(a===r[o].seatNo){selectSeatItem(r[o]);break}break}for(var c=0;c<seatData.regions.length;c++)seatData.regions[c].regionId===i.regionId&&(seatData.regions[c].rows=i);return seatData}function getSelectedData(e){for(var t=[],a=0;a<e.regions.length;a++)for(var i=e.regions[a].rows,s=0,n=i.length;s<n;s++)for(var r=i[s].seats,o=0;o<r.length;o++)r[o].selected&&t.length<=MAX_SELECTED&&(r[o].regionId=e.regions[a].regionId,r[o].regionName=e.regions[a].regionName,t.push(r[o]));return t}function getSeatsPrice(e){var t=void 0,a=void 0,i=e.length;return i<=0?{totalPrice:"",desc:"",seatsPriceDetail:""}:(a=seatData.price[e[0].sectionId],t=a.seatsPrice[i],t&&t.totalPrice&&(t.totalPrice=t.totalPrice.replace(/元|￥/,""),t.seatsPriceDetail=a.seatsPriceDetail[i]||{},t.seatsPriceDetail.detail&&t.seatsPriceDetail.detail.forEach(function(e){e.desc=e.desc.map(function(e){return e.replace(/(-)(\d+)/,"$1¥$2")})})),t||{totalPrice:"",desc:"",seatsPriceDetail:""})}function setHideValue(e,t){var a={max_selected_hidden:!0,otherday_confirm_hidden:!0,loading_hidden:!0,selectseat_error_hidden:!0,selectseat_error_hidden2:!0,submitOrder_hidden:!0,submitOrder_fail_hidden:!0,goback_slectseats_hidden:!0,max_selected_num:MAX_SELECTED,scaleRatio:2,migrateCount:migrateSeatNum};for(var i in a)if(a.hasOwnProperty(i)&&i===e){a[e]=t;break}return a}function checkSeat(e,t){var a={sideFlag:!0,middleFlag:!0};return a=checkSideIsEmpty(e,t,"left",a),a=checkSideIsEmpty(e,t,"right",a)}function checkSideIsEmpty(e,t,a,i){var s="left"==a?"right":"left";i=i||{sideFlag:!0,middleFlag:!0};var n=getNextSeat(e,t,a);if(n&&n.seatStatus===stMap.N&&!n.selected){var r=getNextSeat(n,t,a);if(r&&r.selected)return i.middleFlag&&(i.middleFlag=!1),i;if(!r||-1!==stMap.LK.indexOf(r.seatStatus)||r.seatStatus===stMap.E)for(var o=getNextSeat(e,t,s);o&&-1===stMap.LK.indexOf(o.seatStatus)&&o.seatStatus!==stMap.E;){if(!o.selected)return i.sideFlag&&(i.sideFlag=!1),i;o=getNextSeat(o,t,s)}}return i}function getNextSeat(e,t,a){for(var i=null,s=[],n=0,r=t.length;n<r;n++)if(t[n].rowId===e.rowId){s=t[n].seats;break}for(var o=0;o<s.length;o++)if("left"===a){if(s[o].seatNo===e.seatNo&&s[o-1]&&s[o-1].sectionId===e.sectionId){i=s[o-1];break}}else if(s[o].seatNo===e.seatNo&&s[o+1]&&s[o+1].sectionId===e.sectionId){i=s[o+1];break}return i}function getSelectedSeats(e){var t={};t.count=e.length,t.list=[];for(var a=0;a<e.length;a++){var i={},s=getSeatNoMapMem(),n=s[e[a].seatNo];i=_extends({},n),t.list.push(i)}return t}function getContainerInfo(e){var t={},a=0,i=9;recommendData&&recommendData.length>0&&(i=16),seatData.notice&&seatData.notice.length&&(a=5.6);var s=100-i-16-a,n=i;return e&&e.length>0&&(e.length>4?(s=56-a,n=28):(s=62-a,n=22)),t.content={displayHeight:s,height:s*windowHeight/100,width:windowWidth,scrollHeight:75*windowHeight/100},t.footer={displayHeight:n,height:n*windowHeight/100,width:windowWidth},t}function getBuyBlock(e){var t=getContainerInfo(e);return _extends({},t,{isShowRecommend:!(e.length>0)})}function updateBuyBlock(e,t){var a=getBuyBlock(t);e.setData(a)}function getScaleInfo(){var e=getContainerInfo(),t=e.content.width,a=e.content.height,i=calcSeatSize(),s=i.seatWidth,n=i.seatHeight,r=(t-40)/s,o=a/n,c=Math.min(o,r),l=0,d=0;c=c>1?1:c,c=c<.3?.3:c,s<t&&n<a?(l=c,d=1):(l=c,d=c);var u=calcSeatPos({scaleTo:d});return{scaleFrom:l,scaleTo:d,scaleMin:c,scaleMax:1,seatTop:u.seatTop,seatLeft:u.seatLeft}}function expoOut(e){return 1-Math.pow(1,-2*e)}function getTranslateObj(e){var t=e.containerInfo||getContainerInfo(),a=t.content,i=calcSeatSize(),s=i.seatWidth;i.seatHeight;return s*=e.scaleTo,{translateX:s>a.width?(s+50-a.width)/2:0,translateY:0}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_slicedToArray=function(){function e(e,t){var a=[],i=!0,s=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,n=e}finally{try{!i&&o.return&&o.return()}finally{if(s)throw n}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},app=getApp(),Finger=require("../../vendors/finger.js"),risk=require("../../scripts/risk.js"),Date2=app.require("scripts/date2.js"),MobileConfirm=require("../../tpl/mobile-confirm"),user=require("../../scripts/user"),AccessLimit=require("../../tpl/access-limit"),Rain=require("../../tpl/rain"),seatData={},recommendData=[],MAX_SELECTED=4,Timer=null,ToastTimer=null,ThumbTimer=null,windowWidth=0,windowHeight=0,ratio=0,migrateSeatNum=0,PageToastStatus=setHideValue("loading_hidden",!0),seatImgMap={"可选":app.imageSrcPrefix+"/images/seat-normal.png","不可选":app.imageSrcPrefix+"/images/seat-disabled.png","已选":app.imageSrcPrefix+"/images/seat-selected.png","情侣座":app.imageSrcPrefix+"/images/seat-lover.png"},stMap={E:0,N:1,LK:[2,3,4]},lockSeatIndex=0,scaleTimeout,isPinch=!1,isSetOrigin=!1,scrollTimeout,originX=0,originY=0,scrollInfo={},lastAnimation=0,timespan=40,preScale,scaleDir,getAllColumnsMem=seatDataMemery(getAllColumns),getAllSeatsMem=seatDataMemery(getAllSeats),getSeatMapMem=seatDataMemery(getSeatMap),getSeatNoMapMem=seatDataMemery(getSeatNoMap);app.MoviePage({data:{seatData:{},selectedData:[],pageToastData:PageToastStatus,scaleInfo:{scaleTo:1},checkedseats:JSON.stringify({count:0,list:[],sectionId:""}),rowNumberPosition:"absolute",scrollLeft:0,translateX:0,translateY:0,content:{displayHeight:75},footer:{displayHeight:9},seatImgMap:seatImgMap,x:0,y:0,showSide:!0,scrollTop:0,allowScroll:!0,originX:originX,originY:originY,needDuration:!1,hasShownAuth:!1},findSelectedSeats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e.length){var a=getSeatMapMem(),i=a[t],s=seatData.regions.filter(function(e){return e.regionId===t});s=s[0].rows;var n=e.split("|"),r=seatData.lastSelectedSeat.selectedSeatType,o=r&&r.split("|");n.forEach(function(e,t){var a=e.split(":"),s=_slicedToArray(a,2),n=s[0],r=s[1],c=i[n][r];c.seatType=o[t]||"N",c.seatStatus=1,selectSeatItem(c,!0)});var c=getSelectedData(seatData),l=getSeatsPrice(c),d=l.totalPrice,u=l.desc,h=l.seatsPriceDetail;c.length;updateBuyBlock(this,c);var g=getSelectedSeats(c);this.setData({totalPrice:d,desc:u,seatsPriceDetail:h,regions:seatData.regions,selectedData:c,checkedSeats:JSON.stringify(g)})}},handleSelect:function(e){if(!isPinch){var t=e.currentTarget,a=this,i={},s=selectSeat(t.dataset),n=getSelectedData(s),r=getSeatsPrice(n),o=r.totalPrice,c=r.desc,l=r.seatsPriceDetail,d=a.data.scaleInfo.scaleTo,u=getScaleInfo(),h=(u.scaleTo===u.scaleMax||u.scaleTo===d)&&u.scaleMin!==u.scaleMax;u.scaleTo=u.scaleMax;var g=getContainerInfo().content,f=(g.width,g.height,u.scaleTo,calcSeatPos(u));u.seatLeft=f.seatLeft,u.seatTop=f.seatTop;if(n.length>MAX_SELECTED)return s=selectSeat(t.dataset),n=getSelectedData(s),this.setData({pageToastData:setHideValue("max_selected_hidden",!1)}),ToastTimer&&clearTimeout(ToastTimer),ToastTimer=setTimeout(function(){a.setData({pageToastData:setHideValue("max_selected_hidden",!0)})},1e3),!1;if(n.length&&0!==n.filter(function(e){return e.sectionId!==t.dataset.section}).length)return s=selectSeat(t.dataset),n=getSelectedData(s),this.toast("请选择同一颜色区域的座位"),!1;var m=getBuyBlock(n);if(i=getSelectedSeats(n),this.setData(_extends({},m,{totalPrice:o,desc:c,seatsPriceDetail:l,regions:s.regions,selectedData:n,checkedSeats:JSON.stringify(i)})),h){var p=calcSelectedSeatOffset(t.dataset),S=p.top;handleScale(this,u,!0,[p.left*u.scaleMin,S*u.scaleMin])}else this.setData({scaleInfo:u});this.rain.queueAnimation(n.length)}},handleRecommend:function(e){for(var t,a=e.currentTarget,i=JSON.parse(a.dataset.seats),s=a.dataset.remind,n=0;n<i.length;n++){var r=i[n];r.regionId=r.sectionId,t=selectSeat(r)}var o=getSelectedData(t),c=getSelectedSeats(o),l=calcSeatSize(),d=(l.seatHeight,l.seatWidth,getContainerInfo());d.content;updateBuyBlock(this,o),this.rain.IMG_MAP.hasOwnProperty(o.length)||this.toast(s,1500);var u=this.data.scaleInfo;u.scaleTo=u.scaleMin,scaleDir=0,preScale=0;var h={translateX:0,translateY:0},g=calcSeatPos(u);u.seatTop=g.seatTop,u.seatLeft=g.seatLeft;var f=getSeatsPrice(o),m=f.totalPrice,p=f.desc,S=f.seatsPriceDetail;this.setData(_extends({isShowRecommend:!1,regions:t.regions,selectedData:o,totalPrice:m,desc:p,seatsPriceDetail:S,checkedSeats:JSON.stringify(c),scaleInfo:u,scaleFrom:u.scaleTo},h)),isSetOrigin=!0,this.rain.queueAnimation(o.length,!0)},handleCancelSeat:function(e){var t=e.currentTarget,a=selectSeat(t.dataset,!1),i=getSelectedData(a),s=getSelectedSeats(i);updateBuyBlock(this,i);var n=getSeatsPrice(i),r=n.totalPrice,o=n.desc,c=n.seatsPriceDetail;this.setData({regions:a.regions,selectedData:i,totalPrice:r,desc:o,seatsPriceDetail:c,checkedSeats:JSON.stringify(s)}),this.rain.queueAnimation(i.length)},onGetPhoneNumber:function(e){var t=this,a=this,i=function(i){function s(t){a.setData({hasShownAuth:!0}),app.setMobile(t),app.request().post("/user/mobile").header({token:app.$user&&app.$user.token}).send({mobile:t,type:1}).end().then(function(t){a.submitOrder(e)}).catch(function(t){console.error(t),a.submitOrder(e)})}i?s(i):(t.mobileConfirm.show(),t.mobileConfirm.on("success",function(e){s(e)}))};user.getPhoneNumber(e,i.bind(this))},submitOrder:function(e){var t=this,a=getSelectedData(seatData),i=e.target,s=i.dataset.seats,n=i.dataset.seqno,r=i.dataset.cinemaid,o=void 0;try{o=getCpsPackage()}catch(e){this.reportError(e)}var c=this;if(s){var l,d,u,h=!0;if(a.forEach(function(e){var a=e.regionId,i=e.sectionId;u=seatData.section[i].sectionName,l&&d?d===i&&l===a||(t.toast("请不要选择不同区的座位！"),h=!1):(l=a,d=i)}),h){for(var g=JSON.parse(s),f=g.list,m=f.length,p=seatData.regions.filter(function(e){return e.regionId===l})[0].rows,S=0;S<m;S++){var D=f[S];if("L"!==D.seatType&&"R"!==D.seatType){var v=checkSeat(D,p);if(!v.middleFlag)return console.log("中间留有空位"),this.setData({pageToastData:setHideValue("selectseat_error_hidden",!1)}),setTimeout(function(){c.setData({pageToastData:setHideValue("selectseat_error_hidden",!0)})},1e3),!1;if(!v.sideFlag)return console.log("旁边留有空位"),this.setData({pageToastData:setHideValue("selectseat_error_hidden2",!1)}),setTimeout(function(){c.setData({pageToastData:setHideValue("selectseat_error_hidden2",!0)})},1e3),!1}}if(migrateSeatNum>0&&m<migrateSeatNum)return this.toast("本次改签的座位数不得小于"+migrateSeatNum),!1;var w=app.openPlatform.get(),T={url:"/proxy/createorder/v9/create.json",method:"POST",success:function(e){var t=e.body.data;if(c.setData({pageToastData:setHideValue("submitOrder_hidden",!0)}),t){wx.setStorageSync("orderInfo",t),app._orderInfo=t,c.data.orderId=t.id;var a="/pages/cinema/seat?"+app.queryStringify(c.options),i={url:"../order/buy?orderId="+t.id+"&cinemaId="+r+"&backUrl="+encodeURIComponent(a)};c.data.migrate&&"orderlist"==c.data.migrate.source&&(i.url+="&source="+c.data.migrate.source),app.goto(i.url);try{c.stats("order","b_wgbkrr1f",{order_id:t.id,movie_id:t.order.movieId,movie_name:t.order.movieName,cinema_id:t.order.cinemaId})}catch(e){c.reportError(e)}}},failure:function(){c.setData({pageToastData:setHideValue("submitOrder_fail_hidden",!1),orderErrorMsg:"网络异常, 请稍后再试"})}};g.list=g.list.map(function(e){var t=_extends({},e,{type:e.seatType});return delete t.seatType,t});var I={channelId:app.channelId,clientType:"wechat_small_program",migrate:JSON.stringify(this.data.migrate),orderSource:"movie",seats:JSON.stringify(g),sectionName:u,seqNo:n,originalPrice:this.data.totalPrice};if(this.mobileType){var y=["input","wechat"];I.userPhone=app.$user.mobile,I.wechatMobileAuth=y.indexOf(this.mobileType)}else I.userPhone=app.$user.mobile;if(w){var b=w.extChannelId,_=w.extUserId,P=w.extSubChannel;I.extChannelId=b,I.extUserId=_,I.extSubChannel=P,I.cityId=app.getPropSafely("city.id",app.$location,0)}o&&(I.cpsPackage=o),d&&(I.sectionId=d);var x=new Promise(function(t){risk.params(e,t)});this.setData({pageToastData:setHideValue("submitOrder_hidden",!1)}),Timer&&clearTimeout(Timer),Timer=setTimeout(function(){x.then(function(e){I.deviceInfoByQQ=app.deviceInfoByQQ(e),app.$uuid&&(T.url+=(~T.url.indexOf("?")?"&":"?")+"uuid="+encodeURIComponent(app.$uuid)),app.request().post(T.url).header({"x-ta":"1","x-host":"http://maoyanapi.vip.sankuai.com",token:app.$user.token}).send(I).end().then(function(e){return T.success(e)}).catch(function(e){c.setData({pageToastData:setHideValue("submitOrder_hidden",!0)});var a=e&&e.res&&e.res.data.error;if(a){if(401===a.code)return void app.logout();var i=19e6===a.code&&a.attach;if(i)return t.accessLimit.onConfirm=function(){return t.refreshSeat()},t.accessLimit.render(i),void t.accessLimit.show();var s=a?a.message:"抱歉，您的座位已被其他用户选中，请重新选择";return void wx.showModal({title:"预订失败",content:s,showCancel:!1,confirmText:"知道了",success:function(){105206===a.code&&wx.showLoading({title:"重新获取座位"}),c.refreshSeat().catch(function(){}).then(function(){wx.hideLoading()})}})}t.handleError(e)})})},500)}}},formSubmit:function(e){app.collectFormId(e.detail.formId)},showNotice:function(e){seatData.showNotice=!seatData.showNotice;var t=getContainerInfo(),a=t.content;this.setData({seatData:seatData,content:a})},showPriceDetail:function(e){this.setData({showPriceDetail:!this.data.showPriceDetail})},maxSelectedChange:function(e){this.setData({pageToastData:setHideValue("max_selected_hidden",!0)})},loadingChange:function(e){this.setData({pageToastData:setHideValue("loading_hidden",!0)})},confirmDesc:function(){this.setData({pageToastData:setHideValue("otherday_confirm_hidden",!0)})},confirmSelect:function(){this.setData({pageToastData:setHideValue("otherday_confirm_hidden",!0)})},fetchSeatInfo:function(){var e=this;return this.loading(),app.request().post("/hostproxy/seat/v8/show/seats.json").header({token:app.$user.token,"x-host":"http://maoyanapi.vip.sankuai.com"}).query({seqNo:this.options.seqNo,channelId:app.channelId}).end().then(function(t){return e.loading(!1),t}).catch(function(t){throw e.loading(!1),t})},onLoad:function(e){var t=this;this.options=e;var a,i=this;scrollInfo={scrollTop:0,scrollLeft:0},this.rain=new Rain({page:this}),this.mobileConfirm=new MobileConfirm({page:this}),this.accessLimit=new AccessLimit({page:this}),this.accessLimit.onConfirm=this.render.bind(this),risk.params(),app.updateCode(),this.finger=new Finger({pinch:function(e){isPinch=!0,preScale=preScale||e.scale;var t=scaleDir;if(e.scale>preScale)scaleDir=1;else{if(!(e.scale<preScale))return;scaleDir=0}var s=getScaleInfo();if(s.scaleTo=scaleDir?s.scaleMax:s.scaleMin,s.scaleTo!==i.data.scaleFrom&&s.scaleMax!==s.scaleMin&&t!==scaleDir){var n=calcSeatPos(s);s.seatTop=n.seatTop,s.seatLeft=n.seatLeft;var r=e.touches[0].clientX,o=e.touches[0].clientY,c=e.touches[1].clientX,l=e.touches[1].clientY,d=scrollInfo,u=d.scrollLeft,h=d.scrollTop;u=u||0,h=h||0,a=[(r+c)/2-40+u,(o+l)/2-75+h],handleScale(i,s,!1,a)}},pressMove:function(e){},touchStart:function(e){ThumbTimer&&clearTimeout(ThumbTimer)},touchEnd:function(e){preScale=null,scaleDir=null,a=[],setTimeout(function(){isPinch=!1},500)}}),wx.getSystemInfo({success:function(e){windowWidth=e.windowWidth,windowHeight=e.windowHeight,ratio=e.pixelRatio,i.setData({ratio:ratio,scaleFrom:"0.1"})},fail:function(e){console.log(e)},complete:function(e){}}),app.checkLogin({warn:"选座前请先登录",success:function(){t.setData({pageToastData:setHideValue("loading_hidden",!0)}),t.render()},fail:function(){return app.goto(-1)}}),e.sourceOrderId?(migrateSeatNum=e.seatCount,this.setData({migrate:{migrateTarget:!0,sourceOrderId:e.sourceOrderId,source:e.source}})):migrateSeatNum=0},onReady:function(){},onShow:function(){},onHide:function(){clearTimeout(this.backTimer)},onUnload:function(){PageToastStatus={max_selected_hidden:!0,otherday_confirm_hidden:!0,loading_hidden:!0,selectseat_error_hidden:!0,selectseat_error_hidden2:!0,submitOrder_hidden:!0,submitOrder_fail_hidden:!0,goback_slectseats_hidden:!0},this.setData({pageToastData:PageToastStatus}),clearTimeout(this.backTimer)},touchstart:function(e){this.finger.start(e)},touchmove:function(e){this.finger.move(e)},touchend:function(e){this.finger.end(e)},touchcancel:function(e){console.log("touchCancel",e),this.finger.cancel(e)},scroll:function(e){var t=this;scrollInfo=e.detail,isSetOrigin?(isSetOrigin=!1,this.data.showSide||this.setData({showSide:!0})):(this.data.showSide&&this.setData({showSide:!1}),scrollTimeout&&clearTimeout(scrollTimeout),scrollTimeout=setTimeout(function(){t.setData({scrollTop:scrollInfo.scrollTop,showSide:!0})},200))},onShareAppMessage:function(){var e=this.data.seatData,t=e.showDate,a=e.showTime,i=t.split("-"),s="/pages/cinema/seat?"+app.shareParams(this.options);s=encodeURIComponent(s);var n="pages/movie/index?redirect="+s;return{title:"《"+seatData.movieName+"》 "+i[1]+"月"+i[2]+"日 "+a+"场次座位图",path:n}},render:function(){var e=this,t=this;this.fetchSeatInfo().then(function(a){var i=a.body.data;i.user&&i.user.userPhone&&0!==i.user.mobileSourceType&&(app.setMobile(i.user.userPhone),e.setData({hasMobile:!0})),seatData=function(){var e={};return Object.keys(i).forEach(function(t){"price"!==t&&(i[t]&&"object"===_typeof(i[t])?Object.keys(i[t]).forEach(function(a){return e[a]=i[t][a]}):e[t]=i[t])}),e}(),seatData.sections=[];for(var s in seatData.section)seatData.section.hasOwnProperty(s)&&seatData.sections.push(seatData.section[s]);if(seatData.sections.length>1){var n=app.get("hasShownGuide"),r=!1;seatData.sections.sort(function(e,t){return e.sectionPrice!==t.sectionPrice&&(r=!0),e.index-t.index}),!n&&r?(e.setData({showGuide:!0}),app.set("hasShownGuide",!0)):e.setData({showGuide:!1})}seatData.price=i.price;var o=seatData,c=o.defaultReminder,l=!1;if(c){var d=c.indexOf("{"),u=c.indexOf("}");seatData.beforeRemindTime=c.substr(0,d),seatData.afterRemindTime=c.substr(u+1),seatData.remindTime=c.substring(d+1,u),l=!0}if(seatData.notice&&seatData.notice.length){var h=wx.getSystemInfoSync(),g=void 0;g=h.windowWidth<=320?22:h.windowWidth>=414?27:24,seatData.noticeMaxLength=g}recommendData=[];var f=seatData,m=f.recommendation;if(m.isShowRecommendation){var p=m.bestRecommendation;for(var S in p)p.hasOwnProperty(S)&&p[S]&&0!==Object.keys(p[S]).length&&recommendData.push(p[S])}for(var D=0;D<recommendData.length;D++){for(var v=recommendData[D].seats,w=0,T=v.length;w<T;w++)if(v[w].rowId&&v[w].columnId){for(var I,y=v[w].rowId,b=v[w].columnId,_=seatData.regions.filter(function(e){return e.regionId===v[w].sectionId})[0].rows,P=_.filter(function(e){return e.rowId===y})[0],x=0;x<P.seats.length&&(!P.seats[x].columnId||P.seats[x].columnId!==b);)x++;I=P.seats[x],v[w].seatNo=I.seatNo,v[w]=v[w]}recommendData[D].seats=JSON.stringify(v),recommendData[D].count=v.length}MAX_SELECTED=seatData.buyNumLimit?seatData.buyNumLimit:4;var M=Math.min(MAX_SELECTED,5);recommendData=recommendData.sort(function(e,t){return e.count>t.count?1:e.count===t.count?0:-1}).slice(0,M),recommendData=recommendData.filter(function(e){return e.count>0});var N=seatData.regions[0].colSize,k=setHideValue("loading_hidden",!0);k=setHideValue("otherday_confirm_hidden",!seatData.desc);var O=getScaleInfo();console.log("request scaleInfo:",O);var L,C=getContainerInfo(),E=C.content,A=C.footer;L=N%2==0?N/2*45-5:(N+1)/2*45-5;var H=calcSeatSize(),X=H.seatHeight,R=H.seatWidth,Y=getTranslateObj({containerInfo:C,scaleTo:O.scaleTo});seatData.showDateText=new Date2(seatData.showDate).toString("E M月d日"),seatData.watermark=seatData.watermark.replace("w.h/","");var B=!0;seatData.regions.forEach(function(e){e.rows.forEach(function(e){e.seats.forEach(function(e){1===e.seatStatus&&(B=!1);var t=getSeatBg(e);e.style=t?"background-image: url("+t+")":""})})}),t.setData(_extends({cinemaId:i.cinema.cinemaId,footer:A,content:E,regions:seatData.regions,seatData:seatData,showRemind:l,recommendSeats:recommendData,isShowRecommend:recommendData.length>0,selectedData:getSelectedData(seatData),pageToastData:k,middleLinePosition:L,hallHeight:18*O.scaleTo,seatWidth:R,seatHeight:X,show:i.show,scaleFrom:O.scaleTo,scaleInfo:O},Y),function(){var t=i.seat.image,a=t.doIconRain,s=t.iconRainTriggerMillis,n=t.iconRains;e.rain.configRainAnimation(a,s,n)});var F=seatData.lastSelectedSeat,q=F.selectedSeats,V=F.selectedRegionId;if(e.findSelectedSeats(q,V),wx.setNavigationBarTitle({title:seatData.cinemaName}),setTimeout(function(){l=!1,t.setData({showRemind:l})},5e3),B)return void wx.showModal({title:"该场次已售完",content:"请选择其他场次",showCancel:!1,confirmText:"知道了",success:function(){wx.navigateBack()}})}).catch(function(a){if(a.res&&a.res.data.error){t.setData({pageToastData:setHideValue("loading_hidden",!0)});var i=AccessLimit.getAttachFromError(a);return i?(e.accessLimit.onConfirm=e.render.bind(e),e.accessLimit.render(i),void e.accessLimit.show()):(t.toast(a.res.data.error.message,3e3),void(t.backTimer=setTimeout(function(){wx.navigateBack()},3e3)))}})},refreshSeat:function(){var e=this;return this.fetchSeatInfo().then(function(t){var a=t.body.data,i=a.seat.regions;seatData=Object.assign({},seatData,{regions:i}),seatData.regions.forEach(function(e){e.rows.forEach(function(e){e.seats.forEach(function(e){var t=getSeatBg(e);e.style=t?"background-image: url("+t+")":""})})});var s=getSelectedData(seatData);e.setData({seatData:seatData,regions:i,selectedData:[],checkedSeats:JSON.stringify({count:0,list:[]})});var n=seatData.lastSelectedSeat,r=n.selectedSeats,o=n.selectedRegionId;e.findSelectedSeats(r,o),updateBuyBlock(e,s)}).catch(function(t){e.handleError(t)})},setOrigin:function(){var e=this,t=Object.assign({},this.data.scaleInfo),a=this.data.scaleInfo;a.seatTop=0,a.seatLeft=0,originX=originY=0,this.setData({allowScroll:!0}),scrollInfo={scrollTop:t.seatTop,scrollLeft:t.seatLeft},setTimeout(function(){e.setData({scaleInfo:a,originX:originX,originY:originY,translateX:t.seatLeft,translateY:t.seatTop,scrollTop:t.seatTop})},50),isSetOrigin=!0},hideGuide:function(){this.setData({showGuide:!1})}}); 
 			}); 	require("pages/cinema/seat.js");
 		__wxRoute = 'pages/cinema/detail';__wxRouteBegin = true; 	define("pages/cinema/detail.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var app=getApp();app.MoviePage({data:{cinema:{}},onLoad:function(a){this.getCinema(a.cinemaId)},getCinema:function(a){var e=this,t=app.$user;this.loading(!0),app.request().get("/hostproxy/mmcs/cinema/v0/cinema.json").query({cinemaId:a,channelId:app.channelId}).header({token:t.token,"x-host":"http://maoyanapi.vip.sankuai.com"}).end().then(function(a){if(e.loading(!1),200===a.statusCode&&a.body.success){var t=a.body.data;t.sc=t.s.toFixed(1),t.tel&&(t.tel=t.tel.split(" ")[0]),t.notice&&(t.notice=t.notice.split("<br/>")),e.setData({cinema:t})}}).catch(function(a){e.loading(!1),e.data.movies&&0!==e.data.movies.length?e.handleError(a):e.handleError(a,"page")})},onTabFeature:function(a){var e=a.currentTarget.dataset.url;e&&(e+="&wxEnv=wxapp",e=encodeURIComponent(e.replace("http:","https:")),app.goto("/pages/webview/webview?url="+e))},showMap:function(){wx.openLocation({latitude:this.data.cinema.lat,longitude:this.data.cinema.lng,name:this.data.cinema.nm,address:this.data.cinema.addr})},onTapPhone:function(){wx.makePhoneCall({phoneNumber:this.data.cinema.tel})}}); 
 			}); 	require("pages/cinema/detail.js");
 		__wxRoute = 'pages/search/index';__wxRouteBegin = true; 	define("pages/search/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var app=getApp(),lx=require("../../scripts/analytics"),lxkey="9527lxmy",lxValidCode=void 0,_require=require("../cinema/_cinema-item"),formatCinemas=_require.formatCinemas,_require2=require("../../scripts/shows"),formatShows=_require2.formatShows,formatKey=_require2.formatKey,formatMovies=function(t,e){return t.map(function(t){return t.page="wish",t.score=t.sc.toFixed(1),t.ver&&(t.movie3d=t.ver.match(/3D/i),t.movieImax=t.ver.match(/imax/i)),t.img&&(t.img=app.img(t.img,128,180)),t.nm=formatKey(t.nm,e),t.enm=formatKey(t.enm,e),t.movieShowDesc=t.pubDesc||t.showInfo||t.showTimeInfo,t.movieShowDesc=formatKey(t.movieShowDesc,e),t})},formatCinema=function(t,e){return t=formatCinemas(t),t.map(function(t){return t.nm=formatKey(t.nm,e),t.addr=formatKey(t.addr,e),t.resolvedDistance=formatKey(t.resolvedDistance,e),t})},metaMap={"-1":{placeholder:"找影视剧、影院、演出",noWord:"没有找到相关内容",stypes:[1,3,5],stypes_v1:[{type:6},{type:0},{type:2}]},0:{searchUrl:"/wxapi/mmdb/search/movie/keyword/list.json",format:formatMovies,stypes:[1],stypes_v1:[{type:0}]},2:{placeholder:"找影院",noWord:"没有找到相关影院",searchUrl:"/wxapi/mmdb/search/cinema/keyword/list.json",format:formatCinema,stypes:[3],stypes_v1:[{type:2}]},6:{format:formatShows,stypes:[5],stypes_v1:[{type:6}]}},searchId=void 0,hotmovie_show_id=void 0;app.MoviePage({data:{type:-1,keyword:"",focus:!1,history:[],hotMovies:[],results:[],hasResults:!1,showSuggestion:!0,correctionV2:"",correctionType:-1,metaMap:metaMap},onLoad:function(t){var e=this;this.options=t;var i=t.keyword?t.keyword:"";if(t.type=t.type?+t.type:-1,this.setData({keyword:i,hasResults:!!i,type:t.type,placeholder:metaMap[t.type].placeholder}),i.length)return this.integratedSearch(0)(i);this.searchHistoryKey+="["+t.type+"]",-1===t.type&&this.getHotMovie(),this.showSuggestion(),setTimeout(function(){e.setData({focus:!0})},1e3)},cancel:function(){if("widget"===this.options.from)return wx.switchTab({url:"/pages/movie/index"});app.goto(-1)},showSuggestion:function(){this.getSearchHistory(),this.setData({showSuggestion:!0,results:[]})},getKeyword:function(t){var e=t.detail.value.trim();this.setData({keyword:e}),e===lxkey&&(lxValidCode||(lxValidCode=lx.turnOnValidate()),wx.setClipboardData({data:lxValidCode,success:function(){wx.showToast({title:"灵犀埋点验证"+lxValidCode+"已经复制到剪切板",icon:"none",duration:3e3})}})),this.search||(this.search=this.integratedSearch(400)),this.search(e),0===e.length&&this.showSuggestion()},integratedSearch:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=void 0,o=void 0;return searchId=this.getSearchId(),this.setData({searchId:searchId}),function(s){var r=o=Math.random();a&&clearTimeout(a),a=setTimeout(function(){s&&app.request().get("https://api.maoyan.com/mmdb/search/integrated/keyword/v1/list.json").query({token:app.$user.token,keyword:s,almtype:1,iscorrected:i,stype:metaMap[e.options.type].stypes_v1,ci:app.$location.city?app.$location.city.id:1,lng:app.$location.longitude,lat:app.$location.latitude,channelId:app.channelId}).end().then(function(t){return t.body}).then(function(t){if(r===o){var i=!1,a=void 0;e.loadTypes=[],e.item_list=[],t.data.forEach(function(t){0===t.type&&(e.item_list.push("(1,["+t.list.map(function(t){return t.id})+"])"),t.list=formatMovies(t.list.slice(0,3),s),i=i||t.list.length,a=0,e.loadTypes.push(0)),2===t.type&&(e.item_list.push("(3,["+t.list.map(function(t){return t.id})+"])"),t.list=formatCinema(t.list.slice(0,3),s),i=i||t.list.length,a=2,e.loadTypes.push(2)),6===t.type&&(e.item_list.push("(7,["+t.list.map(function(t){return t.id})+"])"),t.list=formatShows(t.list.slice(0,3),s,"wxwallet_search"),i=i||t.list.length,a=6,e.loadTypes.push(6))});var n=function(){e.setData({keyword:s,results:t.data,hasResults:i,lastType:a,showSuggestion:!1,correctionV2:t.correctionV2,correctionType:t.correctionType})};if(!i)return n();e.inputKeyword=s,e.correctionV2=t.correctionV2,e.correctionType=t.correctionType,e.fetch(a,0,2===t.correctionType?t.correctionV2:s).then(function(e){t.data.forEach(function(t){t.type===a&&(t.list=metaMap[a].format(e,s,6==a&&"wxwallet_search"))}),n()})}}).catch(function(t){e.handleError(t)})},t)}},fetch:function(t,e,i){var a=this;return app.request().get("https://api.maoyan.com/mmdb/search/integrated/keyword/v1/list.json").config("key","search").query({token:app.$user.token,keyword:i,offset:e,stype:metaMap[t].stypes_v1,iscorrected:!0,ci:app.$location.city?app.$location.city.id:1,lng:app.$location.longitude,lat:app.$location.latitude,channelId:app.channelId}).end().then(function(t){return t.body}).then(function(t){return t.data[0]||{}}).then(function(t){return t.list||[]}).then(function(i){return a.stats("b_lnhc7ty0",{keyword:a.inputKeyword,correction:a.correctionV2,correction_type:-1===a.correctionType?0:a.correctionType,request_stypes:metaMap[a.options.type].stypes,return_list:0===e?a.item_list:["("+(t+1)+",["+i.map(function(t){return t.id})+"])"],page_no:Math.floor(e/20),search_id:searchId}),i})},onReachBottom:function(){var t=this,e=this.data,i=e.keyword,a=e.lastType,o=e.results,s=e.correctionType,r=e.correctionV2;if(i&&void 0!==a){for(var n=void 0,c=0;c<o.length&&(n=o[c],n.type!==a);c++);n.total!==n.list.length&&this.fetch(a,n.list.length,2===s?r:i).then(function(e){e=metaMap[a].format(e,i,6==a&&"wxwallet_search"),n.list=n.list.concat(e),t.setData({results:o})})}},tapAll:function(t){this.stats("b_18mmt194",{keyword:this.data.keyword,search_id:searchId,stype:t.currentTarget.dataset.stype+1})},tapItem:function(t){this.stats("b_9rd2o0ep",{keyword:this.data.keyword,search_id:searchId,stype:t.currentTarget.dataset.stype+1,item_id:t.currentTarget.dataset.item.id,position:t.currentTarget.dataset.index,all_position:t.currentTarget.dataset.stype==this.data.lastType&&this.loadTypes.length>1?t.currentTarget.dataset.index+this.data.hasResults:t.currentTarget.dataset.index})},getSearchId:function(){return Math.random().toString(32).substr(2,6)+"_"+(new Date).getTime()+"_"+(app.$uuid?app.$uuid:0)},getHotMovie:function(){var t=this;app.request().get("https://api.maoyan.com/mmdb/search/movie/hotmovie/list.json").end().then(function(t){return t.body.data}).then(function(e){t.setData({hotMovies:e}),e.length>0&&(hotmovie_show_id=t.getSearchId(),t.stats("b_no11hglv",{return_list:e.map(function(t){return t.id}),hotmovie_show_id:hotmovie_show_id}))})},tapHot:function(t){this.stats("b_6hcnkfsm",{movie_id:t.currentTarget.dataset.id,hotmovie_show_id:hotmovie_show_id,position:t.currentTarget.dataset.index})},onInputBlur:function(t){var e=this.data,i=e.keyword,a=e.hasResults;i&&a&&this.setSearchHistory(i)},searchHistoryKey:"searchHistory",setSearchHistory:function(t){var e=app.get(this.searchHistoryKey);!e&&(e=[]);var i=e.indexOf(t);-1!==i&&e.splice(i,1),e.unshift(t),3===e.length&&e.pop(),app.set(this.searchHistoryKey,e)},getSearchHistory:function(){var t=app.get(this.searchHistoryKey);t&&this.setData({history:t})},delSearchHistory:function(t){var e=t.currentTarget.dataset.index;this.data.history.splice(e,1);var i=this.data.history;this.setData({history:i}),app.set(this.searchHistoryKey,i)},tapToSearch:function(t){this.setData({focus:!1});var e=t.currentTarget.dataset,i=e.keyword,a=e.iscorrected;"true"===a&&this.stats("b_3bnm2cbj",{keyword:this.data.keyword,correction:this.correctionV2,correction_type:-1===this.correctionType?0:this.correctionType,click_keyword:i,search_id:searchId}),this.setSearchHistory(i),this.integratedSearch(0,"true"===a)(i)},toggleWishFromComing:function(t){var e=this,i=t.currentTarget.dataset,a=i.wishst,o=i.movieid,s=i.index,r=(i.subindex,this.data.results.filter(function(t){return 0===t.type})[0].list);app.checkLogin({warn:"添加想看前请先登录",success:function(){var t={userId:app.$user.id,token:app.$user.token,type:1^a,business:2,clientType:"touch"},i=t.type?"post":"delete",n=t.type?"已标记想看":"已取消想看";app.request(i,"/hostproxy/mmdb/user/movie/"+o+"/wish.json").send("post"===i?t:{}).header({token:app.$user.token,"x-host":"http://maoyanapi.vip.sankuai.com"}).query({channelId:app.channelId,uuid:app.$uuid,ci:app.$location.city?app.$location.city.id:0}).end().then(function(t){return t.body.data.id}).then(function(i){if(i===o){var a=r[s];a.wishst=t.type,t.type?a.wish++:a.wish--,e.setData({results:e.data.results}),wx.hideToast(),wx.showToast({title:n,icon:"success",duration:1e3})}}).catch(function(t){e.handleError(t)})}})}}); 
 			}); 	require("pages/search/index.js");
 		__wxRoute = 'pages/search/movie';__wxRouteBegin = true; 	define("pages/search/movie.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var app=getApp(),_app$require=app.require("scripts/movie"),search=_app$require.search,_require=require("../../scripts/shows"),formatKey=_require.formatKey;app.MoviePage({data:{movies:[],offset:0,hasMore:!0},onLoad:function(t){this.setData(t),this.onReachBottom()},onReachBottom:function(){var t=this;this.data.hasMore&&search(this.data.query,this.data.offset).then(function(e){var a=e.length;t.stats("b_de5dm2q1",{keyword:t.data.query,stype:[1],return_list:e.map(function(t){return t.id}),page_no:Math.floor(t.data.offset/20),search_id:t.data.searchId}),e=e.map(function(e){return e.nm=formatKey(e.nm,t.data.query),e.enm=formatKey(e.enm,t.data.query),e.movieShowDesc=e.pubDesc||e.showInfo||e.showTimeInfo,e.movieShowDesc=formatKey(e.movieShowDesc,t.data.query),e}),e=t.data.movies.concat(e),t.setData({movies:e,offset:e.length,hasMore:a})}).catch(this.handleError.bind(this))},tapItem:function(t){this.stats("b_90bp6wbt",{keyword:this.data.query,search_id:this.data.searchId,stype:1,item_id:t.currentTarget.dataset.id,position:t.currentTarget.dataset.index})},toggleWishFromComing:function(t){var e=this,a=t.currentTarget.dataset,s=a.wishst,o=a.movieid,i=a.index,r=this.data.movies;app.checkLogin({warn:"添加想看前请先登录",success:function(){var t={userId:app.$user.id,token:app.$user.token,type:1^s,business:2,clientType:"touch"},a=t.type?"post":"delete",n=t.type?"已标记想看":"已取消想看";app.request(a,"/hostproxy/mmdb/user/movie/"+o+"/wish.json").send("post"===a?t:{}).header({token:app.$user.token,"x-host":"http://maoyanapi.vip.sankuai.com"}).query({channelId:app.channelId,uuid:app.$uuid,ci:app.$location.city?app.$location.city.id:0}).end().then(function(t){return t.body.data.id}).then(function(a){if(a===o){var s=r[i];s.wishst=t.type,t.type?s.wish++:s.wish--,e.setData({movies:e.data.movies}),wx.hideToast(),wx.showToast({title:n,icon:"success",duration:1e3})}}).catch(function(t){e.handleError(t)})}})}}); 
 			}); 	require("pages/search/movie.js");
 		__wxRoute = 'pages/search/cinema';__wxRouteBegin = true; 	define("pages/search/cinema.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var app=getApp(),_app$require=app.require("scripts/cinema"),search=_app$require.search,format=_app$require.format,_require=require("../../scripts/shows"),formatKey=_require.formatKey;app.MoviePage({data:{cinemas:[],offset:0,hasMore:!0},onLoad:function(t){this.setData(t),this.onReachBottom()},onReachBottom:function(){var t=this;this.data.hasMore&&search(this.data.query,this.data.offset).then(function(a){var e=a.length;t.stats("b_de5dm2q1",{keyword:t.data.query,stype:[3],return_list:a.map(function(t){return t.id}),page_no:Math.floor(t.data.offset/20),search_id:t.data.searchId}),a=a.map(function(a){return a.nm=formatKey(a.nm,t.data.query),a.addr=formatKey(a.addr,t.data.query),a.resolvedDistance=formatKey(a.resolvedDistance,t.data.query),a}),a=t.data.cinemas.concat(a),t.setData({cinemas:a,offset:a.length,hasMore:e})}).catch(this.handleError.bind(this))},tapItem:function(t){this.stats("b_90bp6wbt",{keyword:this.data.query,search_id:this.data.searchId,stype:3,item_id:t.currentTarget.dataset.id,position:t.currentTarget.dataset.index})}}); 
 			}); 	require("pages/search/cinema.js");
 		__wxRoute = 'pages/search/wechat';__wxRouteBegin = true; 	define("pages/search/wechat.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var app=getApp();app.MoviePage({onLoad:function(e){var a=this;console.log(e);var i=e.widgetData?this.getWidgetParam("widgetData",e):null,t=this.getWidgetParam("wxParamData",e),o=i?i.data_type:"";if(i){var r=i[o+"_data"];return this.jump(o,r)}var n="北京",c="",d="";t.slot_list.forEach(function(e){var a=e.key,i=e.value;"city"===a&&(n=i),"movie_name"===a&&(c=i),"cinema_name"===a&&(d=i)}),this.loading(),app.request().get("/wxapp/search").query({city:n,movie_name:c,cinema_name:d}).end().then(function(e){var i=e.body.data_type,t=e.body[i+"_data"];a.jump(i,t)})},isEncodeJson:function(e){return"string"==typeof e&&"%"===e.trim()[0]},getWidgetParam:function(e,a){if("query"===e)return"wxSearchQuery"in a?decodeURIComponent(a.wxSearchQuery):a.query;if(a[e])return"widgetData"===e||"wxParamData"===e||"data"===e?this.isEncodeJson(a[e])?JSON.parse(decodeURIComponent(a[e])):JSON.parse(a[e]):void 0},jump:function(e,a){var i=a.movie_id,t=void 0===i?"":i,o=a.cinema_id,r=void 0===o?"":o,n=a.movie_city,c=void 0===n?"":n,d=a.movie_city_id,m=void 0===d?"":d;"movie"===e&&t?wx.redirectTo({url:"/pages/movie/movie?movieId="+t+"&cityId="+m+"&cityName="+c+"&utm_source=wechat_search"}):"cinema"===e&&r&&wx.redirectTo({url:"/pages/cinema/cinema?cinemaId="+r+"&movieId="+t+"&utm_source=wechat_search"})}}); 
 			}); 	require("pages/search/wechat.js");
 		__wxRoute = 'pages/search/show';__wxRouteBegin = true; 	define("pages/search/show.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var app=getApp(),_require=require("../../scripts/shows"),formatShows=_require.formatShows;app.MoviePage({data:{shows:[],offset:0,hasMore:!0},onLoad:function(t){this.setData(t),this.onReachBottom()},onReachBottom:function(){var t=this;if(this.data.hasMore){var a=this.data,e=a.query,o=a.offset,s=a.searchId;this.search(e,o).then(function(a){var r=a.list;t.stats("b_de5dm2q1",{keyword:e,stype:[5],return_list:r.map(function(t){return t.id}),page_no:Math.floor(o/20),search_id:s}),r=formatShows(r,e,"wxwallet_search"),r=t.data.shows.concat(r);var n=a.total>r.length;t.setData({shows:r,offset:r.length,hasMore:n})}).catch(this.handleError.bind(this))}},tapItem:function(t){this.stats("b_90bp6wbt",{keyword:this.data.query,search_id:this.data.searchId,stype:5,item_id:t.currentTarget.dataset.id,position:t.currentTarget.dataset.index})},search:function(t,a){return app.request().get("https://api.maoyan.com/mmdb/search/integrated/keyword/v1/list.json").config("key","search").query({token:app.$user.token,keyword:t,offset:a,stype:[{type:6}],iscorrected:!0,ci:app.$location.city?app.$location.city.id:1,lng:app.$location.longitude,lat:app.$location.latitude,channelId:app.channelId}).end().then(function(t){return t.body}).then(function(t){return t.data[0]||{}})}}); 
 			}); 	require("pages/search/show.js");
 		__wxRoute = 'pages/user/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/user/index.js';	define("pages/user/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},_api=require("../../scripts/activity/api"),Sudoku=require("../../tpl/operation/embedded-component/sudoku"),app=getApp(),store=require("../../scripts/store"),apiConfig=require("../../scripts/api-config"),advertHandler=require("../../scripts/advert"),_require=require("../../scripts/papay"),_queryPapay=_require.queryPapay,util=require("../../scripts/utils"),loginScript=require("../../scripts/login"),favouriteAPI=require("../../scripts/favourite"),MYT=require("../../constant/myt"),mge_bid=MYT.mge_bid,mpt_bid=MYT.mpt_bid;app.MoviePage({data:{isSupervip:!0,haveAppliedPapay:!1,toEmanWithAPI:!1,emanAppId:"wx28d3fabd22c59503",enVersion:"release",emanInfo:"",isPrivilegeView:1,nickWidth:374,showGuid:!1,isfirstLogin:!1,animationClass:"",actClass:"",hasMore:!1},onLoad:function(){this.setData({toEmanWithAPI:this.canUseNavAPI()}),this.sudoku=new Sudoku({page:this})},gotoActivityList:function(){_api.activityGoto.gotoActivityList()},activityItemTap:function(t){var e=t.currentTarget.dataset.position,a=this.data.activity,i=a[e];i&&_api.activityGoto.gotoActivity(i)},onShow:function(){var t=this;_api.activityApi.getUserActivity().then(function(e){var a=e.data,i=a.activitys,s=a.hasMore;if(i){var n=i.length;return t.setData({activity:i,actClass:s?"act6":"act"+n,hasMore:s}),e}}),this.nickWidth=374,this.isWidthend=!1,new Date(2018,7,1,0,0,0).getTime()-(new Date).getTime()<=0&&new Date(2018,8,1,0,0,0).getTime()-(new Date).getTime()>0?this.emanInfo="8.18元限量包邮":new Date(2018,8,1,0,0,0).getTime()-(new Date).getTime()<=0&&new Date(2018,9,1,0,0,0).getTime()-(new Date).getTime()>0?this.emanInfo="超值秒杀，1折起":this.emanInfo="",this.setData({debug:app.$debug,emanInfo:this.emanInfo,isPrivilegeView:store.get("isPrivilegeView")}),MYT.initStats(app),advertHandler.fetch({positionIds:1078},function(e){e.length&&(MYT.props.stats(mpt_bid,{positionId:1078,ad_id:e[0].adId,materialId:e[0].materialId}),t.setData({adsHeaderBg:e}))}),advertHandler.fetch({positionIds:1057},function(e){e.length&&(MYT.props.stats(mpt_bid,{positionId:1057,ad_id:e[0].adId,materialId:e[0].materialId}),t.setData({advert:e}))}),app.$user.token?this.loginAfter():app.checkLogin({success:function(){t.loginAfter(),store.set("firstLoginDate",(new Date).toLocaleDateString()),t.setData({isfirstLogin:!0}),setTimeout(function(){t.setData({isfirstLogin:!1})},2e3)}})},onHide:function(){app.papayStatusChange=!1,clearTimeout(this.timeout)},onUnload:function(){app.papayStatusChange=!1,clearTimeout(this.timeout)},onTapAd:function(t){MYT.props.stats(mge_bid,{positionId:1057,ad_id:this.data.advert[0].adId,materialId:this.data.advert[0].materialId}),this.onTapNavi(t)},loginAfter:function(){var t=this,e=app.getUser().wxUserInfo.userInfo;this.setData({userInfo:e}),loginScript.getUserExp(function(e){var a=_extends({},e);0==a.userLevel&&(t.nickWidth+=67,0==t.isWidthend?t.isWidthend=!0:a.nickWidth=t.nickWidth),a.isSysshow=!0,t.setData(a)}),this.queryPapay(),this.getUserCardStatus();var a=app.$location.city?app.$location.city.id:1;app.request().get("/hostproxy/emember/v2/profile.json").query({cityId:a}).header({token:app.$user.token,"x-host":"http://maoyanapi.vip.sankuai.com"}).end().then(function(e){t.setData({display:e.body.data.display,cityId:a}),loginScript.openId().then(function(){t.getOperationPositions(e.body.data.display)})}),this.favourite()},getUserCardStatus:function(){var t=this,e=app.$location.city?app.$location.city.id:1;app.request().get("/proxy/citycard/client/usercenter/usercardstatus.json").query({cityId:e,channelId:app.channelId}).header({"x-host":"http://maoyanapi.vip.sankuai.com","content-type":"application/x-www-form-urlencoded",token:app.$user.token,"x-ba":1}).end().then(function(e){if(200===e.statusCode&&e.body.success){var a=e.body.data,i=a.listCardShow?"/pages/supervip/list":"/pages/supervip/detail?cityCardId="+a.cityCardId;t.setData({userCardStatus:a,cityCardUrl:i})}})},queryPapay:function(){var t=this,e=3;!function a(){_queryPapay().then(function(i){var s=i.data,n=i.errMsg;if(clearTimeout(t.timeout),n)return t.toast(n);app.papayStatusChange&&e-- >0&&(t.timeout=setTimeout(a,2e3)),t.setData({haveAppliedPapay:"SUCCESS"===s.result})}).catch(function(e){return t.handlerError(e)})}()},navToEman:function(t){var e=this,a=app.getPropSafely("currentTarget.dataset.url",t,"/pages/home/home"),i=app.getPropSafely("currentTarget.dataset.nav",t,null);wx.navigateToMiniProgram({appId:this.data.emanAppId,path:a,envVersion:this.data.enVersion,success:function(t){i&&e.stats(i)}})},canUseNavAPI:function(){var t=app.system().SDKVersion||"2.0.7";return util.compareVersion(t,"2.0.6")<1},onPrivilegeTap:function(t){store.set("isPrivilegeView","1"),this.onTapNavi(t)},favourite:function(){var t=app.get("favourite")||0;["1103","1104"].indexOf(app.scene)>-1||0!==t?this.setData({showGuid:!1}):(app.set("favourite",1),this.setData({showGuid:!0}),this.stats("b_577obuxu"))}}); 
 			}); 	require("pages/user/index.js");
 		__wxRoute = 'pages/pointcard/index';__wxRouteBegin = true; 	define("pages/pointcard/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var app=getApp(),Date2=app.require("scripts/date2"),newPointCardNo="";app.MoviePage({data:{cardNo:void 0,cards:void 0,activeTab:"point",bonuslist:void 0,getBonusList:!1,bnsId:0,lastPage:!0},onLoad:function(t){this.getMyCards()},onPullDownRefresh:function(){"point"===this.data.activeTab?this.getMyCards(!0):this.getBonus(!0)},bindInput:function(t){this.setData({cardNo:t.detail.value})},addCard:function(){var t=this,a=app.$user;if(!this.data.cardNo)return void this.toast("请输入观影卡密码");app.request().get("/proxy/coupon/pointcard/queryAndBind.json").query({channelId:app.channelId,clientType:"touch",type:1,pointCardCode:this.data.cardNo,uuid:app.$uuid||a.openId}).header({token:a.token,"x-ta":"true","x-host":"http://maoyanapi.vip.sankuai.com"}).end().then(function(a){if(200===a.statusCode&&a.body.success){var n=a.body.data;n.pointDesc=n.pointDesc.split(/[\{\}]/gi),t.toast("绑卡成功！"),t.data.cards.unshift(n),t.setData({cards:t.data.cards})}}).catch(function(a){t.data.cards?t.handleError(a):t.handleError(a,"page")})},getMyCards:function(t){var a=this,n=app.$user;t||this.loading(!0),app.request().get("/proxy/coupon/pointcard/list.json").query({token:n.token,channelId:70001}).header({token:n.token,"x-ta":"true","x-host":"http://maoyanapi.vip.sankuai.com"}).end().then(function(t){if(200===t.statusCode&&t.body.success){var n=t.body.data.cardList;n=n.map(function(t){return t.pointDesc=t.pointDesc.split(/[\{\}]/gi),t}),a.loading(!1),a.setData({cards:n})}}).catch(function(t){a.data.cards?a.handleError(t):a.handleError(t,"page")})},switchToPoint:function(){this.setData({activeTab:"point"})},switchToBonus:function(){this.data.getBonusList||(this.getBonus(),this.setData({getBonusList:!0})),this.setData({activeTab:"bonus"})},onReachBottom:function(){"bonus"!==this.data.activeTab||this.data.lastPage||this.getBonus()},getBonus:function(t){var a=this;t&&this.setData({bnsId:0,bonuslist:[],lastPage:void 0}),app.request().get("/proxy/coupon/mybonus/list.json").query({clientType:app.clientType,channelId:app.channelId,bnsId:this.data.bnsId,pageSize:50}).header({token:app.$user.token,"x-ta":!0,"x-host":"http://maoyanapi.vip.sankuai.com"}).end().then(function(t){if(t&&t.body&&t.body.success){var n=t.body.data.bonus;n=n.map(function(t){return t.nameNum=t.name.match(/(\d+)/g)[0],t.dueTm=new Date2(t.dueTm).toString("yyyy-MM-dd"),t.limit=t.limitMovies&&t.limitMovies[0]?"仅限购买"+t.limitMovies[0].movieName+"使用":"全部影片通用",t}),a.setData({bonuslist:a.data.bonuslist?a.data.bonuslist.concat(n):n,lastPage:t.body.data.lastPage,bnsId:t.body.data.bnsId})}}).catch(function(t){a.data.bonuslist?a.handleError(t):a.handleError(t,"page")})},gotoUse:function(t){var a=t.currentTarget.dataset.movieid;a?app.goto("/pages/cinema/movie?movieId="+a):wx.switchTab({url:"/pages/movie/index"})}}); 
 			}); 	require("pages/pointcard/index.js");
 		__wxRoute = 'pages/citys/citys';__wxRouteBegin = true; 	define("pages/citys/citys.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var locationUtil=require("../../scripts/location.js"),locationModel=require("../../models/location"),app=getApp(),historyCityListKey="historyCityList";app.MoviePage({data:{labelMap:{location:"定位",history:"最近",hot:"热门"},locationCity:{nm:""},locationStatus:"pending",locationMap:{pending:"正在定位...",fail:"定位失败，请点击重试"},historyCityList:[],hotCityList:[],letterArray:[],scrollTop:0},onLoad:function(t){var i=this;this.setData(t),this.fillHistoryCityList(),t.warn&&this.toast(decodeURIComponent(t.warn)),locationUtil.getHotCitys().then(function(t){return i.setData({hotCityList:t}),locationUtil.getCitysFromCache()}).then(function(t){var a=Object.keys(t.letterMap).map(function(i){return{letter:i,list:t.letterMap[i]}});i.setData({letterArray:a}),i.fillNavigator()}).then(wx.hideToast).catch(function(t){i.handleError(t,!0)})},onReady:function(){app.$location.city&&app.$location.city.nm&&wx.setNavigationBarTitle({title:"当前城市-"+app.$location.city.nm})},onShow:function(){this.fillLocationCity()},fillLocationCity:function(){var t=this;this.setData({locationStatus:"pending"}),locationModel.fetch(!0).then(function(i){var a=i.locationCity;app.$location.city||locationModel.changeCity(a),t.setData({locationCity:a,locationStatus:"done"})}).catch(function(i){t.setData({locationStatus:"fail"}),t.handleError(i)})},onTapFillLocationCity:function(){var t=this;app.checkLocationAuth().then(function(){t.fillLocationCity()})},fillHistoryCityList:function(t){t=t||app.get(historyCityListKey),this.setData({historyCityList:t})},selectCity:function(t){var i=t.target.dataset;i.id&&(this.changeToCity(i),this.data.next?wx.redirectTo({url:this.data.next}):wx.navigateBack())},changeToCity:function(t){if(t.id){locationModel.changeCity(t),app.set("city",t),app.$location.locationCity&&app.$location.locationCity.nm&&app.set("confirm-city",t,{expires:3600});var i=locationUtil.addCitys(t);this.fillHistoryCityList(i)}},fillNavigator:function(){var t=[],i={label:"location"};t.push(i);var a={label:"history"};this.data.historyCityList.length&&t.push(a);var o={label:"hot"};t.push(o),this.data.letterArray.forEach(function(i){t.push({label:i.letter})}),this.setData({navList:t})},navTo:function(t){var i=t.currentTarget.dataset.id;this.setData({toView:i})},move:function(t){var i=(t.currentTarget.dataset.top,t.touches[0].clientY),a=Math.floor((i-75)/16),o=this.data.navList[a];if(o){if(o.label===this.data.toView)return;this.setData({toView:o.label})}}}); 
 			}); 	require("pages/citys/citys.js");
 		__wxRoute = 'pages/webview/webview';__wxRouteBegin = true; 	define("pages/webview/webview.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(a,i){try{var o=r[a](i),u=o.value}catch(e){return void t(e)}if(!o.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}var _slicedToArray=function(){function e(e,r){var t=[],n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(t.push(o.value),!r||t.length!==r);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},_url=require("../../models/url"),_url2=_interopRequireDefault(_url),app=getApp();Page({data:{url:""},onShareAppMessage:function(){var e=this.options,r=e.shareUrl,t=void 0===r?"":r,n=e.imgUrl,a=e.title,i=void 0===a?"":a,o=_url2.default.getCurrentPageUrlWithArgs();if(/giftpackage/gim.test(o))return o="pages/movie/index?redirect="+encodeURIComponent("/"+o),{path:o,title:"19.9元《江湖儿女》在线看，送价值238元法国红酒",imageUrl:"http://p0.meituan.net/scarlett/e1ef1f44403b155b3ec68e7bd89b467586052.jpg"};if(t&&n){var u=decodeURIComponent(t);return o=app.shareParams({redirect:"/"+u}),{path:"pages/movie/index?"+o,imageUrl:n,title:i}}return{path:o}},onLoad:function(e){var r=this;this.options=e,app.$user.token?this.loginAfter(e):app.checkLogin({success:function(){r.loginAfter(e)}})},isAddFingerprintParam:function(e){return["meituan.com"].every(function(r){return e.indexOf(r)<0})},loginAfter:function(e){var r=this;return _asyncToGenerator(regeneratorRuntime.mark(function t(){var n,a,i,o,u,p,s,c,l,f,d,g,h,y,m,v;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=decodeURIComponent(e.url),/wenjuan\.meituan\.com/gim.test(n)?wx.hideShareMenu&&wx.hideShareMenu():wx.showShareMenu&&wx.showShareMenu({}),a=app.$location,i=app.getPropSafely("$location.city.id",app,""),o=app.getPropSafely("$location.latitude",app,""),u=app.getPropSafely("$location.longitude",app,""),p=app.getPropSafely("$user.token",app,""),s=app.getPropSafely("$user.userId",app,""),c=app.getPropSafely("$user.openId",app,""),t.next=11,app.getFingerprint();case 11:l=t.sent,f=app.$uuid||"",d={ci:i,lat:o,lng:u,token:p,userid:s,openid:c,uuid:f,cityId:i,from:"wxapp"},r.isAddFingerprintParam(n)&&(d=_extends({},d,{fingerprint:l})),g=n.split("?"),h=_slicedToArray(g,2),y=h[0],m=h[1],v={},m&&(v=m.split("&").reduce(function(e,r){var t=r.split("="),n=_slicedToArray(t,2),a=n[0],i=n[1];return e[a]=i,e},{})),v=Object.assign(d,v),n=[y,app.queryStringify(v)].join("?"),r.setData({url:n});case 21:case"end":return t.stop()}},t,r)}))()}}); 
 			}); 	require("pages/webview/webview.js");
 		__wxRoute = 'pages/show/index/index';__wxRouteBegin = true; 	define("pages/show/index/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _asyncToGenerator(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){function n(i,r){try{var o=e[i](r),s=o.value}catch(t){return void a(t)}if(!o.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}return n("next")})}}function encodeLink(t){return t.link=encodeURIComponent(t.link),t}var _slicedToArray=function(){function t(t,e){var a=[],n=!0,i=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(a.push(o.value),!e||a.length!==e);n=!0);}catch(t){i=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}return a}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_user=require("../../../scripts/show/user"),_user2=_interopRequireDefault(_user),_activity=require("../../../scripts/show/activity"),_activity2=_interopRequireDefault(_activity),_adBanner=require("../../../tpl/ad-banner"),_adBanner2=_interopRequireDefault(_adBanner),_activityTag=require("../../../scripts/show/activityTag"),app=getApp(),categoryMap={1:"https://p0.meituan.net/moviesh/d077942a36df5eb122fda256730257221188.png",2:"https://p0.meituan.net/moviesh/dde9c8727af2f920266f7a70cdf7472b2788.png",3:"https://p0.meituan.net/moviesh/3727ba98ae64fe4daf8617054ea3f5c61628.png",4:"https://p0.meituan.net/moviesh/7114b1529182c0a123d8c58b00a7bad61410.png",5:"https://p1.meituan.net/moviesh/38dbbe07f64eca5244f4f5c8207938511228.png",6:"https://p1.meituan.net/moviesh/cc10a9b65e4635ff0bacd656e592891e1220.png",7:"https://p1.meituan.net/moviesh/5663680e1ba859f0edf9ab1c18925ddb1434.png",8:"https://p0.meituan.net/moviesh/cef66f030cff78b39981c6d5f61290661149.png",9:"https://p1.meituan.net/moviesh/94fdb69cda72112e0b26e2bc06dbf0bb1329.png",10:"https://p1.meituan.net/myvideodistribute/9a828a65baa62b1b9406bc9253aa7dbb4647.png",998:"https://static.meituan.net/bs/MYFE/wxapp-wallet/file/images/show/wangfeng.png",999:"https://p1.meituan.net/moviesh/342ae341691d8cab4ae5ce7ccb3ea06a1551.png"};app.MoviePage({jumpToActivity:_activity2.default,data:{zhangxueyoustyle:"position: relative; top: -3.4px",hotTheatreViewDot:"b_wurknpf4",topBannerViewDot:"b_ndj7d48v",ztViewDot:"b_7rb5gk5m",rb1ViewDot:"b_wmz2x07f",rb2ViewDot:"b_6oaseqyw",hasReportedAds:[],canIUseWebView:wx.canIUse("web-view"),swiperOptions:{indicatorDots:!0,autoplay:!0,circular:!0,interval:5e3,duration:500},sortTypes:[{sortType:4,name:"当前热门",subs:[]},{sortType:1,name:"最新上架",subs:[]},{sortType:5,name:"折扣演出",subs:[]},{sortType:-1,name:"全部时间",subs:[{subId:0,name:"全部时间"},{subId:1,name:"今天"},{subId:2,name:"明天"},{subId:3,name:"本周末"},{subId:4,name:"一周内"},{subId:5,name:"一个月内"}]}],subSorts:[],sortType:4,subId:0,showSortPanel:!1,paging:{pageNo:1,pageSize:10,hasMore:!0},performances:[],recommendPerformances:[],canNaviWxapp:wx.canIUse("navigateToMiniProgram"),activityTag:_activityTag.activityTag},onLoad:function(t){this.setData({options:t}),this.user=(0,_user2.default)(app.$user)||{},this.adBanner=new _adBanner2.default({page:this,positionIds:"1037"});var e=this;wx.getSystemInfo({success:function(t){var a=Math.floor(84*t.screenWidth/750),n=a/86*93,i=n-a;e.setData({zhangxueyoustyle:"position: relative; top: -"+i+"px"})}})},onShow:function(){var t=this;(0,_activityTag.refreshActivityTag)(_activityTag.activityTag.STATS_TAG,this.data.options&&this.data.options[_activityTag.activityTag.STATS_TAG]);var e=app.models.location.get()||{};e.city||e.locationCity?this.setAndGetDatas():app.models.location.fetch().then(function(e){t.setAndGetDatas()})},getCategories:function(){return app.request().config("loading",1).get("/maoyansh/myshow/ajax/performance/navigation").query({sellChannel:7,token:this.user.token}).end().then(function(t){return t.body.data}).then(function(t){return t=t.map(function(t){return t.icon=categoryMap[t.categoryId],t}),app.set("categories",t,{expires:36e5}),t})},noop:function(){},onClickNavi:function(t){var e=t.currentTarget.dataset,a=e.url,n=e.categoryId,i=e.val_lab,r=e.val_bid,o=a||"/pages/show/list/index?categoryId="+n;if(!_activityTag.activityTag.STATS_TAG_REGX.test(o)){var s=_activityTag.activityTag.STATS_TAG+"="+_activityTag.activityTag.GOLD_EMPLACEMENT;s=-1!==o.indexOf("?")?"&"+s:"?"+s,o=""+o+s}var c=/^sceneryWxApp:/;c.test(o)?wx.navigateToMiniProgram({appId:"wx4fa555703dced95c",path:o.replace(c,"")}):wx.navigateTo({url:o}),this.stats(r,i)},getHotTheatres:function(){var t=this;app.request().config("loading",1).get("/maoyansh/myshow/ajax/hotShop/hotShopList").query({pageNo:1,pageSize:2,performanceNumber:2,sellChannel:7,token:this.user.token,cityId:this.data.city?this.data.city.id:0}).end().then(function(t){return t.body.data}).then(function(e){var a=e&&e[0]&&e[0].firstPagePerformance,n=e&&e[1]&&e[1].firstPagePerformance,i=!!(a&&n&&a.length>=2&&n.length>=2);t.setData({hasHot:i,theatres:e}),i&&(t.stats(t.data.hotTheatreViewDot,{cityId:t.data.city?t.data.city.id:0,shopId:e[0].shopId,index:0}),t.stats(t.data.hotTheatreViewDot,{cityId:t.data.city?t.data.city.id:0,shopId:e[1].shopId,index:1}))})},getRecommendList:function(t,e){var a=this;app.request().config("loading",1).get("/maoyansh/myshow/ajax/performances/0;st="+t+";p=1;s=10;tft=0").query({pageNo:1,pageSize:2,performanceNumber:2,sellChannel:7,token:this.user.token,cityId:this.data.city?this.data.city.id:0}).end().then(function(t){return t.body.data}).then(function(t){var e=t&&t[0]&&t[0].firstPagePerformance,a=t&&t[1]&&t[1].firstPagePerformance;return{hasHot:e&&e.length>=2&&a&&a.length>=2,theatres:t}}).then(function(t){var e=t.hasHot,n=t.theatres;a.setData({hasHot:e,theatres:n})})},initTopBannerViewDot:function(){if(this.data.hasReportedAds.indexOf(0)<0&&this.data.banners&&this.data.banners.length>0){var t={cityId:this.data.city?this.data.city.id:0,index:0},e=this.getId(this.data.banners[0].link);Object.assign(t,e),this.data.hasReportedAds.push(0),this.stats(this.data.topBannerViewDot,t)}},onBannerChagne:function(t){var e=t.detail.current,a={cityId:this.data.city?this.data.city.id:0};if(this.data.hasReportedAds.indexOf(e)<0){var n=this.getId(this.data.banners[e].link);Object.assign(a,n),a.index=e,this.data.hasReportedAds.push(e),this.stats(this.data.topBannerViewDot,a)}},getParameterByName:function(t,e){try{t=t.replace(/[[]]/g,"\\$&");var a=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),n=a.exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}catch(t){console.log(t)}},getId:function(t,e){try{var a={1:"activityId",2:"showId",3:"shopId",4:"performanceId"},n=/(op|i)\.meituan\.com/,i=/https?:\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/,r=/show-detail/,o=t||(e.currentTarget.dataset.webView||{}).link,s=null,c={};if(o&&n.test(o)){var d=o.split("/");d.length>1&&(s={id:d[d.length-2],type:1})}else o&&i.test(o)&&r.test(o)?s={id:this.getParameterByName("data",o),type:2}:e&&e.currentTarget.dataset.id&&(s={id:e.currentTarget.dataset.id,type:parseInt(e.currentTarget.dataset.type)});return s&&(c[a[s.type]]=s.id),s?c:null}catch(t){console.log(t)}},clickDotAndJump:function(t){var e=t.currentTarget.dataset.bid,a=this.getId("",t),n=t.currentTarget.dataset.index,i={cityId:this.data.city?this.data.city.id:0};n&&(i.index=n),Object.assign(i,a),console.log("e.type: "+t.type),console.log("params: "+JSON.stringify(i)),this.stats(e,i),(t.currentTarget.dataset.webView||{}).link&&this.jumpToActivity(t);var r=t.currentTarget.dataset.url;if(r){var o=t.currentTarget.dataset.activitySetTag,s=_activityTag.activityTag.STATS_TAG+"="+o;-1!==r.indexOf("?")&&o&&(r=r+"&"+s),-1===r.indexOf("?")&&o&&(r=r+"?"+s),this.jumpToActivity(r)}},commonShowDot:function(t,e){var a=this;t.forEach(function(t,n){var i={cityId:a.data.city?a.data.city.id:0,index:n},r=a.getId(t&&t.link||"");Object.assign(i,r),a.stats(e,i)})},getOperationData:function(){return app.request().config("loading",1).get("/maoyansh/myshow/ajax/advertisements/batchFetch?positionList=SI-1,my_homepage_zhongtong,my_homepage_rb1,my_homepage_rb2").query({sellChannel:7,cityId:this.data.city?this.data.city.id:0}).end().then(function(t){return t.body.data})},formatOperationData:function(t){var e=t.my_homepage_zhongtong,a=t.my_homepage_rb1,n=t.my_homepage_rb2;this.setData({banners:t["SI-1"],my_homepage_zhongtong:e.slice(0,3),my_homepage_rb1:a.slice(0,2),my_homepage_rb2:n.slice(0,3)}),this.initTopBannerViewDot(),e.length>=1&&this.commonShowDot(e,this.data.ztViewDot),a.length>=2&&this.commonShowDot(a,this.data.rb1ViewDot),n.length>=3&&this.commonShowDot(n,this.data.rb2ViewDot)},formatCategories:function(t,e){var a=void 0,n=e.gold_emplacement_mini_program;if(n&&n.length>0)a=n.map(function(e,a){var n=t.filter(function(t){return!!t.categoryId&&t.categoryId===e.categoryId}),i=n.length>0?n[0]:e,r=e.categoryName,o=e.icon,s=e.url;return i.categoryName=r||i.categoryName,i.icon=o||i.icon,i.url=s||i.url,i});else{var i;t=t.filter(function(t){return!!t.categoryId&&8!=t.categoryId}).map(function(t){return t.icon=categoryMap[t.categoryId],t}),(i=t).push.apply(i,[{categoryId:999,categoryName:"汪峰来了",icon:categoryMap[998],special:!0,url:"/pages/showsubs/webview/webview?url=https%3A%2F%2Fi.meituan.com%2Fawp%2Fhfe%2Fblock%2F63b273aec6b0baf676ef%2F23296%2Findex.html%3FfromTag%3Dyanchuicon"},{categoryId:8,categoryName:"更多精彩",icon:categoryMap[8]}]);var r=t.findIndex(function(t){return 2==t.categoryId});t.splice(r,1);var o=t.findIndex(function(t){return 10==t.categoryId});t.splice(o,1),t.splice(7,-1,{categoryId:-1,categoryName:"开心麻花",icon:"https://p0.meituan.net/moviesh/810d5973f130d066f41d6766722b94d42605.png",url:"/pages/show/search/index?key=%E5%BC%80%E5%BF%83%E9%BA%BB%E8%8A%B1"}),a=t}app.set("categories",a,{expires:36e5}),this.setData({categories:a})},setAndGetDatas:function(){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function e(){var a,n,i,r,o,s,c,d,h,p,u,g,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.data.city,n=app.$location,i=n.city,r=n.address,o=n.latitude,s=n.longitude,c=n.locationCity,d=i||c||{},d.lat=o,d.lng=s,!a||a.id!=d.id){e.next=7;break}return e.abrupt("return");case 7:return t.setData({city:d}),e.next=10,Promise.all([t.getCategories(),t.getOperationData(),t.getHotTheatres(),t.onPullDownRefresh()]);case 10:h=e.sent,p=_slicedToArray(h,2),u=p[0],g=p[1],t.formatCategories(u,g),t.formatOperationData(g),y={cityId:d.id,userId:(app.getUser()||{}).userId||"theatres"},t.data.city&&t.data.city.id!==d.id&&t.adBanner.fetch(y),t.adBanner.render(y);case 19:case"end":return e.stop()}},e,t)}))()},onPullDownRefresh:function(){this.getFirstPage()},onReachBottom:function(){this.data.paging.hasMore&&this.getNextPage()},getNextPage:function(){this.data.paging.pageNo++,this._getShows()},getFirstPage:function(){this.data.paging.pageNo=1,this._getShows(!0)},_getShows:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.data,n=a.paging,i=n.pageNo,r=n.pageSize,o=a.sortType,s=a.subId,c=a.city,d=c.id,h=c.lat,p=c.lng;if(!a.listLoading)return this.setData({listLoading:!0}),app.request().config("loading",e?1:0).get("/maoyansh/myshow/ajax/performances/0;st="+o+";tft="+s+";p="+i+";s="+r).query({cityId:d||0,lat:h||0,lng:p||0,sellChannel:7,token:this.user.token}).end().then(function(a){var n=a.body,i=n.code,r=n.data,o=void 0===r?[]:r,s=n.paging;if(s.pageNo,s.hasMore,t.setData({listLoading:!1}),200===i){var c=[],d=[];e?o.forEach(function(t){1===t.isCurrentCity?c.push(t):d.push(t)}):c=t.data.performances.concat(o),t.setData({performances:c,recommendPerformances:d,showSortPanel:!1,paging:a.body.paging})}})},onShareAppMessage:function(){return{title:"猫眼演出赛事",desc:"演出赛事一网打尽，精彩生活现在开始~",path:"/pages/show/index/index"}},filterRecommendList:function(t){var e=t.currentTarget,a=this.data,n=(a.sortTypes,a.showSortPanel),i=e.dataset.sortItem,r=i.sortType,o=i.subs;-1===r?this.setData({subSorts:o,showSortPanel:!n}):(this.setData({subSorts:o,sortType:r,showSortPanel:!1}),this.getFirstPage())},sortRecommendList:function(t){var e=t.currentTarget,a=this.data,n=(a.subSorts,a.sortTypes),i=e.dataset.subItem,r=i.subId,o=i.name,s=n.map(function(t){return-1===t.sortType&&(t.name=o),t});this.setData({subId:r,sortTypes:s}),this.getFirstPage()},showSortPanel:function(){this.setData({showSortPanel:!0})},hideSortPanel:function(){this.setData({showSortPanel:!1})},toggleSortPanel:function(){this.setData({showSortPanel:!this.data.showSortPanel})}}); 
 			}); 	require("pages/show/index/index.js");
 		__wxRoute = 'pages/show/list/index';__wxRouteBegin = true; 	define("pages/show/list/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var _user=require("../../../scripts/show/user"),_user2=_interopRequireDefault(_user),_activity=require("../../../scripts/show/activity"),_activity2=_interopRequireDefault(_activity),_activityTag=require("../../../scripts/show/activityTag"),app=getApp(),bannerType={1:"ychbanner",2:"tyssbanner",3:"xqysbanner",4:"hjgjbanner",5:"wdblbanner",6:"yyhbanner",7:"qzycbanner",8:"gdjcbanner",9:"xxzlbanner"};app.MoviePage({jumpToActivity:_activity2.default,data:{performances:[],recommendPerformances:[],topBannerViewDot:"b_93din34b",categoryId:null,hasReportedAds:[],sort:0,sortMap:{0:"智能排序",3:"距离最近",4:"销量最高"},swiperOptions:{indicatorDots:!0,autoplay:!0,circular:!0,interval:5e3,duration:500},showSortPanel:!1,scrollTop:0,fetchKey:"performances",emptyList:!1},getParameterByName:function(t,e){try{t=t.replace(/[[]]/g,"\\$&");var a=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),n=a.exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}catch(t){console.log(t)}},getId:function(t,e){try{var a={1:"activityId",2:"showId",3:"shopId",4:"performanceId"},n=/(op|i)\.meituan\.com/,i=/https?:\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/,r=/show-detail/,s=t||(e.currentTarget.dataset.webView||{}).link,o=null,c={};if(s&&n.test(s)){var d=s.split("/");d.length>1&&(o={id:d[d.length-2],type:1})}else s&&i.test(s)&&r.test(s)?o={id:this.getParameterByName("data",s),type:2}:e&&e.currentTarget.dataset.id&&(o={id:e.currentTarget.dataset.id,type:parseInt(e.currentTarget.dataset.type)});return o&&(c[a[o.type]]=o.id),o?c:null}catch(t){console.log(t)}},bannerClickDot:function(t){this.jumpToActivity(t);var e=this.getId(t.currentTarget.dataset.webView.link),a=t.currentTarget.dataset.index,n={cityId:this.data.city?this.data.city.id:0,index:a};this.data.categoryId&&(n.categoryId=this.data.categoryId),Object.assign(n,e),this.stats("b_dcq4bhuq",n)},initTopBannerViewDot:function(t){if(this.data.banners.length>0){this.data.hasReportedAds=[];var e={cityId:this.data.city?this.data.city.id:0,categoryId:t,index:0},a=this.getId(this.data.banners[0].link);Object.assign(e,a),this.data.hasReportedAds.push(0),this.stats(this.data.topBannerViewDot,e)}},onBannerChange:function(t){var e=t.detail.current,a={cityId:this.data.city?this.data.city.id:0,categoryId:this.data.categoryId,index:e};if(this.data.hasReportedAds.indexOf(e)<0){var n=this.getId(this.data.banners[e].link);Object.assign(a,n),this.data.hasReportedAds.push(e),this.stats(this.data.topBannerViewDot,a)}},onLoad:function(t){var e=this;this.setData({sort:0,performances:[],fetchIndex:0,fetchMore:!0,options:t}),this.city=app.$location.city||app.$location.locationCity,this.user=(0,_user2.default)(app.$user)||{},app.request().config("loading",1).get("https://wx.maoyan.com/maoyansh/myshow/ajax/performance/navigation").query({cityId:this.city?this.city.id||0:0,sellChannel:7,token:this.user.token}).end().then(function(t){return t.body.data}).then(function(a){(a||[]).forEach(function(t){a.filter(function(e){return e.categoryId===t.categoryId}).length||a.push(t)});var n=a.filter(function(e){return e.categoryId==t.categoryId})[0];a.filter(function(t){return 8===t.categoryId})[0].categoryName="更多精彩",e.setData({categories:a,category:n}),e.onLoadMore(),e.loadBanner(n.categoryId)})},onShow:function(){(0,_activityTag.refreshActivityTag)(_activityTag.activityTag.STATS_TAG,this.data.options&&this.data.options[_activityTag.activityTag.STATS_TAG]),this.setData({menu:""})},loadBanner:function(t){var e=this;bannerType[t]&&app.request().get("https://wx.maoyan.com/maoyansh/myshow/ajax/advertisements/"+bannerType[t]).query({cityId:this.city?this.city.id||0:0,sellChannel:7,token:this.user.token}).end().then(function(t){return t.body.data}).then(function(a){e.setData({categoryId:t,banners:a}),e.initTopBannerViewDot(t)})},onLoadMore:function(){var t=this;if((void 0===this.data.fetchMore||this.data.fetchMore)&&!this.data.listLoading){this.setData({listLoading:!0});var e=this.data.fetchIndex+1,a=this.data,n=a.sort,i=a.category;return app.request().config("loading",1===e?1:0).get("https://wx.maoyan.com/maoyansh/myshow/ajax/performances/"+i.categoryId+";p="+e+";s=20;st="+n).query({cityId:this.city?this.city.id||0:0,lat:this.city?this.city.lat||0:0,lng:this.city?this.city.lng||0:0,sellChannel:7,token:this.user.token}).end().then(function(e){return t.setData({listLoading:!1}),{list:e.body.data,hasMore:!!e.body.paging&&e.body.paging.hasMore}}).then(function(a){var n=a.list,i=a.hasMore;if(n&&n.length){var r={},s=t.data.fetchKey,o=[],c=[];1!==e||i?o=t.data[s].concat(n):n.forEach(function(t){1===t.isCurrentCity?o.push(t):c.push(t)}),t.data.fetchIndex++,r.fetchIndex=e,r[s]=o,r.fetchMore=i,r.emptyList=!1,r.recommendPerformances=c,t.setData(r)}else 1===e&&t.setData({emptyList:!0})})}},onReachBottom:function(){this.onLoadMore()},onTapMenu:function(t){var e=t.target.dataset.kind;e&&this.data.menu!=e||(e=""),this.setData({menu:e})},onTapSort:function(t){this.setData({showSortPanel:!this.data.showSortPanel})},onTapSortItem:function(t){var e=t.target.dataset.sort;this.setData({sort:e,menu:"",showSortPanel:!1,scrollTop:0,performances:[],fetchIndex:0,fetchMore:!0}),this.onLoadMore()},onTapCategory:function(t){var e=t.target.dataset.category;this.setData({category:e,menu:"",scrollTop:0,performances:[],fetchIndex:0,fetchMore:!0}),this.onLoadMore(),this.loadBanner(e.categoryId)},onShareAppMessage:function(){return{title:"【猫眼演出】为你多渠道网罗各种精彩演出",desc:"不再错过你爱豆的任何一场演出，快来点击吧！",path:"/pages/show/list/index?categoryId="+this.data.category.categoryId}}}); 
 			}); 	require("pages/show/list/index.js");
 		__wxRoute = 'pages/show/detail/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/show/detail/index.js';	define("pages/show/detail/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,a){try{var i=t[o](a),s=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}var _slicedToArray=function(){function e(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_user=require("../../../scripts/show/user"),_user2=_interopRequireDefault(_user),_wallet=require("../../../config/wallet"),_url=require("../../../models/url"),_url2=_interopRequireDefault(_url),_storageKey=require("../../../scripts/show/storageKey"),_storageKey2=_interopRequireDefault(_storageKey),_bindPhoneNumber=require("../../../scripts/show/bindPhoneNumber"),_bindPhoneNumber2=_interopRequireDefault(_bindPhoneNumber),Store=require("../../../scripts/store"),app=getApp(),PREFIX="https://wx.maoyan.com/maoyansh/myshow/ajax/v2",PREFIXV1="https://wx.maoyan.com/maoyansh/myshow/ajax";app.MoviePage(_extends({},_bindPhoneNumber2.default,{data:{name:"详情页改版",performanceInfo:null,bindButtonInfo:{Reserve:!1,order:!1,priority:!1,remind:!1,seatOrder:!1},mistiming:0,saleStatus:999,priorBuyStatus:999,beforeSaleStatus:null,isNeedOnSaleRemind:999,tagStatus:999,currentTime:(new Date).getTime(),richText:wx.canIUse("rich-text"),showFlag:0,isCollect:!1,showDiscountDetail:!1,isBVersion:999,isSelectSeatProject:999,isNeedSoldOutRegister:999,btnText:"unknown",reaction:"unknown",showSalRemindModal:!1,numberToBeRemind:"",previousSuccessRemindNumber:void 0,showInfo:[],displayShowList:!1,selectedShowId:null,isNeedAnswer:999,isShowBuyButton:!1,isIphoneX:app.isIphoneX,options:{},isPageLoading:!0,isLoadingPageError:!1,pageErrorType:"noError",activitiesInfo:{},countDownEnd:!1,pixelRatio:null,isIphone:app.isIphone,showSaleRemindModalWithTags:!1,isNeedRemindWithPriceModal:!1,remindTicketPriceList:[],isShowCrowdedToast:!1,answerCrowded:!1,projectVideoInfo:{},isShowVideo:!1},onLoad:function(e){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function r(){var n,o,a,i,s,u,c,d,f,l,h,p,m,g,w,v,S,b,y,I,k,T,x,R,P,C,_,B,N,D,E,A,M,O,q,j,V,H,F;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e.salesWay?app.set(_storageKey2.default.salesWay,e.salesWay):app.remove(_storageKey2.default.salesWay),t.setData({options:e}),t.fromQRCode(e),n=t,t.performanceId=e.id,r.prev=5,t.setData({isPageLoading:!0}),wx.showLoading({title:"加载中"}),r.next=10,Promise.all([t.getBVersionInfo(),t.getPerformanceInfo(e),t.getBindButtonInfo()]);case 10:o=r.sent,a=_slicedToArray(o,3),i=a[0],s=a[1],u=a[2],c=t.getPerformanceSaleStatus(s),d=t.getSaleRemindInfo(s),f=t.getTags(s),l=t.getPriorBuyStatus(s),h=t.getIsNewSelectProject(i,s.performanceId),p=t.getIsSelectSeatProject(s),m=t.getIsNeedSoldOutRegister(s),g=t.getIsNeedOnSaleRemind(d),w=t.getIsNeedAnswer(s),v=t.getIsShowBuyButton(e),S=t.getIsShowBuyButtonByPerformanceInfo(s),v=v&&S,b=t.getActivitiesInfo(s),y=t.getIsNeedRemindWithPriceModal(s),I=t.getRemindTicketPriceList(s),k=t.getCheckCrowdedInfo(s),T=t.getProjectVideoInfo(s),x=t.getIsShowVideo(T),R=t.caculateTextAndReaction(c,h,p,g),P=R.btnText,C=R.reaction,_=t.getPreviousNumberFromStorage(),t.setCountDown(d,c),t.setChangePriorBuyStatusCountDown(l,s),B=app.getPropSafely("$location.city.id",app,10),n.setData({performanceInfo:s,bindButtonInfo:u,saleStatus:c,beforeSaleStatus:d,tagStatus:f,priorBuyStatus:l,id:s.performanceId,isBVersion:h,isSelectSeatProject:p,isNeedSoldOutRegister:m,isNeedOnSaleRemind:g,btnText:P,reaction:C,currentTime:(new Date).getTime(),isNeedAnswer:w,isShowBuyButton:v,activitiesInfo:b,previousSuccessRemindNumber:_,isLoadingPageError:!1,cityId:B,pixelRatio:app.$systemInfo.pixelRatio,isNeedRemindWithPriceModal:y,remindTicketPriceList:I,answerCrowded:k,projectVideoInfo:T,isShowVideo:x,promotional:s.promotional}),N=e.id,D=e.fromTag,E=e.utm_source,A=e._fromTag,M=e.salesWay,O=D||A||E,q=getCurrentPages(),j=q[q.length-2]?q[q.length-2].route:"",V={performanceId:N,performanceInfo:s,cityId:B,referPage:O||"",salesWay:M,routePage:j,btnText:P,priorBuyStatus:l},t.statsHandler("detailViewStats",V),r.next=56;break;case 47:r.prev=47,r.t0=r.catch(5),H="unknown",-1!==r.t0.message.indexOf("network error")&&(H="network"),-1!==r.t0.message.indexOf("performance expired")&&(H="expired"),-1!==r.t0.message.indexOf("unknown error")&&(H="unknown"),-1!==r.t0.message.indexOf("crowded error")&&(H="crowded"),-1!==r.t0.message.indexOf("limit error")&&(H="limit"),t.setData({isLoadingPageError:!0,pageErrorType:H});case 56:return r.prev=56,F=t,t.setData({isPageLoading:!1},function(){var e=t.data.pageErrorType,r=void 0;"unknown"===e&&(r="loadUnknownError"),"expired"===e&&(r="loadExpiredError"),"network"===e&&(r="loadNetworkError"),"noError"===e&&(r="noError"),"crowded"===e&&(r="loadCrowded"),"limit"===e&&(r="limitRefresh"),wx.hideLoading(),F.errorHandler(r)}),r.finish(56);case 60:case"end":return r.stop()}},r,t,[[5,47,56,60]])}))()},onShow:function(){this.data.isLogin&&this.getCollectState(),this.data.isLogin&&this.getUserPhoneNumber(),this.resetBindPhoneNumberDate(),app.updateCode()},onUnload:function(){this.clearCountDown(),this.clearPriorBuyCountDown(),this.setPreviousNumberToStorage()},reload:function(){var e=this.data.options;this.onLoad(e)},navibackToIndex:function(){wx.switchTab({url:"/pages/show/index/index"})},fromQRCode:function(e){if(e.q)try{var t=decodeURIComponent(e.q),r=this.getUrlParams(t)||{},n=r.id,o=r.fromTag,a=r.utm_source,i=r._fromTag;if(!n)return this.errorModal();if(e.id=n,o=o||i||a)return wx.redirectTo({url:"/pages/show/detail/index?id="+e.id+"&utm_source="+o})}catch(e){this.errorModal()}},getPerformanceInfo:function(e){var t=this;return app.request().get(PREFIX+"/performance/"+e.id+";detail=2;poi=false").query({sellChannel:7,token:(0,_user2.default)(app.$user).token}).end().then(function(e){return t.setData({mistiming:new Date-(e.header.ServerTime||e.header.servertime)}),e}).then(function(e){if(1002===e.body.code)throw new Error("performance expired");if(1407===e.body.code)throw new Error("crowded");if(1408===e.body.code)throw new Error("limit");return e}).then(function(e){return e.body.data}).then(function(e){return Store.set("stockOutRegister",e.stockOutRegister||0),e}).catch(function(e){if(-1!==e.message.indexOf("performance expired"))throw e;if(-1!==e.message.indexOf("request:fail"))throw new Error("network error");if(-1!==e.message.indexOf("crowded"))throw new Error("crowded error");if(-1!==e.message.indexOf("limit"))throw new Error("limit error");throw new Error("unknown error")})},getBVersionInfo:function(){return app.request().get("https://lina.dianping.com/api/get").query({key:"maoyansh-show-config"}).end().then(function(e){return e.body}).catch(function(e){if(-1!==e.message.indexOf("request:fail"))throw new Error("network error");return"lina-err"})},getIsNeedAnswerById:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",app.request().get("/maoyansh/myshow/ajax/question/queryQuestions").query({performanceId:e.data.performanceInfo.performanceId,token:app.$user.token,sellChannel:7}).config({loading:1}).end().then(function(e){return e.body}).then(function(e){var t=e.code,r=e.data;if(200!==t||!r)throw new Error("server error");return r.needAnswer}).catch(function(e){return"error"}));case 1:case"end":return t.stop()}},t,e)}))()},getBindButtonInfo:function(){return app.request().get(PREFIX+"/performance/verifyBindMobile").end().then(function(e){return e.body}).then(function(e){if(200!==e.code)throw new Error("server error");return e.data}).catch(function(){return{Reserve:!1,order:!1,priority:!1,remind:!1,seatOrder:!1}})},getIsShowBuyButtonByPerformanceInfo:function(e){return!e.invalidProject},getPerformanceSaleStatus:function(e){return e.saleStatus},getSaleRemindInfo:function(e){return e.saleRemindVO},getIsNeedOnSaleRemind:function(e){return e.needRemind?1:0},getTags:function(e){var t=e.exclusive,r=2;return 1===t&&(r=1),2===t&&(r=0),r},getPriorBuyStatus:function(e){return e.ticketRobbingProject?1:0},getBoostInfo:function(e){return e.boostSaleRemindVO},getIsSelectSeatProject:function(e){return e.seatType},getIsNewSelectProject:function(e,t){if("lina-err"===e)return 0;try{var r=(e.code,e.data.value.newSeatPIds),n=r.includes(+t);return Store.set("isBVersion",n),n?1:0}catch(e){return 0}},getIsNeedSoldOutRegister:function(e){return e.stockOutRegister?1:0},getIsNeedAnswer:function(e){return e.needAnswer},getIsShowBuyButton:function(e){return"order"!==e.f},getActivitiesInfo:function(e){var t=e.kingHonorFlag,r=void 0;return e.kingHonorParam&&(r=e.kingHonorParam),{isDuringActivities:t,needParmas:r}},getIsNeedRemindWithPriceModal:function(e){return e.needRemindPrice},getRemindTicketPriceList:function(e){var t=e.ticketPriceList||[];return t=t.map(function(e){return e.selected=!1,e})},getCheckCrowdedInfo:function(e){return e.currentLimit},getProjectVideoInfo:function(e){return e.projectVideoVO},getIsShowVideo:function(e){if(!e)return!1;var t=e.validDate;return Date.parse(new Date)<t},setCountDown:function(e,t){var r=this,n=e.onSaleTime;if(n&&1===t){var o=this,a=o.data.mistiming;o.countdownInterval=setInterval(function(){var e=(new Date).getTime();e-a>n&&(clearInterval(o.countdownInterval),o.changeToOnSale(),r.setData({countDownEnd:!0})),o.setData({currentTime:e})},1e3)}},setChangePriorBuyStatusCountDown:function(e,t){var r=this;return _asyncToGenerator(regeneratorRuntime.mark(function n(){var o,a,i,s,u,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o=r,a=r.data.mistiming,e&&(i=o.getBoostInfo(t),s=i.releaseEndTime,u=(new Date).getTime()-a,c=setInterval(_asyncToGenerator(regeneratorRuntime.mark(function e(){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=(new Date).getTime()-a)>s)){e.next=7;break}return e.next=4,o.queryPriorBuyStatus(t.performanceId);case 4:i=e.sent,clearInterval(o.priorbuyInterval),o.setData({priorBuyStatus:i});case 7:case"end":return e.stop()}},e,r)})),1e3),r.priorbuyInterval=c);case 3:case"end":return n.stop()}},n,r)}))()},queryPriorBuyStatus:function(e){return app.request().get(PREFIXV1+"/performance/boostActivity/isBoostActivity").query({sellChannel:7,performanceId:e,token:app.$user.token}).end().then(function(e){return e.body}).then(function(e){var t=e.code,r=e.data;return 200!==t?0:r?1:0}).catch(function(e){return 0})},clearCountDown:function(){this.countdownInterval&&clearInterval(this.countdownInterval)},clearPriorBuyCountDown:function(){this.priorbuyInterval&&clearInterval(this.priorbuyInterval)},changeToOnSale:function(){var e=this.data,t=e.beforeSaleStatus,r=e.isBVersion,n=e.isSelectSeatProject,o=e.isNeedOnSaleRemind,a=t.onSaleStatus,i=2===a?2:3,s=this.caculateTextAndReaction(i,r,n,o),u=s.btnText,c=s.reaction;this.setData({btnText:u,reaction:c,saleStatus:i})},modifyDestinationAccordingActivities:function(e){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function r(){var n,o,a,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}return r.abrupt("return",void 0);case 2:return n=e,o=t,a=t.data.id,i=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var a,s,u,c,d,f,l,h,p,m,g,w,v,S,b,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.data.activitiesInfo.isDuringActivities){e.next=2;break}return e.abrupt("return",n);case 2:for(a=o.data.activitiesInfo.needParmas,s=_url2.default.getCurrentPageUrlWithArgs(),u=t.getUrlParams(s)||{},c=u.kingToken,d=u.openid,f=u.salt,l={performanceId:r},h=0;h<a.length;h++)p=a[h],l[p]=u[p];return e.next=10,app.request().post(PREFIXV1+"/token/validate").header("content-type","application/json").query({token:app.$user.token,sellChannel:7}).send(_extends({},l)).end();case 10:if(m=e.sent,g=m.body,w=g.code,v=g.msg,S=g.data,403!==w){e.next=22;break}return e.next=18,app.login();case 18:return e.next=20,i(r);case 20:return b=e.sent,e.abrupt("return",b);case 22:if(200!==w){e.next=24;break}return e.abrupt("return",n);case 24:if(1406!==w){e.next=30;break}if(!v){e.next=28;break}return wx.showModal({content:v,showCancel:!1,confirmText:"去验证",confirmColor:"#ff0000",success:function(){var e=o.jumpToWebview(S.url),t=function(){o.leavePageTo(e)};o.navigatoAnswerPageOrYieldCallback(e,t)}}),e.abrupt("return",void 0);case 28:return y=o.jumpToWebview(S.url),e.abrupt("return",y);case 30:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}(),r.next=8,i(a);case 8:return n=r.sent,r.abrupt("return",n);case 10:case"end":return r.stop()}},r,t)}))()},leavePageTo:function(e){if("string"==typeof e&&e.length>0){/\/pages\/showsubs\/webview\/webview/.test(e)?app.login().then(function(){app.goto(e)}):app.goto(e)}},navigatoAnswerPageOrYieldCallback:function(e,t){var r=this;return _asyncToGenerator(regeneratorRuntime.mark(function n(){var o,a,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return",!1);case 2:return o=r.data.id,n.next=5,r.getIsNeedAnswerById();case 5:if("error"!==(a=n.sent)){n.next=8;break}return n.abrupt("return",!1);case 8:a||t(),a&&(i="/pages/showsubs/question/index?pId="+o,app.set("_show_pageFromKey",e),app.goto(i));case 10:case"end":return n.stop()}},n,r)}))()},checkCrowdedStatus:function(e){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function r(){var n,o,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n=void 0,e){r.next=5;break}n=void 0,r.next=17;break;case 5:if(o=t.data.answerCrowded){r.next=10;break}n=e,r.next=17;break;case 10:return r.next=12,t.getCrowdedStatusFromServer();case 12:if(!(a=r.sent)){r.next=16;break}return t.showCrowdedToast(),r.abrupt("return",void 0);case 16:n=e;case 17:return r.abrupt("return",n);case 18:case"end":return r.stop()}},r,t)}))()},getCrowdedStatusFromServer:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",app.request().get(PREFIXV1+"/v2/performance/networkStatus").end().then(function(e){return e.body}).then(function(e){var t=e.code,r=e.data;return 200!==t||!r}).catch(function(){return!0}));case 1:case"end":return e.stop()}},t,e)}))()},normalButtonReaction:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.buttonReaction();case 2:e.buttonOntapStats();case 3:case"end":return t.stop()}},t,e)}))()},buttonOntapStats:function(e){var t=this.data.btnText;"开售提醒我"===t&&this.onSaleRemindMeClick(e),"立即预定"===t&&this.bookTicketsNowStatus(),"立即购票"===t&&this.buyTicketsNowStats(),"选座购票"===t&&this.selectSeatBuyTickets()},buttonReaction:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark(function t(){var r,n,o,a,i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e,n=e.data,o=n.reaction,a=n.id,"unknown"!==o&&"noop"!==o){t.next=4;break}return t.abrupt("return",!1);case 4:if(i=void 0,"showRemindModal"===o&&e.showOnSaleRemindModal(),"jumpToSelectTicketsPage"===o&&(i=r.jumpToSelectTicketsPage(a)),"reactionAccordingToBversion"!==o){t.next=11;break}return t.next=10,r.reactionAccordingToBversion();case 10:i=t.sent;case 11:return t.next=13,r.checkCrowdedStatus(i);case 13:return i=t.sent,t.next=16,r.modifyDestinationAccordingActivities(i);case 16:i=t.sent,s=function(){r.leavePageTo(i)},r.navigatoAnswerPageOrYieldCallback(i,s);case 19:case"end":return t.stop()}},t,e)}))()},caculateTextAndReaction:function(e,t,r,n){if(999===e||999===t||999===r||999===n||0===e)return{btnText:"unknown",reaction:"unknown"};var o=void 0,a=void 0;return 1===e&&0===n?(o="即将开售",a="noop",{btnText:o,reaction:a}):1===e&&1===n?(o="开售提醒我",a="showRemindModal",{btnText:o,reaction:a}):2!==e&&4!==e||r?2!==e&&4!=e||!r?3!==e&&5!==e||r?3!==e&&5!==e||!r?6===e?(o="已结束",a="noop",{btnText:o,reaction:a}):void 0:(o="选座购票",a="reactionAccordingToBversion",{btnText:o,reaction:a}):(o="立即购票",a="jumpToSelectTicketsPage",{btnText:o,reaction:a}):(o="选座购票",a="reactionAccordingToBversion",{btnText:o,reaction:a}):(o="立即预定",a="jumpToSelectTicketsPage",{btnText:o,reaction:a})},jumpToSelectTicketsPage:function(e){return"/pages/showsubs/ticket/ticket?pId="+e},reactionAccordingToBversion:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark(function t(){var r,n,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.data,n=r.isBVersion,o=r.id,a=void 0,!n){t.next=8;break}return t.next=5,e.reactionAccordingToShowInfoAndAreaInfo();case 5:a=t.sent,t.next=9;break;case 8:a="/pages/showsubs/seats/area?pId="+o+"&seats=1";case 9:return t.abrupt("return",a);case 10:case"end":return t.stop()}},t,e)}))()},reactionAccordingToShowInfoAndAreaInfo:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark(function t(){var r,n,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.data.id,t.next=4,e.getShowInfoById(r);case 4:if(n=t.sent,o=void 0,1!==n.length){t.next=13;break}return a=n[0].showId,t.next=10,e.reactionAccordingAreaInfo(a);case 10:o=t.sent,t.next=14;break;case 13:e.setData({showInfo:n,displayShowList:!0});case 14:return t.abrupt("return",o);case 17:t.prev=17,t.t0=t.catch(0),"server error"===t.t0.message&&e.errorHandler("reactionServerError","服务器异常，请稍后再尝试"),"request showinfo error"!==t.t0.message&&"requeset areainfo error"!==t.t0.message||e.errorHandler("reactionNetworkError","网络异常，请检查网络");case 21:case"end":return t.stop()}},t,e,[[0,17]])}))()},reactionAccordingAreaInfo:function(e){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function r(){var n,o,a,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=void 0,r.next=4,t.getAreaInfoById(e);case 4:return o=r.sent,a=t.data.id,1===o.length?(i=o[0].areaId,n=t.jumpToSelectSeatById(a,e,i)):n=t.jumpToSelectAreaById(a,e),r.abrupt("return",n);case 10:throw r.prev=10,r.t0=r.catch(0),r.t0;case 13:case"end":return r.stop()}},r,t,[[0,10]])}))()},getShowInfoById:function(e){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",app.request().get(PREFIXV1+"/v2/performance/"+e+"/shows/1").query({sellChannel:7}).config({loading:1}).end().then(function(e){return e.body}).then(function(e){var t=e.code,r=e.data;if(200!==t||!r||!r.length)throw new Error("server error");return r}).catch(function(e){if("server error"===e.message)throw e;throw new Error("request showinfo error")}));case 1:case"end":return t.stop()}},r,t)}))()},getAreaInfoById:function(e){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",app.request().get(PREFIXV1+"/show/"+e+"/areas").query({sellChannel:7}).config({loading:1}).end().then(function(e){return e.body}).then(function(e){var t=e.code,r=e.data;if(200!==t||!r||!r.length)throw new Error("server error");return r.forEach(function(e){e.areaId=e.areaId||e.sareaId}),r}).catch(function(e){if("server error"===e.message)throw e;throw new Error("requeset areainfo error")}));case 1:case"end":return t.stop()}},r,t)}))()},jumpToVideo:function(){this.onVideoClick();var e=this.data.projectVideoInfo;if(e&&e.mtCubeUrl){var t=this.jumpToWebview(e.mtCubeUrl),r=encodeURIComponent(e.picUrl),n=t+"&imgUrl="+r+"&adTitle="+this.data.performanceInfo.name;app.goto(n)}},jumpToSelectSeatById:function(e,t,r){return this.jumpToWebview("https://h5.dianping.com/app/movieshoworder/select-seats.html?pId="+e+"&sId="+t+"&aId="+r)},jumpToSelectAreaById:function(e,t){return this.jumpToWebview("https://h5.dianping.com/app/movieshoworder/seat-area.html?pId="+e+"&sId="+t)},jumpToWebview:function(e){return"/pages/showsubs/webview/webview?url="+encodeURIComponent(e)},closeShowModal:function(){this.setData({displayShowList:!1})},onShowItemClick:function(e){var t=this,r=e.detail.showId,n=this;this.setData({selectedShowId:r},_asyncToGenerator(regeneratorRuntime.mark(function e(){var o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.showItemClickStats(),e.prev=1,e.next=4,n.reactionAccordingAreaInfo(r);case 4:return o=e.sent,e.next=7,n.checkCrowdedStatus(o);case 7:return o=e.sent,e.next=10,n.modifyDestinationAccordingActivities(o);case 10:o=e.sent,a=function(){n.leavePageTo(o)},n.navigatoAnswerPageOrYieldCallback(o,a),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),"server error"===e.t0.message&&n.errorHandler("reactionNetworkError","服务器异常，请稍后再尝试"),"requeset areainfo error"===e.t0.message&&n.errorHandler("reactionNetworkError","网络异常，请检查网络");case 19:return e.prev=19,t.setData({selectedShowId:null}),n.closeShowModal(),e.finish(19);case 23:case"end":return e.stop()}},e,t,[[1,15,19,23]])})))},showCrowdedToast:function(){this.setData({isShowCrowdedToast:!0})},closeCrowdedToast:function(){this.setData({isShowCrowdedToast:!1})},priorBuy:function(){app.goto("/pages/showsubs/assistbuy/detail?id="+this.data.id),this.priorBuyClickStats()},getPhoneNumberAndPriorBuy:function(e){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function r(){var n,o,a,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t,o=t.data.bindButtonInfo,a=function(){n.priorBuy()},i=o.priority,r.next=6,t.getPhoneNumber(e.detail,a,i);case 6:t.priorBuyClickStats();case 7:case"end":return r.stop()}},r,t)}))()},showOnSaleRemindModal:function(){var e=this.getDefaultNumberToBeRemind();this.setData({showSalRemindModal:!0,numberToBeRemind:e})},getDefaultNumberToBeRemind:function(){var e=app.$user.mobile,t=this.data.previousSuccessRemindNumber;return"number"!=typeof t&&"string"!=typeof t||11!==t.toString().length?e||"":t},closeOnSaleRemindModal:function(){this.setData({showSalRemindModal:!1,numberToBeRemind:""})},remindModalInputChange:function(e){var t=e.detail;this.setData({numberToBeRemind:t})},onRegisterRemindPhone:function(e){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.remindMeSubmitStats(),r.next=3,t.registerRemindPhone(e);case 3:n=r.sent,"success"===n&&t.toast("开售提醒设置成功"),"fail"===n&&t.errorHandler("reactionServerError","开售提醒设置失败"),"network"===n&&t.errorHandler("reactionNetworkError","网络异常,请稍后尝试");case 7:case"end":return r.stop()}},r,t)}))()},registerRemindPhone:function(e,t){var r=this;return _asyncToGenerator(regeneratorRuntime.mark(function n(){var o,a,i,s,u,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=e.detail,a=r.data,i=a.numberToBeRemind,s=a.id,u=i.toString(),0!==u.length){n.next=6;break}return r.toast("请填写手机号再提交"),n.abrupt("return");case 6:if(11===u.length){n.next=9;break}return r.toast("请填写正确的手机号码"),n.abrupt("return");case 9:if(/^1\d{10}$/.test(parseInt(i,10))){n.next=12;break}return r.toast("请填写正确的手机号码"),n.abrupt("return");case 12:return wx.showLoading(),n.next=15,app.request().post(PREFIXV1+"/messagepush/save").query({token:(0,_user2.default)(app.$user).token,sellChannel:7}).header("content-type","application/json").send(JSON.stringify({performanceId:s,phoneNumber:i,formId:o,openId:app.$user.openId,ticketPriceList:t||[]})).end().then(function(e){return e.body}).then(function(e){var t=(e.data,e.code);e.msg;if(wx.hideLoading(),200===t)return r.setData({previousSuccessRemindNumber:i}),r.closeOnSaleRemindModal(),r.closeOnSaleRemindModalWithPriceTags(),"success";throw new Error("fail")}).catch(function(e){return wx.hideLoading(),"fail"===e.message?"fail":"network"});case 15:return c=n.sent,n.abrupt("return",c);case 17:case"end":return n.stop()}},n,r)}))()},showOnSaleRemindModalWithPriceTags:function(){var e=this.getDefaultNumberToBeRemind();this.setData({showSaleRemindModalWithTags:!0,numberToBeRemind:e})},closeOnSaleRemindModalWithPriceTags:function(){var e=this.data.remindTicketPriceList;e=e.map(function(e){return e.selected=!1,e}),this.setData({showSaleRemindModalWithTags:!1,numberToBeRemind:"",remindTicketPriceList:e})},onSaleRemindModalWithPriceTagsInputChange:function(e){var t=e.detail;this.setData({numberToBeRemind:t})},onPriceTagsSelected:function(e){var t=e.detail,r=this.data.remindTicketPriceList,n=r.findIndex(function(e){return e.ticketPriceId===t.ticketPriceId}),o=r[n];o.selected=!o.selected,this.setData({remindTicketPriceList:r})},onSaleRemindModalWithPriceTagsSubmit:function(e){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function r(){var n,o,a,i,s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.data.remindTicketPriceList,o=e.detail.formId,a=n.filter(function(e){return!!e.selected}),0!==a.length){r.next=6;break}return t.toast("请选择票档再提交"),r.abrupt("return");case 6:return a=a.map(function(e){var t=_extends({},e);return delete t.selected,t}),i={detail:o},r.next=10,t.registerRemindPhone(i,a);case 10:s=r.sent,"success"===s&&t.toast("开售提醒设置成功"),"fail"===s&&t.errorHandler("reactionServerError","开售提醒设置失败"),"network"===s&&t.errorHandler("reactionNetworkError","网络异常,请稍后尝试");case 14:case"end":return r.stop()}},r,t)}))()},setPreviousNumberToStorage:function(){var e=this.data.previousSuccessRemindNumber;app.set("previousSuccessRemindNumber_detail",e)},getPreviousNumberFromStorage:function(){return app.get("previousSuccessRemindNumber_detail")},closeShareModal:function(){this.setData({showFlag:0})},drawShareModal:function(){this.drawShareModalStats(),this.setData({showFlag:2})},onShareAppMessage:function(){this.shareToFriendStats();try{this.getShareNumber()}catch(e){}return{title:this.data.performanceInfo.name,desc:"推荐你一个超精彩演出，一起去看吧~",path:"/pages/show/detail/index?utm_source=wxchatshare&id="+this.data.performanceInfo.performanceId}},showShareModal:function(){this.setData({showFlag:1,shareImgUrl:""})},loginRefresh:function(e){this.getUserPhoneNumber(),this.getCollectState()},noLoginModal:!0,getCollectState:function(){var e=this;app.request().get("/maoyansh/myshow/ajax/newFavor/loadFavor").query({token:app.$user.token,sellChannel:7,favorType:1,favorId:this.performanceId}).end().then(function(e){return e.body}).then(function(t){200===t.code&&null!==t.data&&e.setData({isCollect:!0})})},collect:function(){this.collectOn()},collectOn:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark(function t(){var r,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.collectStats(),r=e.data.isCollect?"cancelFavor":"addFavor",n=e.data.isCollect?"已取消想看~":"已标记想看！",t.prev=3,t.next=6,app.request().post("/maoyansh/myshow/ajax/newFavor/"+r).header("content-type","application/json").query({token:app.$user.token,sellChannel:7,wxOpenId:app.$user.openId,wxAppId:_wallet.appid}).send({favorType:1,favorId:e.data.performanceInfo.performanceId}).end().then(function(e){return e.body}).then(function(t){if(200!==t.code||!t.data)throw new Error("server error");e.setData({isCollect:!e.data.isCollect});var r=!1===t.data.everFavor?"可在“我的—想看的演出”中查看":"";e.toast(n+r,1500)}).catch(function(){throw new Error("server error")});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),"server error"===t.t0.message&&e.errorHandler("reactionServerError","服务器异常，请稍后再尝试");case 11:case"end":return t.stop()}},t,e,[[3,8]])}))()},getPhoneNumberCollectOn:function(e){this.getPhoneNumber(e,this.collectOn)},getPhoneNumberAndButtonReaction:function(e){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function r(){var n,o,a,i,s,u,c,d,f;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t,o=t.buttonReaction,a=o.bind(t),i=t.data,s=i.bindButtonInfo,u=i.btnText,c=!1,"立即预定"===u&&(c=s.Reserve),"立即购票"===u&&(c=s.order),"选座购票"===u&&(c=s.seatOrder),"开售提醒我"===u&&(c=s.remind),d=void 0,f=function(){},"开售提醒我"===u&&(f=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r,o,a){var i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=11;break}return n.setData({numberToBeRemind:a}),i={detail:"mockone"},e.next=5,n.registerRemindPhone(i);case 5:s=e.sent,"success"===s&&n.toast("已授权并设置开售提醒"),"fail"===s&&n.errorHandler("reactionServerError","成开售提醒设置失败，请重试~"),"network"===s&&n.errorHandler("reactionNetworkError","开售提醒设置失败，请重试~"),e.next=12;break;case 11:n.showSalRemindModal();case 12:d=a;case 13:case"end":return e.stop()}},e,t)}));return function(t,r,n){return e.apply(this,arguments)}}()),"立即预定"!==u&&"立即购票"!==u&&"选座购票"!==u||(f=function(e,t,r){d=r,a()}),r.next=15,t.getPhoneNumber(e.detail,f,c);case 15:t.buttonOntapStats(d);case 16:case"end":return r.stop()}},r,t)}))()},popupDiscountDetail:function(){this.setData({showDiscountDetail:!0}),this.discountClickStats()},shutDiscountDetail:function(){this.setData({showDiscountDetail:!1})},vistPreInputComponent:function(){this.preInputClickStats(),this.selectComponent("#preInput").openFillInfo()},getPhoneNumberPreInput:function(e){this.getPhoneNumber(e,this.vistPreInputComponent)},toast:function(e){wx.showToast({title:e,icon:"none"}),setTimeout(function(){wx.hideToast()},1e3)},noop:function(){},getUrlParams:function(e){for(var t={},r=new RegExp("([\\?|&])(.+?)=([^&?]*)","ig"),n=r.exec(e);n;)t[n[2]]=n[3],n=r.exec(e);return t},errorModal:function(e){var t=getApp().pages();wx.showModal({content:e||"项目不存在或已下架",showCancel:!1,confirmText:t.length>1?"返回":"更多精彩",success:function(e){e.confirm&&(t.length?wx.switchTab({url:"/pages/show/index/index"}):wx.navigateBack())}})},errorHandler:function(e,t){var r={noError:function(){},loadExpiredError:function(){this.errorModal()},loadUnknownError:function(){this.errorModal("系统君刚刚走神了～稍后再试试")},loadNetworkError:function(){},loadCrowded:function(){},limitRefresh:function(){},reactionServerError:function(e){this.toast(e)},reactionNetworkError:function(e){this.toast(e)}},n=r[e];n?n.call(this,t):console.log('corresponding error handler is not exist, please define appropiate handler in "errorHandler"!')},statsHandler:function(e,t){var r=this,n={detailViewStats:function(e){r.stats("b_c7t7ayby",e)},discountInformationViewStats:function(){r.stats("b_tm9bjlny")},fillInfonViewStats:function(){r.stats("b_9c4oowi9")},getWXPhoneNumberSuccessStats:function(){r.stats("b_93m12gk2")},getWXPhoneNumberCancelStats:function(){r.stats("b_kl9lmt17")},collectStats:function(){r.stats("b_ye0v08k2")},shareToFriendStats:function(){r.stats("b_imlgaynr")},drawShareModalStats:function(){r.stats("b_6nhlx8v8")},saveShareImageStats:function(){r.stats("b_tyww87ep")},discountClickStats:function(e){r.stats("b_ihmrott8",e)},priorBuyClickStats:function(){r.stats("b_7vy58ujb")},showItemClickStats:function(e){r.stats("b_tkfpmsym",e)},selectSeatBuyTickets:function(e){r.stats("b_fzzpqaym",e)},buyTicketsNowStats:function(){r.stats("b_b9fd4le0")},bookTicketsNowStatus:function(){r.stats("b_q4joxr1s")},remindMeSubmitStats:function(){r.stats("b_id5bevfv")},onSaleRemindMeClick:function(e){r.stats("b_5gl7ntou",e)},openMapStatus:function(){r.stats("b_q9p6kdod")},openGuideStatus:function(){
r.stats("b_ca515mju")},preInputClickStats:function(){r.stats("b_bnguyfls")},seatImgViewStats:function(){r.stats("b_rl777uwl")},onVideoClick:function(){r.stats("b_h61kxudg")},videoViewStats:function(){r.stats("b_vmz6kuya")}},o=n[e];if(o)try{o(t)}catch(e){console.log("e",e)}},discountInformation:function(){this.statsHandler("discountInformationViewStats")},fillInfon:function(){this.statsHandler("fillInfonViewStats")},getWXPhoneNumberSuccess:function(){this.statsHandler("getWXPhoneNumberSuccessStats")},getWXPhoneNumberCancel:function(){this.statsHandler("getWXPhoneNumberCancelStats")},collectStats:function(){this.statsHandler("collectStats")},shareToFriendStats:function(){this.statsHandler("shareToFriendStats")},drawShareModalStats:function(){this.statsHandler("drawShareModalStats")},saveShareImage:function(){this.statsHandler("saveShareImageStats")},discountClickStats:function(){var e=this.data,t=e.saleStatus,r=e.id,n=e.cityId,o={saleStatus:t,performanceId:r,cityId:n};this.statsHandler("discountClickStats",o)},priorBuyClickStats:function(){this.statsHandler("priorBuyClickStats")},showItemClickStats:function(){var e=this.data.selectedShowId;this.statsHandler("showItemClickStats",{selectedShowId:e})},selectSeatBuyTickets:function(){var e=this.data.isBVersion;this.statsHandler("selectSeatBuyTickets",{isBVersion:e})},buyTicketsNowStats:function(){this.statsHandler("buyTicketsNowStats")},bookTicketsNowStatus:function(){this.statsHandler("bookTicketsNowStatus")},remindMeSubmitStats:function(){this.statsHandler("remindMeSubmitStats")},onSaleRemindMeClick:function(e){var t=this.data,r=t.id,n=t.mistiming,o=(new Date).getTime()-n,a={phonenumber:e,id:r,time:o};this.statsHandler("onSaleRemindMeClick",a)},openMapStatus:function(){this.statsHandler("openMapStatus")},openGuideStatus:function(){this.statsHandler("openGuideStatus")},preInputClickStats:function(){this.statsHandler("preInputClickStats")},seatImgStats:function(){this.statsHandler("seatImgViewStats")},onVideoClick:function(){this.statsHandler("onVideoClick")},videoViewStats:function(){this.statsHandler("videoViewStats")}})); 
 			}); 	require("pages/show/detail/index.js");
 		__wxRoute = 'pages/show/search/index';__wxRouteBegin = true; 	define("pages/show/search/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var _user=require("../../../scripts/show/user"),_user2=_interopRequireDefault(_user),app=getApp(),SEARCH_MAX_NUM=6;app.MoviePage({data:{key:"",result:[],resultOtherCity:[],page:1,padding:!1,hasMore:!0,hasRequested:!1,size:20,histories:"",focus:!1},onLoad:function(t){var a=t.key;a&&(a=decodeURIComponent(a));var s=app.get("search_his_keys")||[];this.setData({key:a||"",histories:s,focus:!a}),a&&this.onLoadListWrap()},onTapCancel:function(t){getApp().goto(-1)},onInputFocus:function(t){this.setData({showHistory:!0})},onInput:function(t){var a=t.detail.value;a=a.trim(),(a.length>=1&&""===this.data.key||""===a)&&this.setData({key:a})},onTapOther:function(t){this.setData({showHistory:!1})},onInputConfirm:function(t){var a=t.detail.value;a=a.trim();var s=this.data.histories;if(""!==a){this.data.key=a,this.data.page=1;var e=s.indexOf(a);-1!==e&&s.splice(e,1),s.unshift(a),s=s.splice(0,6),this.setData({histories:s}),app.set("search_his_keys",s),this.onLoadListWrap()}else this.onTapOther()},onHisItemDel:function(t){var a=t.currentTarget.dataset.key,s=this.data.histories,e=s.indexOf(a);-1!==e&&(this.data.histories.splice(e,1),this.setData({histories:this.data.histories}),app.set("search_his_keys",this.data.histories))},onClearInput:function(t){this.setData({key:""})},onTapHisItem:function(t){var a=t.currentTarget.dataset.key;this.data.key=a,this.data.page=1,this.onLoadListWrap()},onLoadListWrap:function(t){var a=this;if(this.data.city&&this.data.long&&this.data.lat)this.onLoadList();else{var s=app.models.location.get()||{};s.city||s.locationCity?(this.setData({city:s.city||s.locationCity,lat:s.latitude,long:s.longitude}),this.onLoadList()):app.models.location.fetch().then(function(t){a.setData({city:t.locationCity||0,lat:t.latitude||0,long:t.longitude||0}),a.onLoadList()},function(){a.setData({city:0,lat:0,long:0}),a.onLoadList()})}},onLoadList:function(t){var a=this;this.setData({padding:!0,showHistory:!1,key:this.data.key});var s=this.data,e=s.page,i=s.size,o=this.data.key;1==e&&(this.data.hasMore=!0),this.data.hasMore&&app.request().config("loading",1===e).get("https://wx.maoyan.com/maoyansh/myshow/ajax/performances/0;st=0;p="+e+";s="+i+";k="+o).query({sellChannel:7,cityId:this.data.city?this.data.city.id:0,lat:this.data.lat?this.data.lat:0,lng:this.data.long?this.data.long:0}).end().then(function(t){return a.setData({padding:!1,focus:!1}),t.body}).then(function(t){var s=t.code,i=t.data,o=t.paging;if(200!==s&&1===e)return void a.setData({result:[],hasRequested:!0});var n=1===e?[]:a.data.result;n=n.concat(i),a.data.hasMore=o&&o.hasMore,++a.data.page,a.setData({result:n,hasRequested:!0,hasMore:a.data.hasMore})}).catch(function(t){a.setData({result:[],hasRequested:!0})})}}); 
 			}); 	require("pages/show/search/index.js");
 		__wxRoute = 'pages/qrshare/index';__wxRouteBegin = true; 	define("pages/qrshare/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var app=getApp();app.MoviePage({onLoad:function(a){wx.showLoading({title:"加载中"});var p="";a.q?p=a.q.split("path=")[1]:a.path&&(p=a.path),wx.redirectTo({url:"/pages"+p})}}); 
 			}); 	require("pages/qrshare/index.js");
 		__wxRoute = 'pages/bonus/result';__wxRouteBegin = true; 	define("pages/bonus/result.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var app=getApp(),PROD=!0,user=require("../../scripts/user"),_app$require=app.require("scripts/movie"),hotV3=_app$require.hotV3,MobileInput=require("../../tpl/mobile-input"),stats=require("../../scripts/stats"),share=require("../../scripts/share");app.MoviePage({data:{bonusId:void 0,bonusCode:void 0,resultDetail:void 0,showDraw:void 0,hotMovielist:void 0,cityName:null,title:"",backgroundStyle:'background-image:url("http://p1.meituan.net/mmdb/4a4b16db66367cae1f57c316f6034499104948.png");background-color:#FACA7D;color:#9F7C42;',titleStyle:"color:#F93E39;",leftIcon:'background-image:url("http://p0.meituan.net/mmdb/a0f5af97b9631aaf16fb28483d4a81941232.png")',rightIcon:'background-image:url("http://p0.meituan.net/mmdb/3cfbacfb7995a49585a1683210c3ace71231.png")',deviderColor:"border-clor:rgba(159,124,66, 0.29);"},val_cid:"c_wsr0i2qz",onLoad:function(t){var e=this;this.mobileInput=new MobileInput({page:this});var o=t.bonusId,a=t.bonusCode,n=t.title;this.setData({bonusId:o,bonusCode:a,title:n}),app.updateCode(),app.$user.token?this.loginAfter():(this.setData({showDraw:!app.$user.mobile}),app.checkLogin({success:function(){e.loginAfter()}}))},onShareAppMessage:function(){this.stats("b_uwo0h0um");var t=this.data,e=t.bonusId,o=t.bonusCode,a=t.title,n=app.getPropSafely("data.resultDetail.themeInfo.shareImg",this,"");return share.call(this,{bonusId:e,bonusCode:o,title:a,totalStats:"b_n558kle1",groupStats:"b_t55yumak",PROD:PROD,imageUrl:n})},loginAfter:function(){this.setData({showDraw:!app.$user.mobile}),app.$user.mobile&&this.drawBonusRequestWithLocation()},drawBonus:function(t){var e=this;if(!app.$user.mobile){var o=function(t){t?(app.setMobile(t),app.request().post("/user/mobile").header({token:app.$user&&app.$user.token}).send({mobile:t,type:1}).end().then(function(t){e.drawBonusRequestWithLocation()}).catch(function(t){e.drawBonusRequestWithLocation()})):e.drawBonusRequestWithLocation()};user.getPhoneNumber(t,o.bind(this))}},drawBonusRequestWithLocation:function(){var t=this;app.$location.locationCity?this.drawBonusRequest(app.$location):app.checkLocationAuth().then(function(){app.models.location.fetch(!0).then(function(e){app.getPropSafely("$location.city",app,null)||app.models.location.changeCity(e.locationCity),t.drawBonusRequest(app.models.location._data)}).catch(function(e){console.log(e),t.drawBonusRequest()})}).catch(function(e){console.log(e),t.drawBonusRequest()})},drawBonusRequest:function(t){var e=this;wx.setNavigationBarTitle({title:"猫眼电影分享红包"}),this.setData({showDraw:!1});var o=app.$user,a=o.token,n=o.wxUserInfo,i=o.userName,r=n&&n.userInfo,s={bonusId:this.data.bonusId,bonusCode:this.data.bonusCode,nickName:r&&r.nickName?r.nickName:i,avatarUrl:r&&r.avatarUrl,channel:app.channelId},u=app.getPropSafely("locationCity.id",t,null),p=app.getPropSafely("locationCity.nm",t,null);u&&(s.ci=u),app.request().post("/proxy/market/share/bonus/draw.json").header({token:a,"x-host":"http://maoyanapi.vip.sankuai.com"}).send(s).end().then(function(t){if(t&&t.body)if(t.body.success){var o=t.body.data;if(o&&2==o.drawStatus&&hotV3(1).then(function(t){var o=t.hot;o&&o.length>3&&(o=o.slice(0,3)),e.setData({hotMovielist:o})}),o&&o.couponCellList.length){var a=[],n=[];o.couponCellList.forEach(function(t,e){t.couponList&&t.couponList.length&&t.couponList.forEach(function(t){switch(t.value/=100,e){case 0:a.push(t);break;case 1:n.push(t)}})}),o.bonusCouponList=a,o.cityCouponList=n}o&&o.bonusDrawList&&(o.bonusDrawList=o.bonusDrawList.map(function(t){return 1===t.valueType&&t.value&&(t.value%100==0?t.value=t.value/100:t.value%10==0?t.value=(t.value/100).toFixed(1):t.value=(t.value/100).toFixed(2)),t})),o&&1==o.drawStatus&&e.stats("b_7enb41uq"),o&&1==o.drawStatus&&o.notice&&e.toast(o.notice);var i="background-image:url("+app.getPropSafely("themeInfo.resultImg",o,'"http://p1.meituan.net/mmdb/4a4b16db66367cae1f57c316f6034499104948.png"')+");background-color:"+app.getPropSafely("themeInfo.resultBackground",o,"#FACA7D")+";color:"+app.getPropSafely("themeInfo.resultFontColor",o,"#9F7C42")+";",r="color:"+app.getPropSafely("themeInfo.resultTitleColor",o,"#F93E39;"),s="background-image:url("+app.getPropSafely("themeInfo.leftIcon",o,'"http://p0.meituan.net/mmdb/a0f5af97b9631aaf16fb28483d4a81941232.png"'),u="background-image:url("+app.getPropSafely("themeInfo.rightIcon",o,'"http://p0.meituan.net/mmdb/3cfbacfb7995a49585a1683210c3ace71231.png"'),l="border-bottom-color:"+app.getPropSafely("themeInfo.deviderColor",o,"rgba(159,124,66, 0.29)");e.setData({resultDetail:o,backgroundStyle:i,titleStyle:r,leftIcon:s,rightIcon:u,deviderColor:l,cityName:p}),wx.showShareMenu({withShareTicket:!0}),e.stats("b_pgrd8c4k")}else e.handleError(t.body.errMsg)}).catch(function(t){e.data.resultDetail?e.handleError(t):e.handleError(t,"page")})},moreMovie:function(){wx.switchTab({url:"/pages/movie/index"})},gotoUse:function(){wx.switchTab({url:"/pages/movie/index"})},goMovieDetail:function(t){app.goto("/pages/movie/movie?movieId="+t.currentTarget.dataset.movieid)},collectFormId:function(t){app.collectFormId(t.detail.formId)}}); 
 			}); 	require("pages/bonus/result.js");
 		__wxRoute = 'pages/crash/index';__wxRouteBegin = true; 	define("pages/crash/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var app=getApp();app.MoviePage({triggerError:function(){throw new Error("test")},triggerAnotherError:function(){throw new Error("lalala")},gotoIndex:function(){app.goto("/pages/movie/index")}}); 
 			}); 	require("pages/crash/index.js");
 		__wxRoute = 'wesai/indexpage/index';__wxRouteBegin = true; 	define("wesai/indexpage/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function i(r,o){try{var a=t[r](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){i("next",e)},function(e){i("throw",e)});e(s)}return i("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_citypanel=require("./../components/citypanel/citypanel.js"),_citypanel2=_interopRequireDefault(_citypanel),_projectlist=require("./../components/projectlist/projectlist.js"),_projectlist2=_interopRequireDefault(_projectlist),_index=require("./../components/index.js"),_index2=_interopRequireDefault(_index),_ad=require("./../components/ad/ad.js"),_ad2=_interopRequireDefault(_ad),_mixin=require("./../mixin.js"),_mixin2=_interopRequireDefault(_mixin),_common=require("./../common/common.js"),_util=require("./../common/util.js"),_advertisingIds=require("./../common/advertisingIds.js"),app=getApp(),IndexPage=function(e){function t(){for(var e,n,i,r,o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return _classCallCheck(this,t),n=i=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),i.config={navigationBarTitleText:"赛事",backgroundColor:"#f7f7f7",backgroundTextStyle:"dark",enablePullDownRefresh:!0,onReachBottomDistance:70},i.$repeat={},i.$props={ProjectList:{"v-bind:itemTypePid.sync":"itemTypePid","v-bind:useOutLoad.once":"useOutLoad","v-bind:recommendData.sync":"recommendData","v-bind:city.sync":"selectCity"},AD:{"xmlns:v-bind":"","v-bind:advertisingId.once":"topAheadAdvertisingId","v-bind:adViewPostStatus.sync":"adViewPostStatus","v-bind:advertisingList.sync":"topAheadAdvertisingList"},ADSeven:{"v-bind:advertisingId.once":"sevenAdvertisingId","v-bind:adViewPostStatus.sync":"adViewPostStatus","v-bind:advertisingList.sync":"sevenAdvertisingList","v-bind:config.sync":"seventhAdvertisingConfig"}},i.$events={},i.components={CityPanel:_citypanel2.default,ProjectList:_projectlist2.default,Comp:_index2.default,AD:_ad2.default,ADSeven:_ad2.default},i.mixins=[_mixin2.default],i.data={netError:!1,projectError:!1,showPage:!0,selectCity:{id:0,name:"全国"},itemTypePid:0,location:{},useOutLoad:!0,recommendData:[],adViewPostStatus:!0,ADHasInit:!1,categoryItems:[],activityFirstItem:{},activitySecondItem:{},activityThirdItem:{},insertADInfo:{},ADModalInfo:{},activityFirstItemID:860884712,activitySecondItemID:1225178475,activityThirdItemID:1236415852,insertADInfoID:351923362,ADModalInfoID:288717039,sysRes:{},ADModalShow:!1,projectListTotalNum:0,oldCiyId:0,onLoadCityInit:!1,fromSwitchTap:!1,advertisingListInfo:{},advertisingIds:_advertisingIds.homeSevenIds,topAheadAdvertisingId:_advertisingIds.homeSevenIds.topAheadAdvertisingId,sevenAdvertisingId:_advertisingIds.homeSevenIds.sevenAdvertisingId,secondAdvertisingId:_advertisingIds.homeSevenIds.secondAdvertisingId,thirdAdvertisingId:_advertisingIds.homeSevenIds.thirdAdvertisingId,fourthAdvertisingId:_advertisingIds.homeSevenIds.fourthAdvertisingId,fifthAdvertisingId:_advertisingIds.homeSevenIds.fifthAdvertisingId,sixthAdvertisingId:_advertisingIds.homeSevenIds.sixthAdvertisingId,topAheadAdvertisingList:[],secondAdvertisingInfo:{},thirdAdvertisingInfo:null,fourthAdvertisingInfo:null,fifthAdvertisingInfo:null,sixthAdvertisingInfo:null,sevenAdvertisingList:[],seventhAdvertisingConfig:{indicatorDots:!1,indicatorColor:"rgba(255, 255, 255, 0.4)",indicatorActiveColor:"rgba(255, 255, 255, 0.9)",customIndicatorDots:!0},scheduleList:{},venueData:{},projectListInited:!1},i.methods={bindShowCityPanel:function(){this.$invoke("CityPanel","show")},bindShowSearchPanel:function(){this.$invoke("SearchPanel","show")},bindScroll:function(){},bindADItemTap:function(){this.bindADClick.apply(this,arguments),arguments[1]===this.ADModalInfoID&&(this.ADModalShow=!1)},ADImageLoadedView:function(){this.bindADView.apply(this,arguments)},hideThisModal:function(){this.ADModalShow=!1},bindCategoryItemTap:function(e,t){var n=this;return _asyncToGenerator(regeneratorRuntime.mark(function i(){var r,o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!/https:\/\/ticket.wesai.com\/wechat\/zwy/g.test(e)&&!/https:\/\/m(beta)?.piaoniu.com/g.test(e)){i.next=6;break}if(r=wx.getStorageSync("maoYanOpenId")){i.next=6;break}return i.next=5,(0,_common.getMYOpenId)();case 5:r=i.sent;case 6:if(!(t&&t.isLogin||/https:\/\/ticket.wesai.com\/wechat\/zwy/g.test(e))){i.next=12;break}return i.next=9,n.checkBindUser();case 9:if(o=i.sent){i.next=12;break}return i.abrupt("return");case 12:n.tapToNavigate(e);case 13:case"end":return i.stop()}},i,n)}))()},bindThirdTap:function(e){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=wx.getStorageSync("maoYanOpenId")){n.next=5;break}return n.next=4,(0,_common.getMYOpenId)();case 4:i=n.sent;case 5:t.tapToNavigate(e);case 6:case"end":return n.stop()}},n,t)}))()},tapToNav:function(e){this.bindADClick.apply(this,arguments)},tapToNavAndLogin:function(e,t){var n=this;return _asyncToGenerator(regeneratorRuntime.mark(function i(){var r,o,a,s,c;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,n.checkBindUser();case 2:if(r=i.sent){i.next=5;break}return i.abrupt("return");case 5:e.url&&(o=decodeURIComponent(e.url),a=wx.getStorageSync("selectCity"),s={wesaiToken:wx.getStorageSync("wesaiToken"),wesaiUserId:r&&r.user_id||"",cityCode:a&&a.city_code||0},n.isIPhoneX&&(s.isIPhoneX=!0),/https/g.test(o)&&(c=(0,_util.extendQuery)(o,s),Object.assign(e,{url:encodeURIComponent(c)})),n.bindADClick(e,t));case 6:case"end":return i.stop()}},i,n)}))()},goToCalendarPage:function(e){var t=wx.getStorageSync("wesaiToken"),n="https://ticket.wesai.com/wechat/calendar?wesaiToken="+t+(e?"&time_type="+e:"");this.tapToNavigate(encodeURIComponent(n))},gotoVenue:function(e){var t=wx.getStorageSync("wesaiToken");if(e&&e.venue_id){var n="https://ticket.wesai.com/wechat/venue?wesaiToken="+t+"&venue_id="+e.venue_id;this.tapToNavigate(encodeURIComponent(n))}}},i.events={changeCity:function(){this.$invoke("CityPanel","show")},loginSuccess:function(e,t,n,r){i.userInfo.mobile=e,i.$apply()},cityChange:function(e){var t=this;return _asyncToGenerator(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.selectCity||t.selectCity.name!=e.name||!t.onLoadCityInit){n.next=3;break}return n.abrupt("return");case 3:return t.selectCity=e,t.onLoadCityInit=!0,app.models&&app.models.location&&app.models.location.changeCityByName&&app.models.location.changeCityByName(e.name),t.getCategoryItems(),n.next=9,t.loadSevenADs();case 9:return t.advertisingListInfo=n.sent,t.$apply(),t.advertisingListInfo&&!(0,_util.isEmptyObject)(t.advertisingListInfo)&&(t.topAheadAdvertisingList=t.advertisingListInfo[t.advertisingIds.topAheadAdvertisingId].advertisements,t.sevenAdvertisingList=t.advertisingListInfo[t.advertisingIds.sevenAdvertisingId].advertisements,t.secondAdvertisingInfo=t.advertisingListInfo[t.advertisingIds.secondAdvertisingId].advertisements[0]||{},t.thirdAdvertisingInfo=t.advertisingListInfo[t.advertisingIds.thirdAdvertisingId].advertisements[0]||null,t.fourthAdvertisingInfo=t.advertisingListInfo[t.advertisingIds.fourthAdvertisingId].advertisements[0]||null,t.fifthAdvertisingInfo=t.advertisingListInfo[t.advertisingIds.fifthAdvertisingId].advertisements[0]||null,t.sixthAdvertisingInfo=t.advertisingListInfo[t.advertisingIds.sixthAdvertisingId].advertisements[0]||null),t.initADModal(),n.next=15,t.getADItemsInfo(t.insertADInfoID);case 15:t.projectListInited=!1,t.$apply(),t.loadRecommendData(e),t.oldCiyId=e.id||e.city_id||0,t.$apply();case 20:case"end":return n.stop()}},n,t)}))()},categoryInit:function(e){this.itemTypePid=e,this.$apply()},categoryError:function(){this.pageError=!0,this.showErrorPage("serverError"),this.pageLoading(!1)},cityError:function(){this.pageError=!0,this.showErrorPage("serverError"),this.pageLoading(!1)},categoryChange:function(e){this.itemTypePid=e,this.$apply(),this.reloadProject()},loadProjectList:function(){this.inited=!0,this.$wxpage.loading&&this.$wxpage.loading(!1)},update:function(e){this.projectListTotalNum=e},triggerProjectListInited:function(){this.projectListInited=!0,this.$apply()}},i.inited=!1,r=n,_possibleConstructorReturn(i,r)}return _inherits(t,e),_createClass(t,[{key:"onShareAppMessage",value:function(e){return{title:"赛事票、场馆预定及健身课程尽在这里~",path:"/wesai/indexpage/index",success:function(e){},fail:function(e){}}}},{key:"reloadProject",value:function(){this.$invoke("ProjectList","reset"),this.insertADInfo&&!(0,_util.isEmptyObject)(this.insertADInfo)?this.$invoke("ProjectList","getInsertADInfo",{insertADInfo:this.insertADInfo,isADInfo:!0,insertADInfoID:this.insertADInfoID}):this.$invoke("ProjectList","getInsertADInfo",null),this.$invoke("ProjectList","loadData",!1,null,{projectListInit:!0})}},{key:"loadRecommendData",value:function(e){var t=this;this.pageError=!1;var n=e.name;(0,_common.ajax)(_common.urls.recommend,{jsonParams:{itemQuery:{cityName:n,pagesize:1e3}}}).then(function(e){t.recommendData=e.data.itemResult.items||[],t.reloadProject(),t.$apply()}).catch(function(){t.recommendData=[],t.reloadProject(),t.$apply()})}},{key:"gotoDetail",value:function(){this.$navigate("/wesai/pages/detail/detail")}},{key:"onPullDownRefresh",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.refreshPage(),!this.pageError){e.next=5;break}return this.newGetToken=0,e.next=5,this.getToken();case 5:this.ADHasInit=!1,this.$apply(),this.init(this.onLoadOptions),this.reloadProject(),wx.stopPullDownRefresh();case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.$wxpage.loading&&this.$wxpage.loading(),e.next=4,this.getToken();case 4:this.onLoadOptions=t,this.init(this.onLoadOptions),this.sysRes=wx.getSystemInfoSync();case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"onTabItemTap",value:function(e){this.fromSwitchTap=!0,this.onShowInit()}},{key:"onShow",value:function(){this.fromSwitchTap||this.onShowInit()}},{key:"onShowInit",value:function(){this.onLoadCityInit=!1;var e=wx.getStorageSync("selectCity");if(e&&!(0,_util.isEmptyObject)(e)&&e.name!==this.selectCity.name)return this.selectCity=e,this.$invoke("CityPanel","changeCity",this.selectCity),void(this.fromSwitchTap=!1);var t=app.$location&&!(0,_util.isEmptyObject)(app.$location)?app.$location.city:null;t&&t.nm!==this.selectCity.name&&this.inited&&(this.fromSwitchTap&&(t.name=t.nm,this.selectCity=t),this.$invoke("CityPanel","changeCity",this.selectCity)),this.fromSwitchTap=!1}},{key:"init",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.$invoke("CityPanel","init"),this.getVenueItems();case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"adInitOnce",value:function(e){this.oldCiyId!==(e.id||e.city_id)&&this.$invoke("AD","init")}},{key:"getCategoryItems",value:function(){var e=this;return new Promise(function(t){var n=wx.getStorageSync("selectCity"),i=encodeURIComponent(encodeURIComponent(_common.urls.getCategoryURL)),r={city_name:n.name||"",city_id:n.city_id||n.id||-1,client:1};(0,_common.ajax)(_common.urls.proxyCurl,{jsonParams:{url:i,param:r}}).then(function(n){if(n.code&&200===n.code&&n.data){var i=n.data;i.response&&i.response.data&&(e.categoryItems=i.response&&i.response.data&&i.response.data.slice(0,4).map(function(e){var t=e.title&&e.title.length>4?e.title.slice(0,4)+"...":e.title;return Object.assign(e,{title:t})})||[])}e.$apply(),t(e.categoryItems)}).catch(function(e){t(null)})})}},{key:"getADItemsInfo",value:function(e){var t=this;return new Promise(function(n){var i=wx.getStorageSync("selectCity"),r=wx.getStorageSync("wesaiToken"),o=wx.getStorageSync("maoYanOpenId"),a=t.sysRes,s=encodeURIComponent(encodeURIComponent(_common.urls.releaseURL)),c={token:r,advertisingId:e,openId:o,screen:a.windowWidth+"*"+a.windowHeight,referrer:"",ua:"wechat_miniprogram|"+a.platform+"|"+a.system+"|wechat_version_"+a.version+"|"+a.brand+"|"+a.model,cityName:i.name||"",city:i.city_id||i.id||-1};(0,_common.ajax)(_common.urls.proxyCurl,{jsonParams:{url:s,param:c}}).then(function(i){if(i.code&&200===i.code&&i.data){var r=i.data;if(r.response&&r.response.advertising&&r.response.advertising.advertisements){var o=r.response.advertising.advertisements;e===t.activityFirstItemID?(t.activityFirstItem=o[0]||null,n(t.activityFirstItem)):e===t.activitySecondItemID?(t.activitySecondItem=o[0]||null,n(t.activitySecondItem)):e===t.activityThirdItemID?(t.activityThirdItem=o[0]||null,n(t.activityThirdItem)):e===t.insertADInfoID?(t.insertADInfo=o[0]||null,n(t.insertADInfo)):e===t.ADModalInfoID?(t.ADModalInfo=o[0]||null,n(t.ADModalInfo)):n(null)}else n(null)}else n(null);t.$apply()}).catch(function(e){n(null)})})}},{key:"initADModal",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=wx.getStorageSync("ADModalCacheDate"),n=new Date,t){e.next=6;break}return e.next=5,this.getADModalInfo();case 5:return e.abrupt("return");case 6:if(t.getDate()===n.getDate()){e.next=11;break}return e.next=9,this.getADModalInfo();case 9:e.next=19;break;case 11:if(t.getMonth()===n.getMonth()){e.next=16;break}return e.next=14,this.getADModalInfo();case 14:e.next=19;break;case 16:if(t.getFullYear()===n.getFullYear()){e.next=19;break}return e.next=19,this.getADModalInfo();case 19:case"end":return e.stop()}},e,this)}));return e}()},{key:"getADModalInfo",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getADItemsInfo(this.ADModalInfoID);case 2:this.ADModalInfo&&!(0,_util.isEmptyObject)(this.ADModalInfo)&&(wx.setStorageSync("ADModalCacheDate",new Date),this.ADModalShow=!0);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"loadSevenADs",value:function(){var e=this;return new Promise(function(t){var n=wx.getStorageSync("selectCity"),i=wx.getStorageSync("wesaiToken"),r=wx.getStorageSync("maoYanOpenId"),o=e.sysRes,a=encodeURIComponent(encodeURIComponent(_common.urls.allAdList)),s={token:i,openId:r,screen:o.windowWidth+"*"+o.windowHeight,referrer:"",ua:"wechat_miniprogram|"+o.platform+"|"+o.system+"|wechat_version_"+o.version+"|"+o.brand+"|"+o.model,cityName:n.name||"",city:n.city_id||-1,channel:2,advertisingId:(0,_util.ObjectValues)(_advertisingIds.homeSevenIds).join(",")};(0,_common.ajax)(_common.urls.proxyCurl,{jsonParams:{url:a,param:s}}).then(function(n){var i={};if(n.code&&200===n.code&&n.data){var r=n.data;r.response&&r.response.advertising?i=r.response.advertising:t(null)}e.$apply(),t(i)}).catch(function(e){t(null)})})}},{key:"getVenueItems",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,i,r,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getLocation();case 2:t=e.sent,n=!0,i=t.latitude||0,r=t.longitude||0,t&&i&&r||(n=!1),(0,_common.ajax)(_common.urls.getIndexVenueItems,{jsonParams:{xPosition:i,yPosition:r,isPostion:n}}).then(function(e){o.venueData=e.data.minidistance||{},o.scheduleList=e.data.items||{},o.$apply()}).catch(function(e){});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"onHide",value:function(){this.adViewPostStatus=!1}},{key:"onUnload",value:function(){this.adViewPostStatus=!1}},{key:"bindLoadMore",value:function(){this.projectListInited&&(this.$invoke("ProjectList","loadMoreData",null),this.$apply())}},{key:"onReachBottom",value:function(){this.bindLoadMore()}}]),t}(_wepy2.default.page);var _page=(require("./../npm/wepy/lib/wepy.js").default.$createPage(IndexPage,"indexpage/index"));_page.disableStats=!0;getApp().MoviePage(_page); 
 			}); 	require("wesai/indexpage/index.js");
 	